{"version":3,"file":"DynamicZoneList.js","sources":["../../../admin/src/components/DynamicZoneList.tsx"],"sourcesContent":["import { ComponentType, useState } from 'react';\n\nimport { Box, Flex, Typography } from '@strapi/design-system';\nimport { Plus } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { styled } from 'styled-components';\n\nimport { getTrad } from '../utils/getTrad';\n\nimport { ComponentCard } from './ComponentCard';\nimport { ComponentList } from './ComponentList';\nimport { ComponentRow } from './ComponentRow';\nimport { useDataManager } from './DataManager/useDataManager';\n\nimport type { Internal, Struct } from '@strapi/types';\n\ninterface DynamicZoneListProps {\n  addComponent: (name?: string) => void;\n  components: Array<Internal.UID.Component>;\n  customRowComponent?: ComponentType<any>;\n  name?: string;\n  forTarget: Struct.ModelType;\n  targetUid: Internal.UID.Schema;\n  disabled?: boolean;\n}\n\nconst StyledAddIcon = styled(Plus)<{ disabled?: boolean }>`\n  width: 3.2rem;\n  height: 3.2rem;\n  padding: 0.9rem;\n  border-radius: 6.4rem;\n  background: ${({ theme, disabled }) =>\n    disabled ? theme.colors.neutral100 : theme.colors.primary100};\n  path {\n    fill: ${({ theme, disabled }) =>\n      disabled ? theme.colors.neutral600 : theme.colors.primary600};\n  }\n`;\n\nconst ScrollableStack = styled(Flex)`\n  width: 100%;\n  overflow-x: auto;\n\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n`;\n\nconst ComponentStack = styled(Flex)`\n  flex-shrink: 0;\n  width: 14rem;\n  height: 8rem;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const DynamicZoneList = ({\n  components = [],\n  addComponent,\n  name,\n  forTarget,\n  targetUid,\n  disabled = false,\n}: DynamicZoneListProps) => {\n  const { isInDevelopmentMode } = useDataManager();\n  const [activeTab, setActiveTab] = useState(0);\n  const { formatMessage } = useIntl();\n\n  const toggle = (tab: number) => {\n    if (activeTab !== tab) {\n      setActiveTab(tab);\n    }\n  };\n\n  const handleClickAdd = () => {\n    addComponent(name);\n  };\n\n  return (\n    <ComponentRow className=\"dynamiczone-row\" $isFromDynamicZone>\n      <Box>\n        <Box padding={2} paddingLeft=\"104px\">\n          <ScrollableStack gap={2}>\n            {isInDevelopmentMode && (\n              <button\n                type=\"button\"\n                onClick={handleClickAdd}\n                disabled={disabled}\n                style={{\n                  cursor: disabled ? 'not-allowed' : 'pointer',\n                }}\n              >\n                <ComponentStack direction=\"column\" alignItems=\"stretch\" gap={1}>\n                  <StyledAddIcon disabled={disabled} />\n                  <Typography\n                    variant=\"pi\"\n                    fontWeight=\"bold\"\n                    textColor={disabled ? 'neutral600' : 'primary600'}\n                  >\n                    {formatMessage({\n                      id: getTrad('button.component.add'),\n                      defaultMessage: 'Add a component',\n                    })}\n                  </Typography>\n                </ComponentStack>\n              </button>\n            )}\n            <Flex role=\"tablist\" gap={2}>\n              {components.map((component, index) => {\n                return (\n                  <ComponentCard\n                    key={component}\n                    dzName={name || ''}\n                    index={index}\n                    component={component}\n                    isActive={activeTab === index}\n                    isInDevelopmentMode={isInDevelopmentMode}\n                    onClick={() => toggle(index)}\n                    forTarget={forTarget}\n                    targetUid={targetUid}\n                    disabled={disabled}\n                  />\n                );\n              })}\n            </Flex>\n          </ScrollableStack>\n        </Box>\n        <Box>\n          {components.map((component, index) => {\n            return (\n              <Box\n                id={`dz-${name}-panel-${index}`}\n                role=\"tabpanel\"\n                aria-labelledby={`dz-${name}-tab-${index}`}\n                key={component}\n                style={{ display: activeTab === index ? 'block' : 'none' }}\n              >\n                <ComponentList isFromDynamicZone component={component} key={component} />\n              </Box>\n            );\n          })}\n        </Box>\n      </Box>\n    </ComponentRow>\n  );\n};\n"],"names":["StyledAddIcon","styled","Plus","theme","disabled","colors","neutral100","primary100","neutral600","primary600","ScrollableStack","Flex","ComponentStack","DynamicZoneList","components","addComponent","name","forTarget","targetUid","isInDevelopmentMode","useDataManager","activeTab","setActiveTab","useState","formatMessage","useIntl","toggle","tab","handleClickAdd","_jsx","ComponentRow","className","$isFromDynamicZone","_jsxs","Box","padding","paddingLeft","gap","button","type","onClick","style","cursor","direction","alignItems","Typography","variant","fontWeight","textColor","id","getTrad","defaultMessage","role","map","component","index","ComponentCard","dzName","isActive","aria-labelledby","display","ComponentList","isFromDynamicZone"],"mappings":"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"}