import{r as p,a2 as ii,j9 as ww,ja as nO,hG as xe,j as $,h_ as pa,d as F,jb as $w,h3 as Te,bG as zt,jc as po,jd as rO,je as Km,jf as iO,jg as Cw,jh as Ns,a4 as oO,ji as sO,jj as aO,jk as lO,jl as cO,jm as uO,R as fO,a as mv}from"./strapi-Cy3cB6bD.js";function St(n){const e=p.useRef(n);return p.useEffect(()=>{e.current=n}),p.useMemo(()=>(...t)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...t)},[])}function wd(n,e){return n-e*Math.floor(n/e)}const Sw=1721426;function bc(n,e,t,r){e=Gm(n,e);let i=e-1,o=-2;return t<=2?o=0:ou(e)&&(o=-1),Sw-1+365*i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400)+Math.floor((367*t-362)/12+o+r)}function ou(n){return n%4===0&&(n%100!==0||n%400===0)}function Gm(n,e){return n==="BC"?1-e:e}function hO(n){let e="AD";return n<=0&&(e="BC",n=1-n),[e,n]}const dO={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]};class vs{fromJulianDay(e){let t=e,r=t-Sw,i=Math.floor(r/146097),o=wd(r,146097),s=Math.floor(o/36524),a=wd(o,36524),c=Math.floor(a/1461),f=wd(a,1461),h=Math.floor(f/365),d=i*400+s*100+c*4+h+(s!==4&&h!==4?1:0),[g,b]=hO(d),x=t-bc(g,b,1,1),v=2;t<bc(g,b,3,1)?v=0:ou(b)&&(v=1);let w=Math.floor(((x+v)*12+373)/367),C=t-bc(g,b,w,1)+1;return new La(g,b,w,C)}toJulianDay(e){return bc(e.era,e.year,e.month,e.day)}getDaysInMonth(e){return dO[ou(e.year)?"leapyear":"standard"][e.month-1]}getMonthsInYear(e){return 12}getDaysInYear(e){return ou(e.year)?366:365}getYearsInEra(e){return 9999}getEras(){return["BC","AD"]}isInverseEra(e){return e.era==="BC"}balanceDate(e){e.year<=0&&(e.era=e.era==="BC"?"AD":"BC",e.year=1-e.year)}constructor(){this.identifier="gregory"}}const pO={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AR:1,AT:1,AU:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CN:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};function kw(n,e){return e=Xn(e,n.calendar),n.era===e.era&&n.year===e.year&&n.month===e.month&&n.day===e.day}function Aw(n,e){let t=n.calendar.toJulianDay(n),r=Math.ceil(t+1-yO(e))%7;return r<0&&(r+=7),r}function mO(n){return qr(Date.now(),n)}function qm(n){return Ow(mO(n))}function Ew(n,e){return n.calendar.toJulianDay(n)-e.calendar.toJulianDay(e)}function gO(n,e){return gv(n)-gv(e)}function gv(n){return n.hour*36e5+n.minute*6e4+n.second*1e3+n.millisecond}let $d=null;function xs(){return $d==null&&($d=new Intl.DateTimeFormat().resolvedOptions().timeZone),$d}function bO(n){return n.subtract({days:n.day-1})}function vO(n){return n.add({days:n.calendar.getDaysInMonth(n)-n.day})}function Rw(n,e){let t=Aw(n,e);return n.subtract({days:t})}const bv=new Map;function xO(n){if(Intl.Locale){let t=bv.get(n);return t||(t=new Intl.Locale(n).maximize().region,t&&bv.set(n,t)),t}let e=n.split("-")[1];return e==="u"?void 0:e}function yO(n){let e=xO(n);return e&&pO[e]||0}function bp(n,e){return n&&e?n.compare(e)<=0?n:e:n||e}function vp(n,e){return n&&e?n.compare(e)>=0?n:e:n||e}function ys(n){n=Xn(n,new vs);let e=Gm(n.era,n.year);return Tw(e,n.month,n.day,n.hour,n.minute,n.second,n.millisecond)}function Tw(n,e,t,r,i,o,s){let a=new Date;return a.setUTCHours(r,i,o,s),a.setUTCFullYear(n,e-1,t),a.getTime()}function xp(n,e){if(e==="UTC")return 0;if(n>0&&e===xs())return new Date(n).getTimezoneOffset()*-6e4;let{year:t,month:r,day:i,hour:o,minute:s,second:a}=Pw(n,e);return Tw(t,r,i,o,s,a,0)-Math.floor(n/1e3)*1e3}const vv=new Map;function Pw(n,e){let t=vv.get(e);t||(t=new Intl.DateTimeFormat("en-US",{timeZone:e,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),vv.set(e,t));let r=t.formatToParts(new Date(n)),i={};for(let o of r)o.type!=="literal"&&(i[o.type]=o.value);return{year:i.era==="BC"||i.era==="B"?-i.year+1:+i.year,month:+i.month,day:+i.day,hour:i.hour==="24"?0:+i.hour,minute:+i.minute,second:+i.second}}const xv=864e5;function wO(n,e,t,r){return(t===r?[t]:[t,r]).filter(o=>$O(n,e,o))}function $O(n,e,t){let r=Pw(t,e);return n.year===r.year&&n.month===r.month&&n.day===r.day&&n.hour===r.hour&&n.minute===r.minute&&n.second===r.second}function Kr(n,e,t="compatible"){let r=mo(n);if(e==="UTC")return ys(r);if(e===xs()&&t==="compatible"){r=Xn(r,new vs);let c=new Date,f=Gm(r.era,r.year);return c.setFullYear(f,r.month-1,r.day),c.setHours(r.hour,r.minute,r.second,r.millisecond),c.getTime()}let i=ys(r),o=xp(i-xv,e),s=xp(i+xv,e),a=wO(r,e,i-o,i-s);if(a.length===1)return a[0];if(a.length>1)switch(t){case"compatible":case"earlier":return a[0];case"later":return a[a.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(t){case"earlier":return Math.min(i-o,i-s);case"compatible":case"later":return Math.max(i-o,i-s);case"reject":throw new RangeError("No such absolute time found")}}function Mw(n,e,t="compatible"){return new Date(Kr(n,e,t))}function qr(n,e){let t=xp(n,e),r=new Date(n+t),i=r.getUTCFullYear(),o=r.getUTCMonth()+1,s=r.getUTCDate(),a=r.getUTCHours(),c=r.getUTCMinutes(),f=r.getUTCSeconds(),h=r.getUTCMilliseconds();return new ws(i,o,s,e,t,a,c,f,h)}function Ow(n){return new La(n.calendar,n.era,n.year,n.month,n.day)}function mo(n,e){let t=0,r=0,i=0,o=0;if("timeZone"in n)({hour:t,minute:r,second:i,millisecond:o}=n);else if("hour"in n&&!e)return n;return e&&({hour:t,minute:r,second:i,millisecond:o}=e),new wu(n.calendar,n.era,n.year,n.month,n.day,t,r,i,o)}function Xn(n,e){if(n.calendar.identifier===e.identifier)return n;let t=e.fromJulianDay(n.calendar.toJulianDay(n)),r=n.copy();return r.calendar=e,r.era=t.era,r.year=t.year,r.month=t.month,r.day=t.day,go(r),r}function CO(n,e,t){if(n instanceof ws)return n.timeZone===e?n:Dw(n,e);let r=Kr(n,e,t);return qr(r,e)}function SO(n){let e=ys(n)-n.offset;return new Date(e)}function Dw(n,e){let t=ys(n)-n.offset;return Xn(qr(t,e),n.calendar)}const ma=36e5;function af(n,e){let t=n.copy(),r="hour"in t?RO(t,e):0;yp(t,e.years||0),t.calendar.balanceYearMonth&&t.calendar.balanceYearMonth(t,n),t.month+=e.months||0,wp(t),Iw(t),t.day+=(e.weeks||0)*7,t.day+=e.days||0,t.day+=r,kO(t),t.calendar.balanceDate&&t.calendar.balanceDate(t),t.year<1&&(t.year=1,t.month=1,t.day=1);let i=t.calendar.getYearsInEra(t);if(t.year>i){var o,s;let c=(o=(s=t.calendar).isInverseEra)===null||o===void 0?void 0:o.call(s,t);t.year=i,t.month=c?1:t.calendar.getMonthsInYear(t),t.day=c?1:t.calendar.getDaysInMonth(t)}t.month<1&&(t.month=1,t.day=1);let a=t.calendar.getMonthsInYear(t);return t.month>a&&(t.month=a,t.day=t.calendar.getDaysInMonth(t)),t.day=Math.max(1,Math.min(t.calendar.getDaysInMonth(t),t.day)),t}function yp(n,e){var t,r;!((t=(r=n.calendar).isInverseEra)===null||t===void 0)&&t.call(r,n)&&(e=-e),n.year+=e}function wp(n){for(;n.month<1;)yp(n,-1),n.month+=n.calendar.getMonthsInYear(n);let e=0;for(;n.month>(e=n.calendar.getMonthsInYear(n));)n.month-=e,yp(n,1)}function kO(n){for(;n.day<1;)n.month--,wp(n),n.day+=n.calendar.getDaysInMonth(n);for(;n.day>n.calendar.getDaysInMonth(n);)n.day-=n.calendar.getDaysInMonth(n),n.month++,wp(n)}function Iw(n){n.month=Math.max(1,Math.min(n.calendar.getMonthsInYear(n),n.month)),n.day=Math.max(1,Math.min(n.calendar.getDaysInMonth(n),n.day))}function go(n){n.calendar.constrainDate&&n.calendar.constrainDate(n),n.year=Math.max(1,Math.min(n.calendar.getYearsInEra(n),n.year)),Iw(n)}function _w(n){let e={};for(let t in n)typeof n[t]=="number"&&(e[t]=-n[t]);return e}function Lw(n,e){return af(n,_w(e))}function Ym(n,e){let t=n.copy();return e.era!=null&&(t.era=e.era),e.year!=null&&(t.year=e.year),e.month!=null&&(t.month=e.month),e.day!=null&&(t.day=e.day),go(t),t}function yu(n,e){let t=n.copy();return e.hour!=null&&(t.hour=e.hour),e.minute!=null&&(t.minute=e.minute),e.second!=null&&(t.second=e.second),e.millisecond!=null&&(t.millisecond=e.millisecond),EO(t),t}function AO(n){n.second+=Math.floor(n.millisecond/1e3),n.millisecond=vc(n.millisecond,1e3),n.minute+=Math.floor(n.second/60),n.second=vc(n.second,60),n.hour+=Math.floor(n.minute/60),n.minute=vc(n.minute,60);let e=Math.floor(n.hour/24);return n.hour=vc(n.hour,24),e}function EO(n){n.millisecond=Math.max(0,Math.min(n.millisecond,1e3)),n.second=Math.max(0,Math.min(n.second,59)),n.minute=Math.max(0,Math.min(n.minute,59)),n.hour=Math.max(0,Math.min(n.hour,23))}function vc(n,e){let t=n%e;return t<0&&(t+=e),t}function RO(n,e){return n.hour+=e.hours||0,n.minute+=e.minutes||0,n.second+=e.seconds||0,n.millisecond+=e.milliseconds||0,AO(n)}function Xm(n,e,t,r){let i=n.copy();switch(e){case"era":{let a=n.calendar.getEras(),c=a.indexOf(n.era);if(c<0)throw new Error("Invalid era: "+n.era);c=Yr(c,t,0,a.length-1,r?.round),i.era=a[c],go(i);break}case"year":var o,s;!((o=(s=i.calendar).isInverseEra)===null||o===void 0)&&o.call(s,i)&&(t=-t),i.year=Yr(n.year,t,-1/0,9999,r?.round),i.year===-1/0&&(i.year=1),i.calendar.balanceYearMonth&&i.calendar.balanceYearMonth(i,n);break;case"month":i.month=Yr(n.month,t,1,n.calendar.getMonthsInYear(n),r?.round);break;case"day":i.day=Yr(n.day,t,1,n.calendar.getDaysInMonth(n),r?.round);break;default:throw new Error("Unsupported field "+e)}return n.calendar.balanceDate&&n.calendar.balanceDate(i),go(i),i}function Nw(n,e,t,r){let i=n.copy();switch(e){case"hour":{let o=n.hour,s=0,a=23;if(r?.hourCycle===12){let c=o>=12;s=c?12:0,a=c?23:11}i.hour=Yr(o,t,s,a,r?.round);break}case"minute":i.minute=Yr(n.minute,t,0,59,r?.round);break;case"second":i.second=Yr(n.second,t,0,59,r?.round);break;case"millisecond":i.millisecond=Yr(n.millisecond,t,0,999,r?.round);break;default:throw new Error("Unsupported field "+e)}return i}function Yr(n,e,t,r,i=!1){if(i){n+=Math.sign(e),n<t&&(n=r);let o=Math.abs(e);e>0?n=Math.ceil(n/o)*o:n=Math.floor(n/o)*o,n>r&&(n=t)}else n+=e,n<t?n=r-(t-n-1):n>r&&(n=t+(n-r-1));return n}function Bw(n,e){let t;if(e.years!=null&&e.years!==0||e.months!=null&&e.months!==0||e.weeks!=null&&e.weeks!==0||e.days!=null&&e.days!==0){let i=af(mo(n),{years:e.years,months:e.months,weeks:e.weeks,days:e.days});t=Kr(i,n.timeZone)}else t=ys(n)-n.offset;t+=e.milliseconds||0,t+=(e.seconds||0)*1e3,t+=(e.minutes||0)*6e4,t+=(e.hours||0)*36e5;let r=qr(t,n.timeZone);return Xn(r,n.calendar)}function TO(n,e){return Bw(n,_w(e))}function PO(n,e,t,r){switch(e){case"hour":{let i=0,o=23;if(r?.hourCycle===12){let x=n.hour>=12;i=x?12:0,o=x?23:11}let s=mo(n),a=Xn(yu(s,{hour:i}),new vs),c=[Kr(a,n.timeZone,"earlier"),Kr(a,n.timeZone,"later")].filter(x=>qr(x,n.timeZone).day===a.day)[0],f=Xn(yu(s,{hour:o}),new vs),h=[Kr(f,n.timeZone,"earlier"),Kr(f,n.timeZone,"later")].filter(x=>qr(x,n.timeZone).day===f.day).pop(),d=ys(n)-n.offset,g=Math.floor(d/ma),b=d%ma;return d=Yr(g,t,Math.floor(c/ma),Math.floor(h/ma),r?.round)*ma+b,Xn(qr(d,n.timeZone),n.calendar)}case"minute":case"second":case"millisecond":return Nw(n,e,t,r);case"era":case"year":case"month":case"day":{let i=Xm(mo(n),e,t,r),o=Kr(i,n.timeZone);return Xn(qr(o,n.timeZone),n.calendar)}default:throw new Error("Unsupported field "+e)}}function MO(n,e,t){let r=mo(n),i=yu(Ym(r,e),e);if(i.compare(r)===0)return n;let o=Kr(i,n.timeZone,t);return Xn(qr(o,n.timeZone),n.calendar)}const OO=/^(\d{4})-(\d{2})-(\d{2})(?:T(\d{2}))?(?::(\d{2}))?(?::(\d{2}))?(\.\d+)?(?:(?:([+-]\d{2})(?::?(\d{2}))?)|Z)$/;function Fw(n,e){let t=n.match(OO);if(!t)throw new Error("Invalid ISO 8601 date time string: "+n);let r=new ws(jr(t[1],1,9999),jr(t[2],1,12),1,e,0,t[4]?jr(t[4],0,23):0,t[5]?jr(t[5],0,59):0,t[6]?jr(t[6],0,59):0,t[7]?jr(t[7],0,1/0)*1e3:0);r.day=jr(t[3],0,r.calendar.getDaysInMonth(r));var i;return t[8]&&(r.offset=jr(t[8],-23,23)*36e5+jr((i=t[9])!==null&&i!==void 0?i:"0",0,59)*6e4),Dw(r,e)}function DO(n){return Fw(n,xs())}function jr(n,e,t){let r=Number(n);if(r<e||r>t)throw new RangeError(`Value out of range: ${e} <= ${r} <= ${t}`);return r}function IO(n){return`${String(n.hour).padStart(2,"0")}:${String(n.minute).padStart(2,"0")}:${String(n.second).padStart(2,"0")}${n.millisecond?String(n.millisecond/1e3).slice(1):""}`}function Ww(n){let e=Xn(n,new vs);return`${String(e.year).padStart(4,"0")}-${String(e.month).padStart(2,"0")}-${String(e.day).padStart(2,"0")}`}function Vw(n){return`${Ww(n)}T${IO(n)}`}function _O(n){let e=Math.sign(n)<0?"-":"+";n=Math.abs(n);let t=Math.floor(n/36e5),r=n%36e5/6e4;return`${e}${String(t).padStart(2,"0")}:${String(r).padStart(2,"0")}`}function LO(n){return`${Vw(n)}${_O(n.offset)}[${n.timeZone}]`}function NO(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Zm(n,e,t){NO(n,e),e.set(n,t)}function Qm(n){let e=typeof n[0]=="object"?n.shift():new vs,t;if(typeof n[0]=="string")t=n.shift();else{let s=e.getEras();t=s[s.length-1]}let r=n.shift(),i=n.shift(),o=n.shift();return[e,t,r,i,o]}var BO=new WeakMap;class La{copy(){return this.era?new La(this.calendar,this.era,this.year,this.month,this.day):new La(this.calendar,this.year,this.month,this.day)}add(e){return af(this,e)}subtract(e){return Lw(this,e)}set(e){return Ym(this,e)}cycle(e,t,r){return Xm(this,e,t,r)}toDate(e){return Mw(this,e)}toString(){return Ww(this)}compare(e){return Ew(this,e)}constructor(...e){Zm(this,BO,{writable:!0,value:void 0});let[t,r,i,o,s]=Qm(e);this.calendar=t,this.era=r,this.year=i,this.month=o,this.day=s,go(this)}}var FO=new WeakMap;class wu{copy(){return this.era?new wu(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new wu(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(e){return af(this,e)}subtract(e){return Lw(this,e)}set(e){return Ym(yu(this,e),e)}cycle(e,t,r){switch(e){case"era":case"year":case"month":case"day":return Xm(this,e,t,r);default:return Nw(this,e,t,r)}}toDate(e,t){return Mw(this,e,t)}toString(){return Vw(this)}compare(e){let t=Ew(this,e);return t===0?gO(this,mo(e)):t}constructor(...e){Zm(this,FO,{writable:!0,value:void 0});let[t,r,i,o,s]=Qm(e);this.calendar=t,this.era=r,this.year=i,this.month=o,this.day=s,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,go(this)}}var WO=new WeakMap;class ws{copy(){return this.era?new ws(this.calendar,this.era,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond):new ws(this.calendar,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond)}add(e){return Bw(this,e)}subtract(e){return TO(this,e)}set(e,t){return MO(this,e,t)}cycle(e,t,r){return PO(this,e,t,r)}toDate(){return SO(this)}toString(){return LO(this)}toAbsoluteString(){return this.toDate().toISOString()}compare(e){return this.toDate().getTime()-CO(e,this.timeZone).toDate().getTime()}constructor(...e){Zm(this,WO,{writable:!0,value:void 0});let[t,r,i,o,s]=Qm(e),a=e.shift(),c=e.shift();this.calendar=t,this.era=r,this.year=i,this.month=o,this.day=s,this.timeZone=a,this.offset=c,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,go(this)}}let Cd=new Map;class VO{format(e){return this.formatter.format(e)}formatToParts(e){return this.formatter.formatToParts(e)}formatRange(e,t){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.formatter.format(e)} – ${this.formatter.format(t)}`}formatRangeToParts(e,t){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let r=this.formatter.formatToParts(e),i=this.formatter.formatToParts(t);return[...r.map(o=>({...o,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...i.map(o=>({...o,source:"endRange"}))]}resolvedOptions(){let e=this.formatter.resolvedOptions();return zO()&&(this.resolvedHourCycle||(this.resolvedHourCycle=UO(e.locale,this.options)),e.hourCycle=this.resolvedHourCycle,e.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),e.calendar==="ethiopic-amete-alem"&&(e.calendar="ethioaa"),e}constructor(e,t={}){this.formatter=jw(e,t),this.options=t}}const jO={true:{ja:"h11"},false:{}};function jw(n,e={}){if(typeof e.hour12=="boolean"&&HO()){e={...e};let i=jO[String(e.hour12)][n.split("-")[0]],o=e.hour12?"h12":"h23";e.hourCycle=i??o,delete e.hour12}let t=n+(e?Object.entries(e).sort((i,o)=>i[0]<o[0]?-1:1).join():"");if(Cd.has(t))return Cd.get(t);let r=new Intl.DateTimeFormat(n,e);return Cd.set(t,r),r}let Sd=null;function HO(){return Sd==null&&(Sd=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),Sd}let kd=null;function zO(){return kd==null&&(kd=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),kd}function UO(n,e){if(!e.timeStyle&&!e.hour)return;n=n.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),n+=(n.includes("-u-")?"":"-u")+"-nu-latn";let t=jw(n,{...e,timeZone:void 0}),r=parseInt(t.formatToParts(new Date(2020,2,3,0)).find(o=>o.type==="hour").value,10),i=parseInt(t.formatToParts(new Date(2020,2,3,23)).find(o=>o.type==="hour").value,10);if(r===0&&i===23)return"h23";if(r===24&&i===23)return"h24";if(r===0&&i===11)return"h11";if(r===12&&i===11)return"h12";throw new Error("Unexpected hour cycle result")}function z(){return z=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},z.apply(null,arguments)}function re(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n?.(i),t===!1||!i.defaultPrevented)return e?.(i)}}function KO(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function lf(...n){return e=>n.forEach(t=>KO(t,e))}function Se(...n){return p.useCallback(lf(...n),n)}function Jm(n,e){const t=p.createContext(e);function r(o){const{children:s,...a}=o,c=p.useMemo(()=>a,Object.values(a));return p.createElement(t.Provider,{value:c},s)}function i(o){const s=p.useContext(t);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${n}\``)}return r.displayName=n+"Provider",[r,i]}function $t(n,e=[]){let t=[];function r(o,s){const a=p.createContext(s),c=t.length;t=[...t,s];function f(d){const{scope:g,children:b,...x}=d,v=g?.[n][c]||a,w=p.useMemo(()=>x,Object.values(x));return p.createElement(v.Provider,{value:w},b)}function h(d,g){const b=g?.[n][c]||a,x=p.useContext(b);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return f.displayName=o+"Provider",[f,h]}const i=()=>{const o=t.map(s=>p.createContext(s));return function(a){const c=a?.[n]||o;return p.useMemo(()=>({[`__scope${n}`]:{...a,[n]:c}}),[a,c])}};return i.scopeName=n,[r,GO(i,...e)]}function GO(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:f})=>{const d=c(o)[`__scope${f}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return t.scopeName=e.scopeName,t}const Sr=p.forwardRef((n,e)=>{const{children:t,...r}=n,i=p.Children.toArray(t),o=i.find(qO);if(o){const s=o.props.children,a=i.map(c=>c===o?p.Children.count(s)>1?p.Children.only(null):p.isValidElement(s)?s.props.children:null:c);return p.createElement($p,z({},r,{ref:e}),p.isValidElement(s)?p.cloneElement(s,void 0,a):null)}return p.createElement($p,z({},r,{ref:e}),t)});Sr.displayName="Slot";const $p=p.forwardRef((n,e)=>{const{children:t,...r}=n;return p.isValidElement(t)?p.cloneElement(t,{...YO(r,t.props),ref:e?lf(e,t.ref):t.ref}):p.Children.count(t)>1?p.Children.only(null):null});$p.displayName="SlotClone";const eg=({children:n})=>p.createElement(p.Fragment,null,n);function qO(n){return p.isValidElement(n)&&n.type===eg}function YO(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...a)=>{o(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}const XO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],me=XO.reduce((n,e)=>{const t=p.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?Sr:e;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(a,z({},s,{ref:i}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function ZO(n,e){n&&ii.flushSync(()=>n.dispatchEvent(e))}function QO(n,e=globalThis?.document){const t=St(n);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[t,e])}const Cp="dismissableLayer.update",JO="dismissableLayer.pointerDownOutside",eD="dismissableLayer.focusOutside";let yv;const tD=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),So=p.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:c,...f}=n,h=p.useContext(tD),[d,g]=p.useState(null),b=(t=d?.ownerDocument)!==null&&t!==void 0?t:globalThis?.document,[,x]=p.useState({}),v=Se(e,B=>g(B)),w=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),k=w.indexOf(C),A=d?w.indexOf(d):-1,R=h.layersWithOutsidePointerEventsDisabled.size>0,T=A>=k,D=nD(B=>{const N=B.target,W=[...h.branches].some(K=>K.contains(N));!T||W||(o?.(B),a?.(B),B.defaultPrevented||c?.())},b),M=rD(B=>{const N=B.target;[...h.branches].some(K=>K.contains(N))||(s?.(B),a?.(B),B.defaultPrevented||c?.())},b);return QO(B=>{A===h.layers.size-1&&(i?.(B),!B.defaultPrevented&&c&&(B.preventDefault(),c()))},b),p.useEffect(()=>{if(d)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(yv=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(d)),h.layers.add(d),wv(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=yv)}},[d,b,r,h]),p.useEffect(()=>()=>{d&&(h.layers.delete(d),h.layersWithOutsidePointerEventsDisabled.delete(d),wv())},[d,h]),p.useEffect(()=>{const B=()=>x({});return document.addEventListener(Cp,B),()=>document.removeEventListener(Cp,B)},[]),p.createElement(me.div,z({},f,{ref:v,style:{pointerEvents:R?T?"auto":"none":void 0,...n.style},onFocusCapture:re(n.onFocusCapture,M.onFocusCapture),onBlurCapture:re(n.onBlurCapture,M.onBlurCapture),onPointerDownCapture:re(n.onPointerDownCapture,D.onPointerDownCapture)}))});function nD(n,e=globalThis?.document){const t=St(n),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let f=function(){Hw(JO,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function rD(n,e=globalThis?.document){const t=St(n),r=p.useRef(!1);return p.useEffect(()=>{const i=o=>{o.target&&!r.current&&Hw(eD,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function wv(){const n=new CustomEvent(Cp);document.dispatchEvent(n)}function Hw(n,e,t,{discrete:r}){const i=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?ZO(i,o):i.dispatchEvent(o)}const iD=So,pt=globalThis?.document?p.useLayoutEffect:()=>{},oD=ww.useId||(()=>{});let sD=0;function mn(n){const[e,t]=p.useState(oD());return pt(()=>{t(r=>r??String(sD++))},[n]),e?`radix-${e}`:""}const aD=["top","right","bottom","left"],Ti=Math.min,En=Math.max,$u=Math.round,xc=Math.floor,wr=n=>({x:n,y:n}),lD={left:"right",right:"left",bottom:"top",top:"bottom"},cD={start:"end",end:"start"};function Sp(n,e,t){return En(n,Ti(e,t))}function Jr(n,e){return typeof n=="function"?n(e):n}function ei(n){return n.split("-")[0]}function Bs(n){return n.split("-")[1]}function tg(n){return n==="x"?"y":"x"}function ng(n){return n==="y"?"height":"width"}function Xr(n){return["top","bottom"].includes(ei(n))?"y":"x"}function rg(n){return tg(Xr(n))}function uD(n,e,t){t===void 0&&(t=!1);const r=Bs(n),i=rg(n),o=ng(i);let s=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Cu(s)),[s,Cu(s)]}function fD(n){const e=Cu(n);return[kp(n),e,kp(e)]}function kp(n){return n.replace(/start|end/g,e=>cD[e])}function hD(n,e,t){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function dD(n,e,t,r){const i=Bs(n);let o=hD(ei(n),t==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(kp)))),o}function Cu(n){return n.replace(/left|right|bottom|top/g,e=>lD[e])}function pD(n){return{top:0,right:0,bottom:0,left:0,...n}}function zw(n){return typeof n!="number"?pD(n):{top:n,right:n,bottom:n,left:n}}function Su(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function $v(n,e,t){let{reference:r,floating:i}=n;const o=Xr(e),s=rg(e),a=ng(s),c=ei(e),f=o==="y",h=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,g=r[a]/2-i[a]/2;let b;switch(c){case"top":b={x:h,y:r.y-i.height};break;case"bottom":b={x:h,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:d};break;case"left":b={x:r.x-i.width,y:d};break;default:b={x:r.x,y:r.y}}switch(Bs(e)){case"start":b[s]-=g*(t&&f?-1:1);break;case"end":b[s]+=g*(t&&f?-1:1);break}return b}const mD=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=t,a=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let f=await s.getElementRects({reference:n,floating:e,strategy:i}),{x:h,y:d}=$v(f,r,c),g=r,b={},x=0;for(let v=0;v<a.length;v++){const{name:w,fn:C}=a[v],{x:k,y:A,data:R,reset:T}=await C({x:h,y:d,initialPlacement:r,placement:g,strategy:i,middlewareData:b,rects:f,platform:s,elements:{reference:n,floating:e}});h=k??h,d=A??d,b={...b,[w]:{...b[w],...R}},T&&x<=50&&(x++,typeof T=="object"&&(T.placement&&(g=T.placement),T.rects&&(f=T.rects===!0?await s.getElementRects({reference:n,floating:e,strategy:i}):T.rects),{x:h,y:d}=$v(f,g,c)),v=-1)}return{x:h,y:d,placement:g,strategy:i,middlewareData:b}};async function Na(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:c}=n,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:g=!1,padding:b=0}=Jr(e,n),x=zw(b),w=a[g?d==="floating"?"reference":"floating":d],C=Su(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(w)))==null||t?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:f,rootBoundary:h,strategy:c})),k=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),R=await(o.isElement==null?void 0:o.isElement(A))?await(o.getScale==null?void 0:o.getScale(A))||{x:1,y:1}:{x:1,y:1},T=Su(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:k,offsetParent:A,strategy:c}):k);return{top:(C.top-T.top+x.top)/R.y,bottom:(T.bottom-C.bottom+x.bottom)/R.y,left:(C.left-T.left+x.left)/R.x,right:(T.right-C.right+x.right)/R.x}}const gD=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:c}=e,{element:f,padding:h=0}=Jr(n,e)||{};if(f==null)return{};const d=zw(h),g={x:t,y:r},b=rg(i),x=ng(b),v=await s.getDimensions(f),w=b==="y",C=w?"top":"left",k=w?"bottom":"right",A=w?"clientHeight":"clientWidth",R=o.reference[x]+o.reference[b]-g[b]-o.floating[x],T=g[b]-o.reference[b],D=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f));let M=D?D[A]:0;(!M||!await(s.isElement==null?void 0:s.isElement(D)))&&(M=a.floating[A]||o.floating[x]);const B=R/2-T/2,N=M/2-v[x]/2-1,W=Ti(d[C],N),K=Ti(d[k],N),j=W,Q=M-v[x]-K,Z=M/2-v[x]/2+B,ee=Sp(j,Z,Q),ue=!c.arrow&&Bs(i)!=null&&Z!==ee&&o.reference[x]/2-(Z<j?W:K)-v[x]/2<0,te=ue?Z<j?Z-j:Z-Q:0;return{[b]:g[b]+te,data:{[b]:ee,centerOffset:Z-ee-te,...ue&&{alignmentOffset:te}},reset:ue}}}),bD=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:c,elements:f}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:g,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...w}=Jr(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const C=ei(i),k=Xr(a),A=ei(a)===a,R=await(c.isRTL==null?void 0:c.isRTL(f.floating)),T=g||(A||!v?[Cu(a)]:fD(a)),D=x!=="none";!g&&D&&T.push(...dD(a,v,x,R));const M=[a,...T],B=await Na(e,w),N=[];let W=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&N.push(B[C]),d){const ee=uD(i,s,R);N.push(B[ee[0]],B[ee[1]])}if(W=[...W,{placement:i,overflows:N}],!N.every(ee=>ee<=0)){var K,j;const ee=(((K=o.flip)==null?void 0:K.index)||0)+1,ue=M[ee];if(ue){var Q;const oe=d==="alignment"?k!==Xr(ue):!1,q=((Q=W[0])==null?void 0:Q.overflows[0])>0;if(!oe||q)return{data:{index:ee,overflows:W},reset:{placement:ue}}}let te=(j=W.filter(oe=>oe.overflows[0]<=0).sort((oe,q)=>oe.overflows[1]-q.overflows[1])[0])==null?void 0:j.placement;if(!te)switch(b){case"bestFit":{var Z;const oe=(Z=W.filter(q=>{if(D){const le=Xr(q.placement);return le===k||le==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(le=>le>0).reduce((le,he)=>le+he,0)]).sort((q,le)=>q[1]-le[1])[0])==null?void 0:Z[0];oe&&(te=oe);break}case"initialPlacement":te=a;break}if(i!==te)return{reset:{placement:te}}}return{}}}};function Cv(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Sv(n){return aD.some(e=>n[e]>=0)}const vD=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Jr(n,e);switch(r){case"referenceHidden":{const o=await Na(e,{...i,elementContext:"reference"}),s=Cv(o,t.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Sv(s)}}}case"escaped":{const o=await Na(e,{...i,altBoundary:!0}),s=Cv(o,t.floating);return{data:{escapedOffsets:s,escaped:Sv(s)}}}default:return{}}}}};async function xD(n,e){const{placement:t,platform:r,elements:i}=n,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=ei(t),a=Bs(t),c=Xr(t)==="y",f=["left","top"].includes(s)?-1:1,h=o&&c?-1:1,d=Jr(e,n);let{mainAxis:g,crossAxis:b,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof x=="number"&&(b=a==="end"?x*-1:x),c?{x:b*h,y:g*f}:{x:g*f,y:b*h}}const yD=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:o,placement:s,middlewareData:a}=e,c=await xD(e,n);return s===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:s}}}}},wD=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:w=>{let{x:C,y:k}=w;return{x:C,y:k}}},...c}=Jr(n,e),f={x:t,y:r},h=await Na(e,c),d=Xr(ei(i)),g=tg(d);let b=f[g],x=f[d];if(o){const w=g==="y"?"top":"left",C=g==="y"?"bottom":"right",k=b+h[w],A=b-h[C];b=Sp(k,b,A)}if(s){const w=d==="y"?"top":"left",C=d==="y"?"bottom":"right",k=x+h[w],A=x-h[C];x=Sp(k,x,A)}const v=a.fn({...e,[g]:b,[d]:x});return{...v,data:{x:v.x-t,y:v.y-r,enabled:{[g]:o,[d]:s}}}}}},$D=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:c=!0,crossAxis:f=!0}=Jr(n,e),h={x:t,y:r},d=Xr(i),g=tg(d);let b=h[g],x=h[d];const v=Jr(a,e),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const A=g==="y"?"height":"width",R=o.reference[g]-o.floating[A]+w.mainAxis,T=o.reference[g]+o.reference[A]-w.mainAxis;b<R?b=R:b>T&&(b=T)}if(f){var C,k;const A=g==="y"?"width":"height",R=["top","left"].includes(ei(i)),T=o.reference[d]-o.floating[A]+(R&&((C=s.offset)==null?void 0:C[d])||0)+(R?0:w.crossAxis),D=o.reference[d]+o.reference[A]+(R?0:((k=s.offset)==null?void 0:k[d])||0)-(R?w.crossAxis:0);x<T?x=T:x>D&&(x=D)}return{[g]:b,[d]:x}}}},CD=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:c=()=>{},...f}=Jr(n,e),h=await Na(e,f),d=ei(i),g=Bs(i),b=Xr(i)==="y",{width:x,height:v}=o.floating;let w,C;d==="top"||d==="bottom"?(w=d,C=g===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(C=d,w=g==="end"?"top":"bottom");const k=v-h.top-h.bottom,A=x-h.left-h.right,R=Ti(v-h[w],k),T=Ti(x-h[C],A),D=!e.middlewareData.shift;let M=R,B=T;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(B=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=k),D&&!g){const W=En(h.left,0),K=En(h.right,0),j=En(h.top,0),Q=En(h.bottom,0);b?B=x-2*(W!==0||K!==0?W+K:En(h.left,h.right)):M=v-2*(j!==0||Q!==0?j+Q:En(h.top,h.bottom))}await c({...e,availableWidth:B,availableHeight:M});const N=await s.getDimensions(a.floating);return x!==N.width||v!==N.height?{reset:{rects:!0}}:{}}}};function cf(){return typeof window<"u"}function Fs(n){return Uw(n)?(n.nodeName||"").toLowerCase():"#document"}function Tn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Er(n){var e;return(e=(Uw(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Uw(n){return cf()?n instanceof Node||n instanceof Tn(n).Node:!1}function er(n){return cf()?n instanceof Element||n instanceof Tn(n).Element:!1}function kr(n){return cf()?n instanceof HTMLElement||n instanceof Tn(n).HTMLElement:!1}function kv(n){return!cf()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Tn(n).ShadowRoot}function al(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=tr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function SD(n){return["table","td","th"].includes(Fs(n))}function uf(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function ig(n){const e=og(),t=er(n)?tr(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function kD(n){let e=Pi(n);for(;kr(e)&&!$s(e);){if(ig(e))return e;if(uf(e))return null;e=Pi(e)}return null}function og(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $s(n){return["html","body","#document"].includes(Fs(n))}function tr(n){return Tn(n).getComputedStyle(n)}function ff(n){return er(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Pi(n){if(Fs(n)==="html")return n;const e=n.assignedSlot||n.parentNode||kv(n)&&n.host||Er(n);return kv(e)?e.host:e}function Kw(n){const e=Pi(n);return $s(e)?n.ownerDocument?n.ownerDocument.body:n.body:kr(e)&&al(e)?e:Kw(e)}function Ba(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=Kw(n),o=i===((r=n.ownerDocument)==null?void 0:r.body),s=Tn(i);if(o){const a=Ap(s);return e.concat(s,s.visualViewport||[],al(i)?i:[],a&&t?Ba(a):[])}return e.concat(i,Ba(i,[],t))}function Ap(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Gw(n){const e=tr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=kr(n),o=i?n.offsetWidth:t,s=i?n.offsetHeight:r,a=$u(t)!==o||$u(r)!==s;return a&&(t=o,r=s),{width:t,height:r,$:a}}function sg(n){return er(n)?n:n.contextElement}function cs(n){const e=sg(n);if(!kr(e))return wr(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:o}=Gw(e);let s=(o?$u(t.width):t.width)/r,a=(o?$u(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const AD=wr(0);function qw(n){const e=Tn(n);return!og()||!e.visualViewport?AD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ED(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Tn(n)?!1:e}function bo(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),o=sg(n);let s=wr(1);e&&(r?er(r)&&(s=cs(r)):s=cs(n));const a=ED(o,t,r)?qw(o):wr(0);let c=(i.left+a.x)/s.x,f=(i.top+a.y)/s.y,h=i.width/s.x,d=i.height/s.y;if(o){const g=Tn(o),b=r&&er(r)?Tn(r):r;let x=g,v=Ap(x);for(;v&&r&&b!==x;){const w=cs(v),C=v.getBoundingClientRect(),k=tr(v),A=C.left+(v.clientLeft+parseFloat(k.paddingLeft))*w.x,R=C.top+(v.clientTop+parseFloat(k.paddingTop))*w.y;c*=w.x,f*=w.y,h*=w.x,d*=w.y,c+=A,f+=R,x=Tn(v),v=Ap(x)}}return Su({width:h,height:d,x:c,y:f})}function ag(n,e){const t=ff(n).scrollLeft;return e?e.left+t:bo(Er(n)).left+t}function Yw(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:ag(n,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function RD(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const o=i==="fixed",s=Er(r),a=e?uf(e.floating):!1;if(r===s||a&&o)return t;let c={scrollLeft:0,scrollTop:0},f=wr(1);const h=wr(0),d=kr(r);if((d||!d&&!o)&&((Fs(r)!=="body"||al(s))&&(c=ff(r)),kr(r))){const b=bo(r);f=cs(r),h.x=b.x+r.clientLeft,h.y=b.y+r.clientTop}const g=s&&!d&&!o?Yw(s,c,!0):wr(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-c.scrollLeft*f.x+h.x+g.x,y:t.y*f.y-c.scrollTop*f.y+h.y+g.y}}function TD(n){return Array.from(n.getClientRects())}function PD(n){const e=Er(n),t=ff(n),r=n.ownerDocument.body,i=En(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=En(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+ag(n);const a=-t.scrollTop;return tr(r).direction==="rtl"&&(s+=En(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function MD(n,e){const t=Tn(n),r=Er(n),i=t.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;const f=og();(!f||f&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a,y:c}}function OD(n,e){const t=bo(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,o=kr(n)?cs(n):wr(1),s=n.clientWidth*o.x,a=n.clientHeight*o.y,c=i*o.x,f=r*o.y;return{width:s,height:a,x:c,y:f}}function Av(n,e,t){let r;if(e==="viewport")r=MD(n,t);else if(e==="document")r=PD(Er(n));else if(er(e))r=OD(e,t);else{const i=qw(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Su(r)}function Xw(n,e){const t=Pi(n);return t===e||!er(t)||$s(t)?!1:tr(t).position==="fixed"||Xw(t,e)}function DD(n,e){const t=e.get(n);if(t)return t;let r=Ba(n,[],!1).filter(a=>er(a)&&Fs(a)!=="body"),i=null;const o=tr(n).position==="fixed";let s=o?Pi(n):n;for(;er(s)&&!$s(s);){const a=tr(s),c=ig(s);!c&&a.position==="fixed"&&(i=null),(o?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||al(s)&&!c&&Xw(n,s))?r=r.filter(h=>h!==s):i=a,s=Pi(s)}return e.set(n,r),r}function ID(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const s=[...t==="clippingAncestors"?uf(e)?[]:DD(e,this._c):[].concat(t),r],a=s[0],c=s.reduce((f,h)=>{const d=Av(e,h,i);return f.top=En(d.top,f.top),f.right=Ti(d.right,f.right),f.bottom=Ti(d.bottom,f.bottom),f.left=En(d.left,f.left),f},Av(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function _D(n){const{width:e,height:t}=Gw(n);return{width:e,height:t}}function LD(n,e,t){const r=kr(e),i=Er(e),o=t==="fixed",s=bo(n,!0,o,e);let a={scrollLeft:0,scrollTop:0};const c=wr(0);function f(){c.x=ag(i)}if(r||!r&&!o)if((Fs(e)!=="body"||al(i))&&(a=ff(e)),r){const b=bo(e,!0,o,e);c.x=b.x+e.clientLeft,c.y=b.y+e.clientTop}else i&&f();o&&!r&&i&&f();const h=i&&!r&&!o?Yw(i,a):wr(0),d=s.left+a.scrollLeft-c.x-h.x,g=s.top+a.scrollTop-c.y-h.y;return{x:d,y:g,width:s.width,height:s.height}}function Ad(n){return tr(n).position==="static"}function Ev(n,e){if(!kr(n)||tr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Er(n)===t&&(t=t.ownerDocument.body),t}function Zw(n,e){const t=Tn(n);if(uf(n))return t;if(!kr(n)){let i=Pi(n);for(;i&&!$s(i);){if(er(i)&&!Ad(i))return i;i=Pi(i)}return t}let r=Ev(n,e);for(;r&&SD(r)&&Ad(r);)r=Ev(r,e);return r&&$s(r)&&Ad(r)&&!ig(r)?t:r||kD(n)||t}const ND=async function(n){const e=this.getOffsetParent||Zw,t=this.getDimensions,r=await t(n.floating);return{reference:LD(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function BD(n){return tr(n).direction==="rtl"}const FD={convertOffsetParentRelativeRectToViewportRelativeRect:RD,getDocumentElement:Er,getClippingRect:ID,getOffsetParent:Zw,getElementRects:ND,getClientRects:TD,getDimensions:_D,getScale:cs,isElement:er,isRTL:BD};function Qw(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function WD(n,e){let t=null,r;const i=Er(n);function o(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const f=n.getBoundingClientRect(),{left:h,top:d,width:g,height:b}=f;if(a||e(),!g||!b)return;const x=xc(d),v=xc(i.clientWidth-(h+g)),w=xc(i.clientHeight-(d+b)),C=xc(h),A={rootMargin:-x+"px "+-v+"px "+-w+"px "+-C+"px",threshold:En(0,Ti(1,c))||1};let R=!0;function T(D){const M=D[0].intersectionRatio;if(M!==c){if(!R)return s();M?s(!1,M):r=setTimeout(()=>{s(!1,1e-7)},1e3)}M===1&&!Qw(f,n.getBoundingClientRect())&&s(),R=!1}try{t=new IntersectionObserver(T,{...A,root:i.ownerDocument})}catch{t=new IntersectionObserver(T,A)}t.observe(n)}return s(!0),o}function Jw(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=sg(n),h=i||o?[...f?Ba(f):[],...Ba(e)]:[];h.forEach(C=>{i&&C.addEventListener("scroll",t,{passive:!0}),o&&C.addEventListener("resize",t)});const d=f&&a?WD(f,t):null;let g=-1,b=null;s&&(b=new ResizeObserver(C=>{let[k]=C;k&&k.target===f&&b&&(b.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var A;(A=b)==null||A.observe(e)})),t()}),f&&!c&&b.observe(f),b.observe(e));let x,v=c?bo(n):null;c&&w();function w(){const C=bo(n);v&&!Qw(v,C)&&t(),v=C,x=requestAnimationFrame(w)}return t(),()=>{var C;h.forEach(k=>{i&&k.removeEventListener("scroll",t),o&&k.removeEventListener("resize",t)}),d?.(),(C=b)==null||C.disconnect(),b=null,c&&cancelAnimationFrame(x)}}const VD=yD,jD=wD,HD=bD,zD=CD,UD=vD,Rv=gD,KD=$D,GD=(n,e,t)=>{const r=new Map,i={platform:FD,...t},o={...i.platform,_c:r};return mD(n,e,{...i,platform:o})};var su=typeof document<"u"?p.useLayoutEffect:p.useEffect;function ku(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!ku(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const o=i[r];if(!(o==="_owner"&&n.$$typeof)&&!ku(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function e2(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Tv(n,e){const t=e2(n);return Math.round(e*t)/t}function Pv(n){const e=p.useRef(n);return su(()=>{e.current=n}),e}function t2(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:c,open:f}=n,[h,d]=p.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[g,b]=p.useState(r);ku(g,r)||b(r);const[x,v]=p.useState(null),[w,C]=p.useState(null),k=p.useCallback(te=>{te!==D.current&&(D.current=te,v(te))},[]),A=p.useCallback(te=>{te!==M.current&&(M.current=te,C(te))},[]),R=o||x,T=s||w,D=p.useRef(null),M=p.useRef(null),B=p.useRef(h),N=c!=null,W=Pv(c),K=Pv(i),j=p.useCallback(()=>{if(!D.current||!M.current)return;const te={placement:e,strategy:t,middleware:g};K.current&&(te.platform=K.current),GD(D.current,M.current,te).then(oe=>{const q={...oe,isPositioned:!0};Q.current&&!ku(B.current,q)&&(B.current=q,ii.flushSync(()=>{d(q)}))})},[g,e,t,K]);su(()=>{f===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,d(te=>({...te,isPositioned:!1})))},[f]);const Q=p.useRef(!1);su(()=>(Q.current=!0,()=>{Q.current=!1}),[]),su(()=>{if(R&&(D.current=R),T&&(M.current=T),R&&T){if(W.current)return W.current(R,T,j);j()}},[R,T,j,W,N]);const Z=p.useMemo(()=>({reference:D,floating:M,setReference:k,setFloating:A}),[k,A]),ee=p.useMemo(()=>({reference:R,floating:T}),[R,T]),ue=p.useMemo(()=>{const te={position:t,left:0,top:0};if(!ee.floating)return te;const oe=Tv(ee.floating,h.x),q=Tv(ee.floating,h.y);return a?{...te,transform:"translate("+oe+"px, "+q+"px)",...e2(ee.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:oe,top:q}},[t,a,ee.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:j,refs:Z,elements:ee,floatingStyles:ue}),[h,j,Z,ee,ue])}const qD=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Rv({element:r.current,padding:i}).fn(t):{}:r?Rv({element:r,padding:i}).fn(t):{}}}},n2=(n,e)=>({...VD(n),options:[n,e]}),r2=(n,e)=>({...jD(n),options:[n,e]}),YD=(n,e)=>({...KD(n),options:[n,e]}),i2=(n,e)=>({...HD(n),options:[n,e]}),XD=(n,e)=>({...zD(n),options:[n,e]}),ZD=(n,e)=>({...UD(n),options:[n,e]}),QD=(n,e)=>({...qD(n),options:[n,e]}),JD=p.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...o}=n;return p.createElement(me.svg,z({},o,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:p.createElement("polygon",{points:"0,0 30,0 15,10"}))}),e4=JD;function hf(n){const[e,t]=p.useState(void 0);return pt(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const c=o.borderBoxSize,f=Array.isArray(c)?c[0]:c;s=f.inlineSize,a=f.blockSize}else s=n.offsetWidth,a=n.offsetHeight;t({width:s,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}const o2="Popper",[s2,Li]=$t(o2),[t4,a2]=s2(o2),n4=n=>{const{__scopePopper:e,children:t}=n,[r,i]=p.useState(null);return p.createElement(t4,{scope:e,anchor:r,onAnchorChange:i},t)},r4="PopperAnchor",i4=p.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,o=a2(r4,t),s=p.useRef(null),a=Se(e,s);return p.useEffect(()=>{o.onAnchorChange(r?.current||s.current)}),r?null:p.createElement(me.div,z({},i,{ref:a}))}),l2="PopperContent",[o4,s4]=s2(l2),a4=p.forwardRef((n,e)=>{var t,r,i,o,s,a,c,f;const{__scopePopper:h,side:d="bottom",sideOffset:g=0,align:b="center",alignOffset:x=0,arrowPadding:v=0,avoidCollisions:w=!0,collisionBoundary:C=[],collisionPadding:k=0,sticky:A="partial",hideWhenDetached:R=!1,updatePositionStrategy:T="optimized",onPlaced:D,...M}=n,B=a2(l2,h),[N,W]=p.useState(null),K=Se(e,Fe=>W(Fe)),[j,Q]=p.useState(null),Z=hf(j),ee=(t=Z?.width)!==null&&t!==void 0?t:0,ue=(r=Z?.height)!==null&&r!==void 0?r:0,te=d+(b!=="center"?"-"+b:""),oe=typeof k=="number"?k:{top:0,right:0,bottom:0,left:0,...k},q=Array.isArray(C)?C:[C],le=q.length>0,he={padding:oe,boundary:q.filter(f4),altBoundary:le},{refs:De,floatingStyles:ve,placement:ze,isPositioned:Re,middlewareData:Ve}=t2({strategy:"fixed",placement:te,whileElementsMounted:(...Fe)=>Jw(...Fe,{animationFrame:T==="always"}),elements:{reference:B.anchor},middleware:[n2({mainAxis:g+ue,alignmentAxis:x}),w&&r2({mainAxis:!0,crossAxis:!1,limiter:A==="partial"?YD():void 0,...he}),w&&i2({...he}),XD({...he,apply:({elements:Fe,rects:Zt,availableWidth:gt,availableHeight:Po})=>{const{width:Zs,height:lr}=Zt.reference,Mt=Fe.floating.style;Mt.setProperty("--radix-popper-available-width",`${gt}px`),Mt.setProperty("--radix-popper-available-height",`${Po}px`),Mt.setProperty("--radix-popper-anchor-width",`${Zs}px`),Mt.setProperty("--radix-popper-anchor-height",`${lr}px`)}}),j&&QD({element:j,padding:v}),h4({arrowWidth:ee,arrowHeight:ue}),R&&ZD({strategy:"referenceHidden",...he})]}),[pe,Pe]=c2(ze),Ee=St(D);pt(()=>{Re&&Ee?.()},[Re,Ee]);const _e=(i=Ve.arrow)===null||i===void 0?void 0:i.x,$e=(o=Ve.arrow)===null||o===void 0?void 0:o.y,ne=((s=Ve.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[ut,qe]=p.useState();return pt(()=>{N&&qe(window.getComputedStyle(N).zIndex)},[N]),p.createElement("div",{ref:De.setFloating,"data-radix-popper-content-wrapper":"",style:{...ve,transform:Re?ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ut,"--radix-popper-transform-origin":[(a=Ve.transformOrigin)===null||a===void 0?void 0:a.x,(c=Ve.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:n.dir},p.createElement(o4,{scope:h,placedSide:pe,onArrowChange:Q,arrowX:_e,arrowY:$e,shouldHideArrow:ne},p.createElement(me.div,z({"data-side":pe,"data-align":Pe},M,{ref:K,style:{...M.style,animation:Re?void 0:"none",opacity:(f=Ve.hide)!==null&&f!==void 0&&f.referenceHidden?0:void 0}}))))}),l4="PopperArrow",c4={top:"bottom",right:"left",bottom:"top",left:"right"},u4=p.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,o=s4(l4,r),s=c4[o.placedSide];return p.createElement("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0}},p.createElement(e4,z({},i,{ref:t,style:{...i.style,display:"block"}})))});function f4(n){return n!==null}const h4=n=>({name:"transformOrigin",options:n,fn(e){var t,r,i,o,s;const{placement:a,rects:c,middlewareData:f}=e,d=((t=f.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,g=d?0:n.arrowWidth,b=d?0:n.arrowHeight,[x,v]=c2(a),w={start:"0%",center:"50%",end:"100%"}[v],C=((r=(i=f.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+g/2,k=((o=(s=f.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+b/2;let A="",R="";return x==="bottom"?(A=d?w:`${C}px`,R=`${-b}px`):x==="top"?(A=d?w:`${C}px`,R=`${c.floating.height+b}px`):x==="right"?(A=`${-b}px`,R=d?w:`${k}px`):x==="left"&&(A=`${c.floating.width+b}px`,R=d?w:`${k}px`),{data:{x:A,y:R}}}});function c2(n){const[e,t="center"]=n.split("-");return[e,t]}const df=n4,ll=i4,cl=a4,d4=u4,Ws=p.forwardRef((n,e)=>{var t;const{container:r=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...i}=n;return r?nO.createPortal(p.createElement(me.div,z({},i,{ref:e})),r):null});function p4(n,e){return p.useReducer((t,r)=>{const i=e[t][r];return i??t},n)}const Pt=n=>{const{present:e,children:t}=n,r=m4(e),i=typeof t=="function"?t({present:r.isPresent}):p.Children.only(t),o=Se(r.ref,i.ref);return typeof t=="function"||r.isPresent?p.cloneElement(i,{ref:o}):null};Pt.displayName="Presence";function m4(n){const[e,t]=p.useState(),r=p.useRef({}),i=p.useRef(n),o=p.useRef("none"),s=n?"mounted":"unmounted",[a,c]=p4(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const f=yc(r.current);o.current=a==="mounted"?f:"none"},[a]),pt(()=>{const f=r.current,h=i.current;if(h!==n){const g=o.current,b=yc(f);n?c("MOUNT"):b==="none"||f?.display==="none"?c("UNMOUNT"):c(h&&g!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,c]),pt(()=>{if(e){const f=d=>{const b=yc(r.current).includes(d.animationName);d.target===e&&b&&ii.flushSync(()=>c("ANIMATION_END"))},h=d=>{d.target===e&&(o.current=yc(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(f=>{f&&(r.current=getComputedStyle(f)),t(f)},[])}}function yc(n){return n?.animationName||"none"}function qt({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=g4({defaultProp:e,onChange:t}),o=n!==void 0,s=o?n:r,a=St(t),c=p.useCallback(f=>{if(o){const d=typeof f=="function"?f(n):f;d!==n&&a(d)}else i(f)},[o,n,i,a]);return[s,c]}function g4({defaultProp:n,onChange:e}){const t=p.useState(n),[r]=t,i=p.useRef(r),o=St(e);return p.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),t}const u2=p.forwardRef((n,e)=>p.createElement(me.span,z({},n,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}))),b4=u2,[pf,xY]=$t("Tooltip",[Li]),lg=Li(),v4="TooltipProvider",Ep="tooltip.open",[yY,cg]=pf(v4),ug="Tooltip",[x4,ul]=pf(ug),y4=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:o,disableHoverableContent:s,delayDuration:a}=n,c=cg(ug,n.__scopeTooltip),f=lg(e),[h,d]=p.useState(null),g=mn(),b=p.useRef(0),x=s??c.disableHoverableContent,v=a??c.delayDuration,w=p.useRef(!1),[C=!1,k]=qt({prop:r,defaultProp:i,onChange:M=>{M?(c.onOpen(),document.dispatchEvent(new CustomEvent(Ep))):c.onClose(),o?.(M)}}),A=p.useMemo(()=>C?w.current?"delayed-open":"instant-open":"closed",[C]),R=p.useCallback(()=>{window.clearTimeout(b.current),w.current=!1,k(!0)},[k]),T=p.useCallback(()=>{window.clearTimeout(b.current),k(!1)},[k]),D=p.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{w.current=!0,k(!0)},v)},[v,k]);return p.useEffect(()=>()=>window.clearTimeout(b.current),[]),p.createElement(df,f,p.createElement(x4,{scope:e,contentId:g,open:C,stateAttribute:A,trigger:h,onTriggerChange:d,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayed?D():R()},[c.isOpenDelayed,D,R]),onTriggerLeave:p.useCallback(()=>{x?T():window.clearTimeout(b.current)},[T,x]),onOpen:R,onClose:T,disableHoverableContent:x},t))},Mv="TooltipTrigger",w4=p.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=ul(Mv,t),o=cg(Mv,t),s=lg(t),a=p.useRef(null),c=Se(e,a,i.onTriggerChange),f=p.useRef(!1),h=p.useRef(!1),d=p.useCallback(()=>f.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),p.createElement(ll,z({asChild:!0},s),p.createElement(me.button,z({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:c,onPointerMove:re(n.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:re(n.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:re(n.onPointerDown,()=>{f.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:re(n.onFocus,()=>{f.current||i.onOpen()}),onBlur:re(n.onBlur,i.onClose),onClick:re(n.onClick,i.onClose)})))}),f2="TooltipPortal",[$4,C4]=pf(f2,{forceMount:void 0}),S4=n=>{const{__scopeTooltip:e,forceMount:t,children:r,container:i}=n,o=ul(f2,e);return p.createElement($4,{scope:e,forceMount:t},p.createElement(Pt,{present:t||o.open},p.createElement(Ws,{asChild:!0,container:i},r)))},Fa="TooltipContent",k4=p.forwardRef((n,e)=>{const t=C4(Fa,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...o}=n,s=ul(Fa,n.__scopeTooltip);return p.createElement(Pt,{present:r||s.open},s.disableHoverableContent?p.createElement(h2,z({side:i},o,{ref:e})):p.createElement(A4,z({side:i},o,{ref:e})))}),A4=p.forwardRef((n,e)=>{const t=ul(Fa,n.__scopeTooltip),r=cg(Fa,n.__scopeTooltip),i=p.useRef(null),o=Se(e,i),[s,a]=p.useState(null),{trigger:c,onClose:f}=t,h=i.current,{onPointerInTransitChange:d}=r,g=p.useCallback(()=>{a(null),d(!1)},[d]),b=p.useCallback((x,v)=>{const w=x.currentTarget,C={x:x.clientX,y:x.clientY},k=R4(C,w.getBoundingClientRect()),A=T4(C,k),R=P4(v.getBoundingClientRect()),T=O4([...A,...R]);a(T),d(!0)},[d]);return p.useEffect(()=>()=>g(),[g]),p.useEffect(()=>{if(c&&h){const x=w=>b(w,h),v=w=>b(w,c);return c.addEventListener("pointerleave",x),h.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",x),h.removeEventListener("pointerleave",v)}}},[c,h,b,g]),p.useEffect(()=>{if(s){const x=v=>{const w=v.target,C={x:v.clientX,y:v.clientY},k=c?.contains(w)||h?.contains(w),A=!M4(C,s);k?g():A&&(g(),f())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,h,s,f,g]),p.createElement(h2,z({},n,{ref:o}))}),[E4,wY]=pf(ug,{isInside:!1}),h2=p.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=n,c=ul(Fa,t),f=lg(t),{onClose:h}=c;return p.useEffect(()=>(document.addEventListener(Ep,h),()=>document.removeEventListener(Ep,h)),[h]),p.useEffect(()=>{if(c.trigger){const d=g=>{const b=g.target;b!=null&&b.contains(c.trigger)&&h()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,h]),p.createElement(So,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:d=>d.preventDefault(),onDismiss:h},p.createElement(cl,z({"data-state":c.stateAttribute},f,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),p.createElement(eg,null,r),p.createElement(E4,{scope:t,isInside:!0},p.createElement(b4,{id:c.contentId,role:"tooltip"},i||r))))});function R4(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),o=Math.abs(e.left-n.x);switch(Math.min(t,r,i,o)){case o:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function T4(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function P4(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function M4(n,e){const{x:t,y:r}=n;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,c=e[o].y,f=e[s].x,h=e[s].y;c>r!=h>r&&t<(f-a)*(r-c)/(h-c)+a&&(i=!i)}return i}function O4(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),D4(e)}function D4(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const o=e[e.length-1],s=e[e.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const o=t[t.length-1],s=t[t.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}const d2=y4,p2=w4,m2=S4,g2=k4;let Ed=0;function Vs(){p.useEffect(()=>{var n,e;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(n=t[0])!==null&&n!==void 0?n:Ov()),document.body.insertAdjacentElement("beforeend",(e=t[1])!==null&&e!==void 0?e:Ov()),Ed++,()=>{Ed===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Ed--}},[])}function Ov(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",n}const Rd="focusScope.autoFocusOnMount",Td="focusScope.autoFocusOnUnmount",Dv={bubbles:!1,cancelable:!0},js=p.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=n,[a,c]=p.useState(null),f=St(i),h=St(o),d=p.useRef(null),g=Se(e,v=>c(v)),b=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(A){if(b.paused||!a)return;const R=A.target;a.contains(R)?d.current=R:yi(d.current,{select:!0})},w=function(A){if(b.paused||!a)return;const R=A.relatedTarget;R!==null&&(a.contains(R)||yi(d.current,{select:!0}))},C=function(A){if(document.activeElement===document.body)for(const T of A)T.removedNodes.length>0&&yi(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const k=new MutationObserver(C);return a&&k.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),k.disconnect()}}},[r,a,b.paused]),p.useEffect(()=>{if(a){_v.add(b);const v=document.activeElement;if(!a.contains(v)){const C=new CustomEvent(Rd,Dv);a.addEventListener(Rd,f),a.dispatchEvent(C),C.defaultPrevented||(I4(F4(b2(a)),{select:!0}),document.activeElement===v&&yi(a))}return()=>{a.removeEventListener(Rd,f),setTimeout(()=>{const C=new CustomEvent(Td,Dv);a.addEventListener(Td,h),a.dispatchEvent(C),C.defaultPrevented||yi(v??document.body,{select:!0}),a.removeEventListener(Td,h),_v.remove(b)},0)}}},[a,f,h,b]);const x=p.useCallback(v=>{if(!t&&!r||b.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,C=document.activeElement;if(w&&C){const k=v.currentTarget,[A,R]=_4(k);A&&R?!v.shiftKey&&C===R?(v.preventDefault(),t&&yi(A,{select:!0})):v.shiftKey&&C===A&&(v.preventDefault(),t&&yi(R,{select:!0})):C===k&&v.preventDefault()}},[t,r,b.paused]);return p.createElement(me.div,z({tabIndex:-1},s,{ref:g,onKeyDown:x}))});function I4(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(yi(r,{select:e}),document.activeElement!==t)return}function _4(n){const e=b2(n),t=Iv(e,n),r=Iv(e.reverse(),n);return[t,r]}function b2(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Iv(n,e){for(const t of n)if(!L4(t,{upTo:e}))return t}function L4(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function N4(n){return n instanceof HTMLInputElement&&"select"in n}function yi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&N4(n)&&e&&n.select()}}const _v=B4();function B4(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=Lv(n,e),n.unshift(e)},remove(e){var t;n=Lv(n,e),(t=n[0])===null||t===void 0||t.resume()}}}function Lv(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function F4(n){return n.filter(e=>e.tagName!=="A")}var W4=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Ko=new WeakMap,wc=new WeakMap,$c={},Pd=0,v2=function(n){return n&&(n.host||v2(n.parentNode))},V4=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=v2(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},j4=function(n,e,t,r){var i=V4(e,Array.isArray(n)?n:[n]);$c[t]||($c[t]=new WeakMap);var o=$c[t],s=[],a=new Set,c=new Set(i),f=function(d){!d||a.has(d)||(a.add(d),f(d.parentNode))};i.forEach(f);var h=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(g){if(a.has(g))h(g);else try{var b=g.getAttribute(r),x=b!==null&&b!=="false",v=(Ko.get(g)||0)+1,w=(o.get(g)||0)+1;Ko.set(g,v),o.set(g,w),s.push(g),v===1&&x&&wc.set(g,!0),w===1&&g.setAttribute(t,"true"),x||g.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",g,C)}})};return h(e),a.clear(),Pd++,function(){s.forEach(function(d){var g=Ko.get(d)-1,b=o.get(d)-1;Ko.set(d,g),o.set(d,b),g||(wc.has(d)||d.removeAttribute(r),wc.delete(d)),b||d.removeAttribute(t)}),Pd--,Pd||(Ko=new WeakMap,Ko=new WeakMap,wc=new WeakMap,$c={})}},x2=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=W4(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),j4(r,i,t,"aria-hidden")):function(){return null}},Je=function(){return Je=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Je.apply(this,arguments)};function ko(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function mf(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var ao="right-scroll-bar-position",lo="width-before-scroll-bar",H4="with-scroll-bars-hidden",z4="--removed-body-scroll-bar-size";function Md(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function U4(n,e){var t=p.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var K4=typeof window<"u"?p.useLayoutEffect:p.useEffect,Nv=new WeakMap;function gf(n,e){var t=U4(null,function(r){return n.forEach(function(i){return Md(i,r)})});return K4(function(){var r=Nv.get(t);if(r){var i=new Set(r),o=new Set(n),s=t.current;i.forEach(function(a){o.has(a)||Md(a,null)}),o.forEach(function(a){i.has(a)||Md(a,s)})}Nv.set(t,n)},[n]),t}function G4(n){return n}function q4(n,e){e===void 0&&(e=G4);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var s=e(o,r);return t.push(s),function(){t=t.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;t.length;){var s=t;t=[],s.forEach(o)}t={push:function(a){return o(a)},filter:function(){return t}}},assignMedium:function(o){r=!0;var s=[];if(t.length){var a=t;t=[],a.forEach(o),s=t}var c=function(){var h=s;s=[],h.forEach(o)},f=function(){return Promise.resolve().then(c)};f(),t={push:function(h){s.push(h),f()},filter:function(h){return s=s.filter(h),t}}}};return i}function bf(n){n===void 0&&(n={});var e=q4(null);return e.options=Je({async:!0,ssr:!1},n),e}var y2=function(n){var e=n.sideCar,t=ko(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Je({},t))};y2.isSideCarExport=!0;function vf(n,e){return n.useMedium(e),y2}var w2=bf(),Od=function(){},xf=p.forwardRef(function(n,e){var t=p.useRef(null),r=p.useState({onScrollCapture:Od,onWheelCapture:Od,onTouchMoveCapture:Od}),i=r[0],o=r[1],s=n.forwardProps,a=n.children,c=n.className,f=n.removeScrollBar,h=n.enabled,d=n.shards,g=n.sideCar,b=n.noIsolation,x=n.inert,v=n.allowPinchZoom,w=n.as,C=w===void 0?"div":w,k=n.gapMode,A=ko(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=g,T=gf([t,e]),D=Je(Je({},A),i);return p.createElement(p.Fragment,null,h&&p.createElement(R,{sideCar:w2,removeScrollBar:f,shards:d,noIsolation:b,inert:x,setCallbacks:o,allowPinchZoom:!!v,lockRef:t,gapMode:k}),s?p.cloneElement(p.Children.only(a),Je(Je({},D),{ref:T})):p.createElement(C,Je({},D,{className:c,ref:T}),a))});xf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xf.classNames={fullWidth:lo,zeroRight:ao};var Y4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function X4(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Y4();return e&&n.setAttribute("nonce",e),n}function Z4(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Q4(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var J4=function(){var n=0,e=null;return{add:function(t){n==0&&(e=X4())&&(Z4(e,t),Q4(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},e7=function(){var n=J4();return function(e,t){p.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},fl=function(){var n=e7(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},t7={left:0,top:0,right:0,gap:0},Dd=function(n){return parseInt(n||"",10)||0},n7=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[Dd(t),Dd(r),Dd(i)]},r7=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return t7;var e=n7(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},i7=fl(),us="data-scroll-locked",o7=function(n,e,t,r){var i=n.left,o=n.top,s=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(H4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(us,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ao,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(lo,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ao," .").concat(ao,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(lo," .").concat(lo,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(us,`] {
    `).concat(z4,": ").concat(a,`px;
  }
`)},Bv=function(){var n=parseInt(document.body.getAttribute(us)||"0",10);return isFinite(n)?n:0},s7=function(){p.useEffect(function(){return document.body.setAttribute(us,(Bv()+1).toString()),function(){var n=Bv()-1;n<=0?document.body.removeAttribute(us):document.body.setAttribute(us,n.toString())}},[])},yf=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;s7();var o=p.useMemo(function(){return r7(i)},[i]);return p.createElement(i7,{styles:o7(o,!e,i,t?"":"!important")})},Rp=!1;if(typeof window<"u")try{var Cc=Object.defineProperty({},"passive",{get:function(){return Rp=!0,!0}});window.addEventListener("test",Cc,Cc),window.removeEventListener("test",Cc,Cc)}catch{Rp=!1}var Go=Rp?{passive:!1}:!1,a7=function(n){return n.tagName==="TEXTAREA"},$2=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!a7(n)&&t[e]==="visible")},l7=function(n){return $2(n,"overflowY")},c7=function(n){return $2(n,"overflowX")},Fv=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=C2(n,r);if(i){var o=S2(n,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},u7=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},f7=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},C2=function(n,e){return n==="v"?l7(e):c7(e)},S2=function(n,e){return n==="v"?u7(e):f7(e)},h7=function(n,e){return n==="h"&&e==="rtl"?-1:1},d7=function(n,e,t,r,i){var o=h7(n,window.getComputedStyle(e).direction),s=o*r,a=t.target,c=e.contains(a),f=!1,h=s>0,d=0,g=0;do{var b=S2(n,a),x=b[0],v=b[1],w=b[2],C=v-w-o*x;(x||C)&&C2(n,a)&&(d+=C,g+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&Math.abs(d)<1||!h&&Math.abs(g)<1)&&(f=!0),f},Sc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Wv=function(n){return[n.deltaX,n.deltaY]},Vv=function(n){return n&&"current"in n?n.current:n},p7=function(n,e){return n[0]===e[0]&&n[1]===e[1]},m7=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},g7=0,qo=[];function b7(n){var e=p.useRef([]),t=p.useRef([0,0]),r=p.useRef(),i=p.useState(g7++)[0],o=p.useState(fl)[0],s=p.useRef(n);p.useEffect(function(){s.current=n},[n]),p.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var v=mf([n.lockRef.current],(n.shards||[]).map(Vv),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=p.useCallback(function(v,w){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var C=Sc(v),k=t.current,A="deltaX"in v?v.deltaX:k[0]-C[0],R="deltaY"in v?v.deltaY:k[1]-C[1],T,D=v.target,M=Math.abs(A)>Math.abs(R)?"h":"v";if("touches"in v&&M==="h"&&D.type==="range")return!1;var B=Fv(M,D);if(!B)return!0;if(B?T=M:(T=M==="v"?"h":"v",B=Fv(M,D)),!B)return!1;if(!r.current&&"changedTouches"in v&&(A||R)&&(r.current=T),!T)return!0;var N=r.current||T;return d7(N,w,v,N==="h"?A:R)},[]),c=p.useCallback(function(v){var w=v;if(!(!qo.length||qo[qo.length-1]!==o)){var C="deltaY"in w?Wv(w):Sc(w),k=e.current.filter(function(T){return T.name===w.type&&(T.target===w.target||w.target===T.shadowParent)&&p7(T.delta,C)})[0];if(k&&k.should){w.cancelable&&w.preventDefault();return}if(!k){var A=(s.current.shards||[]).map(Vv).filter(Boolean).filter(function(T){return T.contains(w.target)}),R=A.length>0?a(w,A[0]):!s.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),f=p.useCallback(function(v,w,C,k){var A={name:v,delta:w,target:C,should:k,shadowParent:v7(C)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(R){return R!==A})},1)},[]),h=p.useCallback(function(v){t.current=Sc(v),r.current=void 0},[]),d=p.useCallback(function(v){f(v.type,Wv(v),v.target,a(v,n.lockRef.current))},[]),g=p.useCallback(function(v){f(v.type,Sc(v),v.target,a(v,n.lockRef.current))},[]);p.useEffect(function(){return qo.push(o),n.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Go),document.addEventListener("touchmove",c,Go),document.addEventListener("touchstart",h,Go),function(){qo=qo.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Go),document.removeEventListener("touchmove",c,Go),document.removeEventListener("touchstart",h,Go)}},[]);var b=n.removeScrollBar,x=n.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:m7(i)}):null,b?p.createElement(yf,{gapMode:n.gapMode}):null)}function v7(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const x7=vf(w2,b7);var wf=p.forwardRef(function(n,e){return p.createElement(xf,Je({},n,{ref:e,sideCar:x7}))});wf.classNames=xf.classNames;function Tp(n,[e,t]){return Math.min(t,Math.max(e,n))}function $f(n){const e=n+"CollectionProvider",[t,r]=$t(e),[i,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),s=b=>{const{scope:x,children:v}=b,w=xe.useRef(null),C=xe.useRef(new Map).current;return xe.createElement(i,{scope:x,itemMap:C,collectionRef:w},v)},a=n+"CollectionSlot",c=xe.forwardRef((b,x)=>{const{scope:v,children:w}=b,C=o(a,v),k=Se(x,C.collectionRef);return xe.createElement(Sr,{ref:k},w)}),f=n+"CollectionItemSlot",h="data-radix-collection-item",d=xe.forwardRef((b,x)=>{const{scope:v,children:w,...C}=b,k=xe.useRef(null),A=Se(x,k),R=o(f,v);return xe.useEffect(()=>(R.itemMap.set(k,{ref:k,...C}),()=>void R.itemMap.delete(k))),xe.createElement(Sr,{[h]:"",ref:A},w)});function g(b){const x=o(n+"CollectionConsumer",b);return xe.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const C=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((R,T)=>C.indexOf(R.ref.current)-C.indexOf(T.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:s,Slot:c,ItemSlot:d},g,r]}const y7=p.createContext(void 0);function Ao(n){const e=p.useContext(y7);return n||e||"ltr"}function Cf(n){const e=p.useRef({value:n,previous:n});return p.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}function w7(n){const e=`${n}CollectionProvider`,[t,r]=$t(e),[i,o]=t(e,{collectionRef:{current:null},itemMap:new Map,listeners:new Set}),s=b=>{const{scope:x,children:v}=b,w=p.useRef(null),C=p.useRef(new Map).current,k=p.useRef(new Set).current;return $.jsx(i,{scope:x,itemMap:C,collectionRef:w,listeners:k,children:v})};s.displayName=e;const a=`${n}CollectionSlot`,c=p.forwardRef((b,x)=>{const{scope:v,children:w}=b,C=o(a,v),k=Se(x,C.collectionRef);return $.jsx(Sr,{ref:k,children:w})});c.displayName=a;const f=`${n}CollectionItemSlot`,h="data-radix-collection-item",d=p.forwardRef((b,x)=>{const{scope:v,children:w,...C}=b,k=p.useRef(null),A=Se(x,k),R=o(f,v);return p.useEffect(()=>{const T=Array.from(R.itemMap.values());return R.itemMap.set(k,{ref:k,...C}),R.listeners.forEach(D=>D(Array.from(R.itemMap.values()),T)),()=>{const D=Array.from(R.itemMap.values());R.itemMap.delete(k),R.listeners.forEach(M=>M(Array.from(R.itemMap.values()),D))}}),$.jsx(Sr,{[h]:"",ref:A,children:w})});d.displayName=f;function g(b){const x=o(`${n}CollectionConsumer`,b),v=p.useCallback(()=>{const C=x.collectionRef.current;if(!C)return[];const k=Array.from(C.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((T,D)=>k.indexOf(T.ref.current)-k.indexOf(D.ref.current))},[x.collectionRef,x.itemMap]),w=p.useCallback(C=>(x.listeners.add(C),()=>x.listeners.delete(C)),[x.listeners]);return{getItems:v,subscribe:w}}return[{Provider:s,Slot:c,ItemSlot:d},g,r]}const Id=new Map;function $7(n,e){const t=n+(e?Object.entries(e).sort((i,o)=>i[0]<o[0]?-1:1).join():"");if(Id.has(t))return Id.get(t);const r=new Intl.Collator(n,e);return Id.set(t,r),r}function fg(n,e){const t=$7(n,{usage:"search",...e});return{startsWith(r,i){return i.length===0?!0:(r=r.normalize("NFC"),i=i.normalize("NFC"),t.compare(r.slice(0,i.length),i)===0)},endsWith(r,i){return i.length===0?!0:(r=r.normalize("NFC"),i=i.normalize("NFC"),t.compare(r.slice(-i.length),i)===0)},contains(r,i){if(i.length===0)return!0;r=r.normalize("NFC"),i=i.normalize("NFC");let o=0;const s=i.length;for(;o+s<=r.length;o++){const a=r.slice(o,o+s);if(t.compare(i,a)===0)return!0}return!1}}}const C7=n=>{const e=p.useRef();return p.useEffect(()=>{e.current=n}),e.current},S7=[" ","Enter","ArrowUp","ArrowDown"],k7=["Enter"],A7=n=>!!(n.length===1&&n.match(/\S| /)),k2="Combobox",[Cs,hl]=w7(k2),[E7,Rr]=Jm(k2),R7=({children:n})=>$.jsx(df,{children:$.jsx(Cs.Provider,{scope:void 0,children:n})}),T7=n=>typeof n=="string"?n==="none"?{type:n,filter:void 0}:{type:n,filter:"startsWith"}:n,P7=n=>{const{allowCustomValue:e=!1,autocomplete:t="none",children:r,open:i,defaultOpen:o,onOpenChange:s,value:a,defaultValue:c,onValueChange:f,disabled:h,required:d=!1,locale:g="en-EN",onTextValueChange:b,textValue:x,defaultTextValue:v,filterValue:w,defaultFilterValue:C,onFilterValueChange:k,isPrintableCharacter:A=A7,visible:R=!1}=n,[T,D]=p.useState(null),[M,B]=p.useState(null),[N,W]=p.useState(null),[K,j]=p.useState(null),[Q=!1,Z]=qt({prop:i,defaultProp:o,onChange:s}),[ee,ue]=qt({prop:a,defaultProp:c,onChange:f}),[te,oe]=qt({prop:x,defaultProp:e&&!v?a:v,onChange:b}),[q,le]=qt({prop:w,defaultProp:C,onChange:k}),he=mn(),De=p.useCallback((ze,Re)=>{const Ve=Re.map($e=>$e.ref.current),[pe,...Pe]=Ve,[Ee]=Pe.slice(-1),_e=K??Re.find($e=>$e.value===ee)?.ref.current;for(const $e of ze){if($e===_e)return;if($e?.scrollIntoView({block:"nearest"}),$e===pe&&M&&(M.scrollTop=0),$e===Ee&&M&&(M.scrollTop=M.scrollHeight),j($e),t==="both"){const ne=Re.find(ut=>ut.ref.current===$e);ne&&oe(ne.textValue)}if($e!==_e)return}},[t,oe,M,K,ee]),ve=T7(t);return p.useEffect(()=>{t!=="both"&&j(null)},[te,t]),p.useEffect(()=>{if(N&&T)return x2([N,T])},[N,T]),$.jsx(R7,{children:$.jsx(E7,{allowCustomValue:e,autocomplete:ve,required:d,trigger:T,onTriggerChange:D,contentId:he,value:ee,onValueChange:ue,open:Q,onOpenChange:Z,disabled:h,locale:g,focusFirst:De,textValue:te,onTextValueChange:oe,onViewportChange:B,onContentChange:W,visuallyFocussedItem:K,filterValue:q,onFilterValueChange:le,onVisuallyFocussedItemChange:j,isPrintableCharacter:A,visible:R,children:r})})},A2="ComboboxTrigger",E2=p.forwardRef((n,e)=>{const{...t}=n,r=Rr(A2),i=()=>{r.disabled||r.onOpenChange(!0)};return $.jsx(ll,{asChild:!0,children:$.jsx(js,{asChild:!0,trapped:r.open,onMountAutoFocus:o=>{o.preventDefault()},onUnmountAutoFocus:o=>{r.trigger?.focus({preventScroll:!0}),document.getSelection()?.empty(),o.preventDefault()},children:$.jsx("div",{ref:e,"data-disabled":r.disabled?"":void 0,...t,onClick:re(t.onClick,o=>{if(r.disabled){o.preventDefault();return}r.trigger?.focus()}),onPointerDown:re(t.onPointerDown,o=>{if(r.disabled){o.preventDefault();return}const s=o.target;s.hasPointerCapture(o.pointerId)&&s.releasePointerCapture(o.pointerId),(s.closest("button")??s.closest("div"))===o.currentTarget&&o.button===0&&o.ctrlKey===!1&&(i(),r.trigger?.focus())})})})})});E2.displayName=A2;const R2="ComboboxInput",T2=p.forwardRef((n,e)=>{const t=Rr(R2),r=p.useRef(null),{getItems:i}=hl(void 0),{startsWith:o}=fg(t.locale,{sensitivity:"base"}),s=t.disabled,a=Se(r,e,t.onTriggerChange),c=()=>{s||t.onOpenChange(!0)},f=C7(t.filterValue);return pt(()=>{const h=setTimeout(()=>{if(t.textValue===""||t.textValue===void 0||t.filterValue===""||t.filterValue===void 0)return;const d=i().find(b=>b.type==="option"&&o(b.textValue,t.textValue)),g=U7(f??"",t.filterValue);d&&!t.visuallyFocussedItem&&g===t.filterValue.length&&r.current?.setSelectionRange(t.filterValue.length,t.textValue.length)});return()=>clearTimeout(h)},[t.textValue,t.filterValue,o,t.visuallyFocussedItem,i,f]),$.jsx("input",{type:"text",role:"combobox","aria-controls":t.contentId,"aria-expanded":t.open,"aria-required":t.required,"aria-autocomplete":t.autocomplete.type,"data-state":t.open?"open":"closed","aria-disabled":s,"aria-activedescendant":t.visuallyFocussedItem?.id,disabled:s,"data-disabled":s?"":void 0,"data-placeholder":t.textValue===void 0?"":void 0,value:t.textValue??"",...n,ref:a,onKeyDown:re(n.onKeyDown,h=>{if(["ArrowUp","ArrowDown","Home","End"].includes(h.key))t.open||c(),setTimeout(()=>{let g=i().filter(b=>!b.disabled&&b.isVisible).map(b=>b.ref.current);if(["ArrowUp","End"].includes(h.key)&&(g=g.slice().reverse()),["ArrowUp","ArrowDown"].includes(h.key)){const b=t.visuallyFocussedItem??i().find(x=>x.value===t.value)?.ref.current;if(b){let x=g.indexOf(b);x===g.length-1&&(x=-1),g=g.slice(x+1)}}if(["ArrowDown"].includes(h.key)&&t.autocomplete.type==="both"&&g.length>1){const[b,...x]=g,v=i().find(w=>w.ref.current===b).textValue;t.textValue===v&&(g=x)}t.focusFirst(g,i())}),h.preventDefault();else if(["Tab"].includes(h.key)&&t.open)h.preventDefault();else if(["Escape"].includes(h.key))t.open?t.onOpenChange(!1):(t.onValueChange(void 0),t.onTextValueChange("")),h.preventDefault();else if(k7.includes(h.key)){if(t.visuallyFocussedItem){const d=i().find(g=>g.ref.current===t.visuallyFocussedItem);d&&(t.onValueChange(d.value),t.onTextValueChange(d.textValue),t.autocomplete.type==="both"&&t.onFilterValueChange(d.textValue),d.ref.current?.click())}else{const d=i().find(g=>g.type==="option"&&!g.disabled&&g.textValue===t.textValue);d&&(t.onValueChange(d.value),t.onTextValueChange(d.textValue),t.autocomplete.type==="both"&&t.onFilterValueChange(d.textValue),d.ref.current?.click())}t.onOpenChange(!1),h.preventDefault()}else t.onVisuallyFocussedItemChange(null)}),onChange:re(n.onChange,h=>{t.onTextValueChange(h.currentTarget.value),t.autocomplete.type==="both"&&t.onFilterValueChange(h.currentTarget.value)}),onKeyUp:re(n.onKeyUp,h=>{if(!t.open&&(t.isPrintableCharacter(h.key)||["Backspace"].includes(h.key))&&c(),setTimeout(()=>{if(t.autocomplete.type==="both"&&t.isPrintableCharacter(h.key)&&t.filterValue!==void 0){const d=t.filterValue,g=i().find(b=>o(b.textValue,d));g&&t.onTextValueChange(g.textValue)}}),t.autocomplete.type==="none"&&t.isPrintableCharacter(h.key)){const d=t.textValue??"",g=i().find(b=>o(b.textValue,d));g&&(t.onVisuallyFocussedItemChange(g.ref.current),g.ref.current?.scrollIntoView())}}),onBlur:re(n.onBlur,()=>{if(t.open)return;t.onVisuallyFocussedItemChange(null);const[h]=i().filter(g=>g.textValue===t.textValue&&g.type==="option");if(h){t.onValueChange(h.value),t.autocomplete.type==="both"&&t.onFilterValueChange(h.textValue);return}if(t.allowCustomValue){t.onValueChange(t.textValue),t.autocomplete.type==="both"&&t.onFilterValueChange(t.textValue);return}const[d]=i().filter(g=>g.value===t.value&&g.type==="option");d&&t.textValue!==""?(t.onTextValueChange(d.textValue),t.autocomplete.type==="both"&&t.onFilterValueChange(d.textValue)):(t.onValueChange(void 0),t.onTextValueChange(""))})})});T2.displayName="ComboboxTextInput";const P2=p.forwardRef((n,e)=>{const{children:t,...r}=n,i=Rr(R2),o=i.disabled,s=()=>{o||(i.onOpenChange(!0),i.trigger?.focus())};return $.jsx(me.button,{"aria-hidden":!0,type:"button","aria-disabled":o,"aria-controls":i.contentId,"aria-expanded":i.open,disabled:o,"data-disabled":o?"":void 0,...r,tabIndex:-1,ref:e,onClick:re(r.onClick,()=>{i.trigger?.focus()}),onPointerDown:re(r.onPointerDown,a=>{a.button===0&&a.ctrlKey===!1&&(s(),a.preventDefault())}),onKeyDown:re(r.onKeyDown,a=>{S7.includes(a.key)&&(s(),a.preventDefault())}),children:t||"▼"})});P2.displayName="ComboboxIcon";const M7="ComboboxPortal",M2=n=>$.jsx(Ws,{asChild:!0,...n});M2.displayName=M7;const hg="ComboboxContent",O2=p.forwardRef((n,e)=>{const t=Rr(hg),{getItems:r}=hl(void 0),[i,o]=p.useState();if(pt(()=>{o(new DocumentFragment)},[]),pt(()=>{t.open&&t.autocomplete.type==="none"&&setTimeout(()=>{r().find(a=>a.value===t.value)?.ref.current?.scrollIntoView({block:"nearest"})})},[r,t.autocomplete,t.value,t.open]),!t.open){const s=i;return s?ii.createPortal($.jsx(Cs.Slot,{scope:void 0,children:$.jsx("div",{children:n.children})}),s):null}return $.jsx(D2,{...n,ref:e})});O2.displayName=hg;const O7=10,D2=p.forwardRef((n,e)=>{const{onEscapeKeyDown:t,onPointerDownOutside:r,...i}=n,o=Rr(hg),s=Se(e,c=>o.onContentChange(c)),{onOpenChange:a}=o;return Vs(),p.useEffect(()=>{const c=()=>{a(!1)};return window.addEventListener("blur",c),window.addEventListener("resize",c),()=>{window.removeEventListener("blur",c),window.removeEventListener("resize",c)}},[a]),$.jsx(wf,{allowPinchZoom:!0,children:$.jsx(So,{asChild:!0,onEscapeKeyDown:t,onPointerDownOutside:r,onFocusOutside:c=>{c.preventDefault()},onDismiss:()=>{o.onOpenChange(!1),o.trigger?.focus({preventScroll:!0})},children:$.jsx(I2,{role:"listbox",id:o.contentId,"data-state":o.open?"open":"closed",onContextMenu:c=>c.preventDefault(),...i,ref:s,style:{display:"flex",flexDirection:"column",outline:"none",...i.style}})})})});D2.displayName="ComboboxContentImpl";const I2=p.forwardRef((n,e)=>{const{align:t="start",collisionPadding:r=O7,...i}=n;return $.jsx(cl,{...i,ref:e,align:t,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-combobox-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-combobox-content-available-width":"var(--radix-popper-available-width)","--radix-combobox-content-available-height":"var(--radix-popper-available-height)","--radix-combobox-trigger-width":"var(--radix-popper-anchor-width)","--radix-combobox-trigger-height":"var(--radix-popper-anchor-height)"}})});I2.displayName="ComboboxPopperPosition";const _2="ComboboxViewport",L2=p.forwardRef((n,e)=>{const t=Rr(_2),r=Se(e,t.onViewportChange);return $.jsxs($.Fragment,{children:[$.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-combobox-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-combobox-viewport]::-webkit-scrollbar{display:none}"}}),$.jsx(Cs.Slot,{scope:void 0,children:$.jsx(me.div,{"data-radix-combobox-viewport":"",role:"presentation",...n,ref:r,style:{position:"relative",flex:1,overflow:"auto",...n.style}})})]})});L2.displayName=_2;const Sf="ComboboxItem",[jv,dg]=Jm(Sf),pg=p.forwardRef((n,e)=>{const{value:t,disabled:r=!1,textValue:i,...o}=n,[s,a]=p.useState();pt(()=>{a(new DocumentFragment)},[]);const{onTextValueChange:c,textValue:f,...h}=Rr(Sf),d=mn(),[g,b]=p.useState(i??""),x=h.value===t,{startsWith:v,contains:w}=fg(h.locale,{sensitivity:"base"}),C=p.useCallback(k=>{b(A=>A||(k?.textContent??"").trim())},[]);return p.useEffect(()=>{x&&f===void 0&&g!==""&&c(g)},[g,x,f,c]),h.autocomplete.type==="both"&&g&&h.filterValue&&!v(g,h.filterValue)||h.autocomplete.type==="list"&&h.autocomplete.filter==="startsWith"&&g&&f&&!v(g,f)||h.autocomplete.type==="list"&&h.autocomplete.filter==="contains"&&g&&f&&!w(g,f)?s?ii.createPortal($.jsx(jv,{textId:d,onTextValueChange:C,isSelected:x,textValue:g,children:$.jsx(Cs.ItemSlot,{scope:void 0,value:t,textValue:g,disabled:r,type:"option",isVisible:!1,children:$.jsx(Pp,{ref:e,value:t,disabled:r,...o})})}),s):null:$.jsx(jv,{textId:d,onTextValueChange:C,isSelected:x,textValue:g,children:$.jsx(Cs.ItemSlot,{scope:void 0,value:t,textValue:g,disabled:r,type:"option",isVisible:!0,children:$.jsx(Pp,{ref:e,value:t,disabled:r,...o})})})});pg.displayName=Sf;const N2="ComboboxItemImpl",Pp=p.forwardRef((n,e)=>{const{value:t,disabled:r=!1,...i}=n,o=p.useRef(null),s=Se(e,o),{getItems:a}=hl(void 0),{onTextValueChange:c,visuallyFocussedItem:f,...h}=Rr(Sf),{isSelected:d,textValue:g,textId:b}=dg(N2),x=()=>{r||(h.onValueChange(t),c(g),h.onOpenChange(!1),h.autocomplete.type==="both"&&h.onFilterValueChange(g),h.trigger?.focus({preventScroll:!0}))},v=p.useMemo(()=>f===a().find(C=>C.ref.current===o.current)?.ref.current,[a,f]),w=mn();return $.jsx(me.div,{role:"option","aria-labelledby":b,"data-highlighted":v?"":void 0,"aria-selected":d&&v,"data-state":d?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...i,id:w,ref:s,onPointerUp:re(i.onPointerUp,x)})});Pp.displayName=N2;const B2="ComboboxItemText",F2=p.forwardRef((n,e)=>{const{className:t,style:r,...i}=n,o=dg(B2),s=Se(e,o.onTextValueChange);return $.jsx(me.span,{id:o.textId,...i,ref:s})});F2.displayName=B2;const W2="ComboboxItemIndicator",V2=p.forwardRef((n,e)=>{const{isSelected:t}=dg(W2);return t?$.jsx(me.span,{"aria-hidden":!0,...n,ref:e}):null});V2.displayName=W2;const mg="ComboboxNoValueFound",j2=p.forwardRef((n,e)=>{const{textValue:t="",filterValue:r="",visible:i=!1,locale:o,autocomplete:s}=Rr(mg),[a,c]=p.useState([]),{subscribe:f}=hl(void 0),{startsWith:h,contains:d}=fg(o,{sensitivity:"base"});return p.useEffect(()=>{const g=f(b=>{if(i){const x=b.filter(v=>v.type!=="create");c(x)}else c(b)});return()=>{g()}},[i,f]),s.type==="none"&&a.length>0||s.type==="list"&&s.filter==="startsWith"&&a.some(g=>h(g.textValue,t))||s.type==="both"&&a.some(g=>h(g.textValue,r))||s.type==="list"&&s.filter==="contains"&&a.some(g=>d(g.textValue,t))?null:$.jsx(me.div,{...n,ref:e})});j2.displayName=mg;const H2=p.forwardRef((n,e)=>{const{disabled:t=!1,...r}=n,i=Rr(mg),{textValue:o,visuallyFocussedItem:s}=i,{getItems:a,subscribe:c}=hl(void 0),f=p.useRef(null),[h,d]=p.useState(!1),g=Se(e,f),b=p.useMemo(()=>s===a().find(w=>w.ref.current===f.current)?.ref.current,[a,s]),x=mn(),v=()=>{!t&&o&&(i.onValueChange(o),i.onTextValueChange(o),i.onOpenChange(!1),i.autocomplete.type==="both"&&i.onFilterValueChange(o),i.trigger?.focus({preventScroll:!0}))};return pt(()=>{const w=c(C=>{d(!C.some(k=>k.textValue===o&&k.type!=="create"))});return a().length===0&&d(!0),()=>{w()}},[o,c,a]),(!o||!h)&&!i.visible?null:$.jsx(Cs.ItemSlot,{scope:void 0,value:o??"",textValue:o??"",disabled:t,isVisible:!0,type:"create",children:$.jsx(me.div,{role:"option",tabIndex:t?void 0:-1,"aria-disabled":t||void 0,"data-disabled":t?"":void 0,"data-highlighted":b?"":void 0,...r,id:x,ref:g,onPointerUp:re(r.onPointerUp,v)})})});H2.displayName="ComboboxCreateItem";const D7=P7,I7=E2,_7=T2,L7=P2,N7=M2,B7=O2,F7=L2,W7=pg,V7=F2,j7=V2,H7=j2,z7=H2;function U7(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)if(n[r]!==e[r])return r;return t}const Zn=Object.freeze(Object.defineProperty({__proto__:null,ComboboxItem:pg,Content:B7,CreateItem:z7,Icon:L7,Item:W7,ItemIndicator:j7,ItemText:V7,NoValueFound:H7,Portal:N7,Root:D7,TextInput:_7,Trigger:I7,Viewport:F7},Symbol.toStringTag,{value:"Module"}));function gg(n){const e=p.useRef(n);return p.useEffect(()=>{e.current=n}),p.useMemo(()=>(...t)=>e.current?.(...t),[])}const K7=[" ","Enter","ArrowUp","ArrowDown"],G7=[" ","Enter"],dl="Select",[kf,pl,q7]=$f(dl),[Hs,Y7]=$t(dl,[q7,Li]),Af=Li(),[X7,oi]=Hs(dl),[Z7,Q7]=Hs(dl),bg=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:c,dir:f,disabled:h,required:d,multi:g=!1}=n,b=Af(e),[x,v]=p.useState(null),[w,C]=p.useState(null),[k,A]=p.useState(!1),R=Ao(f),[T=!1,D]=qt({prop:r,defaultProp:i,onChange:o}),[M,B]=qt({prop:s,defaultProp:a,onChange(j){c&&(Array.isArray(j),c(j))}}),N=p.useRef(null),[W,K]=p.useState(new Set);return $.jsx(df,{...b,children:$.jsx(X7,{required:d,scope:e,trigger:x,onTriggerChange:v,valueNode:w,onValueNodeChange:C,valueNodeHasChildren:k,onValueNodeHasChildrenChange:A,contentId:mn(),value:M,onValueChange:B,open:T,onOpenChange:D,dir:R,triggerPointerDownPosRef:N,disabled:h,multi:g,children:$.jsx(kf.Provider,{scope:e,children:$.jsx(Z7,{scope:n.__scopeSelect,onNativeOptionAdd:p.useCallback(j=>{K(Q=>new Set(Q).add(j))},[]),onNativeOptionRemove:p.useCallback(j=>{K(Q=>{const Z=new Set(Q);return Z.delete(j),Z})},[]),children:t})})})})};bg.displayName=dl;const z2="SelectTrigger",vg=p.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Af(t),o=oi(z2,t),s=o.disabled,a=Se(e,o.onTriggerChange),c=pl(t),[f,h,d]=J2(b=>{const x=c().filter(C=>!C.disabled),v=x.find(C=>C.value===o.value),w=e$(x,b,v);if(w!==void 0&&!Array.isArray(w.value)){const C=o.multi?[w.value]:w.value;o.onValueChange(C)}}),g=()=>{s||(o.onOpenChange(!0),d())};return $.jsx(ll,{asChild:!0,...i,children:$.jsx(me.div,{role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,"data-placeholder":o.value===void 0?"":void 0,tabIndex:s?void 0:0,...r,ref:a,onClick:re(r.onClick,b=>{b.currentTarget.focus()}),onPointerDown:re(r.onPointerDown,b=>{const x=b.target;x.hasPointerCapture(b.pointerId)&&x.releasePointerCapture(b.pointerId),(x.closest("button")??x.closest("div"))===b.currentTarget&&b.button===0&&b.ctrlKey===!1&&(g(),o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)},b.preventDefault())}),onKeyDown:re(r.onKeyDown,b=>{const x=f.current!=="",v=b.ctrlKey||b.altKey||b.metaKey,w=b.target;(w.closest("button")??w.closest("div"))===b.currentTarget&&(!v&&b.key.length===1&&h(b.key),!(x&&b.key===" ")&&K7.includes(b.key)&&(g(),b.preventDefault()))})})})});vg.displayName=z2;const U2="SelectValue",xg=p.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,placeholder:i,...o}=n,s=oi(U2,t),{onValueNodeHasChildrenChange:a}=s,c=r!==void 0,f=Se(e,s.onValueNodeChange),[h,d]=p.useState([]),g=pl(t);pt(()=>{a(c)},[a,c]),p.useLayoutEffect(()=>{if(Array.isArray(s.value)&&h.length!==s.value.length){const x=setTimeout(()=>{const v=g().filter(w=>Array.isArray(w.value)?!1:s.value?.includes(w.value));d(v)});return()=>{clearTimeout(x)}}},[s.value,g,h]);let b;if((s.value===void 0||s.value.length===0)&&i!==void 0)b=$.jsx("span",{children:i});else if(typeof r=="function")if(Array.isArray(s.value)){const x=s.value.map(v=>{const w=h.find(C=>C.value===v);return w?r({value:v,textValue:w?.textValue}):null});b=x.every(v=>v===null)?i:x}else b=r(s.value);else b=r;return $.jsx(me.span,{...o,ref:f,children:b||null})});xg.displayName=U2;const J7="SelectIcon",yg=p.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return $.jsx(me.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});yg.displayName=J7;const eI="SelectPortal",wg=n=>$.jsx(Ws,{asChild:!0,...n});wg.displayName=eI;const vo="SelectContent",$g=p.forwardRef((n,e)=>{const t=oi(vo,n.__scopeSelect),[r,i]=p.useState();if(pt(()=>{i(new DocumentFragment)},[]),!t.open){const o=r;return o?ii.createPortal($.jsx(K2,{scope:n.__scopeSelect,children:$.jsx(kf.Slot,{scope:n.__scopeSelect,children:$.jsx("div",{children:n.children})})}),o):null}return $.jsx(G2,{...n,ref:e})});$g.displayName=vo;const Hr=10,[K2,Ni]=Hs(vo),tI="SelectContentImpl",G2=p.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:c,align:f,alignOffset:h,arrowPadding:d,collisionBoundary:g,collisionPadding:b,sticky:x,hideWhenDetached:v,avoidCollisions:w,...C}=n,k=oi(vo,t),[A,R]=p.useState(null),[T,D]=p.useState(null),M=Se(e,pe=>R(pe)),[B,N]=p.useState(null),[W,K]=p.useState(null),j=pl(t),[Q,Z]=p.useState(!1),ee=p.useRef(!1);p.useEffect(()=>{if(A)return x2(A)},[A]),Vs();const ue=p.useCallback(pe=>{const[Pe,...Ee]=j().map(ne=>ne.ref.current),[_e]=Ee.slice(-1),$e=document.activeElement;for(const ne of pe)if(ne===$e||(ne?.scrollIntoView({block:"nearest"}),ne===Pe&&T&&(T.scrollTop=0),ne===_e&&T&&(T.scrollTop=T.scrollHeight),ne?.focus(),document.activeElement!==$e))return},[j,T]),te=p.useCallback(()=>ue([B,A]),[ue,B,A]);p.useEffect(()=>{Q&&te()},[Q,te]);const{onOpenChange:oe,triggerPointerDownPosRef:q}=k;p.useEffect(()=>{if(A){let pe={x:0,y:0};const Pe=_e=>{pe={x:Math.abs(Math.round(_e.pageX)-(q.current?.x??0)),y:Math.abs(Math.round(_e.pageY)-(q.current?.y??0))}},Ee=_e=>{pe.x<=10&&pe.y<=10?_e.preventDefault():A.contains(_e.target)||oe(!1),document.removeEventListener("pointermove",Pe),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[A,oe,q]),p.useEffect(()=>{const pe=()=>oe(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[oe]);const[le,he]=J2(pe=>{const Pe=j().filter($e=>!$e.disabled),Ee=Pe.find($e=>$e.ref.current===document.activeElement),_e=e$(Pe,pe,Ee);_e&&setTimeout(()=>_e.ref.current.focus())}),De=p.useCallback((pe,Pe,Ee)=>{const _e=!ee.current&&!Ee;(k.value!==void 0&&k.value===Pe||_e)&&(N(pe),_e&&(ee.current=!0))},[k.value]),ve=p.useCallback(()=>A?.focus(),[A]),ze=p.useCallback((pe,Pe,Ee)=>{const _e=!ee.current&&!Ee;(k.value!==void 0&&(Array.isArray(Pe)?Pe.every(ne=>k.value?.includes(ne)):k.value===Pe)||_e)&&K(pe)},[k.value]),Re=r==="popper"?Mp:q2,Ve=Re===Mp?{side:a,sideOffset:c,align:f,alignOffset:h,arrowPadding:d,collisionBoundary:g,collisionPadding:b,sticky:x,hideWhenDetached:v,avoidCollisions:w}:{};return $.jsx(K2,{scope:t,content:A,viewport:T,onViewportChange:D,itemRefCallback:De,selectedItem:B,onItemLeave:ve,itemTextRefCallback:ze,focusSelectedItem:te,selectedItemText:W,position:r,isPositioned:Q,searchRef:le,children:$.jsx(wf,{as:Sr,allowPinchZoom:!0,children:$.jsx(js,{asChild:!0,trapped:k.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:re(i,pe=>{k.trigger?.focus({preventScroll:!0}),document.getSelection()?.empty(),pe.preventDefault()}),children:$.jsx(So,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:$.jsx(Re,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed","aria-multiselectable":k.multi?"true":void 0,dir:k.dir,onContextMenu:pe=>pe.preventDefault(),...C,...Ve,onPlaced:()=>Z(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:re(C.onKeyDown,pe=>{const Pe=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Pe&&pe.key.length===1&&he(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let _e=j().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const $e=pe.target,ne=_e.indexOf($e);_e=_e.slice(ne+1)}setTimeout(()=>ue(_e)),pe.preventDefault()}})})})})})})});G2.displayName=tI;const nI="SelectItemAlignedPosition",q2=p.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,o=oi(vo,t),s=Ni(vo,t),[a,c]=p.useState(null),[f,h]=p.useState(null),d=Se(e,M=>h(M)),g=pl(t),b=p.useRef(!1),x=p.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:C,focusSelectedItem:k}=s,A=p.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&f&&v&&w&&C){const M=o.trigger.getBoundingClientRect(),B=f.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),W=C.getBoundingClientRect();if(o.dir!=="rtl"){const $e=W.left-B.left,ne=N.left-$e,ut=M.left-ne,qe=M.width+ut,Fe=Math.max(qe,B.width),Zt=window.innerWidth-Hr,gt=Tp(ne,[Hr,Zt-Fe]);a.style.minWidth=`${qe}px`,a.style.left=`${gt}px`}else{const $e=B.right-W.right,ne=window.innerWidth-N.right-$e,ut=window.innerWidth-M.right-ne,qe=M.width+ut,Fe=Math.max(qe,B.width),Zt=window.innerWidth-Hr,gt=Tp(ne,[Hr,Zt-Fe]);a.style.minWidth=`${qe}px`,a.style.right=`${gt}px`}const K=g(),j=window.innerHeight-Hr*2,Q=v.scrollHeight,Z=window.getComputedStyle(f),ee=parseInt(Z.borderTopWidth,10),ue=parseInt(Z.paddingTop,10),te=parseInt(Z.borderBottomWidth,10),oe=parseInt(Z.paddingBottom,10),q=ee+ue+Q+oe+te,le=Math.min(w.offsetHeight*5,q),he=window.getComputedStyle(v),De=parseInt(he.paddingTop,10),ve=parseInt(he.paddingBottom,10),ze=M.top+M.height/2-Hr,Re=j-ze,Ve=w.offsetHeight/2,pe=w.offsetTop+Ve,Pe=ee+ue+pe,Ee=q-Pe;if(Pe<=ze){const $e=w===K[K.length-1].ref.current;a.style.bottom="0px";const ne=f.clientHeight-v.offsetTop-v.offsetHeight,ut=Math.max(Re,Ve+($e?ve:0)+ne+te),qe=Pe+ut;a.style.height=`${qe}px`}else{const $e=w===K[0].ref.current;a.style.top="0px";const ut=Math.max(ze,ee+v.offsetTop+($e?De:0)+Ve)+Ee;a.style.height=`${ut}px`,v.scrollTop=Pe-ze+v.offsetTop}a.style.margin=`${Hr}px 0`,a.style.minHeight=`${le}px`,a.style.maxHeight=`${j}px`,r?.(),requestAnimationFrame(()=>b.current=!0)}},[g,o.trigger,o.valueNode,a,f,v,w,C,o.dir,r]);pt(()=>A(),[A]);const[R,T]=p.useState();pt(()=>{f&&T(window.getComputedStyle(f).zIndex)},[f]);const D=p.useCallback(M=>{M&&x.current===!0&&(A(),k?.(),x.current=!1)},[A,k]);return $.jsx(iI,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:b,onScrollButtonChange:D,children:$.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:$.jsx(me.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});q2.displayName=nI;const rI="SelectPopperPosition",Mp=p.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=Hr,...o}=n,s=Af(t);return $.jsx(cl,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mp.displayName=rI;const[iI,Cg]=Hs(vo,{}),Op="SelectViewport",Sg=p.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Ni(Op,t),o=Cg(Op,t),s=Se(e,i.onViewportChange),a=p.useRef(0);return $.jsxs($.Fragment,{children:[$.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),$.jsx(kf.Slot,{scope:t,children:$.jsx(me.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:re(r.onScroll,c=>{const f=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:d}=o;if(d?.current&&h){const g=Math.abs(a.current-f.scrollTop);if(g>0){const b=window.innerHeight-Hr*2,x=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),w=Math.max(x,v);if(w<b){const C=w+g,k=Math.min(b,C),A=C-k;h.style.height=`${k}px`,h.style.bottom==="0px"&&(f.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}a.current=f.scrollTop})})})]})});Sg.displayName=Op;const Y2="SelectGroup",[oI,sI]=Hs(Y2),kg=p.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=mn();return $.jsx(oI,{scope:t,id:i,children:$.jsx(me.div,{role:"group","aria-labelledby":i,...r,ref:e})})});kg.displayName=Y2;const X2="SelectLabel",Ag=p.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=sI(X2,t);return $.jsx(me.div,{id:i.id,...r,ref:e})});Ag.displayName=X2;const Au="SelectItem",[aI,Z2]=Hs(Au),Eg=p.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:o,...s}=n,a=oi(Au,t),c=Ni(Au,t),f=typeof r=="string"?Array.isArray(a.value)?a.value.includes(r):a.value===r:r.every(k=>a.value?.includes(k)),h=Array.isArray(a.value)&&Array.isArray(r)&&r.some(k=>a.value?.includes(k)),[d,g]=p.useState(o??""),[b,x]=p.useState(!1),v=Se(e,k=>c.itemRefCallback?.(k,r,i)),w=mn(),C=()=>{if(!i){let k=a.multi&&typeof r=="string"?[r]:r;h&&!f?a.onValueChange(k):Array.isArray(a.value)&&(k=t$(r,a.value)),a.onValueChange(k),a.multi||a.onOpenChange(!1)}};if(!a.multi&&Array.isArray(r))throw new Error("You can only pass an array of values in multi selects");return $.jsx(aI,{scope:t,value:r,disabled:i,textId:w,isSelected:f,isIntermediate:h,onItemTextChange:p.useCallback(k=>{g(A=>A||(k?.textContent??"").trim())},[]),children:$.jsx(kf.ItemSlot,{scope:t,value:r,disabled:i,textValue:d,children:$.jsx(me.div,{role:"option","aria-labelledby":w,"data-highlighted":b?"":void 0,"aria-selected":a.multi?void 0:f&&b,"aria-checked":a.multi?f:void 0,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:v,onFocus:re(s.onFocus,()=>x(!0)),onBlur:re(s.onBlur,()=>x(!1)),onPointerUp:re(s.onPointerUp,C),onPointerMove:re(s.onPointerMove,k=>{i?c.onItemLeave?.():k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:re(s.onPointerLeave,k=>{k.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:re(s.onKeyDown,k=>{c.searchRef?.current!==""&&k.key===" "||(G7.includes(k.key)&&C(),k.key===" "&&k.preventDefault())})})})})});Eg.displayName=Au;const Sa="SelectItemText",Rg=p.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...o}=n,s=oi(Sa,t),a=Ni(Sa,t),c=Z2(Sa,t),f=Q7(Sa,t),[h,d]=p.useState(null),g=Se(e,C=>d(C),c.onItemTextChange,C=>a.itemTextRefCallback?.(C,c.value,c.disabled)),b=h?.textContent,x=p.useMemo(()=>$.jsx("option",{value:c.value,disabled:c.disabled,children:b},Array.isArray(c.value)?c.value.join(";"):c.value),[c.disabled,c.value,b]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=f;return pt(()=>(v(x),()=>w(x)),[v,w,x]),$.jsxs($.Fragment,{children:[$.jsx(me.span,{id:c.textId,...o,ref:g}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?ii.createPortal(o.children,s.valueNode):null]})});Rg.displayName=Sa;const Q2="SelectItemIndicator",Tg=p.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n,o=Z2(Q2,t);return typeof r=="function"?$.jsx(me.span,{"aria-hidden":!0,...i,ref:e,children:r({isSelected:o.isSelected,isIntermediate:o.isIntermediate})}):o.isSelected?$.jsx(me.span,{"aria-hidden":!0,...i,ref:e,children:r}):null});Tg.displayName=Q2;const Dp="SelectScrollUpButton",Pg=p.forwardRef((n,e)=>{const t=Ni(Dp,n.__scopeSelect),r=Cg(Dp,n.__scopeSelect),[i,o]=p.useState(!1),s=Se(e,r.onScrollButtonChange);return pt(()=>{if(t.viewport&&t.isPositioned){const a=t.viewport,c=()=>{const f=a.scrollTop>0;o(f)};return c(),a.addEventListener("scroll",c),()=>a.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?$.jsx(Og,{...n,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=t;a&&c&&(a.scrollTop-=c.offsetHeight)}}):null});Pg.displayName=Dp;const Ip="SelectScrollDownButton",Mg=p.forwardRef((n,e)=>{const t=Ni(Ip,n.__scopeSelect),r=Cg(Ip,n.__scopeSelect),[i,o]=p.useState(!1),s=Se(e,r.onScrollButtonChange);return pt(()=>{if(t.viewport&&t.isPositioned){const a=t.viewport,c=()=>{const f=a.scrollHeight-a.clientHeight,h=Math.ceil(a.scrollTop)<f;o(h)};return c(),a.addEventListener("scroll",c),()=>a.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?$.jsx(Og,{...n,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=t;a&&c&&(a.scrollTop+=c.offsetHeight)}}):null});Mg.displayName=Ip;const Og=p.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,o=Ni("SelectScrollButton",t),s=p.useRef(null),a=pl(t),c=p.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),pt(()=>{a().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),$.jsx(me.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerMove:re(i.onPointerMove,()=>{o.onItemLeave?.(),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:re(i.onPointerLeave,()=>{c()})})});Og.displayName="SelectScrollButtonImpl";const lI="SelectSeparator",Dg=p.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return $.jsx(me.div,{"aria-hidden":!0,...r,ref:e})});Dg.displayName=lI;const _p="SelectArrow",Ig=p.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Af(t),o=oi(_p,t),s=Ni(_p,t);return o.open&&s.position==="popper"?$.jsx(d4,{...i,...r,ref:e}):null});Ig.displayName=_p;const cI="BubbleSelect",uI=p.forwardRef((n,e)=>{const{value:t,...r}=n,i=p.useRef(null),o=Se(e,i),s=Cf(t),a=oi(cI,void 0);p.useEffect(()=>{const f=i.current,h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(s!==t&&g){const b=new Event("change",{bubbles:!0});g.call(f,t),f.dispatchEvent(b)}},[s,t]);let c=t;return a.multi&&!Array.isArray(t)&&(c=[]),$.jsx(u2,{asChild:!0,children:$.jsx("select",{...r,multiple:a.multi?!0:void 0,ref:o,defaultValue:c})})});uI.displayName="BubbleSelect";function J2(n){const e=gg(n),t=p.useRef(""),r=p.useRef(0),i=p.useCallback(s=>{const a=t.current+s;e(a),function c(f){t.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),o=p.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,o]}function e$(n,e,t){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let s=fI(n,Math.max(o,0));i.length===1&&(s=s.filter(f=>f!==t));const c=s.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==t?c:void 0}function fI(n,e){return n.map((t,r)=>n[(e+r)%n.length])}const t$=(n,e=[])=>{if(Array.isArray(n))return n.reduce((r,i)=>t$(i,r),e);const t=e.indexOf(n);return t===-1?[...e,n]:[...e.slice(0,t),...e.slice(t+1)]},hI=bg,dI=vg,pI=xg,mI=yg,gI=wg,bI=$g,vI=Sg,xI=kg,yI=Ag,wI=Eg,$I=Rg,CI=Tg,SI=Pg,kI=Mg,AI=Dg,EI=Ig,ir=Object.freeze(Object.defineProperty({__proto__:null,Arrow:EI,Content:bI,Group:xI,Icon:mI,Item:wI,ItemIndicator:CI,ItemText:$I,Label:yI,Portal:gI,Root:hI,ScrollDownButton:kI,ScrollUpButton:SI,Select:bg,SelectArrow:Ig,SelectContent:$g,SelectGroup:kg,SelectIcon:yg,SelectItem:Eg,SelectItemIndicator:Tg,SelectItemText:Rg,SelectLabel:Ag,SelectPortal:wg,SelectScrollDownButton:Mg,SelectScrollUpButton:Pg,SelectSeparator:Dg,SelectTrigger:vg,SelectValue:xg,SelectViewport:Sg,Separator:AI,Trigger:dI,Value:pI,Viewport:vI,createSelectScope:Y7},Symbol.toStringTag,{value:"Module"}));function co(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n?.(i),t===!1||!i.defaultPrevented)return e?.(i)}}const n$="Collapsible",[RI,r$]=$t(n$),[TI,_g]=RI(n$),PI=p.forwardRef((n,e)=>{const{__scopeCollapsible:t,open:r,defaultOpen:i,disabled:o,onOpenChange:s,...a}=n,[c=!1,f]=qt({prop:r,defaultProp:i,onChange:s});return p.createElement(TI,{scope:t,disabled:o,contentId:mn(),open:c,onOpenToggle:p.useCallback(()=>f(h=>!h),[f])},p.createElement(me.div,z({"data-state":Lg(c),"data-disabled":o?"":void 0},a,{ref:e})))}),MI="CollapsibleTrigger",OI=p.forwardRef((n,e)=>{const{__scopeCollapsible:t,...r}=n,i=_g(MI,t);return p.createElement(me.button,z({type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Lg(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled},r,{ref:e,onClick:re(n.onClick,i.onOpenToggle)}))}),i$="CollapsibleContent",DI=p.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=_g(i$,n.__scopeCollapsible);return p.createElement(Pt,{present:t||i.open},({present:o})=>p.createElement(II,z({},r,{ref:e,present:o})))}),II=p.forwardRef((n,e)=>{const{__scopeCollapsible:t,present:r,children:i,...o}=n,s=_g(i$,t),[a,c]=p.useState(r),f=p.useRef(null),h=Se(e,f),d=p.useRef(0),g=d.current,b=p.useRef(0),x=b.current,v=s.open||a,w=p.useRef(v),C=p.useRef();return p.useEffect(()=>{const k=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(k)},[]),pt(()=>{const k=f.current;if(k){C.current=C.current||{transitionDuration:k.style.transitionDuration,animationName:k.style.animationName},k.style.transitionDuration="0s",k.style.animationName="none";const A=k.getBoundingClientRect();d.current=A.height,b.current=A.width,w.current||(k.style.transitionDuration=C.current.transitionDuration,k.style.animationName=C.current.animationName),c(r)}},[s.open,r]),p.createElement(me.div,z({"data-state":Lg(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!v},o,{ref:h,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...n.style}}),v&&i)});function Lg(n){return n?"open":"closed"}const _I=PI,LI=OI,NI=DI,Bi="Accordion",BI=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Ng,FI,WI]=$f(Bi),[Ef,$Y]=$t(Bi,[WI,r$]),Bg=r$(),o$=xe.forwardRef((n,e)=>{const{type:t,...r}=n,i=r,o=r;return xe.createElement(Ng.Provider,{scope:n.__scopeAccordion},t==="multiple"?xe.createElement(zI,z({},o,{ref:e})):xe.createElement(HI,z({},i,{ref:e})))});o$.propTypes={type(n){const e=n.value||n.defaultValue;return n.type&&!["single","multiple"].includes(n.type)?new Error("Invalid prop `type` supplied to `Accordion`. Expected one of `single | multiple`."):n.type==="multiple"&&typeof e=="string"?new Error("Invalid prop `type` supplied to `Accordion`. Expected `single` when `defaultValue` or `value` is type `string`."):n.type==="single"&&Array.isArray(e)?new Error("Invalid prop `type` supplied to `Accordion`. Expected `multiple` when `defaultValue` or `value` is type `string[]`."):null}};const[s$,VI]=Ef(Bi),[a$,jI]=Ef(Bi,{collapsible:!1}),HI=xe.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:i=()=>{},collapsible:o=!1,...s}=n,[a,c]=qt({prop:t,defaultProp:r,onChange:i});return xe.createElement(s$,{scope:n.__scopeAccordion,value:a?[a]:[],onItemOpen:c,onItemClose:xe.useCallback(()=>o&&c(""),[o,c])},xe.createElement(a$,{scope:n.__scopeAccordion,collapsible:o},xe.createElement(l$,z({},s,{ref:e}))))}),zI=xe.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:i=()=>{},...o}=n,[s=[],a]=qt({prop:t,defaultProp:r,onChange:i}),c=xe.useCallback(h=>a((d=[])=>[...d,h]),[a]),f=xe.useCallback(h=>a((d=[])=>d.filter(g=>g!==h)),[a]);return xe.createElement(s$,{scope:n.__scopeAccordion,value:s,onItemOpen:c,onItemClose:f},xe.createElement(a$,{scope:n.__scopeAccordion,collapsible:!0},xe.createElement(l$,z({},o,{ref:e}))))}),[UI,Rf]=Ef(Bi),l$=xe.forwardRef((n,e)=>{const{__scopeAccordion:t,disabled:r,dir:i,orientation:o="vertical",...s}=n,a=xe.useRef(null),c=Se(a,e),f=FI(t),d=Ao(i)==="ltr",g=re(n.onKeyDown,b=>{var x;if(!BI.includes(b.key))return;const v=b.target,w=f().filter(N=>{var W;return!((W=N.ref.current)!==null&&W!==void 0&&W.disabled)}),C=w.findIndex(N=>N.ref.current===v),k=w.length;if(C===-1)return;b.preventDefault();let A=C;const R=0,T=k-1,D=()=>{A=C+1,A>T&&(A=R)},M=()=>{A=C-1,A<R&&(A=T)};switch(b.key){case"Home":A=R;break;case"End":A=T;break;case"ArrowRight":o==="horizontal"&&(d?D():M());break;case"ArrowDown":o==="vertical"&&D();break;case"ArrowLeft":o==="horizontal"&&(d?M():D());break;case"ArrowUp":o==="vertical"&&M();break}const B=A%k;(x=w[B].ref.current)===null||x===void 0||x.focus()});return xe.createElement(UI,{scope:t,disabled:r,direction:i,orientation:o},xe.createElement(Ng.Slot,{scope:t},xe.createElement(me.div,z({},s,{"data-orientation":o,ref:c,onKeyDown:r?void 0:g}))))}),Lp="AccordionItem",[KI,Fg]=Ef(Lp),GI=xe.forwardRef((n,e)=>{const{__scopeAccordion:t,value:r,...i}=n,o=Rf(Lp,t),s=VI(Lp,t),a=Bg(t),c=mn(),f=r&&s.value.includes(r)||!1,h=o.disabled||n.disabled;return xe.createElement(KI,{scope:t,open:f,disabled:h,triggerId:c},xe.createElement(_I,z({"data-orientation":o.orientation,"data-state":c$(f)},a,i,{ref:e,disabled:h,open:f,onOpenChange:d=>{d?s.onItemOpen(r):s.onItemClose(r)}})))}),qI="AccordionHeader",YI=xe.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,i=Rf(Bi,t),o=Fg(qI,t);return xe.createElement(me.h3,z({"data-orientation":i.orientation,"data-state":c$(o.open),"data-disabled":o.disabled?"":void 0},r,{ref:e}))}),Hv="AccordionTrigger",XI=xe.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,i=Rf(Bi,t),o=Fg(Hv,t),s=jI(Hv,t),a=Bg(t);return xe.createElement(Ng.ItemSlot,{scope:t},xe.createElement(LI,z({"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId},a,r,{ref:e})))}),ZI="AccordionContent",QI=xe.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,i=Rf(Bi,t),o=Fg(ZI,t),s=Bg(t);return xe.createElement(NI,z({role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation},s,r,{ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...n.style}}))});function c$(n){return n?"open":"closed"}const JI=o$,e8=GI,t8=YI,n8=XI,r8=QI,u$="Avatar",[i8,CY]=$t(u$),[o8,f$]=i8(u$),s8=p.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[i,o]=p.useState("idle");return p.createElement(o8,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:o},p.createElement(me.span,z({},r,{ref:e})))}),a8="AvatarImage",l8=p.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:i=()=>{},...o}=n,s=f$(a8,t),a=f8(r),c=St(f=>{i(f),s.onImageLoadingStatusChange(f)});return pt(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?p.createElement(me.img,z({},o,{ref:e,src:r})):null}),c8="AvatarFallback",u8=p.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...i}=n,o=f$(c8,t),[s,a]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(c)}},[r]),s&&o.imageLoadingStatus!=="loaded"?p.createElement(me.span,z({},i,{ref:e})):null});function f8(n){const[e,t]=p.useState("idle");return pt(()=>{if(!n){t("error");return}let r=!0;const i=new window.Image,o=s=>()=>{r&&t(s)};return t("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=n,()=>{r=!1}},[n]),e}const h8=s8,d8=l8,p8=u8,_d="rovingFocusGroup.onEntryFocus",m8={bubbles:!1,cancelable:!0},Wg="RovingFocusGroup",[Np,h$,g8]=$f(Wg),[b8,zs]=$t(Wg,[g8]),[v8,x8]=b8(Wg),y8=p.forwardRef((n,e)=>p.createElement(Np.Provider,{scope:n.__scopeRovingFocusGroup},p.createElement(Np.Slot,{scope:n.__scopeRovingFocusGroup},p.createElement(w8,z({},n,{ref:e}))))),w8=p.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:f,...h}=n,d=p.useRef(null),g=Se(e,d),b=Ao(o),[x=null,v]=qt({prop:s,defaultProp:a,onChange:c}),[w,C]=p.useState(!1),k=St(f),A=h$(t),R=p.useRef(!1),[T,D]=p.useState(0);return p.useEffect(()=>{const M=d.current;if(M)return M.addEventListener(_d,k),()=>M.removeEventListener(_d,k)},[k]),p.createElement(v8,{scope:t,orientation:r,dir:b,loop:i,currentTabStopId:x,onItemFocus:p.useCallback(M=>v(M),[v]),onItemShiftTab:p.useCallback(()=>C(!0),[]),onFocusableItemAdd:p.useCallback(()=>D(M=>M+1),[]),onFocusableItemRemove:p.useCallback(()=>D(M=>M-1),[])},p.createElement(me.div,z({tabIndex:w||T===0?-1:0,"data-orientation":r},h,{ref:g,style:{outline:"none",...n.style},onMouseDown:re(n.onMouseDown,()=>{R.current=!0}),onFocus:re(n.onFocus,M=>{const B=!R.current;if(M.target===M.currentTarget&&B&&!w){const N=new CustomEvent(_d,m8);if(M.currentTarget.dispatchEvent(N),!N.defaultPrevented){const W=A().filter(ee=>ee.focusable),K=W.find(ee=>ee.active),j=W.find(ee=>ee.id===x),Z=[K,j,...W].filter(Boolean).map(ee=>ee.ref.current);d$(Z)}}R.current=!1}),onBlur:re(n.onBlur,()=>C(!1))})))}),$8="RovingFocusGroupItem",C8=p.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:o,...s}=n,a=mn(),c=o||a,f=x8($8,t),h=f.currentTabStopId===c,d=h$(t),{onFocusableItemAdd:g,onFocusableItemRemove:b}=f;return p.useEffect(()=>{if(r)return g(),()=>b()},[r,g,b]),p.createElement(Np.ItemSlot,{scope:t,id:c,focusable:r,active:i},p.createElement(me.span,z({tabIndex:h?0:-1,"data-orientation":f.orientation},s,{ref:e,onMouseDown:re(n.onMouseDown,x=>{r?f.onItemFocus(c):x.preventDefault()}),onFocus:re(n.onFocus,()=>f.onItemFocus(c)),onKeyDown:re(n.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){f.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=A8(x,f.orientation,f.dir);if(v!==void 0){x.preventDefault();let C=d().filter(k=>k.focusable).map(k=>k.ref.current);if(v==="last")C.reverse();else if(v==="prev"||v==="next"){v==="prev"&&C.reverse();const k=C.indexOf(x.currentTarget);C=f.loop?E8(C,k+1):C.slice(k+1)}setTimeout(()=>d$(C))}})})))}),S8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function k8(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function A8(n,e,t){const r=k8(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return S8[r]}function d$(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function E8(n,e){return n.map((t,r)=>n[(e+r)%n.length])}const Vg=y8,jg=C8;var R8=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Yo=new WeakMap,kc=new WeakMap,Ac={},Ld=0,p$=function(n){return n&&(n.host||p$(n.parentNode))},T8=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=p$(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},P8=function(n,e,t,r){var i=T8(e,Array.isArray(n)?n:[n]);Ac[t]||(Ac[t]=new WeakMap);var o=Ac[t],s=[],a=new Set,c=new Set(i),f=function(d){!d||a.has(d)||(a.add(d),f(d.parentNode))};i.forEach(f);var h=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(g){if(a.has(g))h(g);else try{var b=g.getAttribute(r),x=b!==null&&b!=="false",v=(Yo.get(g)||0)+1,w=(o.get(g)||0)+1;Yo.set(g,v),o.set(g,w),s.push(g),v===1&&x&&kc.set(g,!0),w===1&&g.setAttribute(t,"true"),x||g.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",g,C)}})};return h(e),a.clear(),Ld++,function(){s.forEach(function(d){var g=Yo.get(d)-1,b=o.get(d)-1;Yo.set(d,g),o.set(d,b),g||(kc.has(d)||d.removeAttribute(r),kc.delete(d)),b||d.removeAttribute(t)}),Ld--,Ld||(Yo=new WeakMap,Yo=new WeakMap,kc=new WeakMap,Ac={})}},Hg=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=R8(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),P8(r,i,t,"aria-hidden")):function(){return null}},m$=bf(),Nd=function(){},Tf=p.forwardRef(function(n,e){var t=p.useRef(null),r=p.useState({onScrollCapture:Nd,onWheelCapture:Nd,onTouchMoveCapture:Nd}),i=r[0],o=r[1],s=n.forwardProps,a=n.children,c=n.className,f=n.removeScrollBar,h=n.enabled,d=n.shards,g=n.sideCar,b=n.noIsolation,x=n.inert,v=n.allowPinchZoom,w=n.as,C=w===void 0?"div":w,k=ko(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),A=g,R=gf([t,e]),T=Je(Je({},k),i);return p.createElement(p.Fragment,null,h&&p.createElement(A,{sideCar:m$,removeScrollBar:f,shards:d,noIsolation:b,inert:x,setCallbacks:o,allowPinchZoom:!!v,lockRef:t}),s?p.cloneElement(p.Children.only(a),Je(Je({},T),{ref:R})):p.createElement(C,Je({},T,{className:c,ref:R}),a))});Tf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tf.classNames={fullWidth:lo,zeroRight:ao};var Bp=!1;if(typeof window<"u")try{var Ec=Object.defineProperty({},"passive",{get:function(){return Bp=!0,!0}});window.addEventListener("test",Ec,Ec),window.removeEventListener("test",Ec,Ec)}catch{Bp=!1}var Xo=Bp?{passive:!1}:!1,M8=function(n){return n.tagName==="TEXTAREA"},g$=function(n,e){var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!M8(n)&&t[e]==="visible")},O8=function(n){return g$(n,"overflowY")},D8=function(n){return g$(n,"overflowX")},zv=function(n,e){var t=e;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var r=b$(n,t);if(r){var i=v$(n,t),o=i[1],s=i[2];if(o>s)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},I8=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},_8=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},b$=function(n,e){return n==="v"?O8(e):D8(e)},v$=function(n,e){return n==="v"?I8(e):_8(e)},L8=function(n,e){return n==="h"&&e==="rtl"?-1:1},N8=function(n,e,t,r,i){var o=L8(n,window.getComputedStyle(e).direction),s=o*r,a=t.target,c=e.contains(a),f=!1,h=s>0,d=0,g=0;do{var b=v$(n,a),x=b[0],v=b[1],w=b[2],C=v-w-o*x;(x||C)&&b$(n,a)&&(d+=C,g+=x),a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&d===0||!h&&g===0)&&(f=!0),f},Rc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Uv=function(n){return[n.deltaX,n.deltaY]},Kv=function(n){return n&&"current"in n?n.current:n},B8=function(n,e){return n[0]===e[0]&&n[1]===e[1]},F8=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},W8=0,Zo=[];function V8(n){var e=p.useRef([]),t=p.useRef([0,0]),r=p.useRef(),i=p.useState(W8++)[0],o=p.useState(function(){return fl()})[0],s=p.useRef(n);p.useEffect(function(){s.current=n},[n]),p.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var v=mf([n.lockRef.current],(n.shards||[]).map(Kv),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=p.useCallback(function(v,w){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var C=Rc(v),k=t.current,A="deltaX"in v?v.deltaX:k[0]-C[0],R="deltaY"in v?v.deltaY:k[1]-C[1],T,D=v.target,M=Math.abs(A)>Math.abs(R)?"h":"v";if("touches"in v&&M==="h"&&D.type==="range")return!1;var B=zv(M,D);if(!B)return!0;if(B?T=M:(T=M==="v"?"h":"v",B=zv(M,D)),!B)return!1;if(!r.current&&"changedTouches"in v&&(A||R)&&(r.current=T),!T)return!0;var N=r.current||T;return N8(N,w,v,N==="h"?A:R)},[]),c=p.useCallback(function(v){var w=v;if(!(!Zo.length||Zo[Zo.length-1]!==o)){var C="deltaY"in w?Uv(w):Rc(w),k=e.current.filter(function(T){return T.name===w.type&&T.target===w.target&&B8(T.delta,C)})[0];if(k&&k.should){w.cancelable&&w.preventDefault();return}if(!k){var A=(s.current.shards||[]).map(Kv).filter(Boolean).filter(function(T){return T.contains(w.target)}),R=A.length>0?a(w,A[0]):!s.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),f=p.useCallback(function(v,w,C,k){var A={name:v,delta:w,target:C,should:k};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(R){return R!==A})},1)},[]),h=p.useCallback(function(v){t.current=Rc(v),r.current=void 0},[]),d=p.useCallback(function(v){f(v.type,Uv(v),v.target,a(v,n.lockRef.current))},[]),g=p.useCallback(function(v){f(v.type,Rc(v),v.target,a(v,n.lockRef.current))},[]);p.useEffect(function(){return Zo.push(o),n.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Xo),document.addEventListener("touchmove",c,Xo),document.addEventListener("touchstart",h,Xo),function(){Zo=Zo.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Xo),document.removeEventListener("touchmove",c,Xo),document.removeEventListener("touchstart",h,Xo)}},[]);var b=n.removeScrollBar,x=n.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:F8(i)}):null,b?p.createElement(yf,{gapMode:"margin"}):null)}const j8=vf(m$,V8);var x$=p.forwardRef(function(n,e){return p.createElement(Tf,Je({},n,{ref:e,sideCar:j8}))});x$.classNames=Tf.classNames;const Gv=["Enter"," "],H8=["ArrowDown","PageUp","Home"],y$=["ArrowUp","PageDown","End"],z8=[...H8,...y$],U8={ltr:[...Gv,"ArrowRight"],rtl:[...Gv,"ArrowLeft"]},K8={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pf="Menu",[Wa,G8,q8]=$f(Pf),[Eo,w$]=$t(Pf,[q8,Li,zs]),zg=Li(),$$=zs(),[Y8,Ro]=Eo(Pf),[X8,Mf]=Eo(Pf),Z8=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:o,modal:s=!0}=n,a=zg(e),[c,f]=p.useState(null),h=p.useRef(!1),d=St(o),g=Ao(i);return p.useEffect(()=>{const b=()=>{h.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>h.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),p.createElement(df,a,p.createElement(Y8,{scope:e,open:t,onOpenChange:d,content:c,onContentChange:f},p.createElement(X8,{scope:e,onClose:p.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:h,dir:g,modal:s},r)))},C$=p.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=zg(t);return p.createElement(ll,z({},i,r,{ref:e}))}),S$="MenuPortal",[Q8,k$]=Eo(S$,{forceMount:void 0}),J8=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,o=Ro(S$,e);return p.createElement(Q8,{scope:e,forceMount:t},p.createElement(Pt,{present:t||o.open},p.createElement(Ws,{asChild:!0,container:i},r)))},Jn="MenuContent",[e_,A$]=Eo(Jn),t_=p.forwardRef((n,e)=>{const t=k$(Jn,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,o=Ro(Jn,n.__scopeMenu),s=Mf(Jn,n.__scopeMenu);return p.createElement(Wa.Provider,{scope:n.__scopeMenu},p.createElement(Pt,{present:r||o.open},p.createElement(Wa.Slot,{scope:n.__scopeMenu},s.modal?p.createElement(n_,z({},i,{ref:e})):p.createElement(r_,z({},i,{ref:e})))))}),n_=p.forwardRef((n,e)=>{const t=Ro(Jn,n.__scopeMenu),r=p.useRef(null),i=Se(e,r);return p.useEffect(()=>{const o=r.current;if(o)return Hg(o)},[]),p.createElement(Ug,z({},n,{ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:re(n.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)}))}),r_=p.forwardRef((n,e)=>{const t=Ro(Jn,n.__scopeMenu);return p.createElement(Ug,z({},n,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)}))}),Ug=p.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:g,onDismiss:b,disableOutsideScroll:x,...v}=n,w=Ro(Jn,t),C=Mf(Jn,t),k=zg(t),A=$$(t),R=G8(t),[T,D]=p.useState(null),M=p.useRef(null),B=Se(e,M,w.onContentChange),N=p.useRef(0),W=p.useRef(""),K=p.useRef(0),j=p.useRef(null),Q=p.useRef("right"),Z=p.useRef(0),ee=x?x$:p.Fragment,ue=x?{as:Sr,allowPinchZoom:!0}:void 0,te=q=>{var le,he;const De=W.current+q,ve=R().filter(Ee=>!Ee.disabled),ze=document.activeElement,Re=(le=ve.find(Ee=>Ee.ref.current===ze))===null||le===void 0?void 0:le.textValue,Ve=ve.map(Ee=>Ee.textValue),pe=g_(Ve,De,Re),Pe=(he=ve.find(Ee=>Ee.textValue===pe))===null||he===void 0?void 0:he.ref.current;(function Ee(_e){W.current=_e,window.clearTimeout(N.current),_e!==""&&(N.current=window.setTimeout(()=>Ee(""),1e3))})(De),Pe&&setTimeout(()=>Pe.focus())};p.useEffect(()=>()=>window.clearTimeout(N.current),[]),Vs();const oe=p.useCallback(q=>{var le,he;return Q.current===((le=j.current)===null||le===void 0?void 0:le.side)&&v_(q,(he=j.current)===null||he===void 0?void 0:he.area)},[]);return p.createElement(e_,{scope:t,searchRef:W,onItemEnter:p.useCallback(q=>{oe(q)&&q.preventDefault()},[oe]),onItemLeave:p.useCallback(q=>{var le;oe(q)||((le=M.current)===null||le===void 0||le.focus(),D(null))},[oe]),onTriggerLeave:p.useCallback(q=>{oe(q)&&q.preventDefault()},[oe]),pointerGraceTimerRef:K,onPointerGraceIntentChange:p.useCallback(q=>{j.current=q},[])},p.createElement(ee,ue,p.createElement(js,{asChild:!0,trapped:i,onMountAutoFocus:re(o,q=>{var le;q.preventDefault(),(le=M.current)===null||le===void 0||le.focus()}),onUnmountAutoFocus:s},p.createElement(So,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:g,onDismiss:b},p.createElement(Vg,z({asChild:!0},A,{dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:T,onCurrentTabStopIdChange:D,onEntryFocus:re(c,q=>{C.isUsingKeyboardRef.current||q.preventDefault()})}),p.createElement(cl,z({role:"menu","aria-orientation":"vertical","data-state":R$(w.open),"data-radix-menu-content":"",dir:C.dir},k,v,{ref:B,style:{outline:"none",...v.style},onKeyDown:re(v.onKeyDown,q=>{const he=q.target.closest("[data-radix-menu-content]")===q.currentTarget,De=q.ctrlKey||q.altKey||q.metaKey,ve=q.key.length===1;he&&(q.key==="Tab"&&q.preventDefault(),!De&&ve&&te(q.key));const ze=M.current;if(q.target!==ze||!z8.includes(q.key))return;q.preventDefault();const Ve=R().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);y$.includes(q.key)&&Ve.reverse(),p_(Ve)}),onBlur:re(n.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(N.current),W.current="")}),onPointerMove:re(n.onPointerMove,Va(q=>{const le=q.target,he=Z.current!==q.clientX;if(q.currentTarget.contains(le)&&he){const De=q.clientX>Z.current?"right":"left";Q.current=De,Z.current=q.clientX}}))})))))))}),i_=p.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return p.createElement(me.div,z({},r,{ref:e}))}),o_="MenuItem",s_=p.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...o}=n,s=A$(o_,t),a=$$(t),c=p.useRef(null),f=Se(e,c),[h,d]=p.useState(!1),[g,b]=p.useState("");return p.useEffect(()=>{const x=c.current;if(x){var v;b(((v=x.textContent)!==null&&v!==void 0?v:"").trim())}},[o.children]),p.createElement(Wa.ItemSlot,{scope:t,disabled:r,textValue:i??g},p.createElement(jg,z({asChild:!0},a,{focusable:!r}),p.createElement(me.div,z({role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},o,{ref:f,onPointerMove:re(n.onPointerMove,Va(x=>{r?s.onItemLeave(x):(s.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus())})),onPointerLeave:re(n.onPointerLeave,Va(x=>s.onItemLeave(x))),onFocus:re(n.onFocus,()=>d(!0)),onBlur:re(n.onBlur,()=>d(!1))}))))}),a_="MenuRadioGroup",[SY,kY]=Eo(a_,{value:void 0,onValueChange:()=>{}}),l_="MenuItemIndicator",[AY,EY]=Eo(l_,{checked:!1}),c_=p.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return p.createElement(me.div,z({role:"separator","aria-orientation":"horizontal"},r,{ref:e}))}),u_="MenuSub",[RY,E$]=Eo(u_),Tc="MenuSubTrigger",f_=p.forwardRef((n,e)=>{const t=Ro(Tc,n.__scopeMenu),r=Mf(Tc,n.__scopeMenu),i=E$(Tc,n.__scopeMenu),o=A$(Tc,n.__scopeMenu),s=p.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,f={__scopeMenu:n.__scopeMenu},h=p.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return p.useEffect(()=>h,[h]),p.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),c(null)}},[a,c]),p.createElement(C$,z({asChild:!0},f),p.createElement(s_,z({id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":R$(t.open)},n,{ref:lf(e,i.onTriggerChange),onClick:d=>{var g;(g=n.onClick)===null||g===void 0||g.call(n,d),!(n.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:re(n.onPointerMove,Va(d=>{o.onItemEnter(d),!d.defaultPrevented&&!n.disabled&&!t.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{t.onOpenChange(!0),h()},100))})),onPointerLeave:re(n.onPointerLeave,Va(d=>{var g;h();const b=(g=t.content)===null||g===void 0?void 0:g.getBoundingClientRect();if(b){var x;const v=(x=t.content)===null||x===void 0?void 0:x.dataset.side,w=v==="right",C=w?-5:5,k=b[w?"left":"right"],A=b[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+C,y:d.clientY},{x:k,y:b.top},{x:A,y:b.top},{x:A,y:b.bottom},{x:k,y:b.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:re(n.onKeyDown,d=>{const g=o.searchRef.current!=="";if(!(n.disabled||g&&d.key===" ")&&U8[r.dir].includes(d.key)){var b;t.onOpenChange(!0),(b=t.content)===null||b===void 0||b.focus(),d.preventDefault()}})})))}),h_="MenuSubContent",d_=p.forwardRef((n,e)=>{const t=k$(Jn,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,o=Ro(Jn,n.__scopeMenu),s=Mf(Jn,n.__scopeMenu),a=E$(h_,n.__scopeMenu),c=p.useRef(null),f=Se(e,c);return p.createElement(Wa.Provider,{scope:n.__scopeMenu},p.createElement(Pt,{present:r||o.open},p.createElement(Wa.Slot,{scope:n.__scopeMenu},p.createElement(Ug,z({id:a.contentId,"aria-labelledby":a.triggerId},i,{ref:f,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var d;s.isUsingKeyboardRef.current&&((d=c.current)===null||d===void 0||d.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:re(n.onFocusOutside,h=>{h.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:re(n.onEscapeKeyDown,h=>{s.onClose(),h.preventDefault()}),onKeyDown:re(n.onKeyDown,h=>{const d=h.currentTarget.contains(h.target),g=K8[s.dir].includes(h.key);if(d&&g){var b;o.onOpenChange(!1),(b=a.trigger)===null||b===void 0||b.focus(),h.preventDefault()}})})))))});function R$(n){return n?"open":"closed"}function p_(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function m_(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function g_(n,e,t){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let s=m_(n,Math.max(o,0));i.length===1&&(s=s.filter(f=>f!==t));const c=s.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return c!==t?c:void 0}function b_(n,e){const{x:t,y:r}=n;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,c=e[o].y,f=e[s].x,h=e[s].y;c>r!=h>r&&t<(f-a)*(r-c)/(h-c)+a&&(i=!i)}return i}function v_(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return b_(t,e)}function Va(n){return e=>e.pointerType==="mouse"?n(e):void 0}const x_=Z8,y_=C$,w_=J8,$_=t_,C_=i_,S_=c_,k_=f_,A_=d_,T$="DropdownMenu",[E_,TY]=$t(T$,[w$]),Fi=w$(),[R_,P$]=E_(T$),T_=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:o,onOpenChange:s,modal:a=!0}=n,c=Fi(e),f=p.useRef(null),[h=!1,d]=qt({prop:i,defaultProp:o,onChange:s});return p.createElement(R_,{scope:e,triggerId:mn(),triggerRef:f,contentId:mn(),open:h,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(g=>!g),[d]),modal:a},p.createElement(x_,z({},c,{open:h,onOpenChange:d,dir:r,modal:a}),t))},P_="DropdownMenuTrigger",M_=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,o=P$(P_,t),s=Fi(t);return p.createElement(y_,z({asChild:!0},s),p.createElement(me.button,z({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},i,{ref:lf(e,o.triggerRef),onPointerDown:re(n.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:re(n.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})))}),O_=n=>{const{__scopeDropdownMenu:e,...t}=n,r=Fi(e);return p.createElement(w_,z({},r,t))},D_="DropdownMenuContent",I_=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=P$(D_,t),o=Fi(t),s=p.useRef(!1);return p.createElement($_,z({id:i.contentId,"aria-labelledby":i.triggerId},o,r,{ref:e,onCloseAutoFocus:re(n.onCloseAutoFocus,a=>{var c;s.current||(c=i.triggerRef.current)===null||c===void 0||c.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:re(n.onInteractOutside,a=>{const c=a.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,h=c.button===2||f;(!i.modal||h)&&(s.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),__=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Fi(t);return p.createElement(C_,z({},i,r,{ref:e}))}),L_=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Fi(t);return p.createElement(S_,z({},i,r,{ref:e}))}),N_=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Fi(t);return p.createElement(k_,z({},i,r,{ref:e}))}),B_=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Fi(t);return p.createElement(A_,z({},i,r,{ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),F_=T_,W_=M_,M$=O_,V_=I_,j_=__,H_=L_,z_=N_,U_=B_,O$="Checkbox",[K_,PY]=$t(O$),[G_,q_]=K_(O$),Y_=p.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:c="on",onCheckedChange:f,...h}=n,[d,g]=p.useState(null),b=Se(e,A=>g(A)),x=p.useRef(!1),v=d?!!d.closest("form"):!0,[w=!1,C]=qt({prop:i,defaultProp:o,onChange:f}),k=p.useRef(w);return p.useEffect(()=>{const A=d?.form;if(A){const R=()=>C(k.current);return A.addEventListener("reset",R),()=>A.removeEventListener("reset",R)}},[d,C]),p.createElement(G_,{scope:t,state:w,disabled:a},p.createElement(me.button,z({type:"button",role:"checkbox","aria-checked":uo(w)?"mixed":w,"aria-required":s,"data-state":D$(w),"data-disabled":a?"":void 0,disabled:a,value:c},h,{ref:b,onKeyDown:re(n.onKeyDown,A=>{A.key==="Enter"&&A.preventDefault()}),onClick:re(n.onClick,A=>{C(R=>uo(R)?!0:!R),v&&(x.current=A.isPropagationStopped(),x.current||A.stopPropagation())})})),v&&p.createElement(Q_,{control:d,bubbles:!x.current,name:r,value:c,checked:w,required:s,disabled:a,style:{transform:"translateX(-100%)"}}))}),X_="CheckboxIndicator",Z_=p.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...i}=n,o=q_(X_,t);return p.createElement(Pt,{present:r||uo(o.state)||o.state===!0},p.createElement(me.span,z({"data-state":D$(o.state),"data-disabled":o.disabled?"":void 0},i,{ref:e,style:{pointerEvents:"none",...n.style}})))}),Q_=n=>{const{control:e,checked:t,bubbles:r=!0,...i}=n,o=p.useRef(null),s=Cf(t),a=hf(e);return p.useEffect(()=>{const c=o.current,f=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(f,"checked").set;if(s!==t&&d){const g=new Event("click",{bubbles:r});c.indeterminate=uo(t),d.call(c,uo(t)?!1:t),c.dispatchEvent(g)}},[s,t,r]),p.createElement("input",z({type:"checkbox","aria-hidden":!0,defaultChecked:uo(t)?!1:t},i,{tabIndex:-1,ref:o,style:{...n.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function uo(n){return n==="indeterminate"}function D$(n){return uo(n)?"indeterminate":n?"checked":"unchecked"}const J_=Y_,e9=Z_;function t9(n,e){return p.useReducer((t,r)=>{const i=e[t][r];return i??t},n)}const I$="ScrollArea",[_$,MY]=$t(I$),[n9,Tr]=_$(I$),r9=p.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=n,[a,c]=p.useState(null),[f,h]=p.useState(null),[d,g]=p.useState(null),[b,x]=p.useState(null),[v,w]=p.useState(null),[C,k]=p.useState(0),[A,R]=p.useState(0),[T,D]=p.useState(!1),[M,B]=p.useState(!1),N=Se(e,K=>c(K)),W=Ao(i);return p.createElement(n9,{scope:t,type:r,dir:W,scrollHideDelay:o,scrollArea:a,viewport:f,onViewportChange:h,content:d,onContentChange:g,scrollbarX:b,onScrollbarXChange:x,scrollbarXEnabled:T,onScrollbarXEnabledChange:D,scrollbarY:v,onScrollbarYChange:w,scrollbarYEnabled:M,onScrollbarYEnabledChange:B,onCornerWidthChange:k,onCornerHeightChange:R},p.createElement(me.div,z({dir:W},s,{ref:N,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":A+"px",...n.style}})))}),i9="ScrollAreaViewport",o9=p.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,...i}=n,o=Tr(i9,t),s=p.useRef(null),a=Se(e,s,o.onViewportChange);return p.createElement(p.Fragment,null,p.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),p.createElement(me.div,z({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...n.style}}),p.createElement("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),si="ScrollAreaScrollbar",s9=p.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=Tr(si,n.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=n.orientation==="horizontal";return p.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?p.createElement(a9,z({},r,{ref:e,forceMount:t})):i.type==="scroll"?p.createElement(l9,z({},r,{ref:e,forceMount:t})):i.type==="auto"?p.createElement(L$,z({},r,{ref:e,forceMount:t})):i.type==="always"?p.createElement(Kg,z({},r,{ref:e})):null}),a9=p.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=Tr(si,n.__scopeScrollArea),[o,s]=p.useState(!1);return p.useEffect(()=>{const a=i.scrollArea;let c=0;if(a){const f=()=>{window.clearTimeout(c),s(!0)},h=()=>{c=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",f),a.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",f),a.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),p.createElement(Pt,{present:t||o},p.createElement(L$,z({"data-state":o?"visible":"hidden"},r,{ref:e})))}),l9=p.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=Tr(si,n.__scopeScrollArea),o=n.orientation==="horizontal",s=Df(()=>c("SCROLL_END"),100),[a,c]=t9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(a==="idle"){const f=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(f)}},[a,i.scrollHideDelay,c]),p.useEffect(()=>{const f=i.viewport,h=o?"scrollLeft":"scrollTop";if(f){let d=f[h];const g=()=>{const b=f[h];d!==b&&(c("SCROLL"),s()),d=b};return f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[i.viewport,o,c,s]),p.createElement(Pt,{present:t||a!=="hidden"},p.createElement(Kg,z({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:e,onPointerEnter:re(n.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:re(n.onPointerLeave,()=>c("POINTER_LEAVE"))})))}),L$=p.forwardRef((n,e)=>{const t=Tr(si,n.__scopeScrollArea),{forceMount:r,...i}=n,[o,s]=p.useState(!1),a=n.orientation==="horizontal",c=Df(()=>{if(t.viewport){const f=t.viewport.offsetWidth<t.viewport.scrollWidth,h=t.viewport.offsetHeight<t.viewport.scrollHeight;s(a?f:h)}},10);return Ru(t.viewport,c),Ru(t.content,c),p.createElement(Pt,{present:r||o},p.createElement(Kg,z({"data-state":o?"visible":"hidden"},i,{ref:e})))}),Kg=p.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,i=Tr(si,n.__scopeScrollArea),o=p.useRef(null),s=p.useRef(0),[a,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=F$(a.viewport,a.content),h={...r,sizes:a,onSizesChange:c,hasThumb:f>0&&f<1,onThumbChange:g=>o.current=g,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:g=>s.current=g};function d(g,b){return p9(g,s.current,a,b)}return t==="horizontal"?p.createElement(c9,z({},h,{ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const g=i.viewport.scrollLeft,b=qv(g,a,i.dir);o.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=d(g,i.dir))}})):t==="vertical"?p.createElement(u9,z({},h,{ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const g=i.viewport.scrollTop,b=qv(g,a);o.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=d(g))}})):null}),c9=p.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,o=Tr(si,n.__scopeScrollArea),[s,a]=p.useState(),c=p.useRef(null),f=Se(e,c,o.onScrollbarXChange);return p.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),p.createElement(B$,z({"data-orientation":"horizontal"},i,{ref:f,sizes:t,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Of(t)+"px",...n.style},onThumbPointerDown:h=>n.onThumbPointerDown(h.x),onDragScroll:h=>n.onDragScroll(h.x),onWheelScroll:(h,d)=>{if(o.viewport){const g=o.viewport.scrollLeft+h.deltaX;n.onWheelScroll(g),V$(g,d)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Eu(s.paddingLeft),paddingEnd:Eu(s.paddingRight)}})}}))}),u9=p.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,o=Tr(si,n.__scopeScrollArea),[s,a]=p.useState(),c=p.useRef(null),f=Se(e,c,o.onScrollbarYChange);return p.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),p.createElement(B$,z({"data-orientation":"vertical"},i,{ref:f,sizes:t,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Of(t)+"px",...n.style},onThumbPointerDown:h=>n.onThumbPointerDown(h.y),onDragScroll:h=>n.onDragScroll(h.y),onWheelScroll:(h,d)=>{if(o.viewport){const g=o.viewport.scrollTop+h.deltaY;n.onWheelScroll(g),V$(g,d)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Eu(s.paddingTop),paddingEnd:Eu(s.paddingBottom)}})}}))}),[f9,N$]=_$(si),B$=p.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:f,onWheelScroll:h,onResize:d,...g}=n,b=Tr(si,t),[x,v]=p.useState(null),w=Se(e,N=>v(N)),C=p.useRef(null),k=p.useRef(""),A=b.viewport,R=r.content-r.viewport,T=St(h),D=St(c),M=Df(d,10);function B(N){if(C.current){const W=N.clientX-C.current.left,K=N.clientY-C.current.top;f({x:W,y:K})}}return p.useEffect(()=>{const N=W=>{const K=W.target;x?.contains(K)&&T(W,R)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[A,x,R,T]),p.useEffect(D,[r,D]),Ru(x,M),Ru(b.content,M),p.createElement(f9,{scope:t,scrollbar:x,hasThumb:i,onThumbChange:St(o),onThumbPointerUp:St(s),onThumbPositionChange:D,onThumbPointerDown:St(a)},p.createElement(me.div,z({},g,{ref:w,style:{position:"absolute",...g.style},onPointerDown:re(n.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),C.current=x.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),B(N))}),onPointerMove:re(n.onPointerMove,B),onPointerUp:re(n.onPointerUp,N=>{const W=N.target;W.hasPointerCapture(N.pointerId)&&W.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=k.current,b.viewport&&(b.viewport.style.scrollBehavior=""),C.current=null})})))}),Fp="ScrollAreaThumb",h9=p.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=N$(Fp,n.__scopeScrollArea);return p.createElement(Pt,{present:t||i.hasThumb},p.createElement(d9,z({ref:e},r)))}),d9=p.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...i}=n,o=Tr(Fp,t),s=N$(Fp,t),{onThumbPositionChange:a}=s,c=Se(e,d=>s.onThumbChange(d)),f=p.useRef(),h=Df(()=>{f.current&&(f.current(),f.current=void 0)},100);return p.useEffect(()=>{const d=o.viewport;if(d){const g=()=>{if(h(),!f.current){const b=m9(d,a);f.current=b,a()}};return a(),d.addEventListener("scroll",g),()=>d.removeEventListener("scroll",g)}},[o.viewport,h,a]),p.createElement(me.div,z({"data-state":s.hasThumb?"visible":"hidden"},i,{ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:re(n.onPointerDownCapture,d=>{const b=d.target.getBoundingClientRect(),x=d.clientX-b.left,v=d.clientY-b.top;s.onThumbPointerDown({x,y:v})}),onPointerUp:re(n.onPointerUp,s.onThumbPointerUp)}))});function Eu(n){return n?parseInt(n,10):0}function F$(n,e){const t=n/e;return isNaN(t)?0:t}function Of(n){const e=F$(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function p9(n,e,t,r="ltr"){const i=Of(t),o=i/2,s=e||o,a=i-s,c=t.scrollbar.paddingStart+s,f=t.scrollbar.size-t.scrollbar.paddingEnd-a,h=t.content-t.viewport,d=r==="ltr"?[0,h]:[h*-1,0];return W$([c,f],d)(n)}function qv(n,e,t="ltr"){const r=Of(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,c=t==="ltr"?[0,s]:[s*-1,0],f=Tp(n,c);return W$([0,s],[0,a])(f)}function W$(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function V$(n,e){return n>0&&n<e}const m9=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return function i(){const o={left:n.scrollLeft,top:n.scrollTop},s=t.left!==o.left,a=t.top!==o.top;(s||a)&&e(),t=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Df(n,e){const t=St(n),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function Ru(n,e){const t=St(e);pt(()=>{let r=0;if(n){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return i.observe(n),()=>{window.cancelAnimationFrame(r),i.unobserve(n)}}},[n,t])}const g9=r9,b9=o9,v9=s9,x9=h9;var j$=bf(),Bd=function(){},If=p.forwardRef(function(n,e){var t=p.useRef(null),r=p.useState({onScrollCapture:Bd,onWheelCapture:Bd,onTouchMoveCapture:Bd}),i=r[0],o=r[1],s=n.forwardProps,a=n.children,c=n.className,f=n.removeScrollBar,h=n.enabled,d=n.shards,g=n.sideCar,b=n.noIsolation,x=n.inert,v=n.allowPinchZoom,w=n.as,C=w===void 0?"div":w,k=ko(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),A=g,R=gf([t,e]),T=Je(Je({},k),i);return p.createElement(p.Fragment,null,h&&p.createElement(A,{sideCar:j$,removeScrollBar:f,shards:d,noIsolation:b,inert:x,setCallbacks:o,allowPinchZoom:!!v,lockRef:t}),s?p.cloneElement(p.Children.only(a),Je(Je({},T),{ref:R})):p.createElement(C,Je({},T,{className:c,ref:R}),a))});If.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};If.classNames={fullWidth:lo,zeroRight:ao};var Wp=!1;if(typeof window<"u")try{var Pc=Object.defineProperty({},"passive",{get:function(){return Wp=!0,!0}});window.addEventListener("test",Pc,Pc),window.removeEventListener("test",Pc,Pc)}catch{Wp=!1}var Qo=Wp?{passive:!1}:!1,y9=function(n){return n.tagName==="TEXTAREA"},H$=function(n,e){var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!y9(n)&&t[e]==="visible")},w9=function(n){return H$(n,"overflowY")},$9=function(n){return H$(n,"overflowX")},Yv=function(n,e){var t=e;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var r=z$(n,t);if(r){var i=U$(n,t),o=i[1],s=i[2];if(o>s)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},C9=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},S9=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},z$=function(n,e){return n==="v"?w9(e):$9(e)},U$=function(n,e){return n==="v"?C9(e):S9(e)},k9=function(n,e){return n==="h"&&e==="rtl"?-1:1},A9=function(n,e,t,r,i){var o=k9(n,window.getComputedStyle(e).direction),s=o*r,a=t.target,c=e.contains(a),f=!1,h=s>0,d=0,g=0;do{var b=U$(n,a),x=b[0],v=b[1],w=b[2],C=v-w-o*x;(x||C)&&z$(n,a)&&(d+=C,g+=x),a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&d===0||!h&&g===0)&&(f=!0),f},Mc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Xv=function(n){return[n.deltaX,n.deltaY]},Zv=function(n){return n&&"current"in n?n.current:n},E9=function(n,e){return n[0]===e[0]&&n[1]===e[1]},R9=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},T9=0,Jo=[];function P9(n){var e=p.useRef([]),t=p.useRef([0,0]),r=p.useRef(),i=p.useState(T9++)[0],o=p.useState(function(){return fl()})[0],s=p.useRef(n);p.useEffect(function(){s.current=n},[n]),p.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var v=mf([n.lockRef.current],(n.shards||[]).map(Zv),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=p.useCallback(function(v,w){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var C=Mc(v),k=t.current,A="deltaX"in v?v.deltaX:k[0]-C[0],R="deltaY"in v?v.deltaY:k[1]-C[1],T,D=v.target,M=Math.abs(A)>Math.abs(R)?"h":"v";if("touches"in v&&M==="h"&&D.type==="range")return!1;var B=Yv(M,D);if(!B)return!0;if(B?T=M:(T=M==="v"?"h":"v",B=Yv(M,D)),!B)return!1;if(!r.current&&"changedTouches"in v&&(A||R)&&(r.current=T),!T)return!0;var N=r.current||T;return A9(N,w,v,N==="h"?A:R)},[]),c=p.useCallback(function(v){var w=v;if(!(!Jo.length||Jo[Jo.length-1]!==o)){var C="deltaY"in w?Xv(w):Mc(w),k=e.current.filter(function(T){return T.name===w.type&&T.target===w.target&&E9(T.delta,C)})[0];if(k&&k.should){w.cancelable&&w.preventDefault();return}if(!k){var A=(s.current.shards||[]).map(Zv).filter(Boolean).filter(function(T){return T.contains(w.target)}),R=A.length>0?a(w,A[0]):!s.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),f=p.useCallback(function(v,w,C,k){var A={name:v,delta:w,target:C,should:k};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(R){return R!==A})},1)},[]),h=p.useCallback(function(v){t.current=Mc(v),r.current=void 0},[]),d=p.useCallback(function(v){f(v.type,Xv(v),v.target,a(v,n.lockRef.current))},[]),g=p.useCallback(function(v){f(v.type,Mc(v),v.target,a(v,n.lockRef.current))},[]);p.useEffect(function(){return Jo.push(o),n.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Qo),document.addEventListener("touchmove",c,Qo),document.addEventListener("touchstart",h,Qo),function(){Jo=Jo.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Qo),document.removeEventListener("touchmove",c,Qo),document.removeEventListener("touchstart",h,Qo)}},[]);var b=n.removeScrollBar,x=n.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:R9(i)}):null,b?p.createElement(yf,{gapMode:"margin"}):null)}const M9=vf(j$,P9);var K$=p.forwardRef(function(n,e){return p.createElement(If,Je({},n,{ref:e,sideCar:M9}))});K$.classNames=If.classNames;const G$="Dialog",[q$,Y$]=$t(G$),[OY,or]=q$(G$),O9="DialogTrigger",D9=p.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=or(O9,t),o=Se(e,i.triggerRef);return p.createElement(me.button,z({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Gg(i.open)},r,{ref:o,onClick:re(n.onClick,i.onOpenToggle)}))}),X$="DialogPortal",[I9,Z$]=q$(X$,{forceMount:void 0}),_9=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,o=or(X$,e);return p.createElement(I9,{scope:e,forceMount:t},p.Children.map(r,s=>p.createElement(Pt,{present:t||o.open},p.createElement(Ws,{asChild:!0,container:i},s))))},Vp="DialogOverlay",L9=p.forwardRef((n,e)=>{const t=Z$(Vp,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,o=or(Vp,n.__scopeDialog);return o.modal?p.createElement(Pt,{present:r||o.open},p.createElement(N9,z({},i,{ref:e}))):null}),N9=p.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=or(Vp,t);return p.createElement(K$,{as:Sr,allowPinchZoom:!0,shards:[i.contentRef]},p.createElement(me.div,z({"data-state":Gg(i.open)},r,{ref:e,style:{pointerEvents:"auto",...r.style}})))}),Ss="DialogContent",B9=p.forwardRef((n,e)=>{const t=Z$(Ss,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,o=or(Ss,n.__scopeDialog);return p.createElement(Pt,{present:r||o.open},o.modal?p.createElement(F9,z({},i,{ref:e})):p.createElement(W9,z({},i,{ref:e})))}),F9=p.forwardRef((n,e)=>{const t=or(Ss,n.__scopeDialog),r=p.useRef(null),i=Se(e,t.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return Hg(o)},[]),p.createElement(Q$,z({},n,{ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(n.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=t.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:re(n.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:re(n.onFocusOutside,o=>o.preventDefault())}))}),W9=p.forwardRef((n,e)=>{const t=or(Ss,n.__scopeDialog),r=p.useRef(!1),i=p.useRef(!1);return p.createElement(Q$,z({},n,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=n.onCloseAutoFocus)===null||s===void 0||s.call(n,o),!o.defaultPrevented){var a;r.current||(a=t.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var s,a;(s=n.onInteractOutside)===null||s===void 0||s.call(n,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((a=t.triggerRef.current)===null||a===void 0?void 0:a.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),Q$=p.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=n,a=or(Ss,t),c=p.useRef(null),f=Se(e,c);return Vs(),p.createElement(p.Fragment,null,p.createElement(js,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},p.createElement(So,z({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Gg(a.open)},s,{ref:f,onDismiss:()=>a.onOpenChange(!1)}))),!1)}),J$="DialogTitle",V9=p.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=or(J$,t);return p.createElement(me.h2,z({id:i.titleId},r,{ref:e}))}),j9="DialogDescription",H9=p.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=or(j9,t);return p.createElement(me.p,z({id:i.descriptionId},r,{ref:e}))}),z9="DialogClose",U9=p.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=or(z9,t);return p.createElement(me.button,z({type:"button"},r,{ref:e,onClick:re(n.onClick,()=>i.onOpenChange(!1))}))});function Gg(n){return n?"open":"closed"}const K9="DialogTitleWarning",[G9,DY]=Jm(K9,{contentName:Ss,titleName:J$,docsSlug:"dialog"}),eC=D9,tC=_9,nC=L9,rC=B9,iC=V9,q9=H9,qg=U9,Y9="AlertDialog",[X9,IY]=$t(Y9,[Y$]),Wi=Y$(),Z9=p.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Wi(t);return p.createElement(eC,z({},i,r,{ref:e}))}),Q9=n=>{const{__scopeAlertDialog:e,...t}=n,r=Wi(e);return p.createElement(tC,z({},r,t))},J9=p.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Wi(t);return p.createElement(nC,z({},i,r,{ref:e}))}),oC="AlertDialogContent",[eL,tL]=X9(oC),nL=p.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...i}=n,o=Wi(t),s=p.useRef(null),a=Se(e,s),c=p.useRef(null);return p.createElement(G9,{contentName:oC,titleName:rL,docsSlug:"alert-dialog"},p.createElement(eL,{scope:t,cancelRef:c},p.createElement(rC,z({role:"alertdialog"},o,i,{ref:a,onOpenAutoFocus:re(i.onOpenAutoFocus,f=>{var h;f.preventDefault(),(h=c.current)===null||h===void 0||h.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault()}),p.createElement(eg,null,r),!1)))}),rL="AlertDialogTitle",iL=p.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Wi(t);return p.createElement(iC,z({},i,r,{ref:e}))}),oL=p.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Wi(t);return p.createElement(q9,z({},i,r,{ref:e}))}),sL=p.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Wi(t);return p.createElement(qg,z({},i,r,{ref:e}))}),aL="AlertDialogCancel",lL=p.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:i}=tL(aL,t),o=Wi(t),s=Se(e,i);return p.createElement(qg,z({},o,r,{ref:s}))}),cL=Z9,uL=Q9,fL=J9,hL=nL,dL=sL,pL=lL,mL=iL,gL=oL,sC=1024;let bL=0,Fd=class{constructor(e,t){this.from=e,this.to=t}};class je{constructor(e={}){this.id=bL++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=gn.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}je.closedBy=new je({deserialize:n=>n.split(" ")});je.openedBy=new je({deserialize:n=>n.split(" ")});je.group=new je({deserialize:n=>n.split(" ")});je.isolate=new je({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});je.contextHash=new je({perNode:!0});je.lookAhead=new je({perNode:!0});je.mounted=new je({perNode:!0});class Tu{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[je.mounted.id]}}const vL=Object.create(null);class gn{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):vL,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new gn(e.name||"",t,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(je.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(je.group),o=-1;o<(i?i.length:0);o++){let s=t[o<0?r.name:i[o]];if(s)return s}}}}gn.none=new gn("",Object.create(null),0,8);class Yg{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let o of e){let s=o(r);s&&(i||(i=Object.assign({},r.props)),i[s[0].id]=s[1])}t.push(i?new gn(r.name,i,r.id,r.flags):r)}return new Yg(t)}}const Oc=new WeakMap,Qv=new WeakMap;var Dt;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Dt||(Dt={}));class kt{constructor(e,t,r,i,o){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,a]of o)this.props[typeof s=="number"?s:s.id]=a}}toString(){let e=Tu.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Hp(this.topNode,e)}cursorAt(e,t=0,r=0){let i=Oc.get(this)||this.topNode,o=new Hp(i);return o.moveTo(e,t),Oc.set(this,o._tree),o}get topNode(){return new Vn(this,0,0,null)}resolve(e,t=0){let r=ja(Oc.get(this)||this.topNode,e,t,!1);return Oc.set(this,r),r}resolveInner(e,t=0){let r=ja(Qv.get(this)||this.topNode,e,t,!0);return Qv.set(this,r),r}resolveStack(e,t=0){return wL(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:o=this.length}=e,s=e.mode||0,a=(s&Dt.IncludeAnonymous)>0;for(let c=this.cursor(s|Dt.IncludeAnonymous);;){let f=!1;if(c.from<=o&&c.to>=i&&(!a&&c.type.isAnonymous||t(c)!==!1)){if(c.firstChild())continue;f=!0}for(;f&&r&&(a||!c.type.isAnonymous)&&r(c),!c.nextSibling();){if(!c.parent())return;f=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Qg(gn.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new kt(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new kt(gn.none,t,r,i)))}static build(e){return $L(e)}}kt.empty=new kt(gn.none,[],[],0);class Xg{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Xg(this.buffer,this.index)}}class Mi{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return gn.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,t,r,i,o){let{buffer:s}=this,a=-1;for(let c=e;c!=t&&!(aC(o,i,s[c+1],s[c+2])&&(a=c,r>0));c=s[c+3]);return a}slice(e,t,r){let i=this.buffer,o=new Uint16Array(t-e),s=0;for(let a=e,c=0;a<t;){o[c++]=i[a++],o[c++]=i[a++]-r;let f=o[c++]=i[a++]-r;o[c++]=i[a++]-e,s=Math.max(s,f)}return new Mi(o,s,this.set)}}function aC(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function ja(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let s=!r&&n instanceof Vn&&n.index<0?null:n.parent;if(!s)return n;n=s}let o=r?0:Dt.IgnoreOverlays;if(r)for(let s=n,a=s.parent;a;s=a,a=s.parent)s instanceof Vn&&s.index<0&&((i=a.enter(e,t,o))===null||i===void 0?void 0:i.from)!=s.from&&(n=a);for(;;){let s=n.enter(e,t,o);if(!s)return n;n=s}}class lC{cursor(e=0){return new Hp(this,e)}getChild(e,t=null,r=null){let i=Jv(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return Jv(this,e,t,r)}resolve(e,t=0){return ja(this,e,t,!1)}resolveInner(e,t=0){return ja(this,e,t,!0)}matchContext(e){return jp(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}}class Vn extends lC{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,o=0){for(let s=this;;){for(let{children:a,positions:c}=s._tree,f=t>0?a.length:-1;e!=f;e+=t){let h=a[e],d=c[e]+s.from;if(aC(i,r,d,d+h.length)){if(h instanceof Mi){if(o&Dt.ExcludeBuffers)continue;let g=h.findChild(0,h.buffer.length,t,r-d,i);if(g>-1)return new Si(new xL(s,h,e,d),null,g)}else if(o&Dt.IncludeAnonymous||!h.type.isAnonymous||Zg(h)){let g;if(!(o&Dt.IgnoreMounts)&&(g=Tu.get(h))&&!g.overlay)return new Vn(g.tree,d,e,s);let b=new Vn(h,d,e,s);return o&Dt.IncludeAnonymous||!b.type.isAnonymous?b:b.nextChild(t<0?h.children.length-1:0,t,r,i)}}}if(o&Dt.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+t:e=t<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&Dt.IgnoreOverlays)&&(i=Tu.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:s,to:a}of i.overlay)if((t>0?s<=o:s<o)&&(t<0?a>=o:a>o))return new Vn(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Jv(n,e,t,r){let i=n.cursor(),o=[];if(!i.firstChild())return o;if(t!=null){for(let s=!1;!s;)if(s=i.type.is(t),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function jp(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class xL{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class Si extends lC{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return o<0?null:new Si(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Dt.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new Si(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Si(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Si(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let s=r.buffer[this.index+1];e.push(r.slice(i,o,s)),t.push(0)}return new kt(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function cC(n){if(!n.length)return null;let e=0,t=n[0];for(let o=1;o<n.length;o++){let s=n[o];(s.from>t.from||s.to<t.to)&&(t=s,e=o)}let r=t instanceof Vn&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new yL(i,t)}class yL{constructor(e,t){this.heads=e,this.node=t}get next(){return cC(this.heads)}}function wL(n,e,t){let r=n.resolveInner(e,t),i=null;for(let o=r instanceof Vn?r:r.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(i||(i=[r])).push(s.resolve(e,t)),o=s}else{let s=Tu.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let a=new Vn(s.tree,s.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(ja(a,e,t,!1))}}return i?cC(i):r}class Hp{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Vn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Vn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&Dt.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Dt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Dt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let o=t+e,s=e<0?-1:r._tree.children.length;o!=s;o+=e){let a=r._tree.children[o];if(this.mode&Dt.IncludeAnonymous||a instanceof Mi||!a.type.isAnonymous||Zg(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;t=s,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)t=new Si(this.buffer,t,this.stack[i]);return this.bufferNode=new Si(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return jp(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return jp(this._tree,e,i);let s=r[t.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}function Zg(n){return n.children.some(e=>e instanceof Mi||!e.type.isAnonymous||Zg(e))}function $L(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=sC,reused:o=[],minRepeatType:s=r.types.length}=n,a=Array.isArray(t)?new Xg(t,t.length):t,c=r.types,f=0,h=0;function d(T,D,M,B,N,W){let{id:K,start:j,end:Q,size:Z}=a,ee=h,ue=f;for(;Z<0;)if(a.next(),Z==-1){let he=o[K];M.push(he),B.push(j-T);return}else if(Z==-3){f=K;return}else if(Z==-4){h=K;return}else throw new RangeError(`Unrecognized record size: ${Z}`);let te=c[K],oe,q,le=j-T;if(Q-j<=i&&(q=w(a.pos-D,N))){let he=new Uint16Array(q.size-q.skip),De=a.pos-q.size,ve=he.length;for(;a.pos>De;)ve=C(q.start,he,ve);oe=new Mi(he,Q-q.start,r),le=q.start-T}else{let he=a.pos-Z;a.next();let De=[],ve=[],ze=K>=s?K:-1,Re=0,Ve=Q;for(;a.pos>he;)ze>=0&&a.id==ze&&a.size>=0?(a.end<=Ve-i&&(x(De,ve,j,Re,a.end,Ve,ze,ee,ue),Re=De.length,Ve=a.end),a.next()):W>2500?g(j,he,De,ve):d(j,he,De,ve,ze,W+1);if(ze>=0&&Re>0&&Re<De.length&&x(De,ve,j,Re,j,Ve,ze,ee,ue),De.reverse(),ve.reverse(),ze>-1&&Re>0){let pe=b(te,ue);oe=Qg(te,De,ve,0,De.length,0,Q-j,pe,pe)}else oe=v(te,De,ve,Q-j,ee-Q,ue)}M.push(oe),B.push(le)}function g(T,D,M,B){let N=[],W=0,K=-1;for(;a.pos>D;){let{id:j,start:Q,end:Z,size:ee}=a;if(ee>4)a.next();else{if(K>-1&&Q<K)break;K<0&&(K=Z-i),N.push(j,Q,Z),W++,a.next()}}if(W){let j=new Uint16Array(W*4),Q=N[N.length-2];for(let Z=N.length-3,ee=0;Z>=0;Z-=3)j[ee++]=N[Z],j[ee++]=N[Z+1]-Q,j[ee++]=N[Z+2]-Q,j[ee++]=ee;M.push(new Mi(j,N[2]-Q,r)),B.push(Q-T)}}function b(T,D){return(M,B,N)=>{let W=0,K=M.length-1,j,Q;if(K>=0&&(j=M[K])instanceof kt){if(!K&&j.type==T&&j.length==N)return j;(Q=j.prop(je.lookAhead))&&(W=B[K]+j.length+Q)}return v(T,M,B,N,W,D)}}function x(T,D,M,B,N,W,K,j,Q){let Z=[],ee=[];for(;T.length>B;)Z.push(T.pop()),ee.push(D.pop()+M-N);T.push(v(r.types[K],Z,ee,W-N,j-W,Q)),D.push(N-M)}function v(T,D,M,B,N,W,K){if(W){let j=[je.contextHash,W];K=K?[j].concat(K):[j]}if(N>25){let j=[je.lookAhead,N];K=K?[j].concat(K):[j]}return new kt(T,D,M,B,K)}function w(T,D){let M=a.fork(),B=0,N=0,W=0,K=M.end-i,j={size:0,start:0,skip:0};e:for(let Q=M.pos-T;M.pos>Q;){let Z=M.size;if(M.id==D&&Z>=0){j.size=B,j.start=N,j.skip=W,W+=4,B+=4,M.next();continue}let ee=M.pos-Z;if(Z<0||ee<Q||M.start<K)break;let ue=M.id>=s?4:0,te=M.start;for(M.next();M.pos>ee;){if(M.size<0)if(M.size==-3)ue+=4;else break e;else M.id>=s&&(ue+=4);M.next()}N=te,B+=Z,W+=ue}return(D<0||B==T)&&(j.size=B,j.start=N,j.skip=W),j.size>4?j:void 0}function C(T,D,M){let{id:B,start:N,end:W,size:K}=a;if(a.next(),K>=0&&B<s){let j=M;if(K>4){let Q=a.pos-(K-4);for(;a.pos>Q;)M=C(T,D,M)}D[--M]=j,D[--M]=W-T,D[--M]=N-T,D[--M]=B}else K==-3?f=B:K==-4&&(h=B);return M}let k=[],A=[];for(;a.pos>0;)d(n.start||0,n.bufferStart||0,k,A,-1,0);let R=(e=n.length)!==null&&e!==void 0?e:k.length?A[0]+k[0].length:0;return new kt(c[n.topID],k.reverse(),A.reverse(),R)}const ex=new WeakMap;function au(n,e){if(!n.isAnonymous||e instanceof Mi||e.type!=n)return 1;let t=ex.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof kt)){t=1;break}t+=au(n,r)}ex.set(e,t)}return t}function Qg(n,e,t,r,i,o,s,a,c){let f=0;for(let x=r;x<i;x++)f+=au(n,e[x]);let h=Math.ceil(f*1.5/8),d=[],g=[];function b(x,v,w,C,k){for(let A=w;A<C;){let R=A,T=v[A],D=au(n,x[A]);for(A++;A<C;A++){let M=au(n,x[A]);if(D+M>=h)break;D+=M}if(A==R+1){if(D>h){let M=x[R];b(M.children,M.positions,0,M.children.length,v[R]+k);continue}d.push(x[R])}else{let M=v[A-1]+x[A-1].length-T;d.push(Qg(n,x,v,R,A,T,M,null,c))}g.push(T+k-o)}}return b(e,t,r,i,0),(a||c)(d,g,s)}class fo{constructor(e,t,r,i,o=!1,s=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new fo(0,e.length,e,0,!1,r)];for(let o of t)o.to>e.length&&i.push(o);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],o=1,s=e.length?e[0]:null;for(let a=0,c=0,f=0;;a++){let h=a<t.length?t[a]:null,d=h?h.fromA:1e9;if(d-c>=r)for(;s&&s.from<d;){let g=s;if(c>=g.from||d<=g.to||f){let b=Math.max(g.from,c)-f,x=Math.min(g.to,d)-f;g=b>=x?null:new fo(b,x,g.tree,g.offset+f,a>0,!!h)}if(g&&i.push(g),s.to>d)break;s=o<e.length?e[o++]:null}if(!h)break;c=h.toA,f=h.toA-h.toB}return i}}class uC{startParse(e,t,r){return typeof e=="string"&&(e=new CL(e)),r=r?r.length?r.map(i=>new Fd(i.from,i.to)):[new Fd(0,0)]:[new Fd(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let o=i.advance();if(o)return o}}}class CL{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new je({perNode:!0});var tx={};class Pu{constructor(e,t,r,i,o,s,a,c,f,h=0,d){this.p=e,this.stack=t,this.state=r,this.reducePos=i,this.pos=o,this.score=s,this.buffer=a,this.bufferBase=c,this.curContext=f,this.lookAhead=h,this.parent=d}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let i=e.parser.context;return new Pu(e,[],t,r,r,0,[],0,i?new nx(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,i=e&65535,{parser:o}=this.p,s=this.reducePos<this.pos-25;s&&this.setLookAhead(this.pos);let a=o.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(o.getGoto(this.state,i,!0),this.reducePos),i<o.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,s?8:4,!0),this.reduceContext(i,this.reducePos);return}let c=this.stack.length-(r-1)*3-(e&262144?6:0),f=c?this.stack[c-2]:this.p.ranges[0].from,h=this.reducePos-f;h>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(f==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=f,this.p.lastBigReductionSize=h));let d=c?this.stack[c-1]:0,g=this.bufferBase+this.buffer.length-d;if(i<o.minRepeatTerm||e&131072){let b=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,f,b,g+4,!0)}if(e&262144)this.state=this.stack[c];else{let b=this.stack[c-3];this.state=o.getGoto(b,i,!0)}for(;this.stack.length>c;)this.stack.pop();this.reduceContext(i,f)}storeNode(e,t,r,i=4,o=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let s=this,a=this.buffer.length;if(a==0&&s.parent&&(a=s.bufferBase-s.parent.bufferBase,s=s.parent),a>0&&s.buffer[a-4]==0&&s.buffer[a-1]>-1){if(t==r)return;if(s.buffer[a-2]>=t){s.buffer[a-2]=r;return}}}if(!o||this.pos==r)this.buffer.push(e,t,r,i);else{let s=this.buffer.length;if(s>0&&this.buffer[s-4]!=0){let a=!1;for(let c=s;c>0&&this.buffer[c-2]>r;c-=4)if(this.buffer[c-1]>=0){a=!0;break}if(a)for(;s>0&&this.buffer[s-2]>r;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,i>4&&(i-=4)}this.buffer[s]=e,this.buffer[s+1]=t,this.buffer[s+2]=r,this.buffer[s+3]=i}}shift(e,t,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4);else{let o=e,{parser:s}=this.p;(i>this.pos||t<=s.maxNode)&&(this.pos=i,s.stateFlag(o,1)||(this.reducePos=i)),this.pushState(o,r),this.shiftContext(t,r),t<=s.maxNode&&this.buffer.push(t,r,i,4)}}apply(e,t,r,i){e&65536?this.reduce(e):this.shift(e,t,r,i)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new Pu(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new SL(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(r==0)return!1;if(!(r&65536))return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let o=0,s;o<t.length;o+=2)(s=t[o+1])!=this.state&&this.p.parser.hasAction(s,e)&&i.push(t[o],s);if(this.stack.length<120)for(let o=0;i.length<8&&o<t.length;o+=2){let s=t[o+1];i.some((a,c)=>c&1&&a==s)||i.push(t[o],s)}t=i}let r=[];for(let i=0;i<t.length&&r.length<4;i+=2){let o=t[i+1];if(o==this.state)continue;let s=this.split();s.pushState(o,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(t[i],this.pos),s.reducePos=this.pos,s.score-=200,r.push(s)}return r}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let r=t>>19,i=t&65535,o=this.stack.length-r*3;if(o<0||e.getGoto(this.stack[o],i,!1)<0){let s=this.findForcedReduction();if(s==null)return!1;t=s}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],r=(i,o)=>{if(!t.includes(i))return t.push(i),e.allActions(i,s=>{if(!(s&393216))if(s&65536){let a=(s>>19)-o;if(a>1){let c=s&65535,f=this.stack.length-a*3;if(f>=0&&e.getGoto(this.stack[f],c,!1)>=0)return a<<19|65536|c}}else{let a=r(s,o+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new nx(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class nx{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class SL{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class Mu{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Mu(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Mu(this.stack,this.pos,this.index)}}function Dc(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let r=0,i=0;r<n.length;){let o=0;for(;;){let s=n.charCodeAt(r++),a=!1;if(s==126){o=65535;break}s>=92&&s--,s>=34&&s--;let c=s-32;if(c>=46&&(c-=46,a=!0),o+=c,a)break;o*=46}t?t[i++]=o:t=new e(o)}return t}class lu{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const rx=new lu;class kL{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=rx,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,i=this.rangeIndex,o=this.pos+e;for(;o<r.from;){if(!i)return null;let s=this.ranges[--i];o-=r.from-s.to,r=s}for(;t<0?o>r.to:o>=r.to;){if(i==this.ranges.length-1)return null;let s=this.ranges[++i];o+=s.from-r.to,r=s}return o}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,r,i;if(t>=0&&t<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(t);else{let o=this.resolveOffset(e,1);if(o==null)return-1;if(r=o,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let s=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=rx,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return r}}class fs{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;AL(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}fs.prototype.contextual=fs.prototype.fallback=fs.prototype.extend=!1;fs.prototype.fallback=fs.prototype.extend=!1;function AL(n,e,t,r,i,o){let s=0,a=1<<r,{dialect:c}=t.p.parser;e:for(;a&n[s];){let f=n[s+1];for(let b=s+3;b<f;b+=2)if((n[b+1]&a)>0){let x=n[b];if(c.allows(x)&&(e.token.value==-1||e.token.value==x||EL(x,e.token.value,i,o))){e.acceptToken(x);break}}let h=e.next,d=0,g=n[s+2];if(e.next<0&&g>d&&n[f+g*3-3]==65535){s=n[f+g*3-1];continue e}for(;d<g;){let b=d+g>>1,x=f+b+(b<<1),v=n[x],w=n[x+1]||65536;if(h<v)g=b;else if(h>=w)d=b+1;else{s=n[x+2],e.advance();continue e}}break}}function ix(n,e,t){for(let r=e,i;(i=n[r])!=65535;r++)if(i==t)return r-e;return-1}function EL(n,e,t,r){let i=ix(t,r,e);return i<0||ix(t,r,n)<i}const Sn=typeof process<"u"&&tx&&/\bparse\b/.test(tx.LOG);let Wd=null;function ox(n,e,t){let r=n.cursor(Dt.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}class RL{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?ox(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?ox(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],i=this.index[t];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=r.children[i],s=this.start[t]+r.positions[i];if(s>e)return this.nextStart=s,null;if(o instanceof kt){if(s==e){if(s<this.safeFrom)return null;let a=s+o.length;if(a<=this.safeTo){let c=o.prop(je.lookAhead);if(!c||a+c<this.fragment.to)return o}}this.index[t]++,s+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(s),this.index.push(0))}else this.index[t]++,this.nextStart=s+o.length}}}class TL{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new lu)}getActions(e){let t=0,r=null,{parser:i}=e.p,{tokenizers:o}=i,s=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,c=0;for(let f=0;f<o.length;f++){if(!(1<<f&s))continue;let h=o[f],d=this.tokens[f];if(!(r&&!h.fallback)&&((h.contextual||d.start!=e.pos||d.mask!=s||d.context!=a)&&(this.updateCachedToken(d,h,e),d.mask=s,d.context=a),d.lookAhead>d.end+25&&(c=Math.max(d.lookAhead,c)),d.value!=0)){let g=t;if(d.extended>-1&&(t=this.addActions(e,d.extended,d.end,t)),t=this.addActions(e,d.value,d.end,t),!h.extend&&(r=d,t>g))break}}for(;this.actions.length>t;)this.actions.pop();return c&&e.setLookAhead(c),!r&&e.pos==this.stream.end&&(r=new lu,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new lu,{pos:r,p:i}=e;return t.start=r,t.end=Math.min(r+1,i.stream.end),t.value=r==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,r){let i=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(i,e),r),e.value>-1){let{parser:o}=r.p;for(let s=0;s<o.specialized.length;s++)if(o.specialized[s]==e.value){let a=o.specializers[s](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,r,i){for(let o=0;o<i;o+=3)if(this.actions[o]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=r,i}addActions(e,t,r,i){let{state:o}=e,{parser:s}=e.p,{data:a}=s;for(let c=0;c<2;c++)for(let f=s.stateSlot(o,c?2:1);;f+=3){if(a[f]==65535)if(a[f+1]==1)f=zr(a,f+2);else{i==0&&a[f+1]==2&&(i=this.putAction(zr(a,f+2),t,r,i));break}a[f]==t&&(i=this.putAction(zr(a,f+1),t,r,i))}return i}}class PL{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new kL(t,i),this.tokens=new TL(e,this.stream),this.topTerm=e.top[1];let{from:o}=i[0];this.stacks=[Pu.start(this,e.top[0],o)],this.fragments=r.length&&this.stream.end-o>e.bufferLength*4?new RL(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,r=this.stacks=[],i,o;if(this.bigReductionCount>300&&e.length==1){let[s]=e;for(;s.forceReduce()&&s.stack.length&&s.stack[s.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<e.length;s++){let a=e[s];for(;;){if(this.tokens.mainToken=null,a.pos>t)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],o=[]),i.push(a);let c=this.tokens.getMainToken(a);o.push(c.value,c.end)}}break}}if(!r.length){let s=i&&OL(i);if(s)return Sn&&console.log("Finish with "+this.stackID(s)),this.stackToTree(s);if(this.parser.strict)throw Sn&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let s=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,o,r);if(s)return Sn&&console.log("Force-finish "+this.stackID(s)),this.stackToTree(s.forceAll())}if(this.recovering){let s=this.recovering==1?1:this.recovering*3;if(r.length>s)for(r.sort((a,c)=>c.score-a.score);r.length>s;)r.pop();r.some(a=>a.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let s=0;s<r.length-1;s++){let a=r[s];for(let c=s+1;c<r.length;c++){let f=r[c];if(a.sameState(f)||a.buffer.length>500&&f.buffer.length>500)if((a.score-f.score||a.buffer.length-f.buffer.length)>0)r.splice(c--,1);else{r.splice(s--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let s=1;s<r.length;s++)r[s].pos<this.minStackPos&&(this.minStackPos=r[s].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let i=e.pos,{parser:o}=this,s=Sn?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let f=e.curContext&&e.curContext.tracker.strict,h=f?e.curContext.hash:0;for(let d=this.fragments.nodeAt(i);d;){let g=this.parser.nodeSet.types[d.type.id]==d.type?o.getGoto(e.state,d.type.id):-1;if(g>-1&&d.length&&(!f||(d.prop(je.contextHash)||0)==h))return e.useNode(d,g),Sn&&console.log(s+this.stackID(e)+` (via reuse of ${o.getName(d.type.id)})`),!0;if(!(d instanceof kt)||d.children.length==0||d.positions[0]>0)break;let b=d.children[0];if(b instanceof kt&&d.positions[0]==0)d=b;else break}}let a=o.stateSlot(e.state,4);if(a>0)return e.reduce(a),Sn&&console.log(s+this.stackID(e)+` (via always-reduce ${o.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let c=this.tokens.getActions(e);for(let f=0;f<c.length;){let h=c[f++],d=c[f++],g=c[f++],b=f==c.length||!r,x=b?e:e.split(),v=this.tokens.mainToken;if(x.apply(h,d,v?v.start:x.pos,g),Sn&&console.log(s+this.stackID(x)+` (via ${h&65536?`reduce of ${o.getName(h&65535)}`:"shift"} for ${o.getName(d)} @ ${i}${x==e?"":", split"})`),b)return!0;x.pos>i?t.push(x):r.push(x)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return sx(e,t),!0}}runRecovery(e,t,r){let i=null,o=!1;for(let s=0;s<e.length;s++){let a=e[s],c=t[s<<1],f=t[(s<<1)+1],h=Sn?this.stackID(a)+" -> ":"";if(a.deadEnd&&(o||(o=!0,a.restart(),Sn&&console.log(h+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let d=a.split(),g=h;for(let b=0;d.forceReduce()&&b<10&&(Sn&&console.log(g+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,r));b++)Sn&&(g=this.stackID(d)+" -> ");for(let b of a.recoverByInsert(c))Sn&&console.log(h+this.stackID(b)+" (via recover-insert)"),this.advanceFully(b,r);this.stream.end>a.pos?(f==a.pos&&(f++,c=0),a.recoverByDelete(c,f),Sn&&console.log(h+this.stackID(a)+` (via recover-delete ${this.parser.getName(c)})`),sx(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),kt.build({buffer:Mu.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Wd||(Wd=new WeakMap)).get(e);return t||Wd.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function sx(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class ML{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class Ou extends uC{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<t.length;a++)i.push([]);function o(a,c,f){i[a].push([c,c.deserialize(String(f))])}if(e.nodeProps)for(let a of e.nodeProps){let c=a[0];typeof c=="string"&&(c=je[c]);for(let f=1;f<a.length;){let h=a[f++];if(h>=0)o(h,c,a[f++]);else{let d=a[f+-h];for(let g=-h;g>0;g--)o(a[f++],c,d);f++}}}this.nodeSet=new Yg(t.map((a,c)=>gn.define({name:c>=this.minRepeatTerm?void 0:a,id:c,props:i[c],top:r.indexOf(c)>-1,error:c==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(c)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=sC;let s=Dc(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(ax),this.states=Dc(e.states,Uint32Array),this.data=Dc(e.stateData),this.goto=Dc(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new fs(s,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let i=new PL(this,e,t,r);for(let o of this.wrappers)i=o(i,e,t,r);return i}getGoto(e,t,r=!1){let i=this.goto;if(t>=i[0])return-1;for(let o=i[t+1];;){let s=i[o++],a=s&1,c=i[o++];if(a&&r)return c;for(let f=o+(s>>1);o<f;o++)if(i[o]==e)return c;if(a)return-1}}hasAction(e,t){let r=this.data;for(let i=0;i<2;i++)for(let o=this.stateSlot(e,i?2:1),s;;o+=3){if((s=r[o])==65535)if(r[o+1]==1)s=r[o=zr(r,o+2)];else{if(r[o+1]==2)return zr(r,o+2);break}if(s==t||s==0)return zr(r,o+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,r=>r==t?!0:null)}allActions(e,t){let r=this.stateSlot(e,4),i=r?t(r):void 0;for(let o=this.stateSlot(e,1);i==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=zr(this.data,o+2);else break;i=t(zr(this.data,o+1))}return i}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=zr(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];t.some((o,s)=>s&1&&o==i)||t.push(this.data[r],i)}}return t}configure(e){let t=Object.assign(Object.create(Ou.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(o=>o.from==r);return i?i.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,i)=>{let o=e.specializers.find(a=>a.from==r.external);if(!o)return r;let s=Object.assign(Object.assign({},r),{external:o.to});return t.specializers[i]=ax(s),s})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let o of e.split(" ")){let s=t.indexOf(o);s>=0&&(r[s]=!0)}let i=null;for(let o=0;o<t.length;o++)if(!r[o])for(let s=this.dialects[t[o]],a;(a=this.data[s++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new ML(e,r,i)}static deserialize(e){return new Ou(e)}}function zr(n,e){return n[e]|n[e+1]<<16}function OL(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||r!=null&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function ax(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}let DL=0,Ur=class zp{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=DL++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof zp&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let i=new zp(r,[],null,[]);if(i.set.push(i),t)for(let o of t.set)i.set.push(o);return i}static defineModifier(e){let t=new Du(e);return r=>r.modified.indexOf(t)>-1?r:Du.get(r.base||r,r.modified.concat(t).sort((i,o)=>i.id-o.id))}},IL=0;class Du{constructor(e){this.name=e,this.instances=[],this.id=IL++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(a=>a.base==e&&_L(t,a.modified));if(r)return r;let i=[],o=new Ur(e.name,i,e,t);for(let a of t)a.instances.push(o);let s=LL(t);for(let a of e.set)if(!a.modified.length)for(let c of s)i.push(Du.get(a,c));return o}}function _L(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function LL(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function fC(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let o=[],s=2,a=i;for(let d=0;;){if(a=="..."&&d>0&&d+3==i.length){s=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!g)throw new RangeError("Invalid path: "+i);if(o.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),d+=g[0].length,d==i.length)break;let b=i[d++];if(d==i.length&&b=="!"){s=0;break}if(b!="/")throw new RangeError("Invalid path: "+i);a=i.slice(d)}let c=o.length-1,f=o[c];if(!f)throw new RangeError("Invalid path: "+i);let h=new Iu(r,s,c>0?o.slice(0,c):null);e[f]=h.sort(e[f])}}return hC.add(e)}const hC=new je;class Iu{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Iu.empty=new Iu([],2,null);function dC(n,e){let t=Object.create(null);for(let o of n)if(!Array.isArray(o.tag))t[o.tag.id]=o.class;else for(let s of o.tag)t[s.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let s=i;for(let a of o)for(let c of a.set){let f=t[c.id];if(f){s=s?s+" "+f:f;break}}return s},scope:r}}function NL(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}function BL(n,e,t,r=0,i=n.length){let o=new FL(r,Array.isArray(e)?e:[e],t);o.highlightRange(n.cursor(),r,i,"",o.highlighters),o.flush(i)}class FL{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,o){let{type:s,from:a,to:c}=e;if(a>=r||c<=t)return;s.isTop&&(o=this.highlighters.filter(b=>!b.scope||b.scope(s)));let f=i,h=WL(e)||Iu.empty,d=NL(o,h.tags);if(d&&(f&&(f+=" "),f+=d,h.mode==1&&(i+=(i?" ":"")+d)),this.startSpan(Math.max(t,a),f),h.opaque)return;let g=e.tree&&e.tree.prop(je.mounted);if(g&&g.overlay){let b=e.node.enter(g.overlay[0].from+a,1),x=this.highlighters.filter(w=>!w.scope||w.scope(g.tree.type)),v=e.firstChild();for(let w=0,C=a;;w++){let k=w<g.overlay.length?g.overlay[w]:null,A=k?k.from+a:c,R=Math.max(t,C),T=Math.min(r,A);if(R<T&&v)for(;e.from<T&&(this.highlightRange(e,R,T,i,o),this.startSpan(Math.min(T,e.to),f),!(e.to>=A||!e.nextSibling())););if(!k||A>r)break;C=k.to+a,C>t&&(this.highlightRange(b.cursor(),Math.max(t,k.from+a),Math.min(r,C),"",x),this.startSpan(Math.min(r,C),f))}v&&e.parent()}else if(e.firstChild()){g&&(i="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,o),this.startSpan(Math.min(r,e.to),f)}while(e.nextSibling());e.parent()}}}function WL(n){let e=n.type.prop(hC);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const ie=Ur.define,Ic=ie(),wi=ie(),lx=ie(wi),cx=ie(wi),$i=ie(),_c=ie($i),Vd=ie($i),mr=ie(),to=ie(mr),hr=ie(),dr=ie(),Up=ie(),ga=ie(Up),Lc=ie(),H={comment:Ic,lineComment:ie(Ic),blockComment:ie(Ic),docComment:ie(Ic),name:wi,variableName:ie(wi),typeName:lx,tagName:ie(lx),propertyName:cx,attributeName:ie(cx),className:ie(wi),labelName:ie(wi),namespace:ie(wi),macroName:ie(wi),literal:$i,string:_c,docString:ie(_c),character:ie(_c),attributeValue:ie(_c),number:Vd,integer:ie(Vd),float:ie(Vd),bool:ie($i),regexp:ie($i),escape:ie($i),color:ie($i),url:ie($i),keyword:hr,self:ie(hr),null:ie(hr),atom:ie(hr),unit:ie(hr),modifier:ie(hr),operatorKeyword:ie(hr),controlKeyword:ie(hr),definitionKeyword:ie(hr),moduleKeyword:ie(hr),operator:dr,derefOperator:ie(dr),arithmeticOperator:ie(dr),logicOperator:ie(dr),bitwiseOperator:ie(dr),compareOperator:ie(dr),updateOperator:ie(dr),definitionOperator:ie(dr),typeOperator:ie(dr),controlOperator:ie(dr),punctuation:Up,separator:ie(Up),bracket:ga,angleBracket:ie(ga),squareBracket:ie(ga),paren:ie(ga),brace:ie(ga),content:mr,heading:to,heading1:ie(to),heading2:ie(to),heading3:ie(to),heading4:ie(to),heading5:ie(to),heading6:ie(to),contentSeparator:ie(mr),list:ie(mr),quote:ie(mr),emphasis:ie(mr),strong:ie(mr),link:ie(mr),monospace:ie(mr),strikethrough:ie(mr),inserted:ie(),deleted:ie(),changed:ie(),invalid:ie(),meta:Lc,documentMeta:ie(Lc),annotation:ie(Lc),processingInstruction:ie(Lc),definition:Ur.defineModifier("definition"),constant:Ur.defineModifier("constant"),function:Ur.defineModifier("function"),standard:Ur.defineModifier("standard"),local:Ur.defineModifier("local"),special:Ur.defineModifier("special")};for(let n in H){let e=H[n];e instanceof Ur&&(e.name=n)}dC([{tag:H.link,class:"tok-link"},{tag:H.heading,class:"tok-heading"},{tag:H.emphasis,class:"tok-emphasis"},{tag:H.strong,class:"tok-strong"},{tag:H.keyword,class:"tok-keyword"},{tag:H.atom,class:"tok-atom"},{tag:H.bool,class:"tok-bool"},{tag:H.url,class:"tok-url"},{tag:H.labelName,class:"tok-labelName"},{tag:H.inserted,class:"tok-inserted"},{tag:H.deleted,class:"tok-deleted"},{tag:H.literal,class:"tok-literal"},{tag:H.string,class:"tok-string"},{tag:H.number,class:"tok-number"},{tag:[H.regexp,H.escape,H.special(H.string)],class:"tok-string2"},{tag:H.variableName,class:"tok-variableName"},{tag:H.local(H.variableName),class:"tok-variableName tok-local"},{tag:H.definition(H.variableName),class:"tok-variableName tok-definition"},{tag:H.special(H.variableName),class:"tok-variableName2"},{tag:H.definition(H.propertyName),class:"tok-propertyName tok-definition"},{tag:H.typeName,class:"tok-typeName"},{tag:H.namespace,class:"tok-namespace"},{tag:H.className,class:"tok-className"},{tag:H.macroName,class:"tok-macroName"},{tag:H.propertyName,class:"tok-propertyName"},{tag:H.operator,class:"tok-operator"},{tag:H.comment,class:"tok-comment"},{tag:H.meta,class:"tok-meta"},{tag:H.invalid,class:"tok-invalid"},{tag:H.punctuation,class:"tok-punctuation"}]);const VL=fC({String:H.string,Number:H.number,"True False":H.bool,PropertyName:H.propertyName,Null:H.null,", :":H.separator,"[ ]":H.squareBracket,"{ }":H.brace}),jL=Ou.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[VL],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0});let Kp=[],pC=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?pC:Kp).push(t=t+n[e])})();function HL(n){if(n<768)return!1;for(let e=0,t=Kp.length;;){let r=e+t>>1;if(n<Kp[r])t=r;else if(n>=pC[r])e=r+1;else return!0;if(e==t)return!1}}function ux(n){return n>=127462&&n<=127487}const fx=8205;function zL(n,e,t=!0,r=!0){return(t?mC:UL)(n,e,r)}function mC(n,e,t){if(e==n.length)return e;e&&gC(n.charCodeAt(e))&&bC(n.charCodeAt(e-1))&&e--;let r=jd(n,e);for(e+=hx(r);e<n.length;){let i=jd(n,e);if(r==fx||i==fx||t&&HL(i))e+=hx(i),r=i;else if(ux(i)){let o=0,s=e-2;for(;s>=0&&ux(jd(n,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function UL(n,e,t){for(;e>0;){let r=mC(n,e-2,t);if(r<e)return r;e--}return 0}function jd(n,e){let t=n.charCodeAt(e);if(!bC(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return gC(r)?(t-55296<<10)+(r-56320)+65536:t}function gC(n){return n>=56320&&n<57344}function bC(n){return n>=55296&&n<56320}function hx(n){return n<65536?1:2}class Xe{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=ks(this,e,t);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),gr.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=ks(this,e,t);let r=[];return this.decompose(e,t,r,0),gr.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Pa(this),o=new Pa(e);for(let s=t,a=t;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new Pa(this,e)}iterRange(e,t=this.length){return new vC(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new xC(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Xe.empty:e.length<=32?new xt(e):gr.from(xt.split(e,[]))}}class xt extends Xe{constructor(e,t=KL(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let o=0;;o++){let s=this.text[o],a=i+s.length;if((t?r:a)>=e)return new GL(i,a,r,s);i=a+1,r++}}decompose(e,t,r,i){let o=e<=0&&t>=this.length?this:new xt(dx(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let s=r.pop(),a=cu(o.text,s.text.slice(),0,o.length);if(a.length<=32)r.push(new xt(a,s.length+o.length));else{let c=a.length>>1;r.push(new xt(a.slice(0,c)),new xt(a.slice(c)))}}else r.push(o)}replace(e,t,r){if(!(r instanceof xt))return super.replace(e,t,r);[e,t]=ks(this,e,t);let i=cu(this.text,cu(r.text,dx(this.text,0,e)),t),o=this.length+r.length-(t-e);return i.length<=32?new xt(i,o):gr.from(xt.split(i,[]),o)}sliceString(e,t=this.length,r=`
`){[e,t]=ks(this,e,t);let i="";for(let o=0,s=0;o<=t&&s<this.text.length;s++){let a=this.text[s],c=o+a.length;o>e&&s&&(i+=r),e<c&&t>o&&(i+=a.slice(Math.max(0,e-o),t-o)),o=c+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(t.push(new xt(r,i)),r=[],i=-1);return i>-1&&t.push(new xt(r,i)),t}}class gr extends Xe{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let o=0;;o++){let s=this.children[o],a=i+s.length,c=r+s.lines-1;if((t?c:a)>=e)return s.lineInner(e,t,r,i);i=a+1,r=c+1}}decompose(e,t,r,i){for(let o=0,s=0;s<=t&&o<this.children.length;o++){let a=this.children[o],c=s+a.length;if(e<=c&&t>=s){let f=i&((s<=e?1:0)|(c>=t?2:0));s>=e&&c<=t&&!f?r.push(a):a.decompose(e-s,t-s,r,f)}s=c+1}}replace(e,t,r){if([e,t]=ks(this,e,t),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(e>=o&&t<=a){let c=s.replace(e-o,t-o,r),f=this.lines-s.lines+c.lines;if(c.lines<f>>4&&c.lines>f>>6){let h=this.children.slice();return h[i]=c,new gr(h,this.length-(t-e)+r.length)}return super.replace(o,a,c)}o=a+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=ks(this,e,t);let i="";for(let o=0,s=0;o<this.children.length&&s<=t;o++){let a=this.children[o],c=s+a.length;s>e&&o&&(i+=r),e<c&&t>s&&(i+=a.sliceString(e-s,t-s,r)),s=c+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof gr))return 0;let r=0,[i,o,s,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,o+=t){if(i==s||o==a)return r;let c=this.children[i],f=e.children[o];if(c!=f)return r+c.scanIdentical(f,t);r+=c.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let b of e)r+=b.lines;if(r<32){let b=[];for(let x of e)x.flatten(b);return new xt(b,t)}let i=Math.max(32,r>>5),o=i<<1,s=i>>1,a=[],c=0,f=-1,h=[];function d(b){let x;if(b.lines>o&&b instanceof gr)for(let v of b.children)d(v);else b.lines>s&&(c>s||!c)?(g(),a.push(b)):b instanceof xt&&c&&(x=h[h.length-1])instanceof xt&&b.lines+x.lines<=32?(c+=b.lines,f+=b.length+1,h[h.length-1]=new xt(x.text.concat(b.text),x.length+1+b.length)):(c+b.lines>i&&g(),c+=b.lines,f+=b.length+1,h.push(b))}function g(){c!=0&&(a.push(h.length==1?h[0]:gr.from(h,f)),f=-1,c=h.length=0)}for(let b of e)d(b);return g(),a.length==1?a[0]:new gr(a,t)}}Xe.empty=new xt([""],0);function KL(n){let e=-1;for(let t of n)e+=t.length+1;return e}function cu(n,e,t=0,r=1e9){for(let i=0,o=0,s=!0;o<n.length&&i<=r;o++){let a=n[o],c=i+a.length;c>=t&&(c>r&&(a=a.slice(0,r-i)),i<t&&(a=a.slice(t-i)),s?(e[e.length-1]+=a,s=!1):e.push(a)),i=c+1}return e}function dx(n,e,t){return cu(n,[""],e,t)}class Pa{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof xt?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,a=i instanceof xt?i.text.length:i.children.length;if(s==(t>0?a:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof xt){let c=i.text[s+(t<0?-1:0)];if(this.offsets[r]+=t,c.length>Math.max(0,e))return this.value=e==0?c:t>0?c.slice(e):c.slice(0,c.length-e),this;e-=c.length}else{let c=i.children[s+(t<0?-1:0)];e>c.length?(e-=c.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(c),this.offsets.push(t>0?1:(c instanceof xt?c.text.length:c.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class vC{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new Pa(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class xC{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Xe.prototype[Symbol.iterator]=function(){return this.iter()},Pa.prototype[Symbol.iterator]=vC.prototype[Symbol.iterator]=xC.prototype[Symbol.iterator]=function(){return this});class GL{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}function ks(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function Vt(n,e,t=!0,r=!0){return zL(n,e,t,r)}function qL(n){return n>=56320&&n<57344}function YL(n){return n>=55296&&n<56320}function un(n,e){let t=n.charCodeAt(e);if(!YL(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return qL(r)?(t-55296<<10)+(r-56320)+65536:t}function Jg(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function br(n){return n<65536?1:2}const Gp=/\r\n?|\n/;var tn=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(tn||(tn={}));class $r{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let o=this.sections[t++],s=this.sections[t++];s<0?(e(r,i,o),i+=o):i+=s,r+=o}}iterChangedRanges(e,t=!1){qp(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new $r(e)}composeDesc(e){return this.empty?e:e.empty?this:yC(this,e)}mapDesc(e,t=!1){return e.empty?this:Yp(this,e,t)}mapPos(e,t=-1,r=tn.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],c=this.sections[s++],f=i+a;if(c<0){if(f>e)return o+(e-i);o+=a}else{if(r!=tn.Simple&&f>=e&&(r==tn.TrackDel&&i<e&&f>e||r==tn.TrackBefore&&i<e||r==tn.TrackAfter&&f>e))return null;if(f>e||f==e&&t<0&&!a)return e==i||t<0?o:o+c;o+=c}i=f}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let o=this.sections[r++],s=this.sections[r++],a=i+o;if(s>=0&&i<=t&&a>=e)return i<e&&a>t?"cover":!0;i=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new $r(e)}static create(e){return new $r(e)}}class Rt extends $r{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return qp(this,(t,r,i,o,s)=>e=e.replace(i,i+(r-t),s),!1),e}mapDesc(e,t=!1){return Yp(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,o=0;i<t.length;i+=2){let s=t[i],a=t[i+1];if(a>=0){t[i]=a,t[i+1]=s;let c=i>>1;for(;r.length<c;)r.push(Xe.empty);r.push(s?e.slice(o,o+s):Xe.empty)}o+=s}return new Rt(t,r)}compose(e){return this.empty?e:e.empty?this:yC(this,e,!0)}map(e,t=!1){return e.empty?this:Yp(this,e,t,!0)}iterChanges(e,t=!1){qp(this,e,t)}get desc(){return $r.create(this.sections)}filter(e){let t=[],r=[],i=[],o=new Ha(this);e:for(let s=0,a=0;;){let c=s==e.length?1e9:e[s++];for(;a<c||a==c&&o.len==0;){if(o.done)break e;let h=Math.min(o.len,c-a);Kt(i,h,-1);let d=o.ins==-1?-1:o.off==0?o.ins:0;Kt(t,h,d),d>0&&ki(r,t,o.text),o.forward(h),a+=h}let f=e[s++];for(;a<f;){if(o.done)break e;let h=Math.min(o.len,f-a);Kt(t,h,-1),Kt(i,h,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(h),a+=h}}return{changes:new Rt(t,r),filtered:$r.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],o=[],s=0,a=null;function c(h=!1){if(!h&&!i.length)return;s<t&&Kt(i,t-s,-1);let d=new Rt(i,o);a=a?a.compose(d.map(a)):d,i=[],o=[],s=0}function f(h){if(Array.isArray(h))for(let d of h)f(d);else if(h instanceof Rt){if(h.length!=t)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${t})`);c(),a=a?a.compose(h.map(a)):h}else{let{from:d,to:g=d,insert:b}=h;if(d>g||d<0||g>t)throw new RangeError(`Invalid change range ${d} to ${g} (in doc of length ${t})`);let x=b?typeof b=="string"?Xe.of(b.split(r||Gp)):b:Xe.empty,v=x.length;if(d==g&&v==0)return;d<s&&c(),d>s&&Kt(i,d-s,-1),Kt(i,g-d,v),ki(o,i,x),s=g}}return f(e),c(!a),a}static empty(e){return new Rt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")t.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,a)=>a&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)t.push(o[0],0);else{for(;r.length<i;)r.push(Xe.empty);r[i]=Xe.of(o.slice(1)),t.push(o[0],r[i].length)}}}return new Rt(t,r)}static createSet(e,t){return new Rt(e,t)}}function Kt(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:i>=0&&e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function ki(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(Xe.empty);n.push(t)}}function qp(n,e,t){let r=n.inserted;for(let i=0,o=0,s=0;s<n.sections.length;){let a=n.sections[s++],c=n.sections[s++];if(c<0)i+=a,o+=a;else{let f=i,h=o,d=Xe.empty;for(;f+=a,h+=c,c&&r&&(d=d.append(r[s-2>>1])),!(t||s==n.sections.length||n.sections[s+1]<0);)a=n.sections[s++],c=n.sections[s++];e(i,f,o,h,d),i=f,o=h}}}function Yp(n,e,t,r=!1){let i=[],o=r?[]:null,s=new Ha(n),a=new Ha(e);for(let c=-1;;){if(s.done&&a.len||a.done&&s.len)throw new Error("Mismatched change set lengths");if(s.ins==-1&&a.ins==-1){let f=Math.min(s.len,a.len);Kt(i,f,-1),s.forward(f),a.forward(f)}else if(a.ins>=0&&(s.ins<0||c==s.i||s.off==0&&(a.len<s.len||a.len==s.len&&!t))){let f=a.len;for(Kt(i,a.ins,-1);f;){let h=Math.min(s.len,f);s.ins>=0&&c<s.i&&s.len<=h&&(Kt(i,0,s.ins),o&&ki(o,i,s.text),c=s.i),s.forward(h),f-=h}a.next()}else if(s.ins>=0){let f=0,h=s.len;for(;h;)if(a.ins==-1){let d=Math.min(h,a.len);f+=d,h-=d,a.forward(d)}else if(a.ins==0&&a.len<h)h-=a.len,a.next();else break;Kt(i,f,c<s.i?s.ins:0),o&&c<s.i&&ki(o,i,s.text),c=s.i,s.forward(s.len-h)}else{if(s.done&&a.done)return o?Rt.createSet(i,o):$r.create(i);throw new Error("Mismatched change set lengths")}}}function yC(n,e,t=!1){let r=[],i=t?[]:null,o=new Ha(n),s=new Ha(e);for(let a=!1;;){if(o.done&&s.done)return i?Rt.createSet(r,i):$r.create(r);if(o.ins==0)Kt(r,o.len,0,a),o.next();else if(s.len==0&&!s.done)Kt(r,0,s.ins,a),i&&ki(i,r,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let c=Math.min(o.len2,s.len),f=r.length;if(o.ins==-1){let h=s.ins==-1?-1:s.off?0:s.ins;Kt(r,c,h,a),i&&h&&ki(i,r,s.text)}else s.ins==-1?(Kt(r,o.off?0:o.len,c,a),i&&ki(i,r,o.textBit(c))):(Kt(r,o.off?0:o.len,s.off?0:s.ins,a),i&&!s.off&&ki(i,r,s.text));a=(o.ins>c||s.ins>=0&&s.len>c)&&(a||r.length>f),o.forward2(c),s.forward(c)}}}}class Ha{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Xe.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?Xe.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class oo{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new oo(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return X.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return X.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return X.range(e.anchor,e.head)}static create(e,t,r){return new oo(e,t,r)}}class X{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:X.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new X([this.main],0)}addRange(e,t=!0){return X.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,X.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new X(e.ranges.map(t=>oo.fromJSON(t)),e.main)}static single(e,t=e){return new X([X.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return X.normalized(e.slice(),t);r=o.to}return new X(e,t)}static cursor(e,t=0,r,i){return oo.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,t,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?oo.create(t,e,48|o):oo.create(e,t,(t>e?8:0)|o)}static normalized(e,t=0){let r=e[t];e.sort((i,o)=>i.from-o.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],s=e[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let a=s.from,c=Math.max(o.to,s.to);i<=t&&t--,e.splice(--i,2,o.anchor>o.head?X.range(c,a):X.range(a,c))}}return new X(e,t)}}function wC(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let e0=0;class ce{constructor(e,t,r,i,o){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=e0++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new ce(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:t0),!!e.static,e.enables)}of(e){return new uu([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new uu(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new uu(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function t0(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class uu{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=e0++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,o=this.id,s=e[o]>>1,a=this.type==2,c=!1,f=!1,h=[];for(let d of this.dependencies)d=="doc"?c=!0:d=="selection"?f=!0:((t=e[d.id])!==null&&t!==void 0?t:1)&1||h.push(e[d.id]);return{create(d){return d.values[s]=r(d),1},update(d,g){if(c&&g.docChanged||f&&(g.docChanged||g.selection)||Xp(d,h)){let b=r(d);if(a?!px(b,d.values[s],i):!i(b,d.values[s]))return d.values[s]=b,1}return 0},reconfigure:(d,g)=>{let b,x=g.config.address[o];if(x!=null){let v=Lu(g,x);if(this.dependencies.every(w=>w instanceof ce?g.facet(w)===d.facet(w):w instanceof _t?g.field(w,!1)==d.field(w,!1):!0)||(a?px(b=r(d),v,i):i(b=r(d),v)))return d.values[s]=v,0}else b=r(d);return d.values[s]=b,1}}}}function px(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function Xp(n,e){let t=!1;for(let r of e)Ma(n,r)&1&&(t=!0);return t}function XL(n,e,t){let r=t.map(c=>n[c.id]),i=t.map(c=>c.type),o=r.filter(c=>!(c&1)),s=n[e.id]>>1;function a(c){let f=[];for(let h=0;h<r.length;h++){let d=Lu(c,r[h]);if(i[h]==2)for(let g of d)f.push(g);else f.push(d)}return e.combine(f)}return{create(c){for(let f of r)Ma(c,f);return c.values[s]=a(c),1},update(c,f){if(!Xp(c,o))return 0;let h=a(c);return e.compare(h,c.values[s])?0:(c.values[s]=h,1)},reconfigure(c,f){let h=Xp(c,r),d=f.config.facets[e.id],g=f.facet(e);if(d&&!h&&t0(t,d))return c.values[s]=g,0;let b=a(c);return e.compare(b,g)?(c.values[s]=g,0):(c.values[s]=b,1)}}}const Nc=ce.define({static:!0});class _t{constructor(e,t,r,i,o){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let t=new _t(e0++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Nc).find(r=>r.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let o=r.values[t],s=this.updateF(o,i);return this.compareF(o,s)?0:(r.values[t]=s,1)},reconfigure:(r,i)=>{let o=r.facet(Nc),s=i.facet(Nc),a;return(a=o.find(c=>c.field==this))&&a!=s.find(c=>c.field==this)?(r.values[t]=a.create(r),1):i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}}init(e){return[this,Nc.of({field:this,create:e})]}get extension(){return this}}const ro={lowest:4,low:3,default:2,high:1,highest:0};function ba(n){return e=>new $C(e,n)}const To={highest:ba(ro.highest),high:ba(ro.high),default:ba(ro.default),low:ba(ro.low),lowest:ba(ro.lowest)};class $C{constructor(e,t){this.inner=e,this.prec=t}}class _f{of(e){return new Zp(this,e)}reconfigure(e){return _f.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Zp{constructor(e,t){this.compartment=e,this.inner=t}}class _u{constructor(e,t,r,i,o,s){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],o=Object.create(null),s=new Map;for(let g of ZL(e,t,s))g instanceof _t?i.push(g):(o[g.facet.id]||(o[g.facet.id]=[])).push(g);let a=Object.create(null),c=[],f=[];for(let g of i)a[g.id]=f.length<<1,f.push(b=>g.slot(b));let h=r?.config.facets;for(let g in o){let b=o[g],x=b[0].facet,v=h&&h[g]||[];if(b.every(w=>w.type==0))if(a[x.id]=c.length<<1|1,t0(v,b))c.push(r.facet(x));else{let w=x.combine(b.map(C=>C.value));c.push(r&&x.compare(w,r.facet(x))?r.facet(x):w)}else{for(let w of b)w.type==0?(a[w.id]=c.length<<1|1,c.push(w.value)):(a[w.id]=f.length<<1,f.push(C=>w.dynamicSlot(C)));a[x.id]=f.length<<1,f.push(w=>XL(w,x,b))}}let d=f.map(g=>g(a));return new _u(e,s,d,a,c,o)}}function ZL(n,e,t){let r=[[],[],[],[],[]],i=new Map;function o(s,a){let c=i.get(s);if(c!=null){if(c<=a)return;let f=r[c].indexOf(s);f>-1&&r[c].splice(f,1),s instanceof Zp&&t.delete(s.compartment)}if(i.set(s,a),Array.isArray(s))for(let f of s)o(f,a);else if(s instanceof Zp){if(t.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=e.get(s.compartment)||s.inner;t.set(s.compartment,f),o(f,a)}else if(s instanceof $C)o(s.inner,s.prec);else if(s instanceof _t)r[a].push(s),s.provides&&o(s.provides,a);else if(s instanceof uu)r[a].push(s),s.facet.extensions&&o(s.facet.extensions,ro.default);else{let f=s.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(f,a)}}return o(n,ro.default),r.reduce((s,a)=>s.concat(a))}function Ma(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function Lu(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const CC=ce.define(),Qp=ce.define({combine:n=>n.some(e=>e),static:!0}),SC=ce.define({combine:n=>n.length?n[0]:void 0,static:!0}),kC=ce.define(),AC=ce.define(),EC=ce.define(),RC=ce.define({combine:n=>n.length?n[0]:!1});class Pr{constructor(e,t){this.type=e,this.value=t}static define(){return new QL}}class QL{of(e){return new Pr(this,e)}}class JL{constructor(e){this.map=e}of(e){return new Oe(this,e)}}class Oe{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Oe(this.type,t)}is(e){return this.type==e}static define(e={}){return new JL(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(t);o&&r.push(o)}return r}}Oe.reconfigure=Oe.define();Oe.appendConfig=Oe.define();class Tt{constructor(e,t,r,i,o,s){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&wC(r,t.newLength),o.some(a=>a.type==Tt.time)||(this.annotations=o.concat(Tt.time.of(Date.now())))}static create(e,t,r,i,o,s){return new Tt(e,t,r,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Tt.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Tt.time=Pr.define();Tt.userEvent=Pr.define();Tt.addToHistory=Pr.define();Tt.remote=Pr.define();function eN(n,e){let t=[];for(let r=0,i=0;;){let o,s;if(r<n.length&&(i==e.length||e[i]>=n[r]))o=n[r++],s=n[r++];else if(i<e.length)o=e[i++],s=e[i++];else return t;!t.length||t[t.length-1]<o?t.push(o,s):t[t.length-1]<s&&(t[t.length-1]=s)}}function TC(n,e,t){var r;let i,o,s;return t?(i=e.changes,o=Rt.empty(e.changes.length),s=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),o=n.changes.mapDesc(e.changes,!0),s=n.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:Oe.mapEffects(n.effects,i).concat(Oe.mapEffects(e.effects,o)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Jp(n,e,t){let r=e.selection,i=hs(e.annotations);return e.userEvent&&(i=i.concat(Tt.userEvent.of(e.userEvent))),{changes:e.changes instanceof Rt?e.changes:Rt.of(e.changes||[],t,n.facet(SC)),selection:r&&(r instanceof X?r:X.single(r.anchor,r.head)),effects:hs(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function PC(n,e,t){let r=Jp(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(t=!1);let s=!!e[o].sequential;r=TC(r,Jp(n,e[o],s?r.changes.newLength:n.doc.length),s)}let i=Tt.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return nN(t?tN(i):i)}function tN(n){let e=n.startState,t=!0;for(let i of e.facet(kC)){let o=i(n);if(o===!1){t=!1;break}Array.isArray(o)&&(t=t===!0?o:eN(t,o))}if(t!==!0){let i,o;if(t===!1)o=n.changes.invertedDesc,i=Rt.empty(e.doc.length);else{let s=n.changes.filter(t);i=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}n=Tt.create(e,i,n.selection&&n.selection.map(o),Oe.mapEffects(n.effects,o),n.annotations,n.scrollIntoView)}let r=e.facet(AC);for(let i=r.length-1;i>=0;i--){let o=r[i](n);o instanceof Tt?n=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Tt?n=o[0]:n=PC(e,hs(o),!1)}return n}function nN(n){let e=n.startState,t=e.facet(EC),r=n;for(let i=t.length-1;i>=0;i--){let o=t[i](n);o&&Object.keys(o).length&&(r=TC(r,Jp(e,o,n.changes.newLength),!0))}return r==n?n:Tt.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const rN=[];function hs(n){return n==null?rN:Array.isArray(n)?n:[n]}var ht=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(ht||(ht={}));const iN=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let em;try{em=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function oN(n){if(em)return em.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||iN.test(t)))return!0}return!1}function sN(n){return e=>{if(!/\S/.test(e))return ht.Space;if(oN(e))return ht.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return ht.Word;return ht.Other}}class Ge{constructor(e,t,r,i,o,s){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Ma(this,a<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return Ma(this,r),Lu(this,r)}update(...e){return PC(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:i}=t;for(let a of e.effects)a.is(_f.reconfigure)?(t&&(i=new Map,t.compartments.forEach((c,f)=>i.set(f,c)),t=null),i.set(a.value.compartment,a.value.extension)):a.is(Oe.reconfigure)?(t=null,r=a.value):a.is(Oe.appendConfig)&&(t=null,r=hs(r).concat(a.value));let o;t?o=e.startState.values.slice():(t=_u.resolve(r,i,this),o=new Ge(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(c,f)=>f.reconfigure(c,this),null).values);let s=e.startState.facet(Qp)?e.newSelection:e.newSelection.asSingle();new Ge(t,e.newDoc,s,o,(a,c)=>c.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:X.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),o=[r.range],s=hs(r.effects);for(let a=1;a<t.ranges.length;a++){let c=e(t.ranges[a]),f=this.changes(c.changes),h=f.map(i);for(let g=0;g<a;g++)o[g]=o[g].map(h);let d=i.mapDesc(f,!0);o.push(c.range.map(d)),i=i.compose(h),s=Oe.mapEffects(s,h).concat(Oe.mapEffects(hs(c.effects),d))}return{changes:i,selection:X.create(o,t.mainIndex),effects:s}}changes(e=[]){return e instanceof Rt?e:Rt.of(e,this.doc.length,this.facet(Ge.lineSeparator))}toText(e){return Xe.of(e.split(this.facet(Ge.lineSeparator)||Gp))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Ma(this,t),Lu(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof _t&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let s=r[o],a=e[o];i.push(s.init(c=>s.spec.fromJSON(a,c)))}}return Ge.create({doc:e.doc,selection:X.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=_u.resolve(e.extensions||[],new Map),r=e.doc instanceof Xe?e.doc:Xe.of((e.doc||"").split(t.staticFacet(Ge.lineSeparator)||Gp)),i=e.selection?e.selection instanceof X?e.selection:X.single(e.selection.anchor,e.selection.head):X.single(0);return wC(i,r.length),t.staticFacet(Qp)||(i=i.asSingle()),new Ge(t,r,i,t.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(Ge.tabSize)}get lineBreak(){return this.facet(Ge.lineSeparator)||`
`}get readOnly(){return this.facet(RC)}phrase(e,...t){for(let r of this.facet(Ge.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>t.length?r:t[o-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let o of this.facet(CC))for(let s of o(this,t,r))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){return sN(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-r,a=e-r;for(;s>0;){let c=Vt(t,s,!1);if(o(t.slice(c,s))!=ht.Word)break;s=c}for(;a<i;){let c=Vt(t,a);if(o(t.slice(a,c))!=ht.Word)break;a=c}return s==a?null:X.range(s+r,a+r)}}Ge.allowMultipleSelections=Qp;Ge.tabSize=ce.define({combine:n=>n.length?n[0]:4});Ge.lineSeparator=SC;Ge.readOnly=RC;Ge.phrases=ce.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}});Ge.languageData=CC;Ge.changeFilter=kC;Ge.transactionFilter=AC;Ge.transactionExtender=EC;_f.reconfigure=Oe.define();function Mr(n,e,t={}){let r={};for(let i of n)for(let o of Object.keys(i)){let s=i[o],a=r[o];if(a===void 0)r[o]=s;else if(!(a===s||s===void 0))if(Object.hasOwnProperty.call(t,o))r[o]=t[o](a,s);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class xo{eq(e){return this==e}range(e,t=e){return za.create(e,t,this)}}xo.prototype.startSide=xo.prototype.endSide=0;xo.prototype.point=!1;xo.prototype.mapMode=tn.TrackDel;class za{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new za(e,t,r)}}function tm(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class n0{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let o=r?this.to:this.from;for(let s=i,a=o.length;;){if(s==a)return s;let c=s+a>>1,f=o[c]-e||(r?this.value[c].endSide:this.value[c].startSide)-t;if(c==s)return f>=0?s:a;f>=0?a=c:s=c+1}}between(e,t,r,i){for(let o=this.findIndex(t,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,t){let r=[],i=[],o=[],s=-1,a=-1;for(let c=0;c<this.value.length;c++){let f=this.value[c],h=this.from[c]+e,d=this.to[c]+e,g,b;if(h==d){let x=t.mapPos(h,f.startSide,f.mapMode);if(x==null||(g=b=x,f.startSide!=f.endSide&&(b=t.mapPos(h,f.endSide),b<g)))continue}else if(g=t.mapPos(h,f.startSide),b=t.mapPos(d,f.endSide),g>b||g==b&&f.startSide>0&&f.endSide<=0)continue;(b-g||f.endSide-f.startSide)<0||(s<0&&(s=g),f.point&&(a=Math.max(a,b-g)),r.push(f),i.push(g-s),o.push(b-s))}return{mapped:r.length?new n0(i,o,r,a):null,pos:s}}}class Ye{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new Ye(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,s=e.filter;if(t.length==0&&!s)return this;if(r&&(t=t.slice().sort(tm)),this.isEmpty)return t.length?Ye.of(t):this;let a=new MC(this,null,-1).goto(0),c=0,f=[],h=new ti;for(;a.value||c<t.length;)if(c<t.length&&(a.from-t[c].from||a.startSide-t[c].value.startSide)>=0){let d=t[c++];h.addInner(d.from,d.to,d.value)||f.push(d)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(c==t.length||this.chunkEnd(a.chunkIndex)<t[c].from)&&(!s||i>this.chunkEnd(a.chunkIndex)||o<this.chunkPos[a.chunkIndex])&&h.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!s||i>a.to||o<a.from||s(a.from,a.to,a.value))&&(h.addInner(a.from,a.to,a.value)||f.push(za.create(a.from,a.to,a.value))),a.next());return h.finishInner(this.nextLayer.isEmpty&&!f.length?Ye.empty:this.nextLayer.update({add:f,filter:s,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],c=this.chunk[s],f=e.touchesRange(a,a+c.length);if(f===!1)i=Math.max(i,c.maxPoint),t.push(c),r.push(e.mapPos(a));else if(f===!0){let{mapped:h,pos:d}=c.map(a,e);h&&(i=Math.max(i,h.maxPoint),t.push(h),r.push(d))}}let o=this.nextLayer.map(e);return t.length==0?o:new Ye(r,t,o||Ye.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(t>=o&&e<=o+s.length&&s.between(o,e-o,t-o,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return Ua.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Ua.from(e).goto(t)}static compare(e,t,r,i,o=-1){let s=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=o),a=t.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=o),c=mx(s,a,r),f=new va(s,c,o),h=new va(a,c,o);r.iterGaps((d,g,b)=>gx(f,d,h,g,b,i)),r.empty&&r.length==0&&gx(f,0,h,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=999999999);let o=e.filter(h=>!h.isEmpty&&t.indexOf(h)<0),s=t.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let a=mx(o,s),c=new va(o,a,0).goto(r),f=new va(s,a,0).goto(r);for(;;){if(c.to!=f.to||!nm(c.active,f.active)||c.point&&(!f.point||!c.point.eq(f.point)))return!1;if(c.to>i)return!0;c.next(),f.next()}}static spans(e,t,r,i,o=-1){let s=new va(e,null,o).goto(t),a=t,c=s.openStart;for(;;){let f=Math.min(s.to,r);if(s.point){let h=s.activeForPoint(s.to),d=s.pointFrom<t?h.length+1:s.point.startSide<0?h.length:Math.min(h.length,c);i.point(a,f,s.point,h,d,s.pointRank),c=Math.min(s.openEnd(f),h.length)}else f>a&&(i.span(a,f,s.active,c),c=s.openEnd(f));if(s.to>r)return c+(s.point&&s.to>r?1:0);a=s.to,s.next()}}static of(e,t=!1){let r=new ti;for(let i of e instanceof za?[e]:t?aN(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return Ye.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=Ye.empty;i=i.nextLayer)t=new Ye(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}Ye.empty=new Ye([],[],null,-1);function aN(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(tm(e,r)>0)return n.slice().sort(tm);e=r}return n}Ye.empty.nextLayer=Ye.empty;class ti{finishChunk(e){this.chunks.push(new n0(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new ti)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(Ye.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Ye.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function mx(n,e,t){let r=new Map;for(let o of n)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&r.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let a=r.get(o.chunk[s]);a!=null&&(t?t.mapPos(a):a)==o.chunkPos[s]&&!t?.touchesRange(a,a+o.chunk[s].length)&&i.add(o.chunk[s])}return i}class MC{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Ua{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new MC(s,t,r,o));return i.length==1?i[0]:new Ua(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)Hd(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)Hd(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Hd(this.heap,0)}}}function Hd(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class va{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Ua.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Bc(this.active,e),Bc(this.activeTo,e),Bc(this.activeRank,e),this.minActive=bx(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:o}=this.cursor;for(;t<this.activeRank.length&&(o-this.activeRank[t]||i-this.activeTo[t])>0;)t++;Fc(this.active,t,r),Fc(this.activeTo,t,i),Fc(this.activeRank,t,o),e&&Fc(e,t,this.cursor.from),this.minActive=bx(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Bc(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function gx(n,e,t,r,i,o){n.goto(e),t.goto(r);let s=r+i,a=r,c=r-e;for(;;){let f=n.to+c-t.to,h=f||n.endSide-t.endSide,d=h<0?n.to+c:t.to,g=Math.min(d,s);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&nm(n.activeForPoint(n.to),t.activeForPoint(t.to))||o.comparePoint(a,g,n.point,t.point):g>a&&!nm(n.active,t.active)&&o.compareRange(a,g,n.active,t.active),d>s)break;(f||n.openEnd!=t.openEnd)&&o.boundChange&&o.boundChange(d),a=d,h<=0&&n.next(),h>=0&&t.next()}}function nm(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Bc(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function Fc(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function bx(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function Us(n,e,t=n.length){let r=0;for(let i=0;i<t&&i<n.length;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Vt(n,i));return r}function rm(n,e,t,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==n.length)break;o+=n.charCodeAt(i)==9?t-o%t:1,i=Vt(n,i)}return r===!0?-1:n.length}const im="ͼ",vx=typeof Symbol>"u"?"__"+im:Symbol.for(im),om=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),xx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Oi{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,a,c,f){let h=[],d=/^@(\w+)\b/.exec(s[0]),g=d&&d[1]=="keyframes";if(d&&a==null)return c.push(s[0]+";");for(let b in a){let x=a[b];if(/&/.test(b))o(b.split(/,\s*/).map(v=>s.map(w=>v.replace(/&/,w))).reduce((v,w)=>v.concat(w)),x,c);else if(x&&typeof x=="object"){if(!d)throw new RangeError("The value of a property ("+b+") should be a primitive value.");o(i(b),x,h,g)}else x!=null&&h.push(b.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+x+";")}(h.length||g)&&c.push((r&&!d&&!f?s.map(r):s).join(", ")+" {"+h.join(" ")+"}")}for(let s in e)o(i(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=xx[vx]||1;return xx[vx]=e+1,im+e.toString(36)}static mount(e,t,r){let i=e[om],o=r&&r.nonce;i?o&&i.setNonce(o):i=new lN(e,o),i.mount(Array.isArray(t)?t:[t],e)}}let yx=new Map;class lN{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=yx.get(r);if(o)return e[om]=o;this.sheet=new i.CSSStyleSheet,yx.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[om]=this}mount(e,t){let r=this.sheet,i=0,o=0;for(let s=0;s<e.length;s++){let a=e[s],c=this.modules.indexOf(a);if(c<o&&c>-1&&(this.modules.splice(c,1),o--,c=-1),c==-1){if(this.modules.splice(o++,0,a),r)for(let f=0;f<a.rules.length;f++)r.insertRule(a.rules[f],i++)}else{for(;o<c;)i+=this.modules[o++].rules.length;i+=a.rules.length,o++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let s="";for(let c=0;c<this.modules.length;c++)s+=this.modules[c].getRules()+`
`;this.styleTag.textContent=s;let a=t.head||t;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Di={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ka={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},cN=typeof navigator<"u"&&/Mac/.test(navigator.platform),uN=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Wt=0;Wt<10;Wt++)Di[48+Wt]=Di[96+Wt]=String(Wt);for(var Wt=1;Wt<=24;Wt++)Di[Wt+111]="F"+Wt;for(var Wt=65;Wt<=90;Wt++)Di[Wt]=String.fromCharCode(Wt+32),Ka[Wt]=String.fromCharCode(Wt);for(var zd in Di)Ka.hasOwnProperty(zd)||(Ka[zd]=Di[zd]);function fN(n){var e=cN&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||uN&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Ka:Di)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function rt(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)OC(n,arguments[e]);return n}function OC(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)OC(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}function Ga(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function sm(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function fu(n,e){if(!e.anchorNode)return!1;try{return sm(n,e.anchorNode)}catch{return!1}}function As(n){return n.nodeType==3?wo(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Oa(n,e,t,r){return t?wx(n,e,t,r,-1)||wx(n,e,t,r,1):!1}function yo(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Nu(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function wx(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Ar(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=yo(n)+(i<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=i<0?Ar(n):0}else return!1}}function Ar(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function ml(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function hN(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function DC(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function dN(n,e,t,r,i,o,s,a){let c=n.ownerDocument,f=c.defaultView||window;for(let h=n,d=!1;h&&!d;)if(h.nodeType==1){let g,b=h==c.body,x=1,v=1;if(b)g=hN(f);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(d=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let k=h.getBoundingClientRect();({scaleX:x,scaleY:v}=DC(h,k)),g={left:k.left,right:k.left+h.clientWidth*x,top:k.top,bottom:k.top+h.clientHeight*v}}let w=0,C=0;if(i=="nearest")e.top<g.top?(C=e.top-(g.top+s),t>0&&e.bottom>g.bottom+C&&(C=e.bottom-g.bottom+s)):e.bottom>g.bottom&&(C=e.bottom-g.bottom+s,t<0&&e.top-C<g.top&&(C=e.top-(g.top+s)));else{let k=e.bottom-e.top,A=g.bottom-g.top;C=(i=="center"&&k<=A?e.top+k/2-A/2:i=="start"||i=="center"&&t<0?e.top-s:e.bottom-A+s)-g.top}if(r=="nearest"?e.left<g.left?(w=e.left-(g.left+o),t>0&&e.right>g.right+w&&(w=e.right-g.right+o)):e.right>g.right&&(w=e.right-g.right+o,t<0&&e.left<g.left+w&&(w=e.left-(g.left+o))):w=(r=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:r=="start"==a?e.left-o:e.right-(g.right-g.left)+o)-g.left,w||C)if(b)f.scrollBy(w,C);else{let k=0,A=0;if(C){let R=h.scrollTop;h.scrollTop+=C/v,A=(h.scrollTop-R)*v}if(w){let R=h.scrollLeft;h.scrollLeft+=w/x,k=(h.scrollLeft-R)*x}e={left:e.left-k,top:e.top-A,right:e.right-k,bottom:e.bottom-A},k&&Math.abs(k-w)<1&&(r="nearest"),A&&Math.abs(A-C)<1&&(i="nearest")}if(b)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function pN(n){let e=n.ownerDocument,t,r;for(let i=n.parentNode;i&&!(i==e.body||t&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:r}}class mN{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?Ar(t):0),r,Math.min(e.focusOffset,r?Ar(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let es=null;function IC(n){if(n.setActive)return n.setActive();if(es)return n.focus(es);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(es==null?{get preventScroll(){return es={preventScroll:!0},!0}}:void 0),!es){es=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],o=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let $x;function wo(n,e,t=e){let r=$x||($x=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function ds(n,e,t,r){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,n.dispatchEvent(o);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,n.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function gN(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function _C(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function bN(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,Ar(t));;)if(r){if(t.nodeType!=1)return!1;let i=t.childNodes[r-1];i.contentEditable=="false"?r--:(t=i,r=Ar(t))}else{if(t==n)return!0;r=yo(t),t=t.parentNode}}function LC(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function NC(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=Ar(t)}else if(t.parentNode&&!Nu(t))r=yo(t),t=t.parentNode;else return null}}function BC(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!Nu(t))r=yo(t)+1,t=t.parentNode;else return null}}class Gt{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new Gt(e.parentNode,yo(e),t)}static after(e,t){return new Gt(e.parentNode,yo(e)+1,t)}}const r0=[];class ot{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,i=null,o;for(let s of this.children){if(s.flags&7){if(!s.dom&&(o=i?i.nextSibling:r.firstChild)){let a=ot.get(o);(!a||!a.parent&&a.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(e,t),s.flags&=-8}if(o=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&o!=s.dom&&(t.written=!0),s.dom.parentNode==r)for(;o&&o!=s.dom;)o=Cx(o);else r.insertBefore(s.dom,o);i=s.dom}for(o=i?i.nextSibling:r.firstChild,o&&t&&t.node==r&&(t.written=!0);o;)o=Cx(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=Ar(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!ot.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==r)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,o=-1,s=-1,a=-1;for(let c=0,f=r,h=r;c<this.children.length;c++){let d=this.children[c],g=f+d.length;if(f<e&&g>t)return d.domBoundsAround(e,t,f);if(g>=e&&i==-1&&(i=c,o=f),f>t&&d.dom.parentNode==this.dom){s=c,a=h;break}h=g,f=g+d.breakAfter}return{from:o,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=r0){this.markDirty();for(let i=e;i<t;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new FC(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}ot.prototype.breakAfter=0;function Cx(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class FC{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function WC(n,e,t,r,i,o,s,a,c){let{children:f}=n,h=f.length?f[e]:null,d=o.length?o[o.length-1]:null,g=d?d.breakAfter:s;if(!(e==r&&h&&!s&&!g&&o.length<2&&h.merge(t,i,o.length?d:null,t==0,a,c))){if(r<f.length){let b=f[r];b&&(i<b.length||b.breakAfter&&d?.breakAfter)?(e==r&&(b=b.split(i),i=0),!g&&d&&b.merge(0,i,d,!0,0,c)?o[o.length-1]=b:((i||b.children.length&&!b.children[0].length)&&b.merge(0,i,null,!1,0,c),o.push(b))):b?.breakAfter&&(d?d.breakAfter=1:s=1),r++}for(h&&(h.breakAfter=s,t>0&&(!s&&o.length&&h.merge(t,h.length,o[0],!1,a,0)?h.breakAfter=o.shift().breakAfter:(t<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(t,h.length,null,!1,a,0),e++));e<r&&o.length;)if(f[r-1].become(o[o.length-1]))r--,o.pop(),c=o.length?0:a;else if(f[e].become(o[0]))e++,o.shift(),a=o.length?0:c;else break;!o.length&&e&&r<f.length&&!f[e-1].breakAfter&&f[r].merge(0,0,f[e-1],!1,a,c)&&e--,(e<r||o.length)&&n.replaceChildren(e,r,o)}}function VC(n,e,t,r,i,o){let s=n.childCursor(),{i:a,off:c}=s.findPos(t,1),{i:f,off:h}=s.findPos(e,-1),d=e-t;for(let g of r)d+=g.length;n.length+=d,WC(n,f,h,a,c,r,0,i,o)}let fn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},am=typeof document<"u"?document:{documentElement:{style:{}}};const lm=/Edge\/(\d+)/.exec(fn.userAgent),jC=/MSIE \d/.test(fn.userAgent),cm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fn.userAgent),Lf=!!(jC||cm||lm),Sx=!Lf&&/gecko\/(\d+)/i.test(fn.userAgent),Ud=!Lf&&/Chrome\/(\d+)/.exec(fn.userAgent),vN="webkitFontSmoothing"in am.documentElement.style,HC=!Lf&&/Apple Computer/.test(fn.vendor),kx=HC&&(/Mobile\/\w+/.test(fn.userAgent)||fn.maxTouchPoints>2);var fe={mac:kx||/Mac/.test(fn.platform),windows:/Win/.test(fn.platform),linux:/Linux|X11/.test(fn.platform),ie:Lf,ie_version:jC?am.documentMode||6:cm?+cm[1]:lm?+lm[1]:0,gecko:Sx,gecko_version:Sx?+(/Firefox\/(\d+)/.exec(fn.userAgent)||[0,0])[1]:0,chrome:!!Ud,chrome_version:Ud?+Ud[1]:0,ios:kx,android:/Android\b/.test(fn.userAgent),safari:HC,webkit_version:vN?+(/\bAppleWebKit\/(\d+)/.exec(fn.userAgent)||[0,0])[1]:0,tabSize:am.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const xN=256;class nr extends ot{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof nr)||this.length-(t-e)+r.length>xN||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new nr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Gt(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return yN(this.dom,e,t)}}class ni extends ot{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(_C(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,o,s){return r&&(!(r instanceof ni&&r.mark.eq(this.mark))||e&&o<=0||t<this.length&&s<=0)?!1:(VC(this,e,t,r?r.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,o=0;for(let a of this.children){let c=r+a.length;c>e&&t.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=o),r=c,o++}let s=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new ni(this.mark,t,s)}domAtPos(e){return zC(this,e)}coordsAt(e,t){return KC(this,e,t)}}function yN(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,o=e,s=0;e==0&&t<0||e==r&&t>=0?fe.chrome||fe.gecko||(e?(i--,s=1):o<r&&(o++,s=-1)):t<0?i--:o<r&&o++;let a=wo(n,i,o).getClientRects();if(!a.length)return null;let c=a[(s?s<0:t>=0)?0:a.length-1];return fe.safari&&!s&&c.width==0&&(c=Array.prototype.find.call(a,f=>f.width)||c),s?ml(c,s<0):c||null}class Ai extends ot{static create(e,t,r){return new Ai(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=Ai.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,i,o,s){return r&&(!(r instanceof Ai)||!this.widget.compare(r.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof Ai&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Xe.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Xe.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Gt.before(this.dom):Gt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let s=this.side?this.side<0:e>0;for(let a=s?i.length-1:0;o=i[a],!(e>0?a==0:a==i.length-1||o.top<o.bottom);a+=s?-1:1);return ml(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Es extends ot{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Es&&e.side==this.side}split(){return new Es(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Gt.before(this.dom):Gt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Xe.empty}get isHidden(){return!0}}nr.prototype.children=Ai.prototype.children=Es.prototype.children=r0;function zC(n,e){let t=n.dom,{children:r}=n,i=0;for(let o=0;i<r.length;i++){let s=r[i],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(e>o&&e<a&&s.dom.parentNode==t)return s.domAtPos(e-o);if(e<=o)break;o=a}}for(let o=i;o>0;o--){let s=r[o-1];if(s.dom.parentNode==t)return s.domAtPos(s.length)}for(let o=i;o<r.length;o++){let s=r[o];if(s.dom.parentNode==t)return s.domAtPos(0)}return new Gt(t,0)}function UC(n,e,t){let r,{children:i}=n;t>0&&e instanceof ni&&i.length&&(r=i[i.length-1])instanceof ni&&r.mark.eq(e.mark)?UC(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function KC(n,e,t){let r=null,i=-1,o=null,s=-1;function a(f,h){for(let d=0,g=0;d<f.children.length&&g<=h;d++){let b=f.children[d],x=g+b.length;x>=h&&(b.children.length?a(b,h-g):(!o||o.isHidden&&(t>0||$N(o,b)))&&(x>h||g==x&&b.getSide()>0)?(o=b,s=h-g):(g<h||g==x&&b.getSide()<0&&!b.isHidden)&&(r=b,i=h-g)),g=x}}a(n,e);let c=(t<0?r:o)||r||o;return c?c.coordsAt(Math.max(0,c==r?i:s),t):wN(n)}function wN(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=As(e);return t[t.length-1]||null}function $N(n,e){let t=n.coordsAt(0,1),r=e.coordsAt(0,1);return t&&r&&r.top<t.bottom}function um(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const Ax=Object.create(null);function Bu(n,e,t){if(n==e)return!0;n||(n=Ax),e||(e=Ax);let r=Object.keys(n),i=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let o of r)if(o!=t&&(i.indexOf(o)==-1||n[o]!==e[o]))return!1;return!0}function fm(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i=="style"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function CN(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class ai{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var nn=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(nn||(nn={}));class ye extends xo{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new gl(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Ii(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:s}=GC(e,t);r=(o?t?-3e8:-1:5e8)-1,i=(s?t?2e8:1:-6e8)+1}return new Ii(e,r,i,t,e.widget||null,!0)}static line(e){return new bl(e)}static set(e,t=!1){return Ye.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ye.none=Ye.empty;class gl extends ye{constructor(e){let{start:t,end:r}=GC(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof gl&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&Bu(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}gl.prototype.point=!1;class bl extends ye{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof bl&&this.spec.class==e.spec.class&&Bu(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}bl.prototype.mapMode=tn.TrackBefore;bl.prototype.point=!0;class Ii extends ye{constructor(e,t,r,i,o,s){super(t,r,o,e),this.block=i,this.isReplace=s,this.mapMode=i?t<=0?tn.TrackBefore:tn.TrackAfter:tn.TrackDel}get type(){return this.startSide!=this.endSide?nn.WidgetRange:this.startSide<=0?nn.WidgetBefore:nn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Ii&&SN(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Ii.prototype.point=!0;function GC(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function SN(n,e){return n==e||!!(n&&e&&n.compare(e))}function hu(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}class Ct extends ot{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,o,s){if(r){if(!(r instanceof Ct))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),VC(this,e,t,r?r.children.slice():[],o,s),!0}split(e){let t=new Ct;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)t.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Bu(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){UC(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=um(t,this.attrs||{})),r&&(this.attrs=um({class:r},this.attrs||{}))}domAtPos(e){return zC(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(_C(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(fm(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&ot.get(i)instanceof ni;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=ot.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!fe.ios||!this.children.some(o=>o instanceof nr))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof nr)||/[^ -~]/.test(r.text))return null;let i=As(r.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=KC(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return e instanceof Ct&&this.children.length==0&&e.children.length==0&&Bu(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],s=i+o.length;if(s>=t){if(o instanceof Ct)return o;if(s>t)break}i=s+o.breakAfter}return null}}class Zr extends ot{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,o,s){return r&&(!(r instanceof Zr)||!this.widget.compare(r.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Gt.before(this.dom):Gt.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new Zr(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return r0}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Xe.empty}domBoundsAround(){return null}become(e){return e instanceof Zr&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof hm?null:ml(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class hm extends ai{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Da{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Zr&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Ct),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Wc(new Es(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Zr)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(Wc(new nr(this.text.slice(this.textOff,this.textOff+i)),t),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof Ii){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(r instanceof Ii)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Zr(r.widget||Rs.block,a,r));else{let c=Ai.create(r.widget||Rs.inline,a,a?0:r.startSide),f=this.atCursorPos&&!c.isEditable&&o<=i.length&&(e<t||r.startSide>0),h=!c.isEditable&&(e<t||o>i.length||r.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!f&&!c.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),f&&(d.append(Wc(new Es(1),i),o),o=i.length+Math.max(0,o-i.length)),d.append(Wc(c,i),o),this.atCursorPos=h,this.pendingBuffer=h?e<t||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,r,i,o){let s=new Da(e,t,r,o);return s.openEnd=Ye.spans(i,t,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function Wc(n,e){for(let t of e)n=new ni(t,[n],n.length);return n}class Rs extends ai{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Rs.inline=new Rs("span");Rs.block=new Rs("div");var ct=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(ct||(ct={}));const $o=ct.LTR,i0=ct.RTL;function qC(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const kN=qC("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),AN=qC("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),dm=Object.create(null),pr=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);dm[e]=t,dm[t]=-e}function YC(n){return n<=247?kN[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?AN[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const EN=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Ei{get dir(){return this.level%2?i0:$o}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,i){let o=-1;for(let s=0;s<e.length;s++){let a=e[s];if(a.from<=t&&a.to>=t){if(a.level==r)return s;(o<0||(i!=0?i<0?a.from<t:a.to>t:e[o].level>a.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}function XC(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!XC(r.inner,i.inner))return!1}return!0}const it=[];function RN(n,e,t,r,i){for(let o=0;o<=r.length;o++){let s=o?r[o-1].to:e,a=o<r.length?r[o].from:t,c=o?256:i;for(let f=s,h=c,d=c;f<a;f++){let g=YC(n.charCodeAt(f));g==512?g=h:g==8&&d==4&&(g=16),it[f]=g==4?2:g,g&7&&(d=g),h=g}for(let f=s,h=c,d=c;f<a;f++){let g=it[f];if(g==128)f<a-1&&h==it[f+1]&&h&24?g=it[f]=h:it[f]=256;else if(g==64){let b=f+1;for(;b<a&&it[b]==64;)b++;let x=f&&h==8||b<t&&it[b]==8?d==1?1:8:256;for(let v=f;v<b;v++)it[v]=x;f=b-1}else g==8&&d==1&&(it[f]=1);h=g,g&7&&(d=g)}}}function TN(n,e,t,r,i){let o=i==1?2:1;for(let s=0,a=0,c=0;s<=r.length;s++){let f=s?r[s-1].to:e,h=s<r.length?r[s].from:t;for(let d=f,g,b,x;d<h;d++)if(b=dm[g=n.charCodeAt(d)])if(b<0){for(let v=a-3;v>=0;v-=3)if(pr[v+1]==-b){let w=pr[v+2],C=w&2?i:w&4?w&1?o:i:0;C&&(it[d]=it[pr[v]]=C),a=v;break}}else{if(pr.length==189)break;pr[a++]=d,pr[a++]=g,pr[a++]=c}else if((x=it[d])==2||x==1){let v=x==i;c=v?0:1;for(let w=a-3;w>=0;w-=3){let C=pr[w+2];if(C&2)break;if(v)pr[w+2]|=2;else{if(C&4)break;pr[w+2]|=4}}}}}function PN(n,e,t,r){for(let i=0,o=r;i<=t.length;i++){let s=i?t[i-1].to:n,a=i<t.length?t[i].from:e;for(let c=s;c<a;){let f=it[c];if(f==256){let h=c+1;for(;;)if(h==a){if(i==t.length)break;h=t[i++].to,a=i<t.length?t[i].from:e}else if(it[h]==256)h++;else break;let d=o==1,g=(h<e?it[h]:r)==1,b=d==g?d?1:2:r;for(let x=h,v=i,w=v?t[v-1].to:n;x>c;)x==w&&(x=t[--v].from,w=v?t[v-1].to:n),it[--x]=b;c=h}else o=f,c++}}}function pm(n,e,t,r,i,o,s){let a=r%2?2:1;if(r%2==i%2)for(let c=e,f=0;c<t;){let h=!0,d=!1;if(f==o.length||c<o[f].from){let v=it[c];v!=a&&(h=!1,d=v==16)}let g=!h&&a==1?[]:null,b=h?r:r+1,x=c;e:for(;;)if(f<o.length&&x==o[f].from){if(d)break e;let v=o[f];if(!h)for(let w=v.to,C=f+1;;){if(w==t)break e;if(C<o.length&&o[C].from==w)w=o[C++].to;else{if(it[w]==a)break e;break}}if(f++,g)g.push(v);else{v.from>c&&s.push(new Ei(c,v.from,b));let w=v.direction==$o!=!(b%2);mm(n,w?r+1:r,i,v.inner,v.from,v.to,s),c=v.to}x=v.to}else{if(x==t||(h?it[x]!=a:it[x]==a))break;x++}g?pm(n,c,x,r+1,i,g,s):c<x&&s.push(new Ei(c,x,b)),c=x}else for(let c=t,f=o.length;c>e;){let h=!0,d=!1;if(!f||c>o[f-1].to){let v=it[c-1];v!=a&&(h=!1,d=v==16)}let g=!h&&a==1?[]:null,b=h?r:r+1,x=c;e:for(;;)if(f&&x==o[f-1].to){if(d)break e;let v=o[--f];if(!h)for(let w=v.from,C=f;;){if(w==e)break e;if(C&&o[C-1].to==w)w=o[--C].from;else{if(it[w-1]==a)break e;break}}if(g)g.push(v);else{v.to<c&&s.push(new Ei(v.to,c,b));let w=v.direction==$o!=!(b%2);mm(n,w?r+1:r,i,v.inner,v.from,v.to,s),c=v.from}x=v.from}else{if(x==e||(h?it[x-1]!=a:it[x-1]==a))break;x--}g?pm(n,x,c,r+1,i,g,s):x<c&&s.push(new Ei(x,c,b)),c=x}}function mm(n,e,t,r,i,o,s){let a=e%2?2:1;RN(n,i,o,r,a),TN(n,i,o,r,a),PN(i,o,r,a),pm(n,i,o,e,t,r,s)}function MN(n,e,t){if(!n)return[new Ei(0,0,e==i0?1:0)];if(e==$o&&!t.length&&!EN.test(n))return ZC(n.length);if(t.length)for(;n.length>it.length;)it[it.length]=256;let r=[],i=e==$o?0:1;return mm(n,i,i,t,0,n.length,r),r}function ZC(n){return[new Ei(0,n,0)]}let QC="";function ON(n,e,t,r,i){var o;let s=r.head-n.from,a=Ei.find(e,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),c=e[a],f=c.side(i,t);if(s==f){let g=a+=i?1:-1;if(g<0||g>=e.length)return null;c=e[a=g],s=c.side(!i,t),f=c.side(i,t)}let h=Vt(n.text,s,c.forward(i,t));(h<c.from||h>c.to)&&(h=f),QC=n.text.slice(Math.min(s,h),Math.max(s,h));let d=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return d&&h==f&&d.level+(i?0:1)<c.level?X.cursor(d.side(!i,t)+n.from,d.forward(i,t)?1:-1,d.level):X.cursor(h+n.from,c.forward(i,t)?-1:1,c.level)}function DN(n,e,t){for(let r=e;r<t;r++){let i=YC(n.charCodeAt(r));if(i==1)return $o;if(i==2||i==4)return i0}return $o}const JC=ce.define(),eS=ce.define(),tS=ce.define(),nS=ce.define(),gm=ce.define(),rS=ce.define(),iS=ce.define(),o0=ce.define(),s0=ce.define(),oS=ce.define({combine:n=>n.some(e=>e)}),sS=ce.define({combine:n=>n.some(e=>e)}),aS=ce.define();class ps{constructor(e,t="nearest",r="nearest",i=5,o=5,s=!1){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=s}map(e){return e.empty?this:new ps(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ps(X.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Vc=Oe.define({map:(n,e)=>n.map(e)}),lS=Oe.define();function dn(n,e,t){let r=n.facet(nS);r.length?r[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const Gr=ce.define({combine:n=>n.length?n[0]:!0});let IN=0;const os=ce.define({combine(n){return n.filter((e,t)=>{for(let r=0;r<t;r++)if(n[r].plugin==e.plugin)return!1;return!0})}});class wt{constructor(e,t,r,i,o){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=o(this),this.extension=this.baseExtensions.concat(os.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(os.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:r,eventObservers:i,provide:o,decorations:s}=t||{};return new wt(IN++,e,r,i,a=>{let c=[];return s&&c.push(qa.of(f=>{let h=f.plugin(a);return h?s(h):ye.none})),o&&c.push(o(a)),c})}static fromClass(e,t){return wt.define((r,i)=>new e(r,i),t)}}class Kd{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(dn(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){dn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){dn(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const cS=ce.define(),a0=ce.define(),qa=ce.define(),uS=ce.define(),l0=ce.define(),fS=ce.define();function Ex(n,e){let t=n.state.facet(fS);if(!t.length)return t;let r=t.map(o=>o instanceof Function?o(n):o),i=[];return Ye.spans(r,e.from,e.to,{point(){},span(o,s,a,c){let f=o-e.from,h=s-e.from,d=i;for(let g=a.length-1;g>=0;g--,c--){let b=a[g].spec.bidiIsolate,x;if(b==null&&(b=DN(e.text,f,h)),c>0&&d.length&&(x=d[d.length-1]).to==f&&x.direction==b)x.to=h,d=x.inner;else{let v={from:f,to:h,direction:b,inner:[]};d.push(v),d=v.inner}}}}),i}const hS=ce.define();function c0(n){let e=0,t=0,r=0,i=0;for(let o of n.state.facet(hS)){let s=o(n);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(t=Math.max(t,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:e,right:t,top:r,bottom:i}}const ka=ce.define();class jn{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new jn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,o=0,s=0,a=0;;i++){let c=i==e.length?null:e[i],f=s-a,h=c?c.fromB:1e9;for(;o<t.length&&t[o]<h;){let d=t[o],g=t[o+1],b=Math.max(a,d),x=Math.min(h,g);if(b<=x&&new jn(b+f,x+f,b,x).addToSet(r),g>h)break;o+=2}if(!c)return r;new jn(c.fromA,c.toA,c.fromB,c.toB).addToSet(r),s=c.toA,a=c.toB}}}class Fu{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Rt.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,a,c)=>i.push(new jn(o,s,a,c))),this.changedRanges=i}static create(e,t,r){return new Fu(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class Rx extends ot{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=ye.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Ct],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new jn(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:f,toA:h})=>h<this.minWidthFrom||f>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!VN(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?LN(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:f,to:h}=this.hasComposition;r=new jn(f,h,e.changes.mapPos(f,-1),e.changes.mapPos(h,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(fe.ie||fe.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,a=this.updateDeco(),c=FN(s,a,e.changes);return r=jn.extendWithRanges(r,c),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=fe.chrome||fe.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof Zr&&s.widget instanceof hm&&o.push(s.dom);i.updateGaps(o)}updateChildren(e,t,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(t);for(let s=i.length-1;;s--){let a=s>=0?i[s]:null;if(!a)break;let{fromA:c,toA:f,fromB:h,toB:d}=a,g,b,x,v;if(r&&r.range.fromB<d&&r.range.toB>h){let R=Da.build(this.view.state.doc,h,r.range.fromB,this.decorations,this.dynamicDecorationMap),T=Da.build(this.view.state.doc,r.range.toB,d,this.decorations,this.dynamicDecorationMap);b=R.breakAtStart,x=R.openStart,v=T.openEnd;let D=this.compositionView(r);T.breakAtStart?D.breakAfter=1:T.content.length&&D.merge(D.length,D.length,T.content[0],!1,T.openStart,0)&&(D.breakAfter=T.content[0].breakAfter,T.content.shift()),R.content.length&&D.merge(0,0,R.content[R.content.length-1],!0,0,R.openEnd)&&R.content.pop(),g=R.content.concat(D).concat(T.content)}else({content:g,breakAtStart:b,openStart:x,openEnd:v}=Da.build(this.view.state.doc,h,d,this.decorations,this.dynamicDecorationMap));let{i:w,off:C}=o.findPos(f,1),{i:k,off:A}=o.findPos(c,-1);WC(this,k,A,w,C,g,b,x,v)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(lS)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new nr(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new ni(i,[t],t.length);let r=new Ct;return r.append(t,0),r}fixCompositionDOM(e){let t=(o,s)=>{s.flags|=8|(s.children.some(c=>c.flags&7)?1:0),this.markedForComposition.add(s);let a=ot.get(o);a&&a!=s&&(a.dom=null),s.setDOM(o)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];t(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],t(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&!(this.view.state.facet(Gr)||this.dom.tabIndex>-1)&&fu(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||t||o))return;let s=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,c=this.moveToLine(this.domAtPos(a.anchor)),f=a.empty?c:this.moveToLine(this.domAtPos(a.head));if(fe.gecko&&a.empty&&!this.hasComposition&&_N(c)){let d=document.createTextNode("");this.view.observer.ignore(()=>c.node.insertBefore(d,c.node.childNodes[c.offset]||null)),c=f=new Gt(d,0),s=!0}let h=this.view.observer.selectionRange;(s||!h.focusNode||(!Oa(c.node,c.offset,h.anchorNode,h.anchorOffset)||!Oa(f.node,f.offset,h.focusNode,h.focusOffset))&&!this.suppressWidgetCursorChange(h,a))&&(this.view.observer.ignore(()=>{fe.android&&fe.chrome&&this.dom.contains(h.focusNode)&&WN(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=Ga(this.view.root);if(d)if(a.empty){if(fe.gecko){let g=NN(c.node,c.offset);if(g&&g!=3){let b=(g==1?NC:BC)(c.node,c.offset);b&&(c=new Gt(b.node,b.offset))}}d.collapse(c.node,c.offset),a.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=a.bidiLevel)}else if(d.extend){d.collapse(c.node,c.offset);try{d.extend(f.node,f.offset)}catch{}}else{let g=document.createRange();a.anchor>a.head&&([c,f]=[f,c]),g.setEnd(f.node,f.offset),g.setStart(c.node,c.offset),d.removeAllRanges(),d.addRange(g)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(c,f)),this.impreciseAnchor=c.precise?null:new Gt(h.anchorNode,h.anchorOffset),this.impreciseHead=f.precise?null:new Gt(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Oa(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=Ga(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let s=Ct.find(this,t.head);if(!s)return;let a=s.posAtStart;if(t.head==a||t.head==a+s.length)return;let c=this.coordsAt(t.head,-1),f=this.coordsAt(t.head,1);if(!c||!f||c.bottom>f.top)return;let h=this.domAtPos(t.head+t.assoc);r.collapse(h.node,h.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=t.from&&r.collapse(i,o)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let i=e.offset;!r&&i<t.childNodes.length;i++){let o=ot.get(t.childNodes[i]);o instanceof Ct&&(r=o.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let o=ot.get(t.childNodes[i]);o instanceof Ct&&(r=o.domAtPos(o.length))}return r?new Gt(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=ot.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof Ct)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,i=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let a=this.children[s],c=o-a.breakAfter,f=c-a.length;if(c<e)break;if(f<=e&&(f<e||a.covers(-1))&&(c>e||a.covers(1))&&(!r||a instanceof Ct&&!(r instanceof Ct&&t>=0)))r=a,i=f;else if(r&&f==e&&c==e&&a instanceof Zr&&Math.abs(t)<2){if(a.deco.startSide<0)break;s&&(r=null)}o=f}return r?r.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof Ct))return null;for(;i.children.length;){let{i:a,off:c}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=c}if(!(i instanceof nr))return null;let o=Vt(i.text,r);if(o==r)return null;let s=wo(i.dom,r,o).getClientRects();for(let a=0;a<s.length;a++){let c=s[a];if(a==s.length-1||c.top<c.bottom&&c.left<c.right)return c}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,c=this.view.textDirection==ct.LTR;for(let f=0,h=0;h<this.children.length;h++){let d=this.children[h],g=f+d.length;if(g>i)break;if(f>=r){let b=d.dom.getBoundingClientRect();if(t.push(b.height),s){let x=d.dom.lastChild,v=x?As(x):[];if(v.length){let w=v[v.length-1],C=c?w.right-b.left:b.right-w.left;C>a&&(a=C,this.minWidth=o,this.minWidthFrom=f,this.minWidthTo=g)}}}f=g+d.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?ct.RTL:ct.LTR}measureTextSize(){for(let o of this.children)if(o instanceof Ct){let s=o.measureTextSize();if(s)return s}let e=document.createElement("div"),t,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=As(e.firstChild)[0];t=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new FC(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let o=i==t.viewports.length?null:t.viewports[i],s=o?o.from-1:this.length;if(s>r){let a=(t.lineBlockAt(s).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(ye.replace({widget:new hm(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!o)break;r=o.to+1}return ye.set(e)}updateDeco(){let e=1,t=this.view.state.facet(qa).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),r=!1,i=this.view.state.facet(uS).map((o,s)=>{let a=typeof o=="function";return a&&(r=!0),a?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(Ye.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let f=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=f.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let f of this.view.state.facet(aS))try{if(f(this.view,e.range,e))return!0}catch(h){dn(this.view.state,h,"scroll handler")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=c0(this.view),s={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:a,offsetHeight:c}=this.view.scrollDOM;dN(this.view.scrollDOM,s,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,c),-c),this.view.textDirection==ct.LTR)}}function _N(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function dS(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=NC(t.focusNode,t.focusOffset),i=BC(t.focusNode,t.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let a=ot.get(i.node);if(!a||a instanceof nr&&a.text!=i.node.nodeValue)o=i;else if(n.docView.lastCompositionAfterCursor){let c=ot.get(r.node);!c||c instanceof nr&&c.text!=r.node.nodeValue||(o=i)}}if(n.docView.lastCompositionAfterCursor=o!=r,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}function LN(n,e,t){let r=dS(n,t);if(!r)return null;let{node:i,from:o,to:s}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||n.state.doc.sliceString(r.from,r.to)!=a)return null;let c=e.invertedDesc,f=new jn(c.mapPos(o),c.mapPos(s),o,s),h=[];for(let d=i.parentNode;;d=d.parentNode){let g=ot.get(d);if(g instanceof ni)h.push({node:d,deco:g.mark});else{if(g instanceof Ct||d.nodeName=="DIV"&&d.parentNode==n.contentDOM)return{range:f,text:i,marks:h,line:d};if(d!=n.contentDOM)h.push({node:d,deco:new gl({inclusive:!0,attributes:CN(d),tagName:d.tagName.toLowerCase()})});else return null}}}function NN(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let BN=class{constructor(){this.changes=[]}compareRange(e,t){hu(e,t,this.changes)}comparePoint(e,t){hu(e,t,this.changes)}boundChange(e){hu(e,e,this.changes)}};function FN(n,e,t){let r=new BN;return Ye.compare(n,e,t,r),r.changes}function WN(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function VN(n,e){let t=!1;return e&&n.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(t=!0)}),t}function jN(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),o=e-i.from;if(i.length==0)return X.cursor(e);o==0?t=1:o==i.length&&(t=-1);let s=o,a=o;t<0?s=Vt(i.text,o,!1):a=Vt(i.text,o);let c=r(i.text.slice(s,a));for(;s>0;){let f=Vt(i.text,s,!1);if(r(i.text.slice(f,s))!=c)break;s=f}for(;a<i.length;){let f=Vt(i.text,a);if(r(i.text.slice(a,f))!=c)break;a=f}return X.range(s+i.from,a+i.from)}function HN(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function zN(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function Gd(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function Tx(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function Px(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function bm(n,e,t){let r,i,o,s,a=!1,c,f,h,d;for(let x=n.firstChild;x;x=x.nextSibling){let v=As(x);for(let w=0;w<v.length;w++){let C=v[w];i&&Gd(i,C)&&(C=Tx(Px(C,i.bottom),i.top));let k=HN(e,C),A=zN(t,C);if(k==0&&A==0)return x.nodeType==3?Mx(x,e,t):bm(x,e,t);if(!r||s>A||s==A&&o>k){r=x,i=C,o=k,s=A;let R=A?t<C.top?-1:1:k?e<C.left?-1:1:0;a=!R||(R>0?w<v.length-1:w>0)}k==0?t>C.bottom&&(!h||h.bottom<C.bottom)?(c=x,h=C):t<C.top&&(!d||d.top>C.top)&&(f=x,d=C):h&&Gd(h,C)?h=Px(h,C.bottom):d&&Gd(d,C)&&(d=Tx(d,C.top))}}if(h&&h.bottom>=t?(r=c,i=h):d&&d.top<=t&&(r=f,i=d),!r)return{node:n,offset:0};let g=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return Mx(r,g,t);if(a&&r.contentEditable!="false")return bm(r,g,t);let b=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:n,offset:b}}function Mx(n,e,t){let r=n.nodeValue.length,i=-1,o=1e9,s=0;for(let a=0;a<r;a++){let c=wo(n,a,a+1).getClientRects();for(let f=0;f<c.length;f++){let h=c[f];if(h.top==h.bottom)continue;s||(s=e-h.left);let d=(h.top>t?h.top-t:t-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&d<o){let g=e>=(h.left+h.right)/2,b=g;if((fe.chrome||fe.gecko)&&wo(n,a).getBoundingClientRect().left==h.right&&(b=!g),d<=0)return{node:n,offset:a+(b?1:0)};i=a+(b?1:0),o=d}}}return{node:n,offset:i>-1?i:s>0?n.nodeValue.length:0}}function pS(n,e,t,r=-1){var i,o;let s=n.contentDOM.getBoundingClientRect(),a=s.top+n.viewState.paddingTop,c,{docHeight:f}=n.viewState,{x:h,y:d}=e,g=d-a;if(g<0)return 0;if(g>f)return n.state.doc.length;for(let R=n.viewState.heightOracle.textHeight/2,T=!1;c=n.elementAtHeight(g),c.type!=nn.Text;)for(;g=r>0?c.bottom+R:c.top-R,!(g>=0&&g<=f);){if(T)return t?null:0;T=!0,r=-r}d=a+g;let b=c.from;if(b<n.viewport.from)return n.viewport.from==0?0:t?null:Ox(n,s,c,h,d);if(b>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:Ox(n,s,c,h,d);let x=n.dom.ownerDocument,v=n.root.elementFromPoint?n.root:x,w=v.elementFromPoint(h,d);w&&!n.contentDOM.contains(w)&&(w=null),w||(h=Math.max(s.left+1,Math.min(s.right-1,h)),w=v.elementFromPoint(h,d),w&&!n.contentDOM.contains(w)&&(w=null));let C,k=-1;if(w&&((i=n.docView.nearest(w))===null||i===void 0?void 0:i.isEditable)!=!1){if(x.caretPositionFromPoint){let R=x.caretPositionFromPoint(h,d);R&&({offsetNode:C,offset:k}=R)}else if(x.caretRangeFromPoint){let R=x.caretRangeFromPoint(h,d);R&&({startContainer:C,startOffset:k}=R,(!n.contentDOM.contains(C)||fe.safari&&UN(C,k,h)||fe.chrome&&KN(C,k,h))&&(C=void 0))}C&&(k=Math.min(Ar(C),k))}if(!C||!n.docView.dom.contains(C)){let R=Ct.find(n.docView,b);if(!R)return g>c.top+c.height/2?c.to:c.from;({node:C,offset:k}=bm(R.dom,h,d))}let A=n.docView.nearest(C);if(!A)return null;if(A.isWidget&&((o=A.dom)===null||o===void 0?void 0:o.nodeType)==1){let R=A.dom.getBoundingClientRect();return e.y<R.top||e.y<=R.bottom&&e.x<=(R.left+R.right)/2?A.posAtStart:A.posAtEnd}else return A.localPosFromDOM(C,k)+A.posAtStart}function Ox(n,e,t,r,i){let o=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let a=n.viewState.heightOracle.textHeight,c=Math.floor((i-t.top-(n.defaultLineHeight-a)*.5)/a);o+=c*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(t.from,t.to);return t.from+rm(s,o,n.state.tabSize)}function UN(n,e,t){let r;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(let i=n.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return wo(n,r-1,r).getBoundingClientRect().left>t}function KN(n,e,t){if(e!=0)return!1;for(let i=n;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=n.nodeType==1?n.getBoundingClientRect():wo(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function vm(n,e,t){let r=n.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let o of r.type){if(o.from>e)break;if(!(o.to<e)){if(o.from<e&&o.to>e)return o;(!i||o.type==nn.Text&&(i.type!=o.type||(t<0?o.from<e:o.to>e)))&&(i=o)}}return i||r}return r}function GN(n,e,t,r){let i=vm(n,e.head,e.assoc||-1),o=!r||i.type!=nn.Text||!(n.lineWrapping||i.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let s=n.dom.getBoundingClientRect(),a=n.textDirectionAt(i.from),c=n.posAtCoords({x:t==(a==ct.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(c!=null)return X.cursor(c,t?-1:1)}return X.cursor(t?i.to:i.from,t?-1:1)}function Dx(n,e,t,r){let i=n.state.doc.lineAt(e.head),o=n.bidiSpans(i),s=n.textDirectionAt(i.from);for(let a=e,c=null;;){let f=ON(i,o,s,a,t),h=QC;if(!f){if(i.number==(t?n.state.doc.lines:1))return a;h=`
`,i=n.state.doc.line(i.number+(t?1:-1)),o=n.bidiSpans(i),f=n.visualLineSide(i,!t)}if(c){if(!c(h))return a}else{if(!r)return f;c=r(h)}a=f}}function qN(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return o=>{let s=r(o);return i==ht.Space&&(i=s),i==s}}function YN(n,e,t,r){let i=e.head,o=t?1:-1;if(i==(t?n.state.doc.length:0))return X.cursor(i,e.assoc);let s=e.goalColumn,a,c=n.contentDOM.getBoundingClientRect(),f=n.coordsAtPos(i,e.assoc||-1),h=n.documentTop;if(f)s==null&&(s=f.left-c.left),a=o<0?f.top:f.bottom;else{let b=n.viewState.lineBlockAt(i);s==null&&(s=Math.min(c.right-c.left,n.defaultCharacterWidth*(i-b.from))),a=(o<0?b.top:b.bottom)+h}let d=c.left+s,g=r??n.viewState.heightOracle.textHeight>>1;for(let b=0;;b+=10){let x=a+(g+b)*o,v=pS(n,{x:d,y:x},!1,o);if(x<c.top||x>c.bottom||(o<0?v<i:v>i)){let w=n.docView.coordsForChar(v),C=!w||x<w.top?-1:1;return X.cursor(v,C,void 0,s)}}}function du(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(o,s,a)=>{if(e>o&&e<s){let c=r||t||(e-o<s-e?-1:1);e=c<0?o:s,r=c}});if(!r)return e}}function qd(n,e,t){let r=du(n.state.facet(l0).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:X.cursor(r,r<t.from?1:-1)}const Aa="￿";class XN{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Ge.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Aa}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==t)break;let a=ot.get(i),c=ot.get(s);(a&&c?a.breakAfter:(a?a.breakAfter:Nu(i))||Nu(s)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=s}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,a;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(a=i.exec(t))&&(o=a.index,s=a[0].length),this.append(t.slice(r,o<0?t.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let c of this.points)c.node==e&&c.pos>this.text.length&&(c.pos-=s-1);r=o+s}}readNode(e){if(e.cmIgnore)return;let t=ot.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(ZN(e,r.node,r.offset)?t:0))}}function ZN(n,e,t){for(;;){if(!e||t<Ar(e))return!1;if(e==n)return!0;t=yo(e)+1,e=e.parentNode}}class Ix{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class QN{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let a=o||s?[]:tB(e),c=new XN(a,e.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=nB(a,this.bounds.from)}else{let a=e.observer.selectionRange,c=o&&o.node==a.focusNode&&o.offset==a.focusOffset||!sm(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),f=s&&s.node==a.anchorNode&&s.offset==a.anchorOffset||!sm(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),h=e.viewport;if((fe.ios||fe.chrome)&&e.state.selection.main.empty&&c!=f&&(h.from>0||h.to<e.state.doc.length)){let d=Math.min(c,f),g=Math.max(c,f),b=h.from-d,x=h.to-g;(b==0||b==1||d==0)&&(x==0||x==-1||g==e.state.doc.length)&&(c=0,f=e.state.doc.length)}this.newSel=X.single(f,c)}}}function mS(n,e){let t,{newSel:r}=e,i=n.state.selection.main,o=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:a}=e.bounds,c=i.from,f=null;(o===8||fe.android&&e.text.length<a-s)&&(c=i.to,f="end");let h=eB(n.state.doc.sliceString(s,a,Aa),e.text,c-s,f);h&&(fe.chrome&&o==13&&h.toB==h.from+2&&e.text.slice(h.from,h.toB)==Aa+Aa&&h.toB--,t={from:s+h.from,to:s+h.toA,insert:Xe.of(e.text.slice(h.from,h.toB).split(Aa))})}else r&&(!n.hasFocus&&n.state.facet(Gr)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:(fe.mac||fe.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=X.single(r.main.anchor-1,r.main.head-1)),t={from:t.from,to:t.to,insert:Xe.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:fe.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=X.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:Xe.of([" "])}),t)return u0(n,t,r,o);if(r&&!r.main.eq(i)){let s=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(s=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:s,userEvent:a}),!0}else return!1}function u0(n,e,t,r=-1){if(fe.ios&&n.inputState.flushIOSKey(e))return!0;let i=n.state.selection.main;if(fe.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&n.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&ds(n.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&ds(n.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&ds(n.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let s,a=()=>s||(s=JN(n,e,t));return n.state.facet(rS).some(c=>c(n,e.from,e.to,o,a))||n.dispatch(a()),!0}function JN(n,e,t){let r,i=n.state,o=i.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let a=o.from<e.from?i.sliceDoc(o.from,e.from):"",c=o.to>e.to?i.sliceDoc(e.to,o.to):"";r=i.replaceSelection(n.state.toText(a+e.insert.sliceString(0,void 0,n.state.lineBreak)+c))}else{let a=i.changes(e),c=t&&t.main.to<=a.newLength?t.main:void 0;if(i.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let f=n.state.sliceDoc(e.from,e.to),h,d=t&&dS(n,t.main.head);if(d){let x=e.insert.length-(e.to-e.from);h={from:d.from,to:d.to-x}}else h=n.state.doc.lineAt(o.head);let g=o.to-e.to,b=o.to-o.from;r=i.changeByRange(x=>{if(x.from==o.from&&x.to==o.to)return{changes:a,range:c||x.map(a)};let v=x.to-g,w=v-f.length;if(x.to-x.from!=b||n.state.sliceDoc(w,v)!=f||x.to>=h.from&&x.from<=h.to)return{range:x};let C=i.changes({from:w,to:v,insert:e.insert}),k=x.to-o.to;return{changes:C,range:c?X.range(Math.max(0,c.anchor+k),Math.max(0,c.head+k)):x.map(C)}})}else r={changes:a,selection:c&&i.selection.replaceRange(c)}}let s="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,s+=".compose",n.inputState.compositionFirstChange&&(s+=".start",n.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:s,scrollIntoView:!0})}function eB(n,e,t,r){let i=Math.min(n.length,e.length),o=0;for(;o<i&&n.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&n.length==e.length)return null;let s=n.length,a=e.length;for(;s>0&&a>0&&n.charCodeAt(s-1)==e.charCodeAt(a-1);)s--,a--;if(r=="end"){let c=Math.max(0,o-Math.min(s,a));t-=s+c-o}if(s<o&&n.length<e.length){let c=t<=o&&t>=s?o-t:0;o-=c,a=o+(a-s),s=o}else if(a<o){let c=t<=o&&t>=a?o-t:0;o-=c,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}function tB(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}=n.observer.selectionRange;return t&&(e.push(new Ix(t,r)),(i!=t||o!=r)&&e.push(new Ix(i,o))),e}function nB(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?X.single(t+e,r+e):null}class rB{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,fe.safari&&e.contentDOM.addEventListener("input",()=>null),fe.gecko&&xB(e.contentDOM.ownerDocument)}handleEvent(e){!fB(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,t);for(let i of r.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=iB(e),r=this.handlers,i=this.view.contentDOM;for(let o in t)if(o!="scroll"){let s=!t[o].handlers.length,a=r[o];a&&s!=!a.handlers.length&&(i.removeEventListener(o,this.handleEvent),a=null),a||i.addEventListener(o,this.handleEvent,{passive:s})}for(let o in r)o!="scroll"&&!t[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&bS.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),fe.android&&fe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return fe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=gS.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||oB.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,ds(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:fe.safari&&!fe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function _x(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(i){dn(t.state,i)}}}function iB(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec,o=i&&i.plugin.domEventHandlers,s=i&&i.plugin.domEventObservers;if(o)for(let a in o){let c=o[a];c&&t(a).handlers.push(_x(r.value,c))}if(s)for(let a in s){let c=s[a];c&&t(a).observers.push(_x(r.value,c))}}for(let r in rr)t(r).handlers.push(rr[r]);for(let r in Hn)t(r).observers.push(Hn[r]);return e}const gS=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],oB="dthko",bS=[16,17,18,20,91,92,224,225],jc=6;function Hc(n){return Math.max(0,n)*.7+8}function sB(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class aB{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=pN(e.contentDOM),this.atoms=e.state.facet(l0).map(s=>s(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Ge.allowMultipleSelections)&&lB(e,t),this.dragging=uB(e,t)&&yS(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&sB(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,i=0,o=0,s=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:a}=this.scrollParents.y.getBoundingClientRect());let c=c0(this.view);e.clientX-c.left<=i+jc?t=-Hc(i-e.clientX):e.clientX+c.right>=s-jc&&(t=Hc(e.clientX-s)),e.clientY-c.top<=o+jc?r=-Hc(o-e.clientY):e.clientY+c.bottom>=a-jc&&(r=Hc(e.clientY-a)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let s=du(this.atoms,i.from,0);s!=i.from&&(o=X.cursor(s,-1))}else{let s=du(this.atoms,i.from,-1),a=du(this.atoms,i.to,1);(s!=i.from||a!=i.to)&&(o=X.range(i.from==i.anchor?s:a,i.from==i.head?s:a))}o&&(t||(t=e.ranges.slice()),t[r]=o)}return t?X.create(t,e.mainIndex):e}select(e){let{view:t}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function lB(n,e){let t=n.state.facet(JC);return t.length?t[0](e):fe.mac?e.metaKey:e.ctrlKey}function cB(n,e){let t=n.state.facet(eS);return t.length?t[0](e):fe.mac?!e.altKey:!e.ctrlKey}function uB(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=Ga(n.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let s=i[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function fB(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=ot.get(t))&&r.ignoreEvent(e))return!1;return!0}const rr=Object.create(null),Hn=Object.create(null),vS=fe.ie&&fe.ie_version<15||fe.ios&&fe.webkit_version<604;function hB(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),xS(n,t.value)},50)}function Nf(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function xS(n,e){e=Nf(n.state,o0,e);let{state:t}=n,r,i=1,o=t.toText(e),s=o.lines==t.selection.ranges.length;if(xm!=null&&t.selection.ranges.every(c=>c.empty)&&xm==o.toString()){let c=-1;r=t.changeByRange(f=>{let h=t.doc.lineAt(f.from);if(h.from==c)return{range:f};c=h.from;let d=t.toText((s?o.line(i++).text:e)+t.lineBreak);return{changes:{from:h.from,insert:d},range:X.cursor(f.from+d.length)}})}else s?r=t.changeByRange(c=>{let f=o.line(i++);return{changes:{from:c.from,to:c.to,insert:f.text},range:X.cursor(c.from+f.length)}}):r=t.replaceSelection(o);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Hn.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};rr.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Hn.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Hn.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};rr.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(tS))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=mB(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new aB(n,e,t,r)),r&&n.observer.ignore(()=>{IC(n.contentDOM);let o=n.root.activeElement;o&&!o.contains(n.contentDOM)&&o.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function Lx(n,e,t,r){if(r==1)return X.cursor(e,t);if(r==2)return jN(n.state,e,t);{let i=Ct.find(n.docView,e),o=n.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,a=i?i.posAtEnd:o.to;return a<n.state.doc.length&&a==o.to&&a++,X.range(s,a)}}let Nx=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function dB(n,e,t,r){let i=Ct.find(n.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&Nx(t,r,s))return-1;let a=i.coordsAt(o,1);return a&&Nx(t,r,a)?1:s&&s.bottom>=r?-1:1}function Bx(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:dB(n,t,e.clientX,e.clientY)}}const pB=fe.ie&&fe.ie_version<=11;let Fx=null,Wx=0,Vx=0;function yS(n){if(!pB)return n.detail;let e=Fx,t=Vx;return Fx=n,Vx=Date.now(),Wx=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(Wx+1)%3:1}function mB(n,e){let t=Bx(n,e),r=yS(e),i=n.state.selection;return{update(o){o.docChanged&&(t.pos=o.changes.mapPos(t.pos),i=i.map(o.changes))},get(o,s,a){let c=Bx(n,o),f,h=Lx(n,c.pos,c.bias,r);if(t.pos!=c.pos&&!s){let d=Lx(n,t.pos,t.bias,r),g=Math.min(d.from,h.from),b=Math.max(d.to,h.to);h=g<h.from?X.range(g,b):X.range(b,g)}return s?i.replaceRange(i.main.extend(h.from,h.to)):a&&r==1&&i.ranges.length>1&&(f=gB(i,c.pos))?f:a?i.addRange(h):X.create([h])}}}function gB(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return X.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}rr.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let i=n.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,s=o+i.length;(o>=t.to||s<=t.from)&&(t=X.range(o,s))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Nf(n.state,s0,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};rr.dragend=n=>(n.inputState.draggedContent=null,!1);function jx(n,e,t,r){if(t=Nf(n.state,o0,t),!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=n.inputState,s=r&&o&&cB(n,e)?{from:o.from,to:o.to}:null,a={from:i,insert:t},c=n.state.changes(s?[s,a]:a);n.focus(),n.dispatch({changes:c,selection:{anchor:c.mapPos(i,-1),head:c.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),n.inputState.draggedContent=null}rr.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),i=0,o=()=>{++i==t.length&&jx(n,e,r.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<t.length;s++){let a=new FileReader;a.onerror=o,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[s]=a.result),o()},a.readAsText(t[s])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return jx(n,e,r,!0),!0}return!1};rr.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=vS?null:e.clipboardData;return t?(xS(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(hB(n),!1)};function bB(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function vB(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:o}of n.selection.ranges){let s=n.doc.lineAt(o);s.number>i&&(e.push(s.text),t.push({from:s.from,to:Math.min(n.doc.length,s.to+1)})),i=s.number}r=!0}return{text:Nf(n,s0,e.join(n.lineBreak)),ranges:t,linewise:r}}let xm=null;rr.copy=rr.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=vB(n.state);if(!t&&!i)return!1;xm=i?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=vS?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",t),!0):(bB(n,t),!1)};const wS=Pr.define();function $S(n,e){let t=[];for(let r of n.facet(iS)){let i=r(n,e);i&&t.push(i)}return t.length?n.update({effects:t,annotations:wS.of(!0)}):null}function CS(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=$S(n.state,e);t?n.dispatch(t):n.update([])}},10)}Hn.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),CS(n)};Hn.blur=n=>{n.observer.clearSelectionRange(),CS(n)};Hn.compositionstart=Hn.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Hn.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,fe.chrome&&fe.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Hn.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};rr.beforeinput=(n,e)=>{var t,r;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let o=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),s=e.getTargetRanges();if(o&&s.length){let a=s[0],c=n.posAtDOM(a.startContainer,a.startOffset),f=n.posAtDOM(a.endContainer,a.endOffset);return u0(n,{from:c,to:f,insert:n.state.toText(o)},null),!0}}let i;if(fe.chrome&&fe.android&&(i=gS.find(o=>o.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>o+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return fe.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),fe.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Hn.compositionend(n,e),20),!1};const Hx=new Set;function xB(n){Hx.has(n)||(Hx.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const zx=["pre-wrap","normal","pre-line","break-spaces"];let Ts=!1;function Ux(){Ts=!1}class yB{constructor(e){this.lineWrapping=e,this.doc=Xe.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return zx.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,r,i,o,s){let a=zx.indexOf(e)>-1,c=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=o,c){this.heightSamples={};for(let f=0;f<s.length;f++){let h=s[f];h<0?f++:this.heightSamples[Math.floor(h*10)]=!0}}return c}}class wB{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class vr{constructor(e,t,r,i,o){this.from=e,this.length=t,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?nn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Ii?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new vr(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var lt=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(lt||(lt={}));const pu=.001;class rn{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>pu&&(Ts=!0),this.height=e)}replace(e,t,r){return rn.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let o=this,s=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:c,toA:f,fromB:h,toB:d}=i[a],g=o.lineAt(c,lt.ByPosNoHeight,r.setDoc(t),0,0),b=g.to>=f?g:o.lineAt(f,lt.ByPosNoHeight,r,0,0);for(d+=b.to-f,f=b.to;a>0&&g.from<=i[a-1].toA;)c=i[a-1].fromA,h=i[a-1].fromB,a--,c<g.from&&(g=o.lineAt(c,lt.ByPosNoHeight,r,0,0));h+=g.from-c,c=g.from;let x=f0.build(r.setDoc(s),e,h,d);o=Wu(o,o.replace(c,f,x))}return o.updateHeight(r,0)}static empty(){return new An(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,o=0;for(;;)if(t==r)if(i>o*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(o>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,o-=a.size}else break;else if(i<o){let a=e[t++];a&&(i+=a.size)}else{let a=e[--r];a&&(o+=a.size)}let s=0;return e[t-1]==null?(s=1,t--):e[t]==null&&(s=1,r++),new $B(rn.of(e.slice(0,t)),s,rn.of(e.slice(r)))}}function Wu(n,e){return n==e?n:(n.constructor!=e.constructor&&(Ts=!0),e)}rn.prototype.size=1;class SS extends rn{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,i){return new vr(i,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,t,r,i,o,s){e<=o+this.length&&t>=o&&s(this.blockAt(0,r,i,o))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class An extends SS{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,i){return new vr(i,this.length,r,this.height,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof An||i instanceof Ft&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Ft?i=new An(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):rn.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Ft extends rn{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,o=i-r+1,s,a=0;if(e.lineWrapping){let c=Math.min(this.height,e.lineHeight*o);s=c/o,this.length>o+1&&(a=(this.height-c)/(this.length-o-1))}else s=this.height/o;return{firstLine:r,lastLine:i,perLine:s,perChar:a}}blockAt(e,t,r,i){let{firstLine:o,lastLine:s,perLine:a,perChar:c}=this.heightMetrics(t,i);if(t.lineWrapping){let f=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),h=t.doc.lineAt(f),d=a+h.length*c,g=Math.max(r,e-d/2);return new vr(h.from,h.length,g,d,0)}else{let f=Math.max(0,Math.min(s-o,Math.floor((e-r)/a))),{from:h,length:d}=t.doc.line(o+f);return new vr(h,d,r+a*f,a,0)}}lineAt(e,t,r,i,o){if(t==lt.ByHeight)return this.blockAt(e,r,i,o);if(t==lt.ByPosNoHeight){let{from:b,to:x}=r.doc.lineAt(e);return new vr(b,x-b,0,0,0)}let{firstLine:s,perLine:a,perChar:c}=this.heightMetrics(r,o),f=r.doc.lineAt(e),h=a+f.length*c,d=f.number-s,g=i+a*d+c*(f.from-o-d);return new vr(f.from,f.length,Math.max(i,Math.min(g,i+this.height-h)),h,0)}forEachLine(e,t,r,i,o,s){e=Math.max(e,o),t=Math.min(t,o+this.length);let{firstLine:a,perLine:c,perChar:f}=this.heightMetrics(r,o);for(let h=e,d=i;h<=t;){let g=r.doc.lineAt(h);if(h==e){let x=g.number-a;d+=c*x+f*(e-o-x)}let b=c+f*g.length;s(new vr(g.from,g.length,d,b,0)),d+=b,h=g.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let o=r[r.length-1];o instanceof Ft?r[r.length-1]=new Ft(o.length+i):r.push(null,new Ft(i-1))}if(e>0){let o=r[0];o instanceof Ft?r[0]=new Ft(e+o.length):r.unshift(new Ft(e-1),null)}return rn.of(r)}decomposeLeft(e,t){t.push(new Ft(e-1),null)}decomposeRight(e,t){t.push(null,new Ft(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let o=t+this.length;if(i&&i.from<=t+this.length&&i.more){let s=[],a=Math.max(t,i.from),c=-1;for(i.from>t&&s.push(new Ft(i.from-t-1).updateHeight(e,t));a<=o&&i.more;){let h=e.doc.lineAt(a).length;s.length&&s.push(null);let d=i.heights[i.index++];c==-1?c=d:Math.abs(d-c)>=pu&&(c=-2);let g=new An(h,d);g.outdated=!1,s.push(g),a+=h+1}a<=o&&s.push(null,new Ft(o-a).updateHeight(e,a));let f=rn.of(s);return(c<0||Math.abs(f.height-this.height)>=pu||Math.abs(c-this.heightMetrics(e,t).perLine)>=pu)&&(Ts=!0),Wu(this,f)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class $B extends rn{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,o,i+this.left.length+this.break)}lineAt(e,t,r,i,o){let s=i+this.left.height,a=o+this.left.length+this.break,c=t==lt.ByHeight?e<s:e<a,f=c?this.left.lineAt(e,t,r,i,o):this.right.lineAt(e,t,r,s,a);if(this.break||(c?f.to<a:f.from>a))return f;let h=t==lt.ByPosNoHeight?lt.ByPosNoHeight:lt.ByPos;return c?f.join(this.right.lineAt(a,h,r,s,a)):this.left.lineAt(a,h,r,i,o).join(f)}forEachLine(e,t,r,i,o,s){let a=i+this.left.height,c=o+this.left.length+this.break;if(this.break)e<c&&this.left.forEachLine(e,t,r,i,o,s),t>=c&&this.right.forEachLine(e,t,r,a,c,s);else{let f=this.lineAt(c,lt.ByPos,r,i,o);e<f.from&&this.left.forEachLine(e,f.from-1,r,i,o,s),f.to>=e&&f.from<=t&&s(f),t>f.to&&this.right.forEachLine(f.to+1,t,r,a,c,s)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let a of r)o.push(a);if(e>0&&Kx(o,s-1),t<this.length){let a=o.length;this.decomposeRight(t,o),Kx(o,a)}return rn.of(o)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?rn.of(this.break?[e,null,t]:[e,t]):(this.left=Wu(this.left,e),this.right=Wu(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:o,right:s}=this,a=t+o.length+this.break,c=null;return i&&i.from<=t+o.length&&i.more?c=o=o.updateHeight(e,t,r,i):o.updateHeight(e,t,r),i&&i.from<=a+s.length&&i.more?c=s=s.updateHeight(e,a,r,i):s.updateHeight(e,a,r),c?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Kx(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof Ft&&(r=n[e+1])instanceof Ft&&n.splice(e-1,3,new Ft(t.length+1+r.length))}const CB=5;class f0{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof An?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new An(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=t-e;r.block?this.addBlock(new SS(s,i,r)):(s||o||i>=CB)&&this.addLineDeco(i,o,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new An(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new Ft(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof An)return e;let t=new An(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof An)&&!this.isCovered?this.nodes.push(new An(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof An&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let o=new f0(r,e);return Ye.spans(t,r,i,o,0),o.finish(r)}}function SB(n,e,t){let r=new kB;return Ye.compare(n,e,t,r,0),r.changes}class kB{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&hu(e,t,this.changes,5)}}function AB(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,o=Math.max(0,t.left),s=Math.min(i.innerWidth,t.right),a=Math.max(0,t.top),c=Math.min(i.innerHeight,t.bottom);for(let f=n.parentNode;f&&f!=r.body;)if(f.nodeType==1){let h=f,d=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&d.overflow!="visible"){let g=h.getBoundingClientRect();o=Math.max(o,g.left),s=Math.min(s,g.right),a=Math.max(a,g.top),c=Math.min(f==n.parentNode?i.innerHeight:c,g.bottom)}f=d.position=="absolute"||d.position=="fixed"?h.offsetParent:h.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:o-t.left,right:Math.max(o,s)-t.left,top:a-(t.top+e),bottom:Math.max(a,c)-(t.top+e)}}function EB(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function RB(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Yd{constructor(e,t,r,i){this.from=e,this.to=t,this.size=r,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,t){return ye.replace({widget:new TB(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class TB extends ai{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Gx{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=qx,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ct.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(a0).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new yB(t),this.stateDeco=e.facet(qa).filter(r=>typeof r!="function"),this.heightMap=rn.empty().applyChanges(this.stateDeco,Xe.empty,this.heightOracle.setDoc(e.doc),[new jn(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ye.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);e.push(new zc(o,s))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?qx:new h0(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Ea(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(qa).filter(h=>typeof h!="function");let i=e.changedRanges,o=jn.extendWithRanges(i,SB(r,this.stateDeco,e?e.changes:Rt.empty(this.state.doc.length))),s=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Ux(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=s||Ts)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=s);let c=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<c.from||t.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,t));let f=c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,e.flags|=this.updateForViewport(),(f||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(sS)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?ct.RTL:ct.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),a=t.getBoundingClientRect(),c=s||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let f=0,h=0;if(a.width&&a.height){let{scaleX:R,scaleY:T}=DC(t,a);(R>.005&&Math.abs(this.scaleX-R)>.005||T>.005&&Math.abs(this.scaleY-T)>.005)&&(this.scaleX=R,this.scaleY=T,f|=16,s=c=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,g=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=g)&&(this.paddingTop=d,this.paddingBottom=g,f|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(c=!0),this.editorWidth=e.scrollDOM.clientWidth,f|=16);let b=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=b&&(this.scrollAnchorHeight=-1,this.scrollTop=b),this.scrolledToBottom=LC(e.scrollDOM);let x=(this.printing?RB:AB)(t,this.paddingTop),v=x.top-this.pixelViewport.top,w=x.bottom-this.pixelViewport.bottom;this.pixelViewport=x;let C=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(C!=this.inView&&(this.inView=C,C&&(c=!0)),!this.inView&&!this.scrollTarget&&!EB(e.dom))return 0;let k=a.width;if((this.contentDOMWidth!=k||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,f|=16),c){let R=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(R)&&(s=!0),s||i.lineWrapping&&Math.abs(k-this.contentDOMWidth)>i.charWidth){let{lineHeight:T,charWidth:D,textHeight:M}=e.docView.measureTextSize();s=T>0&&i.refresh(o,T,D,M,k/D,R),s&&(e.docView.minWidth=0,f|=16)}v>0&&w>0?h=Math.max(v,w):v<0&&w<0&&(h=Math.min(v,w)),Ux();for(let T of this.viewports){let D=T.from==this.viewport.from?R:e.docView.measureVisibleLineHeights(T);this.heightMap=(s?rn.empty().applyChanges(this.stateDeco,Xe.empty,this.heightOracle,[new jn(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new wB(T.from,D))}Ts&&(f|=2)}let A=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return A&&(f&2&&(f|=this.updateScaler()),this.viewport=this.getViewport(h,this.scrollTarget),f|=this.updateForViewport()),(f&2||A)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:a}=this,c=new zc(i.lineAt(s-r*1e3,lt.ByHeight,o,0,0).from,i.lineAt(a+(1-r)*1e3,lt.ByHeight,o,0,0).to);if(t){let{head:f}=t.range;if(f<c.from||f>c.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(f,lt.ByPos,o,0,0),g;t.y=="center"?g=(d.top+d.bottom)/2-h/2:t.y=="start"||t.y=="nearest"&&f<c.from?g=d.top:g=d.bottom-h,c=new zc(i.lineAt(g-1e3/2,lt.ByHeight,o,0,0).from,i.lineAt(g+h+1e3/2,lt.ByHeight,o,0,0).to)}}return c}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new zc(this.heightMap.lineAt(r,lt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,lt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,lt.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(t,lt.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(e==0||i<=s-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||o>=a+Math.max(10,Math.min(r,250)))&&i>s-2*1e3&&o<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new Yd(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=ct.LTR&&!r)return[];let a=[],c=(h,d,g,b)=>{if(d-h<o)return;let x=this.state.selection.main,v=[x.from];x.empty||v.push(x.to);for(let C of v)if(C>h&&C<d){c(h,C-10,g,b),c(C+10,d,g,b);return}let w=MB(e,C=>C.from>=g.from&&C.to<=g.to&&Math.abs(C.from-h)<o&&Math.abs(C.to-d)<o&&!v.some(k=>C.from<k&&C.to>k));if(!w){if(d<g.to&&t&&r&&t.visibleRanges.some(A=>A.from<=d&&A.to>=d)){let A=t.moveToLineBoundary(X.cursor(d),!1,!0).head;A>h&&(d=A)}let C=this.gapSize(g,h,d,b),k=r||C<2e6?C:2e6;w=new Yd(h,d,C,k)}a.push(w)},f=h=>{if(h.length<s||h.type!=nn.Text)return;let d=PB(h.from,h.to,this.stateDeco);if(d.total<s)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,b,x;if(r){let v=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,w,C;if(g!=null){let k=Kc(d,g),A=((this.visibleBottom-this.visibleTop)/2+v)/h.height;w=k-A,C=k+A}else w=(this.visibleTop-h.top-v)/h.height,C=(this.visibleBottom-h.top+v)/h.height;b=Uc(d,w),x=Uc(d,C)}else{let v=d.total*this.heightOracle.charWidth,w=i*this.heightOracle.charWidth,C=0;if(v>2e6)for(let D of e)D.from>=h.from&&D.from<h.to&&D.size!=D.displaySize&&D.from*this.heightOracle.charWidth+C<this.pixelViewport.left&&(C=D.size-D.displaySize);let k=this.pixelViewport.left+C,A=this.pixelViewport.right+C,R,T;if(g!=null){let D=Kc(d,g),M=((A-k)/2+w)/v;R=D-M,T=D+M}else R=(k-w)/v,T=(A+w)/v;b=Uc(d,R),x=Uc(d,T)}b>h.from&&c(h.from,b,h,d),x<h.to&&c(x,h.to,h,d)};for(let h of this.viewportLines)Array.isArray(h.type)?h.type.forEach(f):f(h);return a}gapSize(e,t,r,i){let o=Kc(i,r)-Kc(i,t);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){Yd.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ye.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];Ye.spans(t,this.viewport.from,this.viewport.to,{span(o,s){r.push({from:o,to:s})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let o=0;o<r.length&&!(i&8);o++){let s=this.visibleRanges[o],a=r[o];(s.from!=a.from||s.to!=a.to)&&(i|=4,e&&e.mapPos(s.from,-1)==a.from&&e.mapPos(s.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Ea(this.heightMap.lineAt(e,lt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Ea(this.heightMap.lineAt(this.scaler.fromDOM(e),lt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Ea(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let zc=class{constructor(e,t){this.from=e,this.to=t}};function PB(n,e,t){let r=[],i=n,o=0;return Ye.spans(t,n,e,{span(){},point(s,a){s>i&&(r.push({from:i,to:s}),o+=s-i),i=a}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function Uc({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:o,to:s}=e[i],a=s-o;if(r<=a)return o+r;r-=a}}function Kc(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}function MB(n,e){for(let t of n)if(e(t))return t}const qx={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class h0{constructor(e,t,r){let i=0,o=0,s=0;this.viewports=r.map(({from:a,to:c})=>{let f=t.lineAt(a,lt.ByPos,e,0,0).top,h=t.lineAt(c,lt.ByPos,e,0,0).bottom;return i+=h-f,{from:a,to:c,top:f,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let a of this.viewports)a.domTop=s+(a.top-o)*this.scale,s=a.domBottom=a.domTop+(a.bottom-a.top),o=a.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}eq(e){return e instanceof h0?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function Ea(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new vr(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>Ea(i,e)):n._content)}const Gc=ce.define({combine:n=>n.join(" ")}),ym=ce.define({combine:n=>n.indexOf(!0)>-1}),wm=Oi.newName(),kS=Oi.newName(),AS=Oi.newName(),ES={"&light":"."+kS,"&dark":"."+AS};function $m(n,e,t){return new Oi(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r}})}const OB=$m("."+wm,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},ES),DB={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Xd=fe.ie&&fe.ie_version<=11;class IB{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new mN,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(fe.ie&&fe.ie_version<=11||fe.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(fe.chrome&&fe.chrome_version<126)&&(this.editContext=new LB(e),e.state.facet(Gr)&&(e.contentDOM.editContext=this.editContext.editContext)),Xd&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Gr)?r.root.activeElement!=this.dom:!fu(this.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(fe.ie&&fe.ie_version<=11||fe.android&&fe.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Oa(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Ga(e.root);if(!t)return!1;let r=fe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&_B(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let i=fu(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&bN(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,DB),Xd&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Xd&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&ds(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),t==-1?{from:t,to:r}=s:(t=Math.min(s.from,t),r=Math.max(s.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&fu(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new QN(this.view,e,t,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,i=mS(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=Yx(t,e.previousSibling||e.target.previousSibling,-1),i=Yx(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Gr)!=e.state.facet(Gr)&&(e.view.contentDOM.editContext=e.state.facet(Gr)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Yx(n,e,t){for(;e;){let r=ot.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function Xx(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=n.docView.domAtPos(n.state.selection.main.anchor);return Oa(s.node,s.offset,i,o)&&([t,r,i,o]=[i,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}}function _B(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return Xx(n,i)}let t=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",r,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",r,!0),t?Xx(n,t):null}class LB{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:o,head:s}=i,a=this.toEditorPos(r.updateRangeStart),c=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let f={from:a,to:c,insert:Xe.of(r.text.split(`
`))};if(f.from==this.from&&o<this.from?f.from=o:f.to==this.to&&o>this.to&&(f.to=o),f.from==f.to&&!f.insert.length){let h=X.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));h.main.eq(i)||e.dispatch({selection:h,userEvent:"select"});return}if((fe.mac||fe.android)&&f.from==s-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(f={from:a,to:c,insert:Xe.of([r.text.replace("."," ")])}),this.pendingContextChange=f,!e.state.readOnly){let h=this.to-this.from+(f.to-f.from+f.insert.length);u0(e,f,X.single(this.toEditorPos(r.selectionStart,h),this.toEditorPos(r.selectionEnd,h)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let i=[],o=null;for(let s=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);s<a;s++){let c=e.coordsForChar(s);o=c&&new DOMRect(c.left,c.top,c.right-c.left,c.bottom-c.top)||o||new DOMRect,i.push(o)}t.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let o of r.getTextFormats()){let s=o.underlineStyle,a=o.underlineThickness;if(s!="None"&&a!="None"){let c=this.toEditorPos(o.rangeStart),f=this.toEditorPos(o.rangeEnd);if(c<f){let h=`text-decoration: underline ${s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;i.push(ye.mark({attributes:{style:h}}).range(c,f))}}}e.dispatch({effects:lS.of(ye.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=Ga(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,s,a,c,f)=>{if(r)return;let h=f.length-(s-o);if(i&&s>=i.to)if(i.from==o&&i.to==s&&i.insert.eq(f)){i=this.pendingContextChange=null,t+=h,this.to+=h;return}else i=null,this.revertPending(e.state);if(o+=t,s+=t,s<=this.from)this.from+=h,this.to+=h;else if(o<this.to){if(o<this.from||s>this.to||this.to-this.from+f.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(s),f.toString()),this.to+=h}t+=h}),i&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class ae{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(o=>r(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||gN(e.parent)||document,this.viewState=new Gx(e.state||Ge.create(e)),e.scrollTo&&e.scrollTo.is(Vc)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(os).map(i=>new Kd(i));for(let i of this.plugins)i.update(this);this.observer=new IB(this),this.inputState=new rB(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Rx(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof Tt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,i,o=this.state;for(let g of e){if(g.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=g.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,a=0,c=null;e.some(g=>g.annotation(wS))?(this.inputState.notifiedFocused=s,a=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,c=$S(o,s),c||(a=1));let f=this.observer.delayedAndroidKey,h=null;if(f?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(h=null)):this.observer.clear(),o.facet(Ge.phrases)!=this.state.facet(Ge.phrases))return this.setState(o);i=Fu.create(this,o,e),i.flags|=a;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(d&&(d=d.map(g.changes)),g.scrollIntoView){let{main:b}=g.state.selection;d=new ps(b.empty?b:X.cursor(b.head,b.head>b.anchor?-1:1))}for(let b of g.effects)b.is(Vc)&&(d=b.value.clip(this.state))}this.viewState.update(i,d),this.bidiCache=Vu.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(ka)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Gc)!=i.state.facet(Gc)&&(this.viewState.mustMeasureContent=!0),(t||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let g of this.state.facet(gm))try{g(i)}catch(b){dn(this.state,b,"update listener")}(c||h)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),h&&!mS(this,h)&&f.force&&ds(this.contentDOM,f.key,f.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new Gx(e),this.plugins=e.facet(os).map(r=>new Kd(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new Rx(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(os),r=e.state.facet(os);if(t!=r){let i=[];for(let o of r){let s=t.indexOf(o);if(s<0)i.push(new Kd(o));else{let a=this.plugins[s];a.mustUpdate=e,i.push(a)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){dn(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(s<0)if(LC(r))o=-1,s=this.viewState.heightMap.height;else{let b=this.viewState.scrollAnchorAt(i);o=b.from,s=b.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];c&4||([this.measureRequests,f]=[f,this.measureRequests]);let h=f.map(b=>{try{return b.read(this)}catch(x){return dn(this.state,x),Zx}}),d=Fu.create(this,this.state,[]),g=!1;d.flags|=c,t?t.flags|=c:t=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),g=this.docView.update(d),g&&this.docViewUpdate());for(let b=0;b<f.length;b++)if(h[b]!=Zx)try{let x=f[b];x.write&&x.write(h[b],this)}catch(x){dn(this.state,x)}if(g&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let x=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(x>1||x<-1){i=i+x,r.scrollTop=i/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(gm))a(t)}get themeClasses(){return wm+" "+(this.state.facet(ym)?AS:kS)+" "+this.state.facet(Gc)}updateAttrs(){let e=Qx(this,cS,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Gr)?"true":"false",class:"cm-content",style:`${fe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Qx(this,a0,t);let r=this.observer.ignore(()=>{let i=fm(this.contentDOM,this.contentAttrs,t),o=fm(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)if(i.is(ae.announce)){t&&(this.announceDOM.textContent=""),t=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(ka);let e=this.state.facet(ae.cspNonce);Oi.mount(this.root,this.styleModules.concat(OB).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return qd(this,e,Dx(this,e,t,r))}moveByGroup(e,t){return qd(this,e,Dx(this,e,t,r=>qN(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[t?r.length-1:0];return X.cursor(o.side(t,i)+e.from,o.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,r=!0){return GN(this,e,t,r)}moveVertically(e,t,r){return qd(this,e,YN(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),pS(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),s=o[Ei.find(o,e-i.from,-1,t)];return ml(r,s.dir==ct.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(oS)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>NB)return ZC(e.length);let t=this.textDirectionAt(e.from),r;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==t&&(o.fresh||XC(o.isolates,r=Ex(this,e))))return o.order;r||(r=Ex(this,e));let i=MN(e.text,t,r);return this.bidiCache.push(new Vu(e.from,e.to,t,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||fe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{IC(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Vc.of(new ps(typeof e=="number"?X.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Vc.of(new ps(X.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return wt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return wt.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=Oi.newName(),i=[Gc.of(r),ka.of($m(`.${r}`,e))];return t&&t.dark&&i.push(ym.of(!0)),i}static baseTheme(e){return To.lowest(ka.of($m("."+wm,e,ES)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),i=r&&ot.get(r)||ot.get(e);return((t=i?.rootView)===null||t===void 0?void 0:t.view)||null}}ae.styleModule=ka;ae.inputHandler=rS;ae.clipboardInputFilter=o0;ae.clipboardOutputFilter=s0;ae.scrollHandler=aS;ae.focusChangeEffect=iS;ae.perLineTextDirection=oS;ae.exceptionSink=nS;ae.updateListener=gm;ae.editable=Gr;ae.mouseSelectionStyle=tS;ae.dragMovesSelection=eS;ae.clickAddsSelectionRange=JC;ae.decorations=qa;ae.outerDecorations=uS;ae.atomicRanges=l0;ae.bidiIsolatedRanges=fS;ae.scrollMargins=hS;ae.darkTheme=ym;ae.cspNonce=ce.define({combine:n=>n.length?n[0]:""});ae.contentAttributes=a0;ae.editorAttributes=cS;ae.lineWrapping=ae.contentAttributes.of({class:"cm-lineWrapping"});ae.announce=Oe.define();const NB=4096,Zx={};class Vu{constructor(e,t,r,i,o,s){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=o,this.order=s}static update(e,t){if(t.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:ct.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==i&&!t.touchesRange(s.from,s.to)&&r.push(new Vu(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function Qx(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],s=typeof o=="function"?o(n):o;s&&um(s,t)}return t}const BB=fe.mac?"mac":fe.windows?"win":fe.linux?"linux":"key";function FB(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let i,o,s,a;for(let c=0;c<t.length-1;++c){const f=t[c];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))o=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))e=="mac"?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+f)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),a&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function qc(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const WB=To.default(ae.domEventHandlers({keydown(n,e){return TS(RS(e.state),n,e,"editor")}})),Bf=ce.define({enables:WB}),Jx=new WeakMap;function RS(n){let e=n.facet(Bf),t=Jx.get(e);return t||Jx.set(e,t=HB(e.reduce((r,i)=>r.concat(i),[]))),t}function VB(n,e,t){return TS(RS(n.state),e,n,t)}let Ci=null;const jB=4e3;function HB(n,e=BB){let t=Object.create(null),r=Object.create(null),i=(s,a)=>{let c=r[s];if(c==null)r[s]=a;else if(c!=a)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,a,c,f,h)=>{var d,g;let b=t[s]||(t[s]=Object.create(null)),x=a.split(/ (?!$)/).map(C=>FB(C,e));for(let C=1;C<x.length;C++){let k=x.slice(0,C).join(" ");i(k,!0),b[k]||(b[k]={preventDefault:!0,stopPropagation:!1,run:[A=>{let R=Ci={view:A,prefix:k,scope:s};return setTimeout(()=>{Ci==R&&(Ci=null)},jB),!0}]})}let v=x.join(" ");i(v,!1);let w=b[v]||(b[v]={preventDefault:!1,stopPropagation:!1,run:((g=(d=b._any)===null||d===void 0?void 0:d.run)===null||g===void 0?void 0:g.slice())||[]});c&&w.run.push(c),f&&(w.preventDefault=!0),h&&(w.stopPropagation=!0)};for(let s of n){let a=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let f of a){let h=t[f]||(t[f]=Object.create(null));h._any||(h._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=s;for(let g in h)h[g].run.push(b=>d(b,Cm))}let c=s[e]||s.key;if(c)for(let f of a)o(f,c,s.run,s.preventDefault,s.stopPropagation),s.shift&&o(f,"Shift-"+c,s.shift,s.preventDefault,s.stopPropagation)}return t}let Cm=null;function TS(n,e,t,r){Cm=e;let i=fN(e),o=un(i,0),s=br(o)==i.length&&i!=" ",a="",c=!1,f=!1,h=!1;Ci&&Ci.view==t&&Ci.scope==r&&(a=Ci.prefix+" ",bS.indexOf(e.keyCode)<0&&(f=!0,Ci=null));let d=new Set,g=w=>{if(w){for(let C of w.run)if(!d.has(C)&&(d.add(C),C(t)))return w.stopPropagation&&(h=!0),!0;w.preventDefault&&(w.stopPropagation&&(h=!0),f=!0)}return!1},b=n[r],x,v;return b&&(g(b[a+qc(i,e,!s)])?c=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(fe.windows&&e.ctrlKey&&e.altKey)&&(x=Di[e.keyCode])&&x!=i?(g(b[a+qc(x,e,!0)])||e.shiftKey&&(v=Ka[e.keyCode])!=i&&v!=x&&g(b[a+qc(v,e,!1)]))&&(c=!0):s&&e.shiftKey&&g(b[a+qc(i,e,!0)])&&(c=!0),!c&&g(b._any)&&(c=!0)),f&&(c=!0),c&&h&&e.stopPropagation(),Cm=null,c}class vl{constructor(e,t,r,i,o){this.className=e,this.left=t,this.top=r,this.width=i,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=PS(e);return[new vl(t,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}else return zB(e,t,r)}}function PS(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==ct.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function ey(n,e,t,r){let i=n.coordsAtPos(e,t*2);if(!i)return r;let o=n.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,a=n.posAtCoords({x:o.left+1,y:s}),c=n.posAtCoords({x:o.right-1,y:s});return a==null||c==null?r:{from:Math.max(r.from,Math.min(a,c)),to:Math.min(r.to,Math.max(a,c))}}function zB(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),i=Math.min(t.to,n.viewport.to),o=n.textDirection==ct.LTR,s=n.contentDOM,a=s.getBoundingClientRect(),c=PS(n),f=s.querySelector(".cm-line"),h=f&&window.getComputedStyle(f),d=a.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),g=a.right-(h?parseInt(h.paddingRight):0),b=vm(n,r,1),x=vm(n,i,-1),v=b.type==nn.Text?b:null,w=x.type==nn.Text?x:null;if(v&&(n.lineWrapping||b.widgetLineBreaks)&&(v=ey(n,r,1,v)),w&&(n.lineWrapping||x.widgetLineBreaks)&&(w=ey(n,i,-1,w)),v&&w&&v.from==w.from&&v.to==w.to)return k(A(t.from,t.to,v));{let T=v?A(t.from,null,v):R(b,!1),D=w?A(null,t.to,w):R(x,!0),M=[];return(v||b).to<(w||x).from-(v&&w?1:0)||b.widgetLineBreaks>1&&T.bottom+n.defaultLineHeight/2<D.top?M.push(C(d,T.bottom,g,D.top)):T.bottom<D.top&&n.elementAtHeight((T.bottom+D.top)/2).type==nn.Text&&(T.bottom=D.top=(T.bottom+D.top)/2),k(T).concat(M).concat(k(D))}function C(T,D,M,B){return new vl(e,T-c.left,D-c.top,M-T,B-D)}function k({top:T,bottom:D,horizontal:M}){let B=[];for(let N=0;N<M.length;N+=2)B.push(C(M[N],T,M[N+1],D));return B}function A(T,D,M){let B=1e9,N=-1e9,W=[];function K(Z,ee,ue,te,oe){let q=n.coordsAtPos(Z,Z==M.to?-2:2),le=n.coordsAtPos(ue,ue==M.from?2:-2);!q||!le||(B=Math.min(q.top,le.top,B),N=Math.max(q.bottom,le.bottom,N),oe==ct.LTR?W.push(o&&ee?d:q.left,o&&te?g:le.right):W.push(!o&&te?d:le.left,!o&&ee?g:q.right))}let j=T??M.from,Q=D??M.to;for(let Z of n.visibleRanges)if(Z.to>j&&Z.from<Q)for(let ee=Math.max(Z.from,j),ue=Math.min(Z.to,Q);;){let te=n.state.doc.lineAt(ee);for(let oe of n.bidiSpans(te)){let q=oe.from+te.from,le=oe.to+te.from;if(q>=ue)break;le>ee&&K(Math.max(q,ee),T==null&&q<=j,Math.min(le,ue),D==null&&le>=Q,oe.dir)}if(ee=te.to+1,ee>=ue)break}return W.length==0&&K(j,T==null,Q,D==null,n.textDirection),{top:B,bottom:N,horizontal:W}}function R(T,D){let M=a.top+(D?T.top:T.bottom);return{top:M,bottom:M,horizontal:[]}}}function UB(n,e){return n.constructor==e.constructor&&n.eq(e)}class KB{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(mu)!=e.state.facet(mu)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(mu);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!UB(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const mu=ce.define();function MS(n){return[wt.define(e=>new KB(e,n)),mu.of(n)]}const Ya=ce.define({combine(n){return Mr(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function GB(n={}){return[Ya.of(n),qB,YB,XB,sS.of(!0)]}function OS(n){return n.startState.facet(Ya)!=n.state.facet(Ya)}const qB=MS({above:!0,markers(n){let{state:e}=n,t=e.facet(Ya),r=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty||t.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:X.cursor(i.head,i.head>i.anchor?-1:1);for(let c of vl.forRange(n,s,a))r.push(c)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=OS(n);return t&&ty(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){ty(e.state,n)},class:"cm-cursorLayer"});function ty(n,e){e.style.animationDuration=n.facet(Ya).cursorBlinkRate+"ms"}const YB=MS({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:vl.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||OS(n)},class:"cm-selectionLayer"}),XB=To.highest(ae.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),DS=Oe.define({map(n,e){return n==null?null:e.mapPos(n)}}),Ra=_t.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(DS)?r.value:t,n)}}),ZB=wt.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(Ra);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Ra)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(Ra),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Ra)!=n&&this.view.dispatch({effects:DS.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function QB(){return[Ra,ZB]}function ny(n,e,t,r,i){e.lastIndex=0;for(let o=n.iterRange(t,r),s=t,a;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;a=e.exec(o.value);)i(s+a.index,a)}function JB(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:i,to:o}of t)i=Math.max(n.state.doc.lineAt(i).from,i-e),o=Math.min(n.state.doc.lineAt(o).to,o+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}class eF{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:o,maxLength:s=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(a,c,f,h)=>i(h,f,f+a[0].length,a,c);else if(typeof r=="function")this.addMatch=(a,c,f,h)=>{let d=r(a,c,f);d&&h(f,f+a[0].length,d)};else if(r)this.addMatch=(a,c,f,h)=>h(f,f+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=s}createDeco(e){let t=new ti,r=t.add.bind(t);for(let{from:i,to:o}of JB(e,this.maxLength))ny(e.state.doc,this.regexp,i,o,(s,a)=>this.addMatch(a,e,s,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((o,s,a,c)=>{c>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(c,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let o of e.visibleRanges){let s=Math.max(o.from,r),a=Math.min(o.to,i);if(a>=s){let c=e.state.doc.lineAt(s),f=c.to<a?e.state.doc.lineAt(a):c,h=Math.max(o.from,c.from),d=Math.min(o.to,f.to);if(this.boundary){for(;s>c.from;s--)if(this.boundary.test(c.text[s-1-c.from])){h=s;break}for(;a<f.to;a++)if(this.boundary.test(f.text[a-f.from])){d=a;break}}let g=[],b,x=(v,w,C)=>g.push(C.range(v,w));if(c==f)for(this.regexp.lastIndex=h-c.from;(b=this.regexp.exec(c.text))&&b.index<d-c.from;)this.addMatch(b,e,b.index+c.from,x);else ny(e.state.doc,this.regexp,h,d,(v,w)=>this.addMatch(w,e,v,x));t=t.update({filterFrom:h,filterTo:d,filter:(v,w)=>v<h||w>d,add:g})}}return t}}const Sm=/x/.unicode!=null?"gu":"g",tF=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,Sm),nF={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Zd=null;function rF(){var n;if(Zd==null&&typeof document<"u"&&document.body){let e=document.body.style;Zd=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return Zd||!1}const gu=ce.define({combine(n){let e=Mr(n,{render:null,specialChars:tF,addSpecialChars:null});return(e.replaceTabs=!rF())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Sm)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Sm)),e}});function iF(n={}){return[gu.of(n),oF()]}let ry=null;function oF(){return ry||(ry=wt.fromClass(class{constructor(n){this.view=n,this.decorations=ye.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(gu)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new eF({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:i}=t.state,o=un(e[0],0);if(o==9){let s=i.lineAt(r),a=t.state.tabSize,c=Us(s.text,a,r-s.from);return ye.replace({widget:new cF((a-c%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=ye.replace({widget:new lF(n,o)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(gu);n.startState.facet(gu)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const sF="•";function aF(n){return n>=32?sF:n==10?"␤":String.fromCharCode(9216+n)}class lF extends ai{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=aF(this.code),r=e.state.phrase("Control character")+" "+(nF[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let o=document.createElement("span");return o.textContent=t,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class cF extends ai{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function uF(){return hF}const fF=ye.line({class:"cm-activeLine"}),hF=wt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(fF.range(i.from)),e=i.from)}return ye.set(t)}},{decorations:n=>n.decorations});class dF extends ai{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?As(e.firstChild):[];if(!t.length)return null;let r=window.getComputedStyle(e.parentNode),i=ml(t[0],r.direction!="rtl"),o=parseInt(r.lineHeight);return i.bottom-i.top>o*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+o}:i}ignoreEvent(){return!1}}function pF(n){let e=wt.fromClass(class{constructor(t){this.view=t,this.placeholder=n?ye.set([ye.widget({widget:new dF(n),side:1}).range(0)]):ye.none}get decorations(){return this.view.state.doc.length?ye.none:this.placeholder}},{decorations:t=>t.decorations});return typeof n=="string"?[e,ae.contentAttributes.of({"aria-placeholder":n})]:e}const km=2e3;function mF(n,e,t){let r=Math.min(e.line,t.line),i=Math.max(e.line,t.line),o=[];if(e.off>km||t.off>km||e.col<0||t.col<0){let s=Math.min(e.off,t.off),a=Math.max(e.off,t.off);for(let c=r;c<=i;c++){let f=n.doc.line(c);f.length<=a&&o.push(X.range(f.from+s,f.to+a))}}else{let s=Math.min(e.col,t.col),a=Math.max(e.col,t.col);for(let c=r;c<=i;c++){let f=n.doc.line(c),h=rm(f.text,s,n.tabSize,!0);if(h<0)o.push(X.cursor(f.to));else{let d=rm(f.text,a,n.tabSize);o.push(X.range(f.from+h,f.from+d))}}}return o}function gF(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function iy(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,o=i>km?-1:i==r.length?gF(n,e.clientX):Us(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:o,off:i}}function bF(n,e){let t=iy(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(t.line).from),s=i.state.doc.lineAt(o);t={line:s.number,col:t.col,off:Math.min(t.off,s.length)},r=r.map(i.changes)}},get(i,o,s){let a=iy(n,i);if(!a)return r;let c=mF(n.state,t,a);return c.length?s?X.create(c.concat(r.ranges)):X.create(c):r}}:null}function vF(n){let e=t=>t.altKey&&t.button==0;return ae.mouseSelectionStyle.of((t,r)=>e(r)?bF(t,r):null)}const xF={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},yF={style:"cursor: crosshair"};function wF(n={}){let[e,t]=xF[n.key||"Alt"],r=wt.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,ae.contentAttributes.of(i=>{var o;return!((o=i.plugin(r))===null||o===void 0)&&o.isDown?yF:null})]}const xa="-10000px";class IS{constructor(e,t,r,i){this.facet=t,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(s=>s);let o=null;this.tooltipViews=this.tooltips.map(s=>o=r(s,o))}update(e,t){var r;let i=e.state.facet(this.facet),o=i.filter(c=>c);if(i===this.input){for(let c of this.tooltipViews)c.update&&c.update(e);return!1}let s=[],a=t?[]:null;for(let c=0;c<o.length;c++){let f=o[c],h=-1;if(f){for(let d=0;d<this.tooltips.length;d++){let g=this.tooltips[d];g&&g.create==f.create&&(h=d)}if(h<0)s[c]=this.createTooltipView(f,c?s[c-1]:null),a&&(a[c]=!!f.above);else{let d=s[c]=this.tooltipViews[h];a&&(a[c]=t[h]),d.update&&d.update(e)}}}for(let c of this.tooltipViews)s.indexOf(c)<0&&(this.removeTooltipView(c),(r=c.destroy)===null||r===void 0||r.call(c));return t&&(a.forEach((c,f)=>t[f]=c),t.length=a.length),this.input=i,this.tooltips=o,this.tooltipViews=s,!0}}function $F(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const Qd=ce.define({combine:n=>{var e,t,r;return{position:fe.ios?"absolute":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||$F}}}),oy=new WeakMap,d0=wt.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(Qd);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new IS(n,p0,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(Qd);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=xa,t.dom.style.left="0px",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:o}=this.manager.tooltipViews[0];if(fe.gecko)t=o.offsetParent!=this.container.ownerDocument.body;else if(o.style.top==xa&&o.style.left=="0px"){let s=o.getBoundingClientRect();t=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(t||this.position=="absolute")if(this.parent){let o=this.parent.getBoundingClientRect();o.width&&o.height&&(n=o.width/this.parent.offsetWidth,e=o.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=c0(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((o,s)=>{let a=this.manager.tooltipViews[s];return a.getCoords?a.getCoords(o.pos):this.view.coordsAtPos(o.pos)}),size:this.manager.tooltipViews.map(({dom:o})=>o.getBoundingClientRect()),space:this.view.state.facet(Qd).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:t,space:r,scaleX:i,scaleY:o}=n,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let c=this.manager.tooltips[a],f=this.manager.tooltipViews[a],{dom:h}=f,d=n.pos[a],g=n.size[a];if(!d||c.clip!==!1&&(d.bottom<=Math.max(t.top,r.top)||d.top>=Math.min(t.bottom,r.bottom)||d.right<Math.max(t.left,r.left)-.1||d.left>Math.min(t.right,r.right)+.1)){h.style.top=xa;continue}let b=c.arrow?f.dom.querySelector(".cm-tooltip-arrow"):null,x=b?7:0,v=g.right-g.left,w=(e=oy.get(f))!==null&&e!==void 0?e:g.bottom-g.top,C=f.offset||SF,k=this.view.textDirection==ct.LTR,A=g.width>r.right-r.left?k?r.left:r.right-g.width:k?Math.max(r.left,Math.min(d.left-(b?14:0)+C.x,r.right-v)):Math.min(Math.max(r.left,d.left-v+(b?14:0)-C.x),r.right-v),R=this.above[a];!c.strictSide&&(R?d.top-w-x-C.y<r.top:d.bottom+w+x+C.y>r.bottom)&&R==r.bottom-d.bottom>d.top-r.top&&(R=this.above[a]=!R);let T=(R?d.top-r.top:r.bottom-d.bottom)-x;if(T<w&&f.resize!==!1){if(T<this.view.defaultLineHeight){h.style.top=xa;continue}oy.set(f,w),h.style.height=(w=T)/o+"px"}else h.style.height&&(h.style.height="");let D=R?d.top-w-x-C.y:d.bottom+x+C.y,M=A+v;if(f.overlap!==!0)for(let B of s)B.left<M&&B.right>A&&B.top<D+w&&B.bottom>D&&(D=R?B.top-w-2-x:B.bottom+x+2);if(this.position=="absolute"?(h.style.top=(D-n.parent.top)/o+"px",sy(h,(A-n.parent.left)/i)):(h.style.top=D/o+"px",sy(h,A/i)),b){let B=d.left+(k?C.x:-C.x)-(A+14-7);b.style.left=B/i+"px"}f.overlap!==!0&&s.push({left:A,top:D,right:M,bottom:D+w}),h.classList.toggle("cm-tooltip-above",R),h.classList.toggle("cm-tooltip-below",!R),f.positioned&&f.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=xa}},{eventObservers:{scroll(){this.maybeMeasure()}}});function sy(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const CF=ae.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),SF={x:0,y:0},p0=ce.define({enables:[d0,CF]}),ju=ce.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class Ff{static create(e){return new Ff(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new IS(e,ju,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const kF=p0.compute([ju],n=>{let e=n.facet(ju);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:Ff.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class AF{constructor(e,t,r,i,o){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let i,o=1;if(r instanceof Ai)i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let a=e.coordsAtPos(i);if(!a||t.y<a.top||t.y>a.bottom||t.x<a.left-e.defaultCharacterWidth||t.x>a.right+e.defaultCharacterWidth)return;let c=e.bidiSpans(e.state.doc.lineAt(i)).find(h=>h.from<=i&&h.to>=i),f=c&&c.dir==ct.RTL?-1:1;o=t.x<a.left?-f:f}let s=this.source(e,i,o);if(s?.then){let a=this.pending={pos:i};s.then(c=>{this.pending==a&&(this.pending=null,c&&!(Array.isArray(c)&&!c.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(c)?c:[c])}))},c=>dn(e.state,c,"hover tooltip"))}else s&&!(Array.isArray(s)&&!s.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let e=this.view.plugin(d0),t=e?e.manager.tooltips.findIndex(r=>r.create==Ff.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!EF(o.dom,e)||this.pending){let{pos:s}=i[0]||this.pending,a=(r=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:s;(s==a?this.view.posAtCoords(this.lastMove)!=s:!RF(this.view,s,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Yc=4;function EF(n,e){let{left:t,right:r,top:i,bottom:o}=n.getBoundingClientRect(),s;if(s=n.querySelector(".cm-tooltip-arrow")){let a=s.getBoundingClientRect();i=Math.min(a.top,i),o=Math.max(a.bottom,o)}return e.clientX>=t-Yc&&e.clientX<=r+Yc&&e.clientY>=i-Yc&&e.clientY<=o+Yc}function RF(n,e,t,r,i,o){let s=n.scrollDOM.getBoundingClientRect(),a=n.documentTop+n.documentPadding.top+n.contentHeight;if(s.left>r||s.right<r||s.top>i||Math.min(s.bottom,a)<i)return!1;let c=n.posAtCoords({x:r,y:i},!1);return c>=e&&c<=t}function TF(n,e={}){let t=Oe.define(),r=_t.define({create(){return[]},update(i,o){if(i.length&&(e.hideOnChange&&(o.docChanged||o.selection)?i=[]:e.hideOn&&(i=i.filter(s=>!e.hideOn(o,s))),o.docChanged)){let s=[];for(let a of i){let c=o.changes.mapPos(a.pos,-1,tn.TrackDel);if(c!=null){let f=Object.assign(Object.create(null),a);f.pos=c,f.end!=null&&(f.end=o.changes.mapPos(f.end)),s.push(f)}}i=s}for(let s of o.effects)s.is(t)&&(i=s.value),s.is(PF)&&(i=[]);return i},provide:i=>ju.from(i)});return{active:r,extension:[r,wt.define(i=>new AF(i,n,r,t,e.hoverTime||300)),kF]}}function _S(n,e){let t=n.plugin(d0);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const PF=Oe.define(),ay=ce.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Xa(n,e){let t=n.plugin(LS),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const LS=wt.fromClass(class{constructor(n){this.input=n.state.facet(Za),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(ay);this.top=new Xc(n,!0,e.topContainer),this.bottom=new Xc(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(ay);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Xc(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Xc(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Za);if(t!=this.input){let r=t.filter(c=>c),i=[],o=[],s=[],a=[];for(let c of r){let f=this.specs.indexOf(c),h;f<0?(h=c(n.view),a.push(h)):(h=this.panels[f],h.update&&h.update(n)),i.push(h),(h.top?o:s).push(h)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(s);for(let c of a)c.dom.classList.add("cm-panel"),c.mount&&c.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>ae.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Xc{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=ly(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=ly(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function ly(n){let e=n.nextSibling;return n.remove(),e}const Za=ce.define({enables:LS});class ri extends xo{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ri.prototype.elementClass="";ri.prototype.toDOM=void 0;ri.prototype.mapMode=tn.TrackBefore;ri.prototype.startSide=ri.prototype.endSide=-1;ri.prototype.point=!0;const bu=ce.define(),MF=ce.define(),OF={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Ye.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Ia=ce.define();function DF(n){return[NS(),Ia.of({...OF,...n})]}const cy=ce.define({combine:n=>n.some(e=>e)});function NS(n){return[IF]}const IF=wt.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(Ia).map(e=>new fy(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(cy),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(cy)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=Ye.iter(this.view.state.facet(bu),this.view.viewport.from),r=[],i=this.gutters.map(o=>new _F(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let s=!0;for(let a of o.type)if(a.type==nn.Text&&s){Am(t,r,a.from);for(let c of i)c.line(this.view,a,r);s=!1}else if(a.widget)for(let c of i)c.widget(this.view,a)}else if(o.type==nn.Text){Am(t,r,o.from);for(let s of i)s.line(this.view,o,r)}else if(o.widget)for(let s of i)s.widget(this.view,o);for(let o of i)o.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(Ia),t=n.state.facet(Ia),r=n.docChanged||n.heightChanged||n.viewportChanged||!Ye.eq(n.startState.facet(bu),n.state.facet(bu),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let o of t){let s=e.indexOf(o);s<0?i.push(new fy(this.view,o)):(this.gutters[s].update(n),i.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>ae.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==ct.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function uy(n){return Array.isArray(n)?n:[n]}function Am(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class _F{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Ye.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,o=(t.top-this.height)/e.scaleY,s=t.height/e.scaleY;if(this.i==i.elements.length){let a=new BS(e,s,o,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,s,o,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];Am(this.cursor,i,t.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,t,i);o&&i.unshift(o);let s=this.gutter;i.length==0&&!s.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null;for(let o of e.state.facet(MF)){let s=o(e,t.widget,t);s&&(i||(i=[])).push(s)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class fy{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let c=o.getBoundingClientRect();s=(c.top+c.bottom)/2}else s=i.clientY;let a=e.lineBlockAtHeight(s-e.documentTop);t.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=uy(t.markers(e)),t.initialSpacer&&(this.spacer=new BS(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=uy(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Ye.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class BS{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),LF(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,s=0;;){let a=s,c=o<t.length?t[o++]:null,f=!1;if(c){let h=c.elementClass;h&&(r+=" "+h);for(let d=s;d<this.markers.length;d++)if(this.markers[d].compare(c)){a=d,f=!0;break}}else a=this.markers.length;for(;s<a;){let h=this.markers[s++];if(h.toDOM){h.destroy(i);let d=i.nextSibling;i.remove(),i=d}}if(!c)break;c.toDOM&&(f?i=i.nextSibling:this.dom.insertBefore(c.toDOM(e),i)),f&&s++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function LF(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const NF=ce.define(),BF=ce.define(),ss=ce.define({combine(n){return Mr(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let o=r[i],s=t[i];r[i]=o?(a,c,f)=>o(a,c,f)||s(a,c,f):s}return r}})}});class Jd extends ri{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function ep(n,e){return n.state.facet(ss).formatNumber(e,n.state)}const FF=Ia.compute([ss],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(NF)},lineMarker(e,t,r){return r.some(i=>i.toDOM)?null:new Jd(ep(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let i of e.state.facet(BF)){let o=i(e,t,r);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(ss)!=e.state.facet(ss),initialSpacer(e){return new Jd(ep(e,hy(e.state.doc.lines)))},updateSpacer(e,t){let r=ep(t.view,hy(t.view.state.doc.lines));return r==e.number?e:new Jd(r)},domEventHandlers:n.facet(ss).domEventHandlers}));function WF(n={}){return[ss.of(n),NS(),FF]}function hy(n){let e=9;for(;e<n;)e=e*10+9;return e}const VF=new class extends ri{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},jF=bu.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(VF.range(i)))}return Ye.of(e)});function HF(){return jF}var tp;const as=new je;function zF(n){return ce.define({combine:n?e=>e.concat(n):void 0})}const UF=new je;class Qn{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Ge.prototype.hasOwnProperty("tree")||Object.defineProperty(Ge.prototype,"tree",{get(){return Yt(this)}}),this.parser=t,this.extension=[_i.of(this),Ge.languageData.of((o,s,a)=>{let c=dy(o,s,a),f=c.type.prop(as);if(!f)return[];let h=o.facet(f),d=c.type.prop(UF);if(d){let g=c.resolve(s-c.from,a);for(let b of d)if(b.test(g,o)){let x=o.facet(b.facet);return b.type=="replace"?x:x.concat(h)}}return h})].concat(r)}isActiveAt(e,t,r=-1){return dy(e,t,r).type.prop(as)==this.data}findRegions(e){let t=e.facet(_i);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(o,s)=>{if(o.prop(as)==this.data){r.push({from:s,to:s+o.length});return}let a=o.prop(je.mounted);if(a){if(a.tree.prop(as)==this.data){if(a.overlay)for(let c of a.overlay)r.push({from:c.from+s,to:c.to+s});else r.push({from:s,to:s+o.length});return}else if(a.overlay){let c=r.length;if(i(a.tree,a.overlay[0].from+s),r.length>c)return}}for(let c=0;c<o.children.length;c++){let f=o.children[c];f instanceof kt&&i(f,o.positions[c]+s)}};return i(Yt(e),0),r}get allowsNesting(){return!0}}Qn.setState=Oe.define();function dy(n,e,t){let r=n.facet(_i),i=Yt(n).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,t,Dt.ExcludeBuffers))o.type.isTop&&(i=o);return i}class Hu extends Qn{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=zF(e.languageData);return new Hu(t,e.parser.configure({props:[as.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new Hu(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Yt(n){let e=n.field(Qn.state,!1);return e?e.tree:kt.empty}class KF{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let ya=null;class zu{constructor(e,t,r=[],i,o,s,a,c){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=c,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new zu(e,t,[],kt.empty,0,r,[],null)}startParse(){return this.parser.startParse(new KF(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=kt.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(fo.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(fo.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=ya;ya=this;try{return e()}finally{ya=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=py(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:o,viewport:s,skipped:a}=this;if(this.takeTree(),!e.empty){let c=[];if(e.iterChangedRanges((f,h,d,g)=>c.push({fromA:f,toA:h,fromB:d,toB:g})),r=fo.applyChanges(r,c),i=kt.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){a=[];for(let f of this.skipped){let h=e.mapPos(f.from,1),d=e.mapPos(f.to,-1);h<d&&a.push({from:h,to:d})}}}return new zu(this.parser,t,r,i,o,s,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=py(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends uC{createParse(t,r,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let c=ya;if(c){for(let f of i)c.tempSkipped.push(f);e&&(c.scheduleOn=c.scheduleOn?Promise.all([c.scheduleOn,e]):e)}return this.parsedPos=s,new kt(gn.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return ya}}function py(n,e,t){return fo.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Ps{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new Ps(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=zu.create(e.facet(_i).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new Ps(r)}}Qn.state=_t.define({create:Ps.init,update(n,e){for(let t of e.effects)if(t.is(Qn.setState))return t.value;return e.startState.facet(_i)!=e.state.facet(_i)?Ps.init(e.state):n.apply(e)}});let FS=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(FS=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const np=typeof navigator<"u"&&(!((tp=navigator.scheduling)===null||tp===void 0)&&tp.isInputPending)?()=>navigator.scheduling.isInputPending():null,GF=wt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Qn.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Qn.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=FS(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(Qn.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!np?Math.max(25,e.timeRemaining()-5):1e9),a=o.context.treeLen<i&&r.doc.length>i+1e3,c=o.context.work(()=>np&&np()||Date.now()>s,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(c||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Qn.setState.of(new Ps(o.context))})),this.chunkBudget>0&&!(c&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>dn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),_i=ce.define({combine(n){return n.length?n[0]:null},enables:n=>[Qn.state,GF,ae.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class qF{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const YF=ce.define(),Wf=ce.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function Uu(n){let e=n.facet(Wf);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Qa(n,e){let t="",r=n.tabSize,i=n.facet(Wf)[0];if(i=="	"){for(;e>=r;)t+="	",e-=r;i=" "}for(let o=0;o<e;o++)t+=i;return t}function m0(n,e){n instanceof Ge&&(n=new Vf(n));for(let r of n.state.facet(YF)){let i=r(n,e);if(i!==void 0)return i}let t=Yt(n.state);return t.length>=e?XF(n,t,e):null}class Vf{constructor(e,t={}){this.state=e,this.options=t,this.unit=Uu(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,t=e.length){return Us(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const WS=new je;function XF(n,e,t){let r=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=r.node){let o=[];for(let s=i;s&&!(s.from==r.node.from&&s.type==r.node.type);s=s.parent)o.push(s);for(let s=o.length-1;s>=0;s--)r={node:o[s],next:r}}return VS(r,n,t)}function VS(n,e,t){for(let r=n;r;r=r.next){let i=QF(r.node);if(i)return i(g0.create(e,t,r))}return 0}function ZF(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function QF(n){let e=n.type.prop(WS);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(je.closedBy))){let i=n.lastChild,o=i&&r.indexOf(i.name)>-1;return s=>nW(s,!0,1,void 0,o&&!ZF(s)?i.from:void 0)}return n.parent==null?JF:null}function JF(){return 0}class g0 extends Vf{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new g0(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(eW(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return VS(this.context.next,this.base,this.pos)}}function eW(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function tW(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,o=n.state.doc.lineAt(t.from),s=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let a=t.to;;){let c=e.childAfter(a);if(!c||c==r)return null;if(!c.type.isSkipped){if(c.from>=s)return null;let f=/^ */.exec(o.text.slice(t.to-o.from))[0].length;return{from:t.from,to:t.to+f}}a=c.to}}function nW(n,e,t,r,i){let o=n.textAfter,s=o.match(/^\s*/)[0].length,a=r&&o.slice(s,s+r.length)==r||i==n.pos+s,c=tW(n);return c?a?n.column(c.from):n.column(c.to):n.baseIndent+(a?0:n.unit*t)}function my({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const rW=200;function iW(){return Ge.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+rW)return n;let o=t.sliceString(i.from,r);if(!e.some(f=>f.test(o)))return n;let{state:s}=n,a=-1,c=[];for(let{head:f}of s.selection.ranges){let h=s.doc.lineAt(f);if(h.from==a)continue;a=h.from;let d=m0(s,h.from);if(d==null)continue;let g=/^\s*/.exec(h.text)[0],b=Qa(s,d);g!=b&&c.push({from:h.from,to:h.from+g.length,insert:b})}return c.length?[n,{changes:c,sequential:!0}]:n})}const oW=ce.define(),jS=new je;function sW(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function aW(n,e,t){let r=Yt(n);if(r.length<t)return null;let i=r.resolveStack(t,1),o=null;for(let s=i;s;s=s.next){let a=s.node;if(a.to<=t||a.from>t)continue;if(o&&a.from<e)break;let c=a.type.prop(jS);if(c&&(a.to<r.length-50||r.length==n.doc.length||!lW(a))){let f=c(a,n);f&&f.from<=t&&f.from>=e&&f.to>t&&(o=f)}}return o}function lW(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function Ku(n,e,t){for(let r of n.facet(oW)){let i=r(n,e,t);if(i)return i}return aW(n,e,t)}function HS(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const jf=Oe.define({map:HS}),xl=Oe.define({map:HS});function zS(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const Co=_t.define({create(){return ye.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(jf)&&!cW(n,t.value.from,t.value.to)){let{preparePlaceholder:r}=e.state.facet(GS),i=r?ye.replace({widget:new gW(r(e.state,t.value))}):gy;n=n.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(xl)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:r}=e.selection.main;n.between(r,r,(i,o)=>{i<r&&o>r&&(t=!0)}),t&&(n=n.update({filterFrom:r,filterTo:r,filter:(i,o)=>o<=r||i>=r}))}return n},provide:n=>ae.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(gy.range(r,i))}return ye.set(e,!0)}});function Gu(n,e,t){var r;let i=null;return(r=n.field(Co,!1))===null||r===void 0||r.between(e,t,(o,s)=>{(!i||i.from>o)&&(i={from:o,to:s})}),i}function cW(n,e,t){let r=!1;return n.between(e,e,(i,o)=>{i==e&&o==t&&(r=!0)}),r}function US(n,e){return n.field(Co,!1)?e:e.concat(Oe.appendConfig.of(qS()))}const uW=n=>{for(let e of zS(n)){let t=Ku(n.state,e.from,e.to);if(t)return n.dispatch({effects:US(n.state,[jf.of(t),KS(n,t)])}),!0}return!1},fW=n=>{if(!n.state.field(Co,!1))return!1;let e=[];for(let t of zS(n)){let r=Gu(n.state,t.from,t.to);r&&e.push(xl.of(r),KS(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function KS(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return ae.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const hW=n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),o=Ku(e,i.from,i.to);o&&t.push(jf.of(o)),r=(o?n.lineBlockAt(o.to):i).to+1}return t.length&&n.dispatch({effects:US(n.state,t)}),!!t.length},dW=n=>{let e=n.state.field(Co,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(xl.of({from:r,to:i}))}),n.dispatch({effects:t}),!0},pW=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:uW},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:fW},{key:"Ctrl-Alt-[",run:hW},{key:"Ctrl-Alt-]",run:dW}],mW={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},GS=ce.define({combine(n){return Mr(n,mW)}});function qS(n){return[Co,xW]}function YS(n,e){let{state:t}=n,r=t.facet(GS),i=s=>{let a=n.lineBlockAt(n.posAtDOM(s.target)),c=Gu(n.state,a.from,a.to);c&&n.dispatch({effects:xl.of(c)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,i,e);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",t.phrase("folded code")),o.title=t.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}const gy=ye.replace({widget:new class extends ai{toDOM(n){return YS(n,null)}}});class gW extends ai{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return YS(e,this.value)}}const bW={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class rp extends ri{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function vW(n={}){let e=Object.assign(Object.assign({},bW),n),t=new rp(e,!0),r=new rp(e,!1),i=wt.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(_i)!=s.state.facet(_i)||s.startState.field(Co,!1)!=s.state.field(Co,!1)||Yt(s.startState)!=Yt(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let a=new ti;for(let c of s.viewportLineBlocks){let f=Gu(s.state,c.from,c.to)?r:Ku(s.state,c.from,c.to)?t:null;f&&a.add(c.from,c.from,f)}return a.finish()}}),{domEventHandlers:o}=e;return[i,DF({class:"cm-foldGutter",markers(s){var a;return((a=s.plugin(i))===null||a===void 0?void 0:a.markers)||Ye.empty},initialSpacer(){return new rp(e,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(s,a,c)=>{if(o.click&&o.click(s,a,c))return!0;let f=Gu(s.state,a.from,a.to);if(f)return s.dispatch({effects:xl.of(f)}),!0;let h=Ku(s.state,a.from,a.to);return h?(s.dispatch({effects:jf.of(h)}),!0):!1}})}),qS()]}const xW=ae.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class yl{constructor(e,t){this.specs=e;let r;function i(a){let c=Oi.newName();return(r||(r=Object.create(null)))["."+c]=a,c}const o=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,s=t.scope;this.scope=s instanceof Qn?a=>a.prop(as)==s.data:s?a=>a==s:void 0,this.style=dC(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:o}).style,this.module=r?new Oi(r):null,this.themeType=t.themeType}static define(e,t){return new yl(e,t||{})}}const Em=ce.define(),XS=ce.define({combine(n){return n.length?[n[0]]:null}});function ip(n){let e=n.facet(Em);return e.length?e:n.facet(XS)}function ZS(n,e){let t=[wW],r;return n instanceof yl&&(n.module&&t.push(ae.styleModule.of(n.module)),r=n.themeType),e?.fallback?t.push(XS.of(n)):r?t.push(Em.computeN([ae.darkTheme],i=>i.facet(ae.darkTheme)==(r=="dark")?[n]:[])):t.push(Em.of(n)),t}class yW{constructor(e){this.markCache=Object.create(null),this.tree=Yt(e.state),this.decorations=this.buildDeco(e,ip(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Yt(e.state),r=ip(e.state),i=r!=ip(e.startState),{viewport:o}=e.view,s=e.changes.mapPos(this.decoratedTo,1);t.length<o.to&&!i&&t.type==this.tree.type&&s>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=o.to)}buildDeco(e,t){if(!t||!this.tree.length)return ye.none;let r=new ti;for(let{from:i,to:o}of e.visibleRanges)BL(this.tree,t,(s,a,c)=>{r.add(s,a,this.markCache[c]||(this.markCache[c]=ye.mark({class:c})))},i,o);return r.finish()}}const wW=To.high(wt.fromClass(yW,{decorations:n=>n.decorations})),$W=yl.define([{tag:H.meta,color:"#404740"},{tag:H.link,textDecoration:"underline"},{tag:H.heading,textDecoration:"underline",fontWeight:"bold"},{tag:H.emphasis,fontStyle:"italic"},{tag:H.strong,fontWeight:"bold"},{tag:H.strikethrough,textDecoration:"line-through"},{tag:H.keyword,color:"#708"},{tag:[H.atom,H.bool,H.url,H.contentSeparator,H.labelName],color:"#219"},{tag:[H.literal,H.inserted],color:"#164"},{tag:[H.string,H.deleted],color:"#a11"},{tag:[H.regexp,H.escape,H.special(H.string)],color:"#e40"},{tag:H.definition(H.variableName),color:"#00f"},{tag:H.local(H.variableName),color:"#30a"},{tag:[H.typeName,H.namespace],color:"#085"},{tag:H.className,color:"#167"},{tag:[H.special(H.variableName),H.macroName],color:"#256"},{tag:H.definition(H.propertyName),color:"#00c"},{tag:H.comment,color:"#940"},{tag:H.invalid,color:"#f00"}]),CW=ae.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),QS=1e4,JS="()[]{}",ek=ce.define({combine(n){return Mr(n,{afterCursor:!0,brackets:JS,maxScanDistance:QS,renderMatch:AW})}}),SW=ye.mark({class:"cm-matchingBracket"}),kW=ye.mark({class:"cm-nonmatchingBracket"});function AW(n){let e=[],t=n.matched?SW:kW;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const EW=_t.define({create(){return ye.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(ek);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=xr(e.state,i.head,-1,r)||i.head>0&&xr(e.state,i.head-1,1,r)||r.afterCursor&&(xr(e.state,i.head,1,r)||i.head<e.state.doc.length&&xr(e.state,i.head+1,-1,r));o&&(t=t.concat(r.renderMatch(o,e.state)))}return ye.set(t,!0)},provide:n=>ae.decorations.from(n)}),RW=[EW,CW];function TW(n={}){return[ek.of(n),RW]}const PW=new je;function Rm(n,e,t){let r=n.prop(e<0?je.openedBy:je.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function Tm(n){let e=n.type.prop(PW);return e?e(n.node):n}function xr(n,e,t,r={}){let i=r.maxScanDistance||QS,o=r.brackets||JS,s=Yt(n),a=s.resolveInner(e,t);for(let c=a;c;c=c.parent){let f=Rm(c.type,t,o);if(f&&c.from<c.to){let h=Tm(c);if(h&&(t>0?e>=h.from&&e<h.to:e>h.from&&e<=h.to))return MW(n,e,t,c,h,f,o)}}return OW(n,e,t,s,a.type,i,o)}function MW(n,e,t,r,i,o,s){let a=r.parent,c={from:i.from,to:i.to},f=0,h=a?.cursor();if(h&&(t<0?h.childBefore(r.from):h.childAfter(r.to)))do if(t<0?h.to<=r.from:h.from>=r.to){if(f==0&&o.indexOf(h.type.name)>-1&&h.from<h.to){let d=Tm(h);return{start:c,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(Rm(h.type,t,s))f++;else if(Rm(h.type,-t,s)){if(f==0){let d=Tm(h);return{start:c,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}f--}}while(t<0?h.prevSibling():h.nextSibling());return{start:c,matched:!1}}function OW(n,e,t,r,i,o,s){let a=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),c=s.indexOf(a);if(c<0||c%2==0!=t>0)return null;let f={from:t<0?e-1:e,to:t>0?e+1:e},h=n.doc.iterRange(e,t>0?n.doc.length:0),d=0;for(let g=0;!h.next().done&&g<=o;){let b=h.value;t<0&&(g+=b.length);let x=e+g*t;for(let v=t>0?0:b.length-1,w=t>0?b.length:-1;v!=w;v+=t){let C=s.indexOf(b[v]);if(!(C<0||r.resolveInner(x+v,1).type!=i))if(C%2==0==t>0)d++;else{if(d==1)return{start:f,end:{from:x+v,to:x+v+1},matched:C>>1==c>>1};d--}}t>0&&(g+=b.length)}return h.done?{start:f,matched:!1}:null}const DW=Object.create(null),by=[gn.none],vy=[],xy=Object.create(null),IW=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])IW[n]=_W(DW,e);function op(n,e){vy.indexOf(n)>-1||(vy.push(n),console.warn(e))}function _W(n,e){let t=[];for(let a of e.split(" ")){let c=[];for(let f of a.split(".")){let h=n[f]||H[f];h?typeof h=="function"?c.length?c=c.map(h):op(f,`Modifier ${f} used at start of tag`):c.length?op(f,`Tag ${f} used as modifier`):c=Array.isArray(h)?h:[h]:op(f,`Unknown highlighting tag ${f}`)}for(let f of c)t.push(f)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),o=xy[i];if(o)return o.id;let s=xy[i]=gn.define({id:by.length,name:r,props:[fC({[r]:t})]});return by.push(s),s.id}ct.RTL,ct.LTR;const LW=()=>n=>{try{JSON.parse(n.state.doc.toString())}catch(e){if(!(e instanceof SyntaxError))throw e;const t=NW(e,n.state.doc);return[{from:t,message:e.message,severity:"error",to:t}]}return[]};function NW(n,e){let t;return(t=n.message.match(/at position (\d+)/))?Math.min(+t[1],e.length):(t=n.message.match(/at line (\d+) column (\d+)/))?Math.min(e.line(+t[1]).from+ +t[2]-1,e.length):0}const BW=Hu.define({name:"json",parser:jL.configure({props:[WS.add({Object:my({except:/^\s*\}/}),Array:my({except:/^\s*\]/})}),jS.add({"Object Array":sW})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function FW(){return new qF(BW)}function WW(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}const VW=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=v0(n.state,t.from);return r.line?jW(n):r.block?zW(n):!1};function b0(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return i?(r(t.update(i)),!0):!1}}const jW=b0(GW,0),HW=b0(tk,0),zW=b0((n,e)=>tk(n,e,KW(e)),0);function v0(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const wa=50;function UW(n,{open:e,close:t},r,i){let o=n.sliceDoc(r-wa,r),s=n.sliceDoc(i,i+wa),a=/\s*$/.exec(o)[0].length,c=/^\s*/.exec(s)[0].length,f=o.length-a;if(o.slice(f-e.length,f)==e&&s.slice(c,c+t.length)==t)return{open:{pos:r-a,margin:a&&1},close:{pos:i+c,margin:c&&1}};let h,d;i-r<=2*wa?h=d=n.sliceDoc(r,i):(h=n.sliceDoc(r,r+wa),d=n.sliceDoc(i-wa,i));let g=/^\s*/.exec(h)[0].length,b=/\s*$/.exec(d)[0].length,x=d.length-b-t.length;return h.slice(g,g+e.length)==e&&d.slice(x,x+t.length)==t?{open:{pos:r+g+e.length,margin:/\s/.test(h.charAt(g+e.length))?1:0},close:{pos:i-b-t.length,margin:/\s/.test(d.charAt(x-1))?1:0}}:null}function KW(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to);i.from>r.from&&i.from==t.to&&(i=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function tk(n,e,t=e.selection.ranges){let r=t.map(o=>v0(e,o.from).block);if(!r.every(o=>o))return null;let i=t.map((o,s)=>UW(e,r[s],o.from,o.to));if(n!=2&&!i.every(o=>o))return{changes:e.changes(t.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+" "},{from:o.to,insert:" "+r[s].close}]))};if(n!=1&&i.some(o=>o)){let o=[];for(let s=0,a;s<i.length;s++)if(a=i[s]){let c=r[s],{open:f,close:h}=a;o.push({from:f.pos-c.open.length,to:f.pos+f.margin},{from:h.pos-h.margin,to:h.pos+c.close.length})}return{changes:o}}return null}function GW(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of t){let a=r.length,c=1e9,f=v0(e,o).line;if(f){for(let h=o;h<=s;){let d=e.doc.lineAt(h);if(d.from>i&&(o==s||s>d.from)){i=d.from;let g=/^\s*/.exec(d.text)[0].length,b=g==d.length,x=d.text.slice(g,g+f.length)==f?g:-1;g<d.text.length&&g<c&&(c=g),r.push({line:d,comment:x,token:f,indent:g,empty:b,single:!1})}h=d.to+1}if(c<1e9)for(let h=a;h<r.length;h++)r[h].indent<r[h].line.text.length&&(r[h].indent=c);r.length==a+1&&(r[a].single=!0)}}if(n!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:a,token:c,indent:f,empty:h,single:d}of r)(d||!h)&&o.push({from:a.from+f,insert:c+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(n!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:a,token:c}of r)if(a>=0){let f=s.from+a,h=f+c.length;s.text[h-s.from]==" "&&h++,o.push({from:f,to:h})}return{changes:o}}return null}const Pm=Pr.define(),qW=Pr.define(),YW=ce.define(),nk=ce.define({combine(n){return Mr(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}}),rk=_t.define({create(){return yr.empty},update(n,e){let t=e.state.facet(nk),r=e.annotation(Pm);if(r){let c=pn.fromTransaction(e,r.selection),f=r.side,h=f==0?n.undone:n.done;return c?h=qu(h,h.length,t.minDepth,c):h=sk(h,e.startState.selection),new yr(f==0?r.rest:h,f==0?h:r.rest)}let i=e.annotation(qW);if((i=="full"||i=="before")&&(n=n.isolate()),e.annotation(Tt.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let o=pn.fromTransaction(e),s=e.annotation(Tt.time),a=e.annotation(Tt.userEvent);return o?n=n.addChanges(o,s,a,t,e):e.selection&&(n=n.addSelection(e.startState.selection,s,a,t.newGroupDelay)),(i=="full"||i=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new yr(n.done.map(pn.fromJSON),n.undone.map(pn.fromJSON))}});function XW(n={}){return[rk,nk.of(n),ae.domEventHandlers({beforeinput(e,t){let r=e.inputType=="historyUndo"?ik:e.inputType=="historyRedo"?Mm:null;return r?(e.preventDefault(),r(t)):!1}})]}function Hf(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field(rk,!1);if(!i)return!1;let o=i.pop(n,t,e);return o?(r(o),!0):!1}}const ik=Hf(0,!1),Mm=Hf(1,!1),ZW=Hf(0,!0),QW=Hf(1,!0);class pn{constructor(e,t,r,i,o){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new pn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new pn(e.changes&&Rt.fromJSON(e.changes),[],e.mapped&&$r.fromJSON(e.mapped),e.startSelection&&X.fromJSON(e.startSelection),e.selectionsAfter.map(X.fromJSON))}static fromTransaction(e,t){let r=Fn;for(let i of e.startState.facet(YW)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new pn(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,Fn)}static selection(e){return new pn(void 0,Fn,void 0,void 0,e)}}function qu(n,e,t,r){let i=e+1>t+20?e-t-1:0,o=n.slice(i,e);return o.push(r),o}function JW(n,e){let t=[],r=!1;return n.iterChangedRanges((i,o)=>t.push(i,o)),e.iterChangedRanges((i,o,s,a)=>{for(let c=0;c<t.length;){let f=t[c++],h=t[c++];a>=f&&s<=h&&(r=!0)}}),r}function eV(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length===0}function ok(n,e){return n.length?e.length?n.concat(e):n:e}const Fn=[],tV=200;function sk(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-tV));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),qu(n,n.length-1,1e9,t.setSelAfter(r)))}else return[pn.selection([e])]}function nV(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function sp(n,e){if(!n.length)return n;let t=n.length,r=Fn;for(;t;){let i=rV(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=n.slice(0,t);return o[t-1]=i,o}else e=i.mapped,t--,r=i.selectionsAfter}return r.length?[pn.selection(r)]:Fn}function rV(n,e,t){let r=ok(n.selectionsAfter.length?n.selectionsAfter.map(a=>a.map(e)):Fn,t);if(!n.changes)return pn.selection(r);let i=n.changes.map(e),o=e.mapDesc(n.changes,!0),s=n.mapped?n.mapped.composeDesc(o):o;return new pn(i,Oe.mapEffects(n.effects,e),s,n.startSelection.map(o),r)}const iV=/^(input\.type|delete)($|\.)/;class yr{constructor(e,t,r=0,i=void 0){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new yr(this.done,this.undone):this}addChanges(e,t,r,i,o){let s=this.done,a=s[s.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||iV.test(r))&&(!a.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,JW(a.changes,e.changes))||r=="input.type.compose")?s=qu(s,s.length-1,i.minDepth,new pn(e.changes.compose(a.changes),ok(Oe.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,Fn)):s=qu(s,s.length,i.minDepth,e),new yr(s,Fn,t,r)}addSelection(e,t,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:Fn;return o.length>0&&t-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&eV(o[o.length-1],e)?this:new yr(sk(this.done,e),this.undone,t,r)}addMapping(e){return new yr(sp(this.done,e),sp(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1],s=o.selectionsAfter[0]||t.selection;if(r&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:Pm.of({side:e,rest:nV(i),selection:s}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let a=i.length==1?Fn:i.slice(0,i.length-1);return o.mapped&&(a=sp(a,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:Pm.of({side:e,rest:a,selection:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}yr.empty=new yr(Fn,Fn);const oV=[{key:"Mod-z",run:ik,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Mm,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Mm,preventDefault:!0},{key:"Mod-u",run:ZW,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:QW,preventDefault:!0}];function Ks(n,e){return X.create(n.ranges.map(e),n.mainIndex)}function Or(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function sr({state:n,dispatch:e},t){let r=Ks(n.selection,t);return r.eq(n.selection,!0)?!1:(e(Or(n,r)),!0)}function zf(n,e){return X.cursor(e?n.to:n.from)}function ak(n,e){return sr(n,t=>t.empty?n.moveByChar(t,e):zf(t,e))}function Xt(n){return n.textDirectionAt(n.state.selection.main.head)==ct.LTR}const lk=n=>ak(n,!Xt(n)),ck=n=>ak(n,Xt(n));function uk(n,e){return sr(n,t=>t.empty?n.moveByGroup(t,e):zf(t,e))}const sV=n=>uk(n,!Xt(n)),aV=n=>uk(n,Xt(n));function lV(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Uf(n,e,t){let r=Yt(n).resolveInner(e.head),i=t?je.closedBy:je.openedBy;for(let c=e.head;;){let f=t?r.childAfter(c):r.childBefore(c);if(!f)break;lV(n,f,i)?r=f:c=t?f.to:f.from}let o=r.type.prop(i),s,a;return o&&(s=t?xr(n,r.from,1):xr(n,r.to,-1))&&s.matched?a=t?s.end.to:s.end.from:a=t?r.to:r.from,X.cursor(a,t?-1:1)}const cV=n=>sr(n,e=>Uf(n.state,e,!Xt(n))),uV=n=>sr(n,e=>Uf(n.state,e,Xt(n)));function fk(n,e){return sr(n,t=>{if(!t.empty)return zf(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const hk=n=>fk(n,!1),dk=n=>fk(n,!0);function pk(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,i;if(e){for(let o of n.state.facet(ae.scrollMargins)){let s=o(n);s?.top&&(t=Math.max(s?.top,t)),s?.bottom&&(r=Math.max(s?.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function mk(n,e){let t=pk(n),{state:r}=n,i=Ks(r.selection,s=>s.empty?n.moveVertically(s,e,t.height):zf(s,e));if(i.eq(r.selection))return!1;let o;if(t.selfScroll){let s=n.coordsAtPos(r.selection.main.head),a=n.scrollDOM.getBoundingClientRect(),c=a.top+t.marginTop,f=a.bottom-t.marginBottom;s&&s.top>c&&s.bottom<f&&(o=ae.scrollIntoView(i.main.head,{y:"start",yMargin:s.top-c}))}return n.dispatch(Or(r,i),{effects:o}),!0}const yy=n=>mk(n,!1),Om=n=>mk(n,!0);function Vi(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let o=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=X.cursor(r.from+o))}return i}const fV=n=>sr(n,e=>Vi(n,e,!0)),hV=n=>sr(n,e=>Vi(n,e,!1)),dV=n=>sr(n,e=>Vi(n,e,!Xt(n))),pV=n=>sr(n,e=>Vi(n,e,Xt(n))),mV=n=>sr(n,e=>X.cursor(n.lineBlockAt(e.head).from,1)),gV=n=>sr(n,e=>X.cursor(n.lineBlockAt(e.head).to,-1));function bV(n,e,t){let r=!1,i=Ks(n.selection,o=>{let s=xr(n,o.head,-1)||xr(n,o.head,1)||o.head>0&&xr(n,o.head-1,1)||o.head<n.doc.length&&xr(n,o.head+1,-1);if(!s||!s.end)return o;r=!0;let a=s.start.from==o.head?s.end.to:s.end.from;return X.cursor(a)});return r?(e(Or(n,i)),!0):!1}const vV=({state:n,dispatch:e})=>bV(n,e);function zn(n,e){let t=Ks(n.state.selection,r=>{let i=e(r);return X.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Or(n.state,t)),!0)}function gk(n,e){return zn(n,t=>n.moveByChar(t,e))}const bk=n=>gk(n,!Xt(n)),vk=n=>gk(n,Xt(n));function xk(n,e){return zn(n,t=>n.moveByGroup(t,e))}const xV=n=>xk(n,!Xt(n)),yV=n=>xk(n,Xt(n)),wV=n=>zn(n,e=>Uf(n.state,e,!Xt(n))),$V=n=>zn(n,e=>Uf(n.state,e,Xt(n)));function yk(n,e){return zn(n,t=>n.moveVertically(t,e))}const wk=n=>yk(n,!1),$k=n=>yk(n,!0);function Ck(n,e){return zn(n,t=>n.moveVertically(t,e,pk(n).height))}const wy=n=>Ck(n,!1),$y=n=>Ck(n,!0),CV=n=>zn(n,e=>Vi(n,e,!0)),SV=n=>zn(n,e=>Vi(n,e,!1)),kV=n=>zn(n,e=>Vi(n,e,!Xt(n))),AV=n=>zn(n,e=>Vi(n,e,Xt(n))),EV=n=>zn(n,e=>X.cursor(n.lineBlockAt(e.head).from)),RV=n=>zn(n,e=>X.cursor(n.lineBlockAt(e.head).to)),Cy=({state:n,dispatch:e})=>(e(Or(n,{anchor:0})),!0),Sy=({state:n,dispatch:e})=>(e(Or(n,{anchor:n.doc.length})),!0),ky=({state:n,dispatch:e})=>(e(Or(n,{anchor:n.selection.main.anchor,head:0})),!0),Ay=({state:n,dispatch:e})=>(e(Or(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),TV=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),PV=({state:n,dispatch:e})=>{let t=Kf(n).map(({from:r,to:i})=>X.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:X.create(t),userEvent:"select"})),!0},MV=({state:n,dispatch:e})=>{let t=Ks(n.selection,r=>{let i=Yt(n),o=i.resolveStack(r.from,1);if(r.empty){let s=i.resolveStack(r.from,-1);s.node.from>=o.node.from&&s.node.to<=o.node.to&&(o=s)}for(let s=o;s;s=s.next){let{node:a}=s;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&s.next)return X.range(a.to,a.from)}return r});return t.eq(n.selection)?!1:(e(Or(n,t)),!0)},OV=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=X.create([t.main]):t.main.empty||(r=X.create([X.cursor(t.main.head)])),r?(e(Or(n,r)),!0):!1};function wl(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(o=>{let{from:s,to:a}=o;if(s==a){let c=e(o);c<s?(t="delete.backward",c=Zc(n,c,!1)):c>s&&(t="delete.forward",c=Zc(n,c,!0)),s=Math.min(s,c),a=Math.max(a,c)}else s=Zc(n,s,!1),a=Zc(n,a,!0);return s==a?{range:o}:{changes:{from:s,to:a},range:X.cursor(s,s<o.head?-1:1)}});return i.changes.empty?!1:(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?ae.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Zc(n,e,t){if(n instanceof ae)for(let r of n.state.facet(ae.atomicRanges).map(i=>i(n)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=t?o:i)});return e}const Sk=(n,e,t)=>wl(n,r=>{let i=r.from,{state:o}=n,s=o.doc.lineAt(i),a,c;if(t&&!e&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(a=s.text.slice(0,i-s.from))){if(a[a.length-1]=="	")return i-1;let f=Us(a,o.tabSize),h=f%Uu(o)||Uu(o);for(let d=0;d<h&&a[a.length-1-d]==" ";d++)i--;c=i}else c=Vt(s.text,i-s.from,e,e)+s.from,c==i&&s.number!=(e?o.doc.lines:1)?c+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(c-s.from,i-s.from))&&(c=Vt(s.text,c-s.from,!1,!1)+s.from);return c}),Dm=n=>Sk(n,!1,!0),kk=n=>Sk(n,!0,!1),Ak=(n,e)=>wl(n,t=>{let r=t.head,{state:i}=n,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let a=null;;){if(r==(e?o.to:o.from)){r==t.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let c=Vt(o.text,r-o.from,e)+o.from,f=o.text.slice(Math.min(r,c)-o.from,Math.max(r,c)-o.from),h=s(f);if(a!=null&&h!=a)break;(f!=" "||r!=t.head)&&(a=h),r=c}return r}),Ek=n=>Ak(n,!1),DV=n=>Ak(n,!0),IV=n=>wl(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),_V=n=>wl(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),LV=n=>wl(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),NV=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Xe.of(["",""])},range:X.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},BV=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,o=n.doc.lineAt(i),s=i==o.from?i-1:Vt(o.text,i-o.from,!1)+o.from,a=i==o.to?i+1:Vt(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:a,insert:n.doc.slice(i,a).append(n.doc.slice(s,i))},range:X.cursor(a)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Kf(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),o=n.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=n.doc.lineAt(r.to-1)),t>=i.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});t=o.number+1}return e}function Rk(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let o of Kf(n)){if(t?o.to==n.doc.length:o.from==0)continue;let s=n.doc.lineAt(t?o.to+1:o.from-1),a=s.length+1;if(t){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+n.lineBreak});for(let c of o.ranges)i.push(X.range(Math.min(n.doc.length,c.anchor+a),Math.min(n.doc.length,c.head+a)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:n.lineBreak+s.text});for(let c of o.ranges)i.push(X.range(c.anchor-a,c.head-a))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:X.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const FV=({state:n,dispatch:e})=>Rk(n,e,!1),WV=({state:n,dispatch:e})=>Rk(n,e,!0);function Tk(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of Kf(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const VV=({state:n,dispatch:e})=>Tk(n,e,!1),jV=({state:n,dispatch:e})=>Tk(n,e,!0),HV=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Kf(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=Ks(e.selection,i=>{let o;if(n.lineWrapping){let s=n.lineBlockAt(i.head),a=n.coordsAtPos(i.head,i.assoc||1);a&&(o=s.bottom+n.documentTop-a.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,o)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function zV(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Yt(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(je.closedBy))&&o.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from&&!/\S/.test(n.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const Ey=Pk(!1),UV=Pk(!0);function Pk(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:s}=i,a=e.doc.lineAt(o),c=!n&&o==s&&zV(e,o);n&&(o=s=(s<=a.to?a:e.doc.lineAt(s)).to);let f=new Vf(e,{simulateBreak:o,simulateDoubleBreak:!!c}),h=m0(f,o);for(h==null&&(h=Us(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));s<a.to&&/\s/.test(a.text[s-a.from]);)s++;c?{from:o,to:s}=c:o>a.from&&o<a.from+100&&!/\S/.test(a.text.slice(0,o))&&(o=a.from);let d=["",Qa(e,h)];return c&&d.push(Qa(e,f.lineIndent(a.from,-1))),{changes:{from:o,to:s,insert:Xe.of(d)},range:X.cursor(o+1+d[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function x0(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let a=n.doc.lineAt(s);a.number>t&&(r.empty||r.to>a.from)&&(e(a,i,r),t=a.number),s=a.to+1}let o=n.changes(i);return{changes:i,range:X.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const KV=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new Vf(n,{overrideIndentation:o=>{let s=t[o];return s??-1}}),i=x0(n,(o,s,a)=>{let c=m0(r,o.from);if(c==null)return;/\S/.test(o.text)||(c=0);let f=/^\s*/.exec(o.text)[0],h=Qa(n,c);(f!=h||a.from<o.from+f.length)&&(t[o.from]=c,s.push({from:o.from,to:o.from+f.length,insert:h}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0},Mk=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(x0(n,(t,r)=>{r.push({from:t.from,insert:n.facet(Wf)})}),{userEvent:"input.indent"})),!0),Ok=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(x0(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let o=Us(i,n.tabSize),s=0,a=Qa(n,Math.max(0,o-Uu(n)));for(;s<i.length&&s<a.length&&i.charCodeAt(s)==a.charCodeAt(s);)s++;r.push({from:t.from+s,to:t.from+i.length,insert:a.slice(s)})}),{userEvent:"delete.dedent"})),!0),GV=n=>(n.setTabFocusMode(),!0),qV=[{key:"Ctrl-b",run:lk,shift:bk,preventDefault:!0},{key:"Ctrl-f",run:ck,shift:vk},{key:"Ctrl-p",run:hk,shift:wk},{key:"Ctrl-n",run:dk,shift:$k},{key:"Ctrl-a",run:mV,shift:EV},{key:"Ctrl-e",run:gV,shift:RV},{key:"Ctrl-d",run:kk},{key:"Ctrl-h",run:Dm},{key:"Ctrl-k",run:IV},{key:"Ctrl-Alt-h",run:Ek},{key:"Ctrl-o",run:NV},{key:"Ctrl-t",run:BV},{key:"Ctrl-v",run:Om}],YV=[{key:"ArrowLeft",run:lk,shift:bk,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:sV,shift:xV,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:dV,shift:kV,preventDefault:!0},{key:"ArrowRight",run:ck,shift:vk,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:aV,shift:yV,preventDefault:!0},{mac:"Cmd-ArrowRight",run:pV,shift:AV,preventDefault:!0},{key:"ArrowUp",run:hk,shift:wk,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Cy,shift:ky},{mac:"Ctrl-ArrowUp",run:yy,shift:wy},{key:"ArrowDown",run:dk,shift:$k,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Sy,shift:Ay},{mac:"Ctrl-ArrowDown",run:Om,shift:$y},{key:"PageUp",run:yy,shift:wy},{key:"PageDown",run:Om,shift:$y},{key:"Home",run:hV,shift:SV,preventDefault:!0},{key:"Mod-Home",run:Cy,shift:ky},{key:"End",run:fV,shift:CV,preventDefault:!0},{key:"Mod-End",run:Sy,shift:Ay},{key:"Enter",run:Ey,shift:Ey},{key:"Mod-a",run:TV},{key:"Backspace",run:Dm,shift:Dm},{key:"Delete",run:kk},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Ek},{key:"Mod-Delete",mac:"Alt-Delete",run:DV},{mac:"Mod-Backspace",run:_V},{mac:"Mod-Delete",run:LV}].concat(qV.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),XV=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cV,shift:wV},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:uV,shift:$V},{key:"Alt-ArrowUp",run:FV},{key:"Shift-Alt-ArrowUp",run:VV},{key:"Alt-ArrowDown",run:WV},{key:"Shift-Alt-ArrowDown",run:jV},{key:"Escape",run:OV},{key:"Mod-Enter",run:UV},{key:"Alt-l",mac:"Ctrl-l",run:PV},{key:"Mod-i",run:MV,preventDefault:!0},{key:"Mod-[",run:Ok},{key:"Mod-]",run:Mk},{key:"Mod-Alt-\\",run:KV},{key:"Shift-Mod-k",run:HV},{key:"Shift-Mod-\\",run:vV},{key:"Mod-/",run:VW},{key:"Alt-A",run:HW},{key:"Ctrl-m",mac:"Shift-Alt-m",run:GV}].concat(YV),ZV={key:"Tab",run:Mk,shift:Ok},Ry=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class Ms{constructor(e,t,r=0,i=e.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?a=>o(Ry(a)):Ry,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return un(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Jg(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=br(e);let i=this.normalize(t);if(i.length)for(let o=0,s=r;;o++){let a=i.charCodeAt(o),c=this.match(a,s,this.bufferPos+this.bufferStart);if(o==i.length-1){if(c)return this.value=c,this;break}s==r&&o<t.length&&t.charCodeAt(o)==a&&s++}}}match(e,t,r){let i=null;for(let o=0;o<this.matches.length;o+=2){let s=this.matches[o],a=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[o+1],to:r}:(this.matches[o]++,a=!0)),a||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:r}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Ms.prototype[Symbol.iterator]=function(){return this});const Dk={from:-1,to:-1,match:/.*/.exec("")},y0="gm"+(/x/.unicode==null?"":"u");class Ik{constructor(e,t,r,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=Dk,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new _k(e,t,r,i,o);this.re=new RegExp(t,y0+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let s=e.lineAt(i);this.curLineStart=s.from,this.matchPos=Yu(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=Yu(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const ap=new WeakMap;class ms{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=ap.get(e);if(!i||i.from>=r||i.to<=t){let a=new ms(t,e.sliceString(t,r));return ap.set(e,a),a}if(i.from==t&&i.to==r)return i;let{text:o,from:s}=i;return s>t&&(o=e.sliceString(t,s)+o,s=t),i.to<r&&(o+=e.sliceString(i.to,r)),ap.set(e,new ms(s,o)),new ms(t,o.slice(t-s,r-s))}}class _k{constructor(e,t,r,i,o){this.text=e,this.to=o,this.done=!1,this.value=Dk,this.matchPos=Yu(e,i),this.re=new RegExp(t,y0+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=ms.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=Yu(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=ms.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Ik.prototype[Symbol.iterator]=_k.prototype[Symbol.iterator]=function(){return this});function QV(n){try{return new RegExp(n,y0),!0}catch{return!1}}function Yu(n,e){if(e>=n.length)return e;let t=n.lineAt(e),r;for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function Im(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=rt("input",{class:"cm-textfield",name:"line",value:e}),r=rt("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),n.dispatch({effects:_a.of(!1)}),n.focus()):o.keyCode==13&&(o.preventDefault(),i())},onsubmit:o=>{o.preventDefault(),i()}},rt("label",n.state.phrase("Go to line"),": ",t)," ",rt("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),rt("button",{name:"close",onclick:()=>{n.dispatch({effects:_a.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},["×"]));function i(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!o)return;let{state:s}=n,a=s.doc.lineAt(s.selection.main.head),[,c,f,h,d]=o,g=h?+h.slice(1):0,b=f?+f:a.number;if(f&&d){let w=b/100;c&&(w=w*(c=="-"?-1:1)+a.number/s.doc.lines),b=Math.round(s.doc.lines*w)}else f&&c&&(b=b*(c=="-"?-1:1)+a.number);let x=s.doc.line(Math.max(1,Math.min(s.doc.lines,b))),v=X.cursor(x.from+Math.max(0,Math.min(g,x.length)));n.dispatch({effects:[_a.of(!1),ae.scrollIntoView(v.from,{y:"center"})],selection:v}),n.focus()}return{dom:r}}const _a=Oe.define(),Ty=_t.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(_a)&&(n=t.value);return n},provide:n=>Za.from(n,e=>e?Im:null)}),JV=n=>{let e=Xa(n,Im);if(!e){let t=[_a.of(!0)];n.state.field(Ty,!1)==null&&t.push(Oe.appendConfig.of([Ty,ej])),n.dispatch({effects:t}),e=Xa(n,Im)}return e&&e.dom.querySelector("input").select(),!0},ej=ae.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),tj={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},nj=ce.define({combine(n){return Mr(n,tj,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function rj(n){return[lj,aj]}const ij=ye.mark({class:"cm-selectionMatch"}),oj=ye.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Py(n,e,t,r){return(t==0||n(e.sliceDoc(t-1,t))!=ht.Word)&&(r==e.doc.length||n(e.sliceDoc(r,r+1))!=ht.Word)}function sj(n,e,t,r){return n(e.sliceDoc(t,t+1))==ht.Word&&n(e.sliceDoc(r-1,r))==ht.Word}const aj=wt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(nj),{state:t}=n,r=t.selection;if(r.ranges.length>1)return ye.none;let i=r.main,o,s=null;if(i.empty){if(!e.highlightWordAroundCursor)return ye.none;let c=t.wordAt(i.head);if(!c)return ye.none;s=t.charCategorizer(i.head),o=t.sliceDoc(c.from,c.to)}else{let c=i.to-i.from;if(c<e.minSelectionLength||c>200)return ye.none;if(e.wholeWords){if(o=t.sliceDoc(i.from,i.to),s=t.charCategorizer(i.head),!(Py(s,t,i.from,i.to)&&sj(s,t,i.from,i.to)))return ye.none}else if(o=t.sliceDoc(i.from,i.to),!o)return ye.none}let a=[];for(let c of n.visibleRanges){let f=new Ms(t.doc,o,c.from,c.to);for(;!f.next().done;){let{from:h,to:d}=f.value;if((!s||Py(s,t,h,d))&&(i.empty&&h<=i.from&&d>=i.to?a.push(oj.range(h,d)):(h>=i.to||d<=i.from)&&a.push(ij.range(h,d)),a.length>e.maxMatches))return ye.none}}return ye.set(a)}},{decorations:n=>n.decorations}),lj=ae.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),cj=({state:n,dispatch:e})=>{let{selection:t}=n,r=X.create(t.ranges.map(i=>n.wordAt(i.head)||X.cursor(i.head)),t.mainIndex);return r.eq(t)?!1:(e(n.update({selection:r})),!0)};function uj(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),o=i&&i.from==t.from&&i.to==t.to;for(let s=!1,a=new Ms(n.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(s)return null;a=new Ms(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),s=!0}else{if(s&&r.some(c=>c.from==a.value.from))continue;if(o){let c=n.wordAt(a.value.from);if(!c||c.from!=a.value.from||c.to!=a.value.to)continue}return a.value}}const fj=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(o=>o.from===o.to))return cj({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(o=>n.sliceDoc(o.from,o.to)!=r))return!1;let i=uj(n,r);return i?(e(n.update({selection:n.selection.addRange(X.range(i.from,i.to),!1),effects:ae.scrollIntoView(i.to)})),!0):!1},Gs=ce.define({combine(n){return Mr(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Cj(e),scrollToMatch:e=>ae.scrollIntoView(e)})}});class Lk{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||QV(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new mj(this):new dj(this)}getCursor(e,t=0,r){let i=e.doc?e:Ge.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?is(this,i,t,r):rs(this,i,t,r)}}class Nk{constructor(e){this.spec=e}}function rs(n,e,t,r){return new Ms(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?hj(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function hj(n,e){return(t,r,i,o)=>((o>t||o+i.length<r)&&(o=Math.max(0,t-2),i=n.sliceString(o,Math.min(n.length,r+2))),(e(Xu(i,t-o))!=ht.Word||e(Zu(i,t-o))!=ht.Word)&&(e(Zu(i,r-o))!=ht.Word||e(Xu(i,r-o))!=ht.Word))}class dj extends Nk{constructor(e){super(e)}nextMatch(e,t,r){let i=rs(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let o=Math.min(e.doc.length,t+this.spec.unquoted.length);i=rs(this.spec,e,0,o).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==r?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let o=Math.max(t,i-1e4-this.spec.unquoted.length),s=rs(this.spec,e,o,i),a=null;for(;!s.nextOverlapping().done;)a=s.value;if(a)return a;if(o==t)return null;i-=1e4}}prevMatch(e,t,r){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=rs(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=rs(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}function is(n,e,t,r){return new Ik(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?pj(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function Xu(n,e){return n.slice(Vt(n,e,!1),e)}function Zu(n,e){return n.slice(e,Vt(n,e))}function pj(n){return(e,t,r)=>!r[0].length||(n(Xu(r.input,r.index))!=ht.Word||n(Zu(r.input,r.index))!=ht.Word)&&(n(Zu(r.input,r.index+r[0].length))!=ht.Word||n(Xu(r.input,r.index+r[0].length))!=ht.Word)}class mj extends Nk{nextMatch(e,t,r){let i=is(this.spec,e,r,e.doc.length).next();return i.done&&(i=is(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let o=Math.max(t,r-i*1e4),s=is(this.spec,e,o,r),a=null;for(;!s.next().done;)a=s.value;if(a&&(o==t||a.from>o+10))return a;if(o==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let o=+r.slice(0,i);if(o>0&&o<e.match.length)return e.match[o]+r.slice(i)}return t})}matchAll(e,t){let r=is(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=is(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}const Ja=Oe.define(),w0=Oe.define(),Ri=_t.define({create(n){return new lp(_m(n).create(),null)},update(n,e){for(let t of e.effects)t.is(Ja)?n=new lp(t.value.create(),n.panel):t.is(w0)&&(n=new lp(n.query,t.value?$0:null));return n},provide:n=>Za.from(n,e=>e.panel)});class lp{constructor(e,t){this.query=e,this.panel=t}}const gj=ye.mark({class:"cm-searchMatch"}),bj=ye.mark({class:"cm-searchMatch cm-searchMatch-selected"}),vj=wt.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Ri))}update(n){let e=n.state.field(Ri);(e!=n.startState.field(Ri)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return ye.none;let{view:t}=this,r=new ti;for(let i=0,o=t.visibleRanges,s=o.length;i<s;i++){let{from:a,to:c}=o[i];for(;i<s-1&&c>o[i+1].from-2*250;)c=o[++i].to;n.highlight(t.state,a,c,(f,h)=>{let d=t.state.selection.ranges.some(g=>g.from==f&&g.to==h);r.add(f,h,d?bj:gj)})}return r.finish()}},{decorations:n=>n.decorations});function $l(n){return e=>{let t=e.state.field(Ri,!1);return t&&t.query.spec.valid?n(e,t):Wk(e)}}const Qu=$l((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=X.single(r.from,r.to),o=n.state.facet(Gs);return n.dispatch({selection:i,effects:[C0(n,r),o.scrollToMatch(i.main,n)],userEvent:"select.search"}),Fk(n),!0}),Ju=$l((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let o=X.single(i.from,i.to),s=n.state.facet(Gs);return n.dispatch({selection:o,effects:[C0(n,i),s.scrollToMatch(o.main,n)],userEvent:"select.search"}),Fk(n),!0}),xj=$l((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:X.create(t.map(r=>X.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),yj=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,o=[],s=0;for(let a=new Ms(n.doc,n.sliceDoc(r,i));!a.next().done;){if(o.length>1e3)return!1;a.value.from==r&&(s=o.length),o.push(X.range(a.value.from,a.value.to))}return e(n.update({selection:X.create(o,s),userEvent:"select.search.matches"})),!0},My=$l((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let o=e.nextMatch(t,r,r);if(!o)return!1;let s=o,a=[],c,f,h=[];s.from==r&&s.to==i&&(f=t.toText(e.getReplacement(s)),a.push({from:s.from,to:s.to,insert:f}),s=e.nextMatch(t,s.from,s.to),h.push(ae.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+".")));let d=n.state.changes(a);return s&&(c=X.single(s.from,s.to).map(d),h.push(C0(n,s)),h.push(t.facet(Gs).scrollToMatch(c.main,n))),n.dispatch({changes:d,selection:c,effects:h,userEvent:"input.replace"}),!0}),wj=$l((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:o,to:s}=i;return{from:o,to:s,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:ae.announce.of(r),userEvent:"input.replace.all"}),!0});function $0(n){return n.state.facet(Gs).createPanel(n)}function _m(n,e){var t,r,i,o,s;let a=n.selection.main,c=a.empty||a.to>a.from+100?"":n.sliceDoc(a.from,a.to);if(e&&!c)return e;let f=n.facet(Gs);return new Lk({search:((t=e?.literal)!==null&&t!==void 0?t:f.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:f.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:f.literal,regexp:(o=e?.regexp)!==null&&o!==void 0?o:f.regexp,wholeWord:(s=e?.wholeWord)!==null&&s!==void 0?s:f.wholeWord})}function Bk(n){let e=Xa(n,$0);return e&&e.dom.querySelector("[main-field]")}function Fk(n){let e=Bk(n);e&&e==n.root.activeElement&&e.select()}const Wk=n=>{let e=n.state.field(Ri,!1);if(e&&e.panel){let t=Bk(n);if(t&&t!=n.root.activeElement){let r=_m(n.state,e.query.spec);r.valid&&n.dispatch({effects:Ja.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[w0.of(!0),e?Ja.of(_m(n.state,e.query.spec)):Oe.appendConfig.of(kj)]});return!0},Vk=n=>{let e=n.state.field(Ri,!1);if(!e||!e.panel)return!1;let t=Xa(n,$0);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:w0.of(!1)}),!0},$j=[{key:"Mod-f",run:Wk,scope:"editor search-panel"},{key:"F3",run:Qu,shift:Ju,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Qu,shift:Ju,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Vk,scope:"editor search-panel"},{key:"Mod-Shift-l",run:yj},{key:"Mod-Alt-g",run:JV},{key:"Mod-d",run:fj,preventDefault:!0}];class Cj{constructor(e){this.view=e;let t=this.query=e.state.field(Ri).query.spec;this.commit=this.commit.bind(this),this.searchField=rt("input",{value:t.search,placeholder:kn(e,"Find"),"aria-label":kn(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=rt("input",{value:t.replace,placeholder:kn(e,"Replace"),"aria-label":kn(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=rt("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=rt("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=rt("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function r(i,o,s){return rt("button",{class:"cm-button",name:i,onclick:o,type:"button"},s)}this.dom=rt("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>Qu(e),[kn(e,"next")]),r("prev",()=>Ju(e),[kn(e,"previous")]),r("select",()=>xj(e),[kn(e,"all")]),rt("label",null,[this.caseField,kn(e,"match case")]),rt("label",null,[this.reField,kn(e,"regexp")]),rt("label",null,[this.wordField,kn(e,"by word")]),...e.state.readOnly?[]:[rt("br"),this.replaceField,r("replace",()=>My(e),[kn(e,"replace")]),r("replaceAll",()=>wj(e),[kn(e,"replace all")])],rt("button",{name:"close",onclick:()=>Vk(e),"aria-label":kn(e,"close"),type:"button"},["×"])])}commit(){let e=new Lk({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Ja.of(e)}))}keydown(e){VB(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Ju:Qu)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),My(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(Ja)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Gs).top}}function kn(n,e){return n.state.phrase(e)}const Qc=30,Jc=/[\s\.,:;?!]/;function C0(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,o=Math.max(r.from,e-Qc),s=Math.min(i,t+Qc),a=n.state.sliceDoc(o,s);if(o!=r.from){for(let c=0;c<Qc;c++)if(!Jc.test(a[c+1])&&Jc.test(a[c])){a=a.slice(c);break}}if(s!=i){for(let c=a.length-1;c>a.length-Qc;c--)if(!Jc.test(a[c-1])&&Jc.test(a[c])){a=a.slice(0,c);break}}return ae.announce.of(`${n.state.phrase("current match")}. ${a} ${n.state.phrase("on line")} ${r.number}.`)}const Sj=ae.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),kj=[Ri,To.low(vj),Sj];class jk{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Yt(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),o=i.search(Hk(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function Oy(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Aj(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let o=1;o<i.length;o++)t[i[o]]=!0}let r=Oy(e)+Oy(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Ej(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Aj(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:t}:null}}let Dy=class{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}};function ho(n){return n.selection.main.from}function Hk(n,e){var t;let{source:r}=n,i=e&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?n:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const zk=Pr.define();function Rj(n,e,t,r){let{main:i}=n.selection,o=t-i.from,s=r-i.from;return Object.assign(Object.assign({},n.changeByRange(a=>{if(a!=i&&t!=r&&n.sliceDoc(a.from+o,a.from+s)!=n.sliceDoc(t,r))return{range:a};let c=n.toText(e);return{changes:{from:a.from+o,to:r==i.from?a.to:a.from+s,insert:c},range:X.cursor(a.from+o+c.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const Iy=new WeakMap;function Tj(n){if(!Array.isArray(n))return n;let e=Iy.get(n);return e||Iy.set(n,e=Ej(n)),e}const ef=Oe.define(),el=Oe.define();class Pj{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=un(e,t),i=br(r);this.chars.push(r);let o=e.slice(t,t+i),s=o.toUpperCase();this.folded.push(un(s==o?o.toLowerCase():s,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:o,byWord:s}=this;if(t.length==1){let k=un(e,0),A=br(k),R=A==e.length?0:-100;if(k!=t[0])if(k==r[0])R+=-200;else return null;return this.ret(R,[0,A])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let c=t.length,f=0;if(a<0){for(let k=0,A=Math.min(e.length,200);k<A&&f<c;){let R=un(e,k);(R==t[f]||R==r[f])&&(i[f++]=k),k+=br(R)}if(f<c)return null}let h=0,d=0,g=!1,b=0,x=-1,v=-1,w=/[a-z]/.test(e),C=!0;for(let k=0,A=Math.min(e.length,200),R=0;k<A&&d<c;){let T=un(e,k);a<0&&(h<c&&T==t[h]&&(o[h++]=k),b<c&&(T==t[b]||T==r[b]?(b==0&&(x=k),v=k+1,b++):b=0));let D,M=T<255?T>=48&&T<=57||T>=97&&T<=122?2:T>=65&&T<=90?1:0:(D=Jg(T))!=D.toLowerCase()?1:D!=D.toUpperCase()?2:0;(!k||M==1&&w||R==0&&M!=0)&&(t[d]==T||r[d]==T&&(g=!0)?s[d++]=k:s.length&&(C=!1)),R=M,k+=br(T)}return d==c&&s[0]==0&&C?this.result(-100+(g?-200:0),s,e):b==c&&x==0?this.ret(-200-e.length+(v==e.length?0:-100),[0,v]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):b==c?this.ret(-900-e.length,[x,v]):d==c?this.result(-100+(g?-200:0)+-700+(C?0:-1100),s,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,r){let i=[],o=0;for(let s of t){let a=s+(this.astral?br(un(r,s)):1);o&&i[o-1]==s?i[o-1]=a:(i[o++]=s,i[o++]=a)}return this.ret(e-r.length,i)}}class Mj{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const It=ce.define({combine(n){return Mr(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Oj,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>_y(e(r),t(r)),optionClass:(e,t)=>r=>_y(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function _y(n,e){return n?e?n+" "+e:n:e}function Oj(n,e,t,r,i,o){let s=n.textDirection==ct.RTL,a=s,c=!1,f="top",h,d,g=e.left-i.left,b=i.right-e.right,x=r.right-r.left,v=r.bottom-r.top;if(a&&g<Math.min(x,b)?a=!1:!a&&b<Math.min(x,g)&&(a=!0),x<=(a?g:b))h=Math.max(i.top,Math.min(t.top,i.bottom-v))-e.top,d=Math.min(400,a?g:b);else{c=!0,d=Math.min(400,(s?e.right:i.right-e.left)-30);let k=i.bottom-e.bottom;k>=v||k>e.top?h=t.bottom-e.top:(f="bottom",h=e.bottom-t.top)}let w=(e.bottom-e.top)/o.offsetHeight,C=(e.right-e.left)/o.offsetWidth;return{style:`${f}: ${h/w}px; max-width: ${d/C}px`,class:"cm-completionInfo-"+(c?s?"left-narrow":"right-narrow":a?"left":"right")}}function Dj(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i,o){let s=document.createElement("span");s.className="cm-completionLabel";let a=t.displayLabel||t.label,c=0;for(let f=0;f<o.length;){let h=o[f++],d=o[f++];h>c&&s.appendChild(document.createTextNode(a.slice(c,h)));let g=s.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(a.slice(h,d))),g.className="cm-completionMatchedText",c=d}return c<a.length&&s.appendChild(document.createTextNode(a.slice(c))),s},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function cp(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class Ij{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:c=>this.placeInfo(c),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:o,selected:s}=i.open,a=e.state.facet(It);this.optionContent=Dj(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=cp(o.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",c=>{let{options:f}=e.state.field(t).open;for(let h=c.target,d;h&&h!=this.dom;h=h.parentNode)if(h.nodeName=="LI"&&(d=/-(\d+)$/.exec(h.id))&&+d[1]<f.length){this.applyCompletion(e,f[+d[1]]),c.preventDefault();return}}),this.dom.addEventListener("focusout",c=>{let f=e.state.field(this.stateField,!1);f&&f.tooltip&&e.state.facet(It).closeOnBlur&&c.relatedTarget!=e.contentDOM&&e.dispatch({effects:el.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:s,disabled:a}=r.open;(!i.open||i.open.options!=o)&&(this.range=cp(o.length,s,e.state.facet(It).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),a!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=cp(t.options.length,t.selected,this.view.state.facet(It).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s,r)}).catch(s=>dn(this.view.state,s,"completion info")):this.addInfoPane(o,r)}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&Lj(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.documentElement;o={left:0,top:0,right:s.clientWidth,bottom:s.clientHeight}}return i.top>Math.min(o.bottom,t.bottom)-10||i.bottom<Math.max(o.top,t.top)+10?null:this.view.state.facet(It).positionInfo(this.view,t,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",s=>{s.target==i&&s.preventDefault()});let o=null;for(let s=r.from;s<r.to;s++){let{completion:a,match:c}=e[s],{section:f}=a;if(f){let g=typeof f=="string"?f:f.name;if(g!=o&&(s>r.from||r.from==0))if(o=g,typeof f!="string"&&f.header)i.appendChild(f.header(f));else{let b=i.appendChild(document.createElement("completion-section"));b.textContent=g}}const h=i.appendChild(document.createElement("li"));h.id=t+"-"+s,h.setAttribute("role","option");let d=this.optionClass(a);d&&(h.className=d);for(let g of this.optionContent){let b=g(a,this.view.state,this.view,c);b&&h.appendChild(b)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function _j(n,e){return t=>new Ij(t,n,e)}function Lj(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.height/n.offsetHeight;r.top<t.top?n.scrollTop-=(t.top-r.top)/i:r.bottom>t.bottom&&(n.scrollTop+=(r.bottom-t.bottom)/i)}function Ly(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function Nj(n,e){let t=[],r=null,i=f=>{t.push(f);let{section:h}=f.completion;if(h){r||(r=[]);let d=typeof h=="string"?h:h.name;r.some(g=>g.name==d)||r.push(typeof h=="string"?{name:d}:h)}},o=e.facet(It);for(let f of n)if(f.hasResult()){let h=f.result.getMatch;if(f.result.filter===!1)for(let d of f.result.options)i(new Dy(d,f.source,h?h(d):[],1e9-t.length));else{let d=e.sliceDoc(f.from,f.to),g,b=o.filterStrict?new Mj(d):new Pj(d);for(let x of f.result.options)if(g=b.match(x.label)){let v=x.displayLabel?h?h(x,g.matched):[]:g.matched;i(new Dy(x,f.source,v,g.score+(x.boost||0)))}}}if(r){let f=Object.create(null),h=0,d=(g,b)=>{var x,v;return((x=g.rank)!==null&&x!==void 0?x:1e9)-((v=b.rank)!==null&&v!==void 0?v:1e9)||(g.name<b.name?-1:1)};for(let g of r.sort(d))h-=1e5,f[g.name]=h;for(let g of t){let{section:b}=g.completion;b&&(g.score+=f[typeof b=="string"?b:b.name])}}let s=[],a=null,c=o.compareCompletions;for(let f of t.sort((h,d)=>d.score-h.score||c(h.completion,d.completion))){let h=f.completion;!a||a.label!=h.label||a.detail!=h.detail||a.type!=null&&h.type!=null&&a.type!=h.type||a.apply!=h.apply||a.boost!=h.boost?s.push(f):Ly(f.completion)>Ly(a)&&(s[s.length-1]=f),a=f.completion}return s}class ls{constructor(e,t,r,i,o,s){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=s}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new ls(this.options,Ny(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,o,s){if(i&&!s&&e.some(f=>f.isPending))return i.setDisabled();let a=Nj(e,t);if(!a.length)return i&&e.some(f=>f.isPending)?i.setDisabled():null;let c=t.facet(It).selectOnOpen?0:-1;if(i&&i.selected!=c&&i.selected!=-1){let f=i.options[i.selected].completion;for(let h=0;h<a.length;h++)if(a[h].completion==f){c=h;break}}return new ls(a,Ny(r,c),{pos:e.reduce((f,h)=>h.hasResult()?Math.min(f,h.from):f,1e8),create:Hj,above:o.aboveCursor},i?i.timestamp:Date.now(),c,!1)}map(e){return new ls(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new ls(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class tf{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new tf(Vj,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(It),o=(r.override||t.languageDataAt("autocomplete",ho(t)).map(Tj)).map(c=>(this.active.find(h=>h.source==c)||new Wn(c,this.active.some(h=>h.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((c,f)=>c==this.active[f])&&(o=this.active);let s=this.open,a=e.effects.some(c=>c.is(S0));s&&e.docChanged&&(s=s.map(e.changes)),e.selection||o.some(c=>c.hasResult()&&e.changes.touchesRange(c.from,c.to))||!Bj(o,this.active)||a?s=ls.build(o,t,this.id,s,r,a):s&&s.disabled&&!o.some(c=>c.isPending)&&(s=null),!s&&o.every(c=>!c.isPending)&&o.some(c=>c.hasResult())&&(o=o.map(c=>c.hasResult()?new Wn(c.source,0):c));for(let c of e.effects)c.is(Kk)&&(s=s&&s.setSelected(c.value,this.id));return o==this.active&&s==this.open?this:new tf(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Fj:Wj}}function Bj(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;r<e.length&&!e[r].hasResult();)r++;let i=t==n.length,o=r==e.length;if(i||o)return i==o;if(n[t++].result!=e[r++].result)return!1}}const Fj={"aria-autocomplete":"list"},Wj={};function Ny(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const Vj=[];function Uk(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation(zk);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Wn{constructor(e,t,r=!1){this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let r=Uk(e,t),i=this;(r&8||r&16&&this.touches(e))&&(i=new Wn(i.source,0)),r&4&&i.state==0&&(i=new Wn(this.source,1)),i=i.updateFor(e,r);for(let o of e.effects)if(o.is(ef))i=new Wn(i.source,1,o.value);else if(o.is(el))i=new Wn(i.source,0);else if(o.is(S0))for(let s of o.value)s.source==i.source&&(i=s);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(ho(e.state))}}class gs extends Wn{constructor(e,t,r,i,o,s){super(e,3,t),this.limit=r,this.result=i,this.from=o,this.to=s}hasResult(){return!0}updateFor(e,t){var r;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),a=ho(e.state);if(a>s||!i||t&2&&(ho(e.startState)==this.from||a<this.limit))return new Wn(this.source,t&4?1:0);let c=e.changes.mapPos(this.limit);return jj(i.validFor,e.state,o,s)?new gs(this.source,this.explicit,c,i,o,s):i.update&&(i=i.update(i,o,s,new jk(e.state,a,!1)))?new gs(this.source,this.explicit,c,i,i.from,(r=i.to)!==null&&r!==void 0?r:ho(e.state)):new Wn(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new gs(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Wn(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function jj(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return typeof n=="function"?n(i,t,r,e):Hk(n,!0).test(i)}const S0=Oe.define({map(n,e){return n.map(t=>t.map(e))}}),Kk=Oe.define(),hn=_t.define({create(){return tf.start()},update(n,e){return n.update(e)},provide:n=>[p0.from(n,e=>e.tooltip),ae.contentAttributes.from(n,e=>e.attrs)]});function k0(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(hn).active.find(i=>i.source==e.source);return r instanceof gs?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},Rj(n.state,t,r.from,r.to)),{annotations:zk.of(e.completion)})):t(n,e.completion,r.from,r.to),!0):!1}const Hj=_j(hn,k0);function eu(n,e="option"){return t=>{let r=t.state.field(hn,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(It).interactionDelay)return!1;let i=1,o;e=="page"&&(o=_S(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:s-1;return a<0?a=e=="page"?0:s-1:a>=s&&(a=e=="page"?s-1:0),t.dispatch({effects:Kk.of(a)}),!0}}const zj=n=>{let e=n.state.field(hn,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(It).interactionDelay?!1:k0(n,e.open.options[e.open.selected])},By=n=>n.state.field(hn,!1)?(n.dispatch({effects:ef.of(!0)}),!0):!1,Uj=n=>{let e=n.state.field(hn,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:el.of(null)}),!0)};class Kj{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const Gj=50,qj=1e3,Yj=wt.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(hn).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(hn),t=n.state.facet(It);if(!n.selectionSet&&!n.docChanged&&n.startState.field(hn)==e)return;let r=n.transactions.some(o=>{let s=Uk(o,t);return s&8||(o.selection||o.docChanged)&&!(s&3)});for(let o=0;o<this.running.length;o++){let s=this.running[o];if(r||s.context.abortOnDocChange&&n.docChanged||s.updates.length+n.transactions.length>Gj&&Date.now()-s.time>qj){for(let a of s.context.abortListeners)try{a()}catch(c){dn(this.view.state,c)}s.context.abortListeners=null,this.running.splice(o--,1)}else s.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(o=>o.effects.some(s=>s.is(ef)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.isPending&&!this.running.some(s=>s.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of n.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(hn);for(let t of e.active)t.isPending&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(It).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=ho(e),r=new jk(e,t,n.explicit,this.view),i=new Kj(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:el.of(null)}),dn(this.view.state,o)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(It).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(It),r=this.view.state.field(hn);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(o.done===void 0)continue;if(this.running.splice(i--,1),o.done){let a=ho(o.updates.length?o.updates[0].startState:this.view.state),c=Math.min(a,o.done.from+(o.active.explicit?0:1)),f=new gs(o.active.source,o.active.explicit,c,o.done,o.done.from,(n=o.done.to)!==null&&n!==void 0?n:a);for(let h of o.updates)f=f.update(h,t);if(f.hasResult()){e.push(f);continue}}let s=r.active.find(a=>a.source==o.active.source);if(s&&s.isPending)if(o.done==null){let a=new Wn(o.active.source,0);for(let c of o.updates)a=a.update(c,t);a.isPending||e.push(a)}else this.startQuery(s)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:S0.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(hn,!1);if(e&&e.tooltip&&this.view.state.facet(It).closeOnBlur){let t=e.open&&_S(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:el.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:ef.of(!1)}),20),this.composing=0}}}),Xj=typeof navigator=="object"&&/Win/.test(navigator.platform),Zj=To.highest(ae.domEventHandlers({keydown(n,e){let t=e.state.field(hn,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(Xj&&n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(s=>s.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(n.key)>-1&&k0(e,r),!1}})),Qj=ae.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),tl={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},so=Oe.define({map(n,e){let t=e.mapPos(n,-1,tn.TrackAfter);return t??void 0}}),A0=new class extends xo{};A0.startSide=1;A0.endSide=-1;const Gk=_t.define({create(){return Ye.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(so)&&(n=n.update({add:[A0.range(t.value,t.value+1)]}));return n}});function Jj(){return[tH,Gk]}const up="()[]{}<>«»»«［］｛｝";function qk(n){for(let e=0;e<up.length;e+=2)if(up.charCodeAt(e)==n)return up.charAt(e+1);return Jg(n<128?n:n+1)}function Yk(n,e){return n.languageDataAt("closeBrackets",e)[0]||tl}const eH=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),tH=ae.inputHandler.of((n,e,t,r)=>{if((eH?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&br(un(r,0))==1||e!=i.from||t!=i.to)return!1;let o=iH(n.state,r);return o?(n.dispatch(o),!0):!1}),nH=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=Yk(n,n.selection.main.head).brackets||tl.brackets,i=null,o=n.changeByRange(s=>{if(s.empty){let a=oH(n.doc,s.head);for(let c of r)if(c==a&&Gf(n.doc,s.head)==qk(un(c,0)))return{changes:{from:s.head-c.length,to:s.head+c.length},range:X.cursor(s.head-c.length)}}return{range:i=s}});return i||e(n.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},rH=[{key:"Backspace",run:nH}];function iH(n,e){let t=Yk(n,n.selection.main.head),r=t.brackets||tl.brackets;for(let i of r){let o=qk(un(i,0));if(e==i)return o==i?lH(n,i,r.indexOf(i+i+i)>-1,t):sH(n,i,o,t.before||tl.before);if(e==o&&Xk(n,n.selection.main.from))return aH(n,i,o)}return null}function Xk(n,e){let t=!1;return n.field(Gk).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function Gf(n,e){let t=n.sliceString(e,e+2);return t.slice(0,br(un(t,0)))}function oH(n,e){let t=n.sliceString(e-2,e);return br(un(t,0))==t.length?t:t.slice(1)}function sH(n,e,t,r){let i=null,o=n.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:t,from:s.to}],effects:so.of(s.to+e.length),range:X.range(s.anchor+e.length,s.head+e.length)};let a=Gf(n.doc,s.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+t,from:s.head},effects:so.of(s.head+e.length),range:X.cursor(s.head+e.length)}:{range:i=s}});return i?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function aH(n,e,t){let r=null,i=n.changeByRange(o=>o.empty&&Gf(n.doc,o.head)==t?{changes:{from:o.head,to:o.head+t.length,insert:t},range:X.cursor(o.head+t.length)}:r={range:o});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function lH(n,e,t,r){let i=r.stringPrefixes||tl.stringPrefixes,o=null,s=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:so.of(a.to+e.length),range:X.range(a.anchor+e.length,a.head+e.length)};let c=a.head,f=Gf(n.doc,c),h;if(f==e){if(Fy(n,c))return{changes:{insert:e+e,from:c},effects:so.of(c+e.length),range:X.cursor(c+e.length)};if(Xk(n,c)){let g=t&&n.sliceDoc(c,c+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:c,to:c+g.length,insert:g},range:X.cursor(c+g.length)}}}else{if(t&&n.sliceDoc(c-2*e.length,c)==e+e&&(h=Wy(n,c-2*e.length,i))>-1&&Fy(n,h))return{changes:{insert:e+e+e+e,from:c},effects:so.of(c+e.length),range:X.cursor(c+e.length)};if(n.charCategorizer(c)(f)!=ht.Word&&Wy(n,c,i)>-1&&!cH(n,c,e,i))return{changes:{insert:e+e,from:c},effects:so.of(c+e.length),range:X.cursor(c+e.length)}}return{range:o=a}});return o?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Fy(n,e){let t=Yt(n).resolveInner(e+1);return t.parent&&t.from==e}function cH(n,e,t,r){let i=Yt(n).resolveInner(e,-1),o=r.reduce((s,a)=>Math.max(s,a.length),0);for(let s=0;s<5;s++){let a=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+o)),c=a.indexOf(t);if(!c||c>-1&&r.indexOf(a.slice(0,c))>-1){let h=i.firstChild;for(;h&&h.from==i.from&&h.to-h.from>t.length+c;){if(n.sliceDoc(h.to-t.length,h.to)==t)return!1;h=h.firstChild}return!0}let f=i.to==e&&i.parent;if(!f)break;i=f}return!1}function Wy(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=ht.Word)return e;for(let i of t){let o=e-i.length;if(n.sliceDoc(o,e)==i&&r(n.sliceDoc(o-1,o))!=ht.Word)return o}return-1}function uH(n={}){return[Zj,hn,It.of(n),Yj,fH,Qj]}const Zk=[{key:"Ctrl-Space",run:By},{mac:"Alt-`",run:By},{key:"Escape",run:Uj},{key:"ArrowDown",run:eu(!0)},{key:"ArrowUp",run:eu(!1)},{key:"PageDown",run:eu(!0,"page")},{key:"PageUp",run:eu(!1,"page")},{key:"Enter",run:zj}],fH=To.highest(Bf.computeN([It],n=>n.facet(It).defaultKeymap?[Zk]:[]));class Vy{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class io{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=r.facet(nl).markerFilter;i&&(e=i(e,r));let o=e.slice().sort((h,d)=>h.from-d.from||h.to-d.to),s=new ti,a=[],c=0;for(let h=0;;){let d=h==o.length?null:o[h];if(!d&&!a.length)break;let g,b;for(a.length?(g=c,b=a.reduce((v,w)=>Math.min(v,w.to),d&&d.from>g?d.from:1e8)):(g=d.from,b=d.to,a.push(d),h++);h<o.length;){let v=o[h];if(v.from==g&&(v.to>v.from||v.to==g))a.push(v),h++,b=Math.min(v.to,b);else{b=Math.min(v.from,b);break}}let x=SH(a);if(a.some(v=>v.from==v.to||v.from==v.to-1&&r.doc.lineAt(v.from).to==v.from))s.add(g,g,ye.widget({widget:new yH(x),diagnostics:a.slice()}));else{let v=a.reduce((w,C)=>C.markClass?w+" "+C.markClass:w,"");s.add(g,b,ye.mark({class:"cm-lintRange cm-lintRange-"+x+v,diagnostics:a.slice(),inclusiveEnd:a.some(w=>w.to>b)}))}c=b;for(let v=0;v<a.length;v++)a[v].to<=c&&a.splice(v--,1)}let f=s.finish();return new io(f,t,Os(f))}}function Os(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,o,{spec:s})=>{if(!(e&&s.diagnostics.indexOf(e)<0))if(!r)r=new Vy(i,o,e||s.diagnostics[0]);else{if(s.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new Vy(r.from,o,r.diagnostic)}}),r}function hH(n,e){let t=e.pos,r=e.end||t,i=n.state.facet(nl).hideOn(n,t,r);if(i!=null)return i;let o=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(s=>s.is(Qk))||n.changes.touchesRange(o.from,Math.max(o.to,r)))}function dH(n,e){return n.field(Rn,!1)?e:e.concat(Oe.appendConfig.of(kH))}const Qk=Oe.define(),E0=Oe.define(),Jk=Oe.define(),Rn=_t.define({create(){return new io(ye.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let o=e.changes.mapPos(n.selected.from,1);r=Os(t,n.selected.diagnostic,o)||Os(t,null,o)}!t.size&&i&&e.state.facet(nl).autoPanel&&(i=null),n=new io(t,i,r)}for(let t of e.effects)if(t.is(Qk)){let r=e.state.facet(nl).autoPanel?t.value.length?rl.open:null:n.panel;n=io.init(t.value,r,e.state)}else t.is(E0)?n=new io(n.diagnostics,t.value?rl.open:null,n.selected):t.is(Jk)&&(n=new io(n.diagnostics,n.panel,t.value));return n},provide:n=>[Za.from(n,e=>e.panel),ae.decorations.from(n,e=>e.diagnostics)]}),pH=ye.mark({class:"cm-lintRange cm-lintRange-active"});function mH(n,e,t){let{diagnostics:r}=n.state.field(Rn),i,o=-1,s=-1;r.between(e-(t<0?1:0),e+(t>0?1:0),(c,f,{spec:h})=>{if(e>=c&&e<=f&&(c==f||(e>c||t>0)&&(e<f||t<0)))return i=h.diagnostics,o=c,s=f,!1});let a=n.state.facet(nl).tooltipFilter;return i&&a&&(i=a(i,n.state)),i?{pos:o,end:s,above:n.state.doc.lineAt(o).to<s,create(){return{dom:gH(n,i)}}}:null}function gH(n,e){return rt("ul",{class:"cm-tooltip-lint"},e.map(t=>tA(n,t,!1)))}const bH=n=>{let e=n.state.field(Rn,!1);(!e||!e.panel)&&n.dispatch({effects:dH(n.state,[E0.of(!0)])});let t=Xa(n,rl.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},jy=n=>{let e=n.state.field(Rn,!1);return!e||!e.panel?!1:(n.dispatch({effects:E0.of(!1)}),!0)},vH=n=>{let e=n.state.field(Rn,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},xH=[{key:"Mod-Shift-m",run:bH,preventDefault:!0},{key:"F8",run:vH}],nl=ce.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},Mr(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t}))}});function eA(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function tA(n,e,t){var r;let i=t?eA(e.actions):[];return rt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},rt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,s)=>{let a=!1,c=g=>{if(g.preventDefault(),a)return;a=!0;let b=Os(n.state.field(Rn).diagnostics,e);b&&o.apply(n,b.from,b.to)},{name:f}=o,h=i[s]?f.indexOf(i[s]):-1,d=h<0?f:[f.slice(0,h),rt("u",f.slice(h,h+1)),f.slice(h+1)];return rt("button",{type:"button",class:"cm-diagnosticAction",onclick:c,onmousedown:c,"aria-label":` Action: ${f}${h<0?"":` (access key "${i[s]})"`}.`},d)}),e.source&&rt("div",{class:"cm-diagnosticSource"},e.source))}class yH extends ai{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return rt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class Hy{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=tA(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class rl{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)jy(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=eA(o.actions);for(let a=0;a<s.length;a++)if(s[a].toUpperCase().charCodeAt(0)==i.keyCode){let c=Os(this.view.state.field(Rn).diagnostics,o);c&&o.actions[a].apply(e,c.from,c.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=rt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:r}),this.dom=rt("div",{class:"cm-panel-lint"},this.list,rt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>jy(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(Rn).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Rn),r=0,i=!1,o=null,s=new Set;for(e.between(0,this.view.state.doc.length,(a,c,{spec:f})=>{for(let h of f.diagnostics){if(s.has(h))continue;s.add(h);let d=-1,g;for(let b=r;b<this.items.length;b++)if(this.items[b].diagnostic==h){d=b;break}d<0?(g=new Hy(this.view,h),this.items.splice(r,0,g),i=!0):(g=this.items[d],d>r&&(this.items.splice(r,d-r),i=!0)),t&&g.diagnostic==t.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),o=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new Hy(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:c})=>{let f=c.height/this.list.offsetHeight;a.top<c.top?this.list.scrollTop-=(c.top-a.top)/f:a.bottom>c.bottom&&(this.list.scrollTop+=(a.bottom-c.bottom)/f)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Rn),r=Os(t.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:Jk.of(r)})}static open(e){return new rl(e)}}function wH(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function tu(n){return wH(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const $H=ae.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:tu("#d11")},".cm-lintRange-warning":{backgroundImage:tu("orange")},".cm-lintRange-info":{backgroundImage:tu("#999")},".cm-lintRange-hint":{backgroundImage:tu("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function CH(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function SH(n){let e="hint",t=1;for(let r of n){let i=CH(r.severity);i>t&&(t=i,e=r.severity)}return e}const kH=[Rn,ae.decorations.compute([Rn],n=>{let{selected:e,panel:t}=n.field(Rn);return!e||!t||e.from==e.to?ye.none:ye.set([pH.range(e.from,e.to)])}),TF(mH,{hideOn:hH}),$H];var zy=function(e){e===void 0&&(e={});var{crosshairCursor:t=!1}=e,r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(rH)),e.defaultKeymap!==!1&&(r=r.concat(XV)),e.searchKeymap!==!1&&(r=r.concat($j)),e.historyKeymap!==!1&&(r=r.concat(oV)),e.foldKeymap!==!1&&(r=r.concat(pW)),e.completionKeymap!==!1&&(r=r.concat(Zk)),e.lintKeymap!==!1&&(r=r.concat(xH));var i=[];return e.lineNumbers!==!1&&i.push(WF()),e.highlightActiveLineGutter!==!1&&i.push(HF()),e.highlightSpecialChars!==!1&&i.push(iF()),e.history!==!1&&i.push(XW()),e.foldGutter!==!1&&i.push(vW()),e.drawSelection!==!1&&i.push(GB()),e.dropCursor!==!1&&i.push(QB()),e.allowMultipleSelections!==!1&&i.push(Ge.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(iW()),e.syntaxHighlighting!==!1&&i.push(ZS($W,{fallback:!0})),e.bracketMatching!==!1&&i.push(TW()),e.closeBrackets!==!1&&i.push(Jj()),e.autocompletion!==!1&&i.push(uH()),e.rectangularSelection!==!1&&i.push(vF()),t!==!1&&i.push(wF()),e.highlightActiveLine!==!1&&i.push(uF()),e.highlightSelectionMatches!==!1&&i.push(rj()),e.tabSize&&typeof e.tabSize=="number"&&i.push(Wf.of(" ".repeat(e.tabSize))),i.concat([Bf.of(r.flat())]).filter(Boolean)};const AH="#e5c07b",Uy="#e06c75",EH="#56b6c2",RH="#ffffff",vu="#abb2bf",Lm="#7d8799",TH="#61afef",PH="#98c379",Ky="#d19a66",MH="#c678dd",OH="#21252b",Gy="#2c313a",qy="#282c34",fp="#353a42",DH="#3E4451",Yy="#528bff",IH=ae.theme({"&":{color:vu,backgroundColor:qy},".cm-content":{caretColor:Yy},".cm-cursor, .cm-dropCursor":{borderLeftColor:Yy},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:DH},".cm-panels":{backgroundColor:OH,color:vu},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:qy,color:Lm,border:"none"},".cm-activeLineGutter":{backgroundColor:Gy},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:fp},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:fp,borderBottomColor:fp},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Gy,color:vu}}},{dark:!0}),_H=yl.define([{tag:H.keyword,color:MH},{tag:[H.name,H.deleted,H.character,H.propertyName,H.macroName],color:Uy},{tag:[H.function(H.variableName),H.labelName],color:TH},{tag:[H.color,H.constant(H.name),H.standard(H.name)],color:Ky},{tag:[H.definition(H.name),H.separator],color:vu},{tag:[H.typeName,H.className,H.number,H.changed,H.annotation,H.modifier,H.self,H.namespace],color:AH},{tag:[H.operator,H.operatorKeyword,H.url,H.escape,H.regexp,H.link,H.special(H.string)],color:EH},{tag:[H.meta,H.comment],color:Lm},{tag:H.strong,fontWeight:"bold"},{tag:H.emphasis,fontStyle:"italic"},{tag:H.strikethrough,textDecoration:"line-through"},{tag:H.link,color:Lm,textDecoration:"underline"},{tag:H.heading,fontWeight:"bold",color:Uy},{tag:[H.atom,H.bool,H.special(H.variableName)],color:Ky},{tag:[H.processingInstruction,H.string,H.inserted],color:PH},{tag:H.invalid,color:RH}]),LH=[IH,ZS(_H)];var NH=ae.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),BH=function(e){e===void 0&&(e={});var{indentWithTab:t=!0,editable:r=!0,readOnly:i=!1,theme:o="light",placeholder:s="",basicSetup:a=!0}=e,c=[];switch(t&&c.unshift(Bf.of([ZV])),a&&(typeof a=="boolean"?c.unshift(zy()):c.unshift(zy(a))),s&&c.unshift(pF(s)),o){case"light":c.push(NH);break;case"dark":c.push(LH);break;case"none":break;default:c.push(o);break}return r===!1&&c.push(ae.editable.of(!1)),i&&c.push(Ge.readOnly.of(!0)),[...c]},FH=n=>({line:n.state.doc.lineAt(n.state.selection.main.from),lineCount:n.state.doc.lines,lineBreak:n.state.lineBreak,length:n.state.doc.length,readOnly:n.state.readOnly,tabSize:n.state.tabSize,selection:n.state.selection,selectionAsSingle:n.state.selection.asSingle().main,ranges:n.state.selection.ranges,selectionCode:n.state.sliceDoc(n.state.selection.main.from,n.state.selection.main.to),selections:n.state.selection.ranges.map(e=>n.state.sliceDoc(e.from,e.to)),selectedText:n.state.selection.ranges.some(e=>!e.empty)}),Xy=Pr.define(),WH=[];function nA(n){var{value:e,selection:t,onChange:r,onStatistics:i,onCreateEditor:o,onUpdate:s,extensions:a=WH,autoFocus:c,theme:f="light",height:h=null,minHeight:d=null,maxHeight:g=null,width:b=null,minWidth:x=null,maxWidth:v=null,placeholder:w="",editable:C=!0,readOnly:k=!1,indentWithTab:A=!0,basicSetup:R=!0,root:T,initialState:D}=n,[M,B]=p.useState(),[N,W]=p.useState(),[K,j]=p.useState(),Q=ae.theme({"&":{height:h,minHeight:d,maxHeight:g,width:b,minWidth:x,maxWidth:v},"& .cm-scroller":{height:"100% !important"}}),Z=ae.updateListener.of(te=>{if(te.docChanged&&typeof r=="function"&&!te.transactions.some(le=>le.annotation(Xy))){var oe=te.state.doc,q=oe.toString();r(q,te)}i&&i(FH(te))}),ee=BH({theme:f,editable:C,readOnly:k,placeholder:w,indentWithTab:A,basicSetup:R}),ue=[Z,Q,...ee];return s&&typeof s=="function"&&ue.push(ae.updateListener.of(s)),ue=ue.concat(a),p.useEffect(()=>{if(M&&!K){var te={doc:e,selection:t,extensions:ue},oe=D?Ge.fromJSON(D.json,te,D.fields):Ge.create(te);if(j(oe),!N){var q=new ae({state:oe,parent:M,root:T});W(q),o&&o(q,oe)}}return()=>{N&&(j(void 0),W(void 0))}},[M,K]),p.useEffect(()=>B(n.container),[n.container]),p.useEffect(()=>()=>{N&&(N.destroy(),W(void 0))},[N]),p.useEffect(()=>{c&&N&&N.focus()},[c,N]),p.useEffect(()=>{N&&N.dispatch({effects:Oe.reconfigure.of(ue)})},[f,a,h,d,g,b,x,v,w,C,k,A,R,r,s]),p.useEffect(()=>{if(e!==void 0){var te=N?N.state.doc.toString():"";N&&e!==te&&N.dispatch({changes:{from:0,to:te.length,insert:e||""},annotations:[Xy.of(!0)]})}},[e,N]),{state:K,setState:j,view:N,setView:W,container:M,setContainer:B}}var VH=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],jH=p.forwardRef((n,e)=>{var{className:t,value:r="",selection:i,extensions:o=[],onChange:s,onStatistics:a,onCreateEditor:c,onUpdate:f,autoFocus:h,theme:d="light",height:g,minHeight:b,maxHeight:x,width:v,minWidth:w,maxWidth:C,basicSetup:k,placeholder:A,indentWithTab:R,editable:T,readOnly:D,root:M,initialState:B}=n,N=WW(n,VH),W=p.useRef(null),{state:K,view:j,container:Q}=nA({container:W.current,root:M,value:r,autoFocus:h,theme:d,height:g,minHeight:b,maxHeight:x,width:v,minWidth:w,maxWidth:C,basicSetup:k,placeholder:A,indentWithTab:R,editable:T,readOnly:D,selection:i,onChange:s,onStatistics:a,onCreateEditor:c,onUpdate:f,extensions:o,initialState:B});if(p.useImperativeHandle(e,()=>({editor:W.current,state:K,view:j}),[W,Q,K,j]),typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var Z=typeof d=="string"?"cm-theme-"+d:"cm-theme";return $.jsx("div",z({ref:W,className:""+Z+(t?" "+t:"")},N))});jH.displayName="CodeMirror";let hp=new Map,Nm=!1;try{Nm=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let nf=!1;try{nf=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const rA={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class iA{format(e){let t="";if(!Nm&&this.options.signDisplay!=null?t=zH(this.numberFormatter,this.options.signDisplay,e):t=this.numberFormatter.format(e),this.options.style==="unit"&&!nf){var r;let{unit:i,unitDisplay:o="short",locale:s}=this.resolvedOptions();if(!i)return t;let a=(r=rA[i])===null||r===void 0?void 0:r[o];t+=a[s]||a.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(t)}`}formatRangeToParts(e,t){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(e),i=this.numberFormatter.formatToParts(t);return[...r.map(o=>({...o,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...i.map(o=>({...o,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!Nm&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!nf&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,t={}){this.numberFormatter=HH(e,t),this.options=t}}function HH(n,e={}){let{numberingSystem:t}=e;if(t&&n.includes("-nu-")&&(n.includes("-u-")||(n+="-u-"),n+=`-nu-${t}`),e.style==="unit"&&!nf){var r;let{unit:s,unitDisplay:a="short"}=e;if(!s)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=rA[s])===null||r===void 0)&&r[a]))throw new Error(`Unsupported unit ${s} with unitDisplay = ${a}`);e={...e,style:"decimal"}}let i=n+(e?Object.entries(e).sort((s,a)=>s[0]<a[0]?-1:1).join():"");if(hp.has(i))return hp.get(i);let o=new Intl.NumberFormat(n,e);return hp.set(i,o),o}function zH(n,e,t){if(e==="auto")return n.format(t);if(e==="never")return n.format(Math.abs(t));{let r=!1;if(e==="always"?r=t>0||Object.is(t,0):e==="exceptZero"&&(Object.is(t,-0)||Object.is(t,0)?t=Math.abs(t):r=t>0),r){let i=n.format(-t),o=n.format(t),s=i.replace(o,"").replace(/\u200e|\u061C/,"");return[...s].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),i.replace(o,"!!!").replace(s,"+").replace("!!!",o)}else return n.format(t)}}const UH=new RegExp("^.*\\(.*\\).*$"),KH=["latn","arab","hanidec"];class oA{parse(e){return dp(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,t,r){return dp(this.locale,this.options,e).isValidPartialNumber(e,t,r)}getNumberingSystem(e){return dp(this.locale,this.options,e).options.numberingSystem}constructor(e,t={}){this.locale=e,this.options=t}}const Zy=new Map;function dp(n,e,t){let r=Qy(n,e);if(!n.includes("-nu-")&&!r.isValidPartialNumber(t)){for(let i of KH)if(i!==r.options.numberingSystem){let o=Qy(n+(n.includes("-u-")?"-nu-":"-u-nu-")+i,e);if(o.isValidPartialNumber(t))return o}}return r}function Qy(n,e){let t=n+(e?Object.entries(e).sort((i,o)=>i[0]<o[0]?-1:1).join():""),r=Zy.get(t);return r||(r=new GH(n,e),Zy.set(t,r)),r}class GH{parse(e){let t=this.sanitize(e);if(this.symbols.group&&(t=nu(t,this.symbols.group,"")),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(t=t.replace(this.symbols.minusSign,"-")),t=t.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let s=t.indexOf("-");t=t.replace("-","");let a=t.indexOf(".");a===-1&&(a=t.length),t=t.replace(".",""),a-2===0?t=`0.${t}`:a-2===-1?t=`0.0${t}`:a-2===-2?t="0.00":t=`${t.slice(0,a-2)}.${t.slice(a-2)}`,s>-1&&(t=`-${t}`)}let r=t?+t:NaN;if(isNaN(r))return NaN;if(this.options.style==="percent"){var i,o;let s={...this.options,style:"decimal",minimumFractionDigits:Math.min(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)+2,20),maximumFractionDigits:Math.min(((o=this.options.maximumFractionDigits)!==null&&o!==void 0?o:0)+2,20)};return new oA(this.locale,s).parse(new iA(this.locale,s).format(r))}return this.options.currencySign==="accounting"&&UH.test(e)&&(r=-1*r),r}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("،",this.symbols.decimal)),this.symbols.group&&(e=nu(e,".",this.symbols.group))),this.options.locale==="fr-FR"&&(e=nu(e,"."," ")),e}isValidPartialNumber(e,t=-1/0,r=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&t<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&r>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=nu(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,t={}){this.locale=e,this.formatter=new Intl.NumberFormat(e,t),this.options=this.formatter.resolvedOptions(),this.symbols=YH(e,this.formatter,this.options,t);var r,i;this.options.style==="percent"&&(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)>18||((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const Jy=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),qH=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function YH(n,e,t,r){var i,o,s,a;let c=new Intl.NumberFormat(n,{...t,minimumSignificantDigits:1,maximumSignificantDigits:21}),f=c.formatToParts(-10000.111),h=c.formatToParts(10000.111),d=qH.map(W=>c.formatToParts(W));var g;let b=(g=(i=f.find(W=>W.type==="minusSign"))===null||i===void 0?void 0:i.value)!==null&&g!==void 0?g:"-",x=(o=h.find(W=>W.type==="plusSign"))===null||o===void 0?void 0:o.value;!x&&(r?.signDisplay==="exceptZero"||r?.signDisplay==="always")&&(x="+");let w=(s=new Intl.NumberFormat(n,{...t,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(W=>W.type==="decimal"))===null||s===void 0?void 0:s.value,C=(a=f.find(W=>W.type==="group"))===null||a===void 0?void 0:a.value,k=f.filter(W=>!Jy.has(W.type)).map(W=>ew(W.value)),A=d.flatMap(W=>W.filter(K=>!Jy.has(K.type)).map(K=>ew(K.value))),R=[...new Set([...k,...A])].sort((W,K)=>K.length-W.length),T=R.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${R.join("|")}|[\\p{White_Space}]`,"gu"),D=[...new Intl.NumberFormat(t.locale,{useGrouping:!1}).format(9876543210)].reverse(),M=new Map(D.map((W,K)=>[W,K])),B=new RegExp(`[${D.join("")}]`,"g");return{minusSign:b,plusSign:x,decimal:w,group:C,literals:T,numeral:B,index:W=>String(M.get(W))}}function nu(n,e,t){return n.replaceAll?n.replaceAll(e,t):n.split(e).join(t)}function ew(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var sA=bf(),pp=function(){},qf=p.forwardRef(function(n,e){var t=p.useRef(null),r=p.useState({onScrollCapture:pp,onWheelCapture:pp,onTouchMoveCapture:pp}),i=r[0],o=r[1],s=n.forwardProps,a=n.children,c=n.className,f=n.removeScrollBar,h=n.enabled,d=n.shards,g=n.sideCar,b=n.noIsolation,x=n.inert,v=n.allowPinchZoom,w=n.as,C=w===void 0?"div":w,k=ko(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),A=g,R=gf([t,e]),T=Je(Je({},k),i);return p.createElement(p.Fragment,null,h&&p.createElement(A,{sideCar:sA,removeScrollBar:f,shards:d,noIsolation:b,inert:x,setCallbacks:o,allowPinchZoom:!!v,lockRef:t}),s?p.cloneElement(p.Children.only(a),Je(Je({},T),{ref:R})):p.createElement(C,Je({},T,{className:c,ref:R}),a))});qf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qf.classNames={fullWidth:lo,zeroRight:ao};var Bm=!1;if(typeof window<"u")try{var ru=Object.defineProperty({},"passive",{get:function(){return Bm=!0,!0}});window.addEventListener("test",ru,ru),window.removeEventListener("test",ru,ru)}catch{Bm=!1}var ts=Bm?{passive:!1}:!1,XH=function(n){return n.tagName==="TEXTAREA"},aA=function(n,e){var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!XH(n)&&t[e]==="visible")},ZH=function(n){return aA(n,"overflowY")},QH=function(n){return aA(n,"overflowX")},tw=function(n,e){var t=e;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var r=lA(n,t);if(r){var i=cA(n,t),o=i[1],s=i[2];if(o>s)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},JH=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},ez=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},lA=function(n,e){return n==="v"?ZH(e):QH(e)},cA=function(n,e){return n==="v"?JH(e):ez(e)},tz=function(n,e){return n==="h"&&e==="rtl"?-1:1},nz=function(n,e,t,r,i){var o=tz(n,window.getComputedStyle(e).direction),s=o*r,a=t.target,c=e.contains(a),f=!1,h=s>0,d=0,g=0;do{var b=cA(n,a),x=b[0],v=b[1],w=b[2],C=v-w-o*x;(x||C)&&lA(n,a)&&(d+=C,g+=x),a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&d===0||!h&&g===0)&&(f=!0),f},iu=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},nw=function(n){return[n.deltaX,n.deltaY]},rw=function(n){return n&&"current"in n?n.current:n},rz=function(n,e){return n[0]===e[0]&&n[1]===e[1]},iz=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},oz=0,ns=[];function sz(n){var e=p.useRef([]),t=p.useRef([0,0]),r=p.useRef(),i=p.useState(oz++)[0],o=p.useState(function(){return fl()})[0],s=p.useRef(n);p.useEffect(function(){s.current=n},[n]),p.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var v=mf([n.lockRef.current],(n.shards||[]).map(rw),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=p.useCallback(function(v,w){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var C=iu(v),k=t.current,A="deltaX"in v?v.deltaX:k[0]-C[0],R="deltaY"in v?v.deltaY:k[1]-C[1],T,D=v.target,M=Math.abs(A)>Math.abs(R)?"h":"v";if("touches"in v&&M==="h"&&D.type==="range")return!1;var B=tw(M,D);if(!B)return!0;if(B?T=M:(T=M==="v"?"h":"v",B=tw(M,D)),!B)return!1;if(!r.current&&"changedTouches"in v&&(A||R)&&(r.current=T),!T)return!0;var N=r.current||T;return nz(N,w,v,N==="h"?A:R)},[]),c=p.useCallback(function(v){var w=v;if(!(!ns.length||ns[ns.length-1]!==o)){var C="deltaY"in w?nw(w):iu(w),k=e.current.filter(function(T){return T.name===w.type&&T.target===w.target&&rz(T.delta,C)})[0];if(k&&k.should){w.cancelable&&w.preventDefault();return}if(!k){var A=(s.current.shards||[]).map(rw).filter(Boolean).filter(function(T){return T.contains(w.target)}),R=A.length>0?a(w,A[0]):!s.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),f=p.useCallback(function(v,w,C,k){var A={name:v,delta:w,target:C,should:k};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(R){return R!==A})},1)},[]),h=p.useCallback(function(v){t.current=iu(v),r.current=void 0},[]),d=p.useCallback(function(v){f(v.type,nw(v),v.target,a(v,n.lockRef.current))},[]),g=p.useCallback(function(v){f(v.type,iu(v),v.target,a(v,n.lockRef.current))},[]);p.useEffect(function(){return ns.push(o),n.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:g}),document.addEventListener("wheel",c,ts),document.addEventListener("touchmove",c,ts),document.addEventListener("touchstart",h,ts),function(){ns=ns.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,ts),document.removeEventListener("touchmove",c,ts),document.removeEventListener("touchstart",h,ts)}},[]);var b=n.removeScrollBar,x=n.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:iz(i)}):null,b?p.createElement(yf,{gapMode:"margin"}):null)}const az=vf(sA,sz);var uA=p.forwardRef(function(n,e){return p.createElement(qf,Je({},n,{ref:e,sideCar:az}))});uA.classNames=qf.classNames;const fA="Popover",[hA,WY]=$t(fA,[Li]),dA=Li(),[VY,qs]=hA(fA),lz="PopoverTrigger",cz=p.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=qs(lz,t),o=dA(t),s=Se(e,i.triggerRef),a=p.createElement(me.button,z({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":gA(i.open)},r,{ref:s,onClick:re(n.onClick,i.onOpenToggle)}));return i.hasCustomAnchor?a:p.createElement(ll,z({asChild:!0},o),a)}),pA="PopoverPortal",[uz,fz]=hA(pA,{forceMount:void 0}),hz=n=>{const{__scopePopover:e,forceMount:t,children:r,container:i}=n,o=qs(pA,e);return p.createElement(uz,{scope:e,forceMount:t},p.createElement(Pt,{present:t||o.open},p.createElement(Ws,{asChild:!0,container:i},r)))},il="PopoverContent",dz=p.forwardRef((n,e)=>{const t=fz(il,n.__scopePopover),{forceMount:r=t.forceMount,...i}=n,o=qs(il,n.__scopePopover);return p.createElement(Pt,{present:r||o.open},o.modal?p.createElement(pz,z({},i,{ref:e})):p.createElement(mz,z({},i,{ref:e})))}),pz=p.forwardRef((n,e)=>{const t=qs(il,n.__scopePopover),r=p.useRef(null),i=Se(e,r),o=p.useRef(!1);return p.useEffect(()=>{const s=r.current;if(s)return Hg(s)},[]),p.createElement(uA,{as:Sr,allowPinchZoom:!0},p.createElement(mA,z({},n,{ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(n.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=t.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:re(n.onPointerDownOutside,s=>{const a=s.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,f=a.button===2||c;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:re(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})))}),mz=p.forwardRef((n,e)=>{const t=qs(il,n.__scopePopover),r=p.useRef(!1),i=p.useRef(!1);return p.createElement(mA,z({},n,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=n.onCloseAutoFocus)===null||s===void 0||s.call(n,o),!o.defaultPrevented){var a;r.current||(a=t.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var s,a;(s=n.onInteractOutside)===null||s===void 0||s.call(n,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((a=t.triggerRef.current)===null||a===void 0?void 0:a.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),mA=p.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:f,onInteractOutside:h,...d}=n,g=qs(il,t),b=dA(t);return Vs(),p.createElement(js,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},p.createElement(So,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1)},p.createElement(cl,z({"data-state":gA(g.open),role:"dialog",id:g.contentId},b,d,{ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function gA(n){return n?"open":"closed"}const gz=cz,bz=hz,vz=dz,bA="Progress",Yf=100,[xz,jY]=$t(bA),[yz,wz]=xz(bA),vA=p.forwardRef((n,e)=>{const{__scopeProgress:t,value:r,max:i,getValueLabel:o=Sz,...s}=n,a=Fm(i)?i:Yf,c=yA(r,a)?r:null,f=rf(c)?o(c,a):void 0;return p.createElement(yz,{scope:t,value:c,max:a},p.createElement(me.div,z({"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":rf(c)?c:void 0,"aria-valuetext":f,role:"progressbar","data-state":xA(c,a),"data-value":c??void 0,"data-max":a},s,{ref:e})))});vA.propTypes={max(n,e,t){const r=n[e],i=String(r);return r&&!Fm(r)?new Error(kz(i,t)):null},value(n,e,t){const r=n[e],i=String(r),o=Fm(n.max)?n.max:Yf;return r!=null&&!yA(r,o)?new Error(Az(i,t)):null}};const $z="ProgressIndicator",Cz=p.forwardRef((n,e)=>{var t;const{__scopeProgress:r,...i}=n,o=wz($z,r);return p.createElement(me.div,z({"data-state":xA(o.value,o.max),"data-value":(t=o.value)!==null&&t!==void 0?t:void 0,"data-max":o.max},i,{ref:e}))});function Sz(n,e){return`${Math.round(n/e*100)}%`}function xA(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function rf(n){return typeof n=="number"}function Fm(n){return rf(n)&&!isNaN(n)&&n>0}function yA(n,e){return rf(n)&&!isNaN(n)&&n<=e&&n>=0}function kz(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Yf}\`.`}function Az(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Yf} if no \`max\` prop is set)
  - \`null\` if the progress is indeterminate.

Defaulting to \`null\`.`}const Ez=vA,Rz=Cz,wA="Radio",[Tz,$A]=$t(wA),[Pz,Mz]=Tz(wA),Oz=p.forwardRef((n,e)=>{const{__scopeRadio:t,name:r,checked:i=!1,required:o,disabled:s,value:a="on",onCheck:c,...f}=n,[h,d]=p.useState(null),g=Se(e,v=>d(v)),b=p.useRef(!1),x=h?!!h.closest("form"):!0;return p.createElement(Pz,{scope:t,checked:i,disabled:s},p.createElement(me.button,z({type:"button",role:"radio","aria-checked":i,"data-state":CA(i),"data-disabled":s?"":void 0,disabled:s,value:a},f,{ref:g,onClick:re(n.onClick,v=>{i||c?.(),x&&(b.current=v.isPropagationStopped(),b.current||v.stopPropagation())})})),x&&p.createElement(_z,{control:h,bubbles:!b.current,name:r,value:a,checked:i,required:o,disabled:s,style:{transform:"translateX(-100%)"}}))}),Dz="RadioIndicator",Iz=p.forwardRef((n,e)=>{const{__scopeRadio:t,forceMount:r,...i}=n,o=Mz(Dz,t);return p.createElement(Pt,{present:r||o.checked},p.createElement(me.span,z({"data-state":CA(o.checked),"data-disabled":o.disabled?"":void 0},i,{ref:e})))}),_z=n=>{const{control:e,checked:t,bubbles:r=!0,...i}=n,o=p.useRef(null),s=Cf(t),a=hf(e);return p.useEffect(()=>{const c=o.current,f=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(f,"checked").set;if(s!==t&&d){const g=new Event("click",{bubbles:r});d.call(c,t),c.dispatchEvent(g)}},[s,t,r]),p.createElement("input",z({type:"radio","aria-hidden":!0,defaultChecked:t},i,{tabIndex:-1,ref:o,style:{...n.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function CA(n){return n?"checked":"unchecked"}const Lz=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],SA="RadioGroup",[Nz,HY]=$t(SA,[zs,$A]),kA=zs(),AA=$A(),[Bz,Fz]=Nz(SA),Wz=p.forwardRef((n,e)=>{const{__scopeRadioGroup:t,name:r,defaultValue:i,value:o,required:s=!1,disabled:a=!1,orientation:c,dir:f,loop:h=!0,onValueChange:d,...g}=n,b=kA(t),x=Ao(f),[v,w]=qt({prop:o,defaultProp:i,onChange:d});return p.createElement(Bz,{scope:t,name:r,required:s,disabled:a,value:v,onValueChange:w},p.createElement(Vg,z({asChild:!0},b,{orientation:c,dir:x,loop:h}),p.createElement(me.div,z({role:"radiogroup","aria-required":s,"aria-orientation":c,"data-disabled":a?"":void 0,dir:x},g,{ref:e}))))}),Vz="RadioGroupItem",jz=p.forwardRef((n,e)=>{const{__scopeRadioGroup:t,disabled:r,...i}=n,o=Fz(Vz,t),s=o.disabled||r,a=kA(t),c=AA(t),f=p.useRef(null),h=Se(e,f),d=o.value===i.value,g=p.useRef(!1);return p.useEffect(()=>{const b=v=>{Lz.includes(v.key)&&(g.current=!0)},x=()=>g.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",x)}},[]),p.createElement(jg,z({asChild:!0},a,{focusable:!s,active:d}),p.createElement(Oz,z({disabled:s,required:o.required,checked:d},c,i,{name:o.name,ref:h,onCheck:()=>o.onValueChange(i.value),onKeyDown:re(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:re(i.onFocus,()=>{var b;g.current&&((b=f.current)===null||b===void 0||b.click())})})))}),Hz=p.forwardRef((n,e)=>{const{__scopeRadioGroup:t,...r}=n,i=AA(t);return p.createElement(Iz,z({},i,r,{ref:e}))}),zz=Wz,Uz=jz,Kz=Hz,EA="Switch",[Gz,zY]=$t(EA),[qz,Yz]=Gz(EA),Xz=p.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:c="on",onCheckedChange:f,...h}=n,[d,g]=p.useState(null),b=Se(e,k=>g(k)),x=p.useRef(!1),v=d?!!d.closest("form"):!0,[w=!1,C]=qt({prop:i,defaultProp:o,onChange:f});return p.createElement(qz,{scope:t,checked:w,disabled:a},p.createElement(me.button,z({type:"button",role:"switch","aria-checked":w,"aria-required":s,"data-state":RA(w),"data-disabled":a?"":void 0,disabled:a,value:c},h,{ref:b,onClick:re(n.onClick,k=>{C(A=>!A),v&&(x.current=k.isPropagationStopped(),x.current||k.stopPropagation())})})),v&&p.createElement(Jz,{control:d,bubbles:!x.current,name:r,value:c,checked:w,required:s,disabled:a,style:{transform:"translateX(-100%)"}}))}),Zz="SwitchThumb",Qz=p.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,i=Yz(Zz,t);return p.createElement(me.span,z({"data-state":RA(i.checked),"data-disabled":i.disabled?"":void 0},r,{ref:e}))}),Jz=n=>{const{control:e,checked:t,bubbles:r=!0,...i}=n,o=p.useRef(null),s=Cf(t),a=hf(e);return p.useEffect(()=>{const c=o.current,f=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(f,"checked").set;if(s!==t&&d){const g=new Event("click",{bubbles:r});d.call(c,t),c.dispatchEvent(g)}},[s,t,r]),p.createElement("input",z({type:"checkbox","aria-hidden":!0,defaultChecked:t},i,{tabIndex:-1,ref:o,style:{...n.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function RA(n){return n?"checked":"unchecked"}const eU=Xz,tU=Qz,TA="Tabs",[nU,UY]=$t(TA,[zs]),PA=zs(),[rU,R0]=nU(TA),iU=p.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:c="automatic",...f}=n,h=Ao(a),[d,g]=qt({prop:r,onChange:i,defaultProp:o});return p.createElement(rU,{scope:t,baseId:mn(),value:d,onValueChange:g,orientation:s,dir:h,activationMode:c},p.createElement(me.div,z({dir:h,"data-orientation":s},f,{ref:e})))}),oU="TabsList",sU=p.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,o=R0(oU,t),s=PA(t);return p.createElement(Vg,z({asChild:!0},s,{orientation:o.orientation,dir:o.dir,loop:r}),p.createElement(me.div,z({role:"tablist","aria-orientation":o.orientation},i,{ref:e})))}),aU="TabsTrigger",lU=p.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...o}=n,s=R0(aU,t),a=PA(t),c=MA(s.baseId,r),f=OA(s.baseId,r),h=r===s.value;return p.createElement(jg,z({asChild:!0},a,{focusable:!i,active:h}),p.createElement(me.button,z({type:"button",role:"tab","aria-selected":h,"aria-controls":f,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c},o,{ref:e,onMouseDown:re(n.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?s.onValueChange(r):d.preventDefault()}),onKeyDown:re(n.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&s.onValueChange(r)}),onFocus:re(n.onFocus,()=>{const d=s.activationMode!=="manual";!h&&!i&&d&&s.onValueChange(r)})})))}),cU="TabsContent",uU=p.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:o,...s}=n,a=R0(cU,t),c=MA(a.baseId,r),f=OA(a.baseId,r),h=r===a.value,d=p.useRef(h);return p.useEffect(()=>{const g=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(g)},[]),p.createElement(Pt,{present:i||h},({present:g})=>p.createElement(me.div,z({"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:f,tabIndex:0},s,{ref:e,style:{...n.style,animationDuration:d.current?"0s":void 0}}),g&&o))});function MA(n,e){return`${n}-trigger-${e}`}function OA(n,e){return`${n}-content-${e}`}const fU=iU,hU=sU,dU=lU,pU=uU;var of={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */of.exports;(function(n,e){(function(){var t,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,h="__lodash_placeholder__",d=1,g=2,b=4,x=1,v=2,w=1,C=2,k=4,A=8,R=16,T=32,D=64,M=128,B=256,N=512,W=30,K="...",j=800,Q=16,Z=1,ee=2,ue=3,te=1/0,oe=9007199254740991,q=17976931348623157e292,le=NaN,he=4294967295,De=he-1,ve=he>>>1,ze=[["ary",M],["bind",w],["bindKey",C],["curry",A],["curryRight",R],["flip",N],["partial",T],["partialRight",D],["rearg",B]],Re="[object Arguments]",Ve="[object Array]",pe="[object AsyncFunction]",Pe="[object Boolean]",Ee="[object Date]",_e="[object DOMException]",$e="[object Error]",ne="[object Function]",ut="[object GeneratorFunction]",qe="[object Map]",Fe="[object Number]",Zt="[object Null]",gt="[object Object]",Po="[object Promise]",Zs="[object Proxy]",lr="[object RegExp]",Mt="[object Set]",li="[object String]",ci="[object Symbol]",Mo="[object Undefined]",Hi="[object WeakMap]",Qs="[object WeakSet]",zi="[object ArrayBuffer]",ui="[object DataView]",Ui="[object Float32Array]",Lt="[object Float64Array]",nh="[object Int8Array]",rh="[object Int16Array]",ih="[object Int32Array]",oh="[object Uint8Array]",sh="[object Uint8ClampedArray]",ah="[object Uint16Array]",lh="[object Uint32Array]",CE=/\b__p \+= '';/g,SE=/\b(__p \+=) '' \+/g,kE=/(__e\(.*?\)|\b__t\)) \+\n'';/g,W0=/&(?:amp|lt|gt|quot|#39);/g,V0=/[&<>"']/g,AE=RegExp(W0.source),EE=RegExp(V0.source),RE=/<%-([\s\S]+?)%>/g,TE=/<%([\s\S]+?)%>/g,j0=/<%=([\s\S]+?)%>/g,PE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ME=/^\w*$/,OE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ch=/[\\^$.*+?()[\]{}|]/g,DE=RegExp(ch.source),uh=/^\s+/,IE=/\s/,_E=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,LE=/\{\n\/\* \[wrapped with (.+)\] \*/,NE=/,? & /,BE=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,FE=/[()=,{}\[\]\/\s]/,WE=/\\(\\)?/g,VE=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,H0=/\w*$/,jE=/^[-+]0x[0-9a-f]+$/i,HE=/^0b[01]+$/i,zE=/^\[object .+?Constructor\]$/,UE=/^0o[0-7]+$/i,KE=/^(?:0|[1-9]\d*)$/,GE=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tl=/($^)/,qE=/['\n\r\u2028\u2029\\]/g,Pl="\\ud800-\\udfff",YE="\\u0300-\\u036f",XE="\\ufe20-\\ufe2f",ZE="\\u20d0-\\u20ff",z0=YE+XE+ZE,U0="\\u2700-\\u27bf",K0="a-z\\xdf-\\xf6\\xf8-\\xff",QE="\\xac\\xb1\\xd7\\xf7",JE="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",eR="\\u2000-\\u206f",tR=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",G0="A-Z\\xc0-\\xd6\\xd8-\\xde",q0="\\ufe0e\\ufe0f",Y0=QE+JE+eR+tR,fh="['’]",nR="["+Pl+"]",X0="["+Y0+"]",Ml="["+z0+"]",Z0="\\d+",rR="["+U0+"]",Q0="["+K0+"]",J0="[^"+Pl+Y0+Z0+U0+K0+G0+"]",hh="\\ud83c[\\udffb-\\udfff]",iR="(?:"+Ml+"|"+hh+")",eb="[^"+Pl+"]",dh="(?:\\ud83c[\\udde6-\\uddff]){2}",ph="[\\ud800-\\udbff][\\udc00-\\udfff]",Oo="["+G0+"]",tb="\\u200d",nb="(?:"+Q0+"|"+J0+")",oR="(?:"+Oo+"|"+J0+")",rb="(?:"+fh+"(?:d|ll|m|re|s|t|ve))?",ib="(?:"+fh+"(?:D|LL|M|RE|S|T|VE))?",ob=iR+"?",sb="["+q0+"]?",sR="(?:"+tb+"(?:"+[eb,dh,ph].join("|")+")"+sb+ob+")*",aR="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",lR="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ab=sb+ob+sR,cR="(?:"+[rR,dh,ph].join("|")+")"+ab,uR="(?:"+[eb+Ml+"?",Ml,dh,ph,nR].join("|")+")",fR=RegExp(fh,"g"),hR=RegExp(Ml,"g"),mh=RegExp(hh+"(?="+hh+")|"+uR+ab,"g"),dR=RegExp([Oo+"?"+Q0+"+"+rb+"(?="+[X0,Oo,"$"].join("|")+")",oR+"+"+ib+"(?="+[X0,Oo+nb,"$"].join("|")+")",Oo+"?"+nb+"+"+rb,Oo+"+"+ib,lR,aR,Z0,cR].join("|"),"g"),pR=RegExp("["+tb+Pl+z0+q0+"]"),mR=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,gR=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bR=-1,at={};at[Ui]=at[Lt]=at[nh]=at[rh]=at[ih]=at[oh]=at[sh]=at[ah]=at[lh]=!0,at[Re]=at[Ve]=at[zi]=at[Pe]=at[ui]=at[Ee]=at[$e]=at[ne]=at[qe]=at[Fe]=at[gt]=at[lr]=at[Mt]=at[li]=at[Hi]=!1;var st={};st[Re]=st[Ve]=st[zi]=st[ui]=st[Pe]=st[Ee]=st[Ui]=st[Lt]=st[nh]=st[rh]=st[ih]=st[qe]=st[Fe]=st[gt]=st[lr]=st[Mt]=st[li]=st[ci]=st[oh]=st[sh]=st[ah]=st[lh]=!0,st[$e]=st[ne]=st[Hi]=!1;var vR={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},xR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yR={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},wR={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$R=parseFloat,CR=parseInt,lb=typeof pa=="object"&&pa&&pa.Object===Object&&pa,SR=typeof self=="object"&&self&&self.Object===Object&&self,Nt=lb||SR||Function("return this")(),gh=e&&!e.nodeType&&e,Ki=gh&&!0&&n&&!n.nodeType&&n,cb=Ki&&Ki.exports===gh,bh=cb&&lb.process,Mn=function(){try{var _=Ki&&Ki.require&&Ki.require("util").types;return _||bh&&bh.binding&&bh.binding("util")}catch{}}(),ub=Mn&&Mn.isArrayBuffer,fb=Mn&&Mn.isDate,hb=Mn&&Mn.isMap,db=Mn&&Mn.isRegExp,pb=Mn&&Mn.isSet,mb=Mn&&Mn.isTypedArray;function vn(_,U,V){switch(V.length){case 0:return _.call(U);case 1:return _.call(U,V[0]);case 2:return _.call(U,V[0],V[1]);case 3:return _.call(U,V[0],V[1],V[2])}return _.apply(U,V)}function kR(_,U,V,de){for(var Me=-1,Ze=_==null?0:_.length;++Me<Ze;){var At=_[Me];U(de,At,V(At),_)}return de}function On(_,U){for(var V=-1,de=_==null?0:_.length;++V<de&&U(_[V],V,_)!==!1;);return _}function AR(_,U){for(var V=_==null?0:_.length;V--&&U(_[V],V,_)!==!1;);return _}function gb(_,U){for(var V=-1,de=_==null?0:_.length;++V<de;)if(!U(_[V],V,_))return!1;return!0}function fi(_,U){for(var V=-1,de=_==null?0:_.length,Me=0,Ze=[];++V<de;){var At=_[V];U(At,V,_)&&(Ze[Me++]=At)}return Ze}function Ol(_,U){var V=_==null?0:_.length;return!!V&&Do(_,U,0)>-1}function vh(_,U,V){for(var de=-1,Me=_==null?0:_.length;++de<Me;)if(V(U,_[de]))return!0;return!1}function ft(_,U){for(var V=-1,de=_==null?0:_.length,Me=Array(de);++V<de;)Me[V]=U(_[V],V,_);return Me}function hi(_,U){for(var V=-1,de=U.length,Me=_.length;++V<de;)_[Me+V]=U[V];return _}function xh(_,U,V,de){var Me=-1,Ze=_==null?0:_.length;for(de&&Ze&&(V=_[++Me]);++Me<Ze;)V=U(V,_[Me],Me,_);return V}function ER(_,U,V,de){var Me=_==null?0:_.length;for(de&&Me&&(V=_[--Me]);Me--;)V=U(V,_[Me],Me,_);return V}function yh(_,U){for(var V=-1,de=_==null?0:_.length;++V<de;)if(U(_[V],V,_))return!0;return!1}var RR=wh("length");function TR(_){return _.split("")}function PR(_){return _.match(BE)||[]}function bb(_,U,V){var de;return V(_,function(Me,Ze,At){if(U(Me,Ze,At))return de=Ze,!1}),de}function Dl(_,U,V,de){for(var Me=_.length,Ze=V+(de?1:-1);de?Ze--:++Ze<Me;)if(U(_[Ze],Ze,_))return Ze;return-1}function Do(_,U,V){return U===U?jR(_,U,V):Dl(_,vb,V)}function MR(_,U,V,de){for(var Me=V-1,Ze=_.length;++Me<Ze;)if(de(_[Me],U))return Me;return-1}function vb(_){return _!==_}function xb(_,U){var V=_==null?0:_.length;return V?Ch(_,U)/V:le}function wh(_){return function(U){return U==null?t:U[_]}}function $h(_){return function(U){return _==null?t:_[U]}}function yb(_,U,V,de,Me){return Me(_,function(Ze,At,nt){V=de?(de=!1,Ze):U(V,Ze,At,nt)}),V}function OR(_,U){var V=_.length;for(_.sort(U);V--;)_[V]=_[V].value;return _}function Ch(_,U){for(var V,de=-1,Me=_.length;++de<Me;){var Ze=U(_[de]);Ze!==t&&(V=V===t?Ze:V+Ze)}return V}function Sh(_,U){for(var V=-1,de=Array(_);++V<_;)de[V]=U(V);return de}function DR(_,U){return ft(U,function(V){return[V,_[V]]})}function wb(_){return _&&_.slice(0,kb(_)+1).replace(uh,"")}function xn(_){return function(U){return _(U)}}function kh(_,U){return ft(U,function(V){return _[V]})}function Js(_,U){return _.has(U)}function $b(_,U){for(var V=-1,de=_.length;++V<de&&Do(U,_[V],0)>-1;);return V}function Cb(_,U){for(var V=_.length;V--&&Do(U,_[V],0)>-1;);return V}function IR(_,U){for(var V=_.length,de=0;V--;)_[V]===U&&++de;return de}var _R=$h(vR),LR=$h(xR);function NR(_){return"\\"+wR[_]}function BR(_,U){return _==null?t:_[U]}function Io(_){return pR.test(_)}function FR(_){return mR.test(_)}function WR(_){for(var U,V=[];!(U=_.next()).done;)V.push(U.value);return V}function Ah(_){var U=-1,V=Array(_.size);return _.forEach(function(de,Me){V[++U]=[Me,de]}),V}function Sb(_,U){return function(V){return _(U(V))}}function di(_,U){for(var V=-1,de=_.length,Me=0,Ze=[];++V<de;){var At=_[V];(At===U||At===h)&&(_[V]=h,Ze[Me++]=V)}return Ze}function Il(_){var U=-1,V=Array(_.size);return _.forEach(function(de){V[++U]=de}),V}function VR(_){var U=-1,V=Array(_.size);return _.forEach(function(de){V[++U]=[de,de]}),V}function jR(_,U,V){for(var de=V-1,Me=_.length;++de<Me;)if(_[de]===U)return de;return-1}function HR(_,U,V){for(var de=V+1;de--;)if(_[de]===U)return de;return de}function _o(_){return Io(_)?UR(_):RR(_)}function Un(_){return Io(_)?KR(_):TR(_)}function kb(_){for(var U=_.length;U--&&IE.test(_.charAt(U)););return U}var zR=$h(yR);function UR(_){for(var U=mh.lastIndex=0;mh.test(_);)++U;return U}function KR(_){return _.match(mh)||[]}function GR(_){return _.match(dR)||[]}var qR=function _(U){U=U==null?Nt:Lo.defaults(Nt.Object(),U,Lo.pick(Nt,gR));var V=U.Array,de=U.Date,Me=U.Error,Ze=U.Function,At=U.Math,nt=U.Object,Eh=U.RegExp,YR=U.String,Dn=U.TypeError,_l=V.prototype,XR=Ze.prototype,No=nt.prototype,Ll=U["__core-js_shared__"],Nl=XR.toString,et=No.hasOwnProperty,ZR=0,Ab=function(){var l=/[^.]+$/.exec(Ll&&Ll.keys&&Ll.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Bl=No.toString,QR=Nl.call(nt),JR=Nt._,eT=Eh("^"+Nl.call(et).replace(ch,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fl=cb?U.Buffer:t,pi=U.Symbol,Wl=U.Uint8Array,Eb=Fl?Fl.allocUnsafe:t,Vl=Sb(nt.getPrototypeOf,nt),Rb=nt.create,Tb=No.propertyIsEnumerable,jl=_l.splice,Pb=pi?pi.isConcatSpreadable:t,ea=pi?pi.iterator:t,Gi=pi?pi.toStringTag:t,Hl=function(){try{var l=Qi(nt,"defineProperty");return l({},"",{}),l}catch{}}(),tT=U.clearTimeout!==Nt.clearTimeout&&U.clearTimeout,nT=de&&de.now!==Nt.Date.now&&de.now,rT=U.setTimeout!==Nt.setTimeout&&U.setTimeout,zl=At.ceil,Ul=At.floor,Rh=nt.getOwnPropertySymbols,iT=Fl?Fl.isBuffer:t,Mb=U.isFinite,oT=_l.join,sT=Sb(nt.keys,nt),Et=At.max,jt=At.min,aT=de.now,lT=U.parseInt,Ob=At.random,cT=_l.reverse,Th=Qi(U,"DataView"),ta=Qi(U,"Map"),Ph=Qi(U,"Promise"),Bo=Qi(U,"Set"),na=Qi(U,"WeakMap"),ra=Qi(nt,"create"),Kl=na&&new na,Fo={},uT=Ji(Th),fT=Ji(ta),hT=Ji(Ph),dT=Ji(Bo),pT=Ji(na),Gl=pi?pi.prototype:t,ia=Gl?Gl.valueOf:t,Db=Gl?Gl.toString:t;function E(l){if(mt(l)&&!Ie(l)&&!(l instanceof Ue)){if(l instanceof In)return l;if(et.call(l,"__wrapped__"))return I1(l)}return new In(l)}var Wo=function(){function l(){}return function(u){if(!dt(u))return{};if(Rb)return Rb(u);l.prototype=u;var m=new l;return l.prototype=t,m}}();function ql(){}function In(l,u){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=t}E.templateSettings={escape:RE,evaluate:TE,interpolate:j0,variable:"",imports:{_:E}},E.prototype=ql.prototype,E.prototype.constructor=E,In.prototype=Wo(ql.prototype),In.prototype.constructor=In;function Ue(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=he,this.__views__=[]}function mT(){var l=new Ue(this.__wrapped__);return l.__actions__=sn(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=sn(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=sn(this.__views__),l}function gT(){if(this.__filtered__){var l=new Ue(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function bT(){var l=this.__wrapped__.value(),u=this.__dir__,m=Ie(l),y=u<0,S=m?l.length:0,P=T3(0,S,this.__views__),O=P.start,I=P.end,L=I-O,G=y?I:O-1,Y=this.__iteratees__,J=Y.length,se=0,ge=jt(L,this.__takeCount__);if(!m||!y&&S==L&&ge==L)return r1(l,this.__actions__);var ke=[];e:for(;L--&&se<ge;){G+=u;for(var Be=-1,Ae=l[G];++Be<J;){var He=Y[Be],Ke=He.iteratee,$n=He.type,en=Ke(Ae);if($n==ee)Ae=en;else if(!en){if($n==Z)continue e;break e}}ke[se++]=Ae}return ke}Ue.prototype=Wo(ql.prototype),Ue.prototype.constructor=Ue;function qi(l){var u=-1,m=l==null?0:l.length;for(this.clear();++u<m;){var y=l[u];this.set(y[0],y[1])}}function vT(){this.__data__=ra?ra(null):{},this.size=0}function xT(l){var u=this.has(l)&&delete this.__data__[l];return this.size-=u?1:0,u}function yT(l){var u=this.__data__;if(ra){var m=u[l];return m===c?t:m}return et.call(u,l)?u[l]:t}function wT(l){var u=this.__data__;return ra?u[l]!==t:et.call(u,l)}function $T(l,u){var m=this.__data__;return this.size+=this.has(l)?0:1,m[l]=ra&&u===t?c:u,this}qi.prototype.clear=vT,qi.prototype.delete=xT,qi.prototype.get=yT,qi.prototype.has=wT,qi.prototype.set=$T;function Dr(l){var u=-1,m=l==null?0:l.length;for(this.clear();++u<m;){var y=l[u];this.set(y[0],y[1])}}function CT(){this.__data__=[],this.size=0}function ST(l){var u=this.__data__,m=Yl(u,l);if(m<0)return!1;var y=u.length-1;return m==y?u.pop():jl.call(u,m,1),--this.size,!0}function kT(l){var u=this.__data__,m=Yl(u,l);return m<0?t:u[m][1]}function AT(l){return Yl(this.__data__,l)>-1}function ET(l,u){var m=this.__data__,y=Yl(m,l);return y<0?(++this.size,m.push([l,u])):m[y][1]=u,this}Dr.prototype.clear=CT,Dr.prototype.delete=ST,Dr.prototype.get=kT,Dr.prototype.has=AT,Dr.prototype.set=ET;function Ir(l){var u=-1,m=l==null?0:l.length;for(this.clear();++u<m;){var y=l[u];this.set(y[0],y[1])}}function RT(){this.size=0,this.__data__={hash:new qi,map:new(ta||Dr),string:new qi}}function TT(l){var u=ac(this,l).delete(l);return this.size-=u?1:0,u}function PT(l){return ac(this,l).get(l)}function MT(l){return ac(this,l).has(l)}function OT(l,u){var m=ac(this,l),y=m.size;return m.set(l,u),this.size+=m.size==y?0:1,this}Ir.prototype.clear=RT,Ir.prototype.delete=TT,Ir.prototype.get=PT,Ir.prototype.has=MT,Ir.prototype.set=OT;function Yi(l){var u=-1,m=l==null?0:l.length;for(this.__data__=new Ir;++u<m;)this.add(l[u])}function DT(l){return this.__data__.set(l,c),this}function IT(l){return this.__data__.has(l)}Yi.prototype.add=Yi.prototype.push=DT,Yi.prototype.has=IT;function Kn(l){var u=this.__data__=new Dr(l);this.size=u.size}function _T(){this.__data__=new Dr,this.size=0}function LT(l){var u=this.__data__,m=u.delete(l);return this.size=u.size,m}function NT(l){return this.__data__.get(l)}function BT(l){return this.__data__.has(l)}function FT(l,u){var m=this.__data__;if(m instanceof Dr){var y=m.__data__;if(!ta||y.length<i-1)return y.push([l,u]),this.size=++m.size,this;m=this.__data__=new Ir(y)}return m.set(l,u),this.size=m.size,this}Kn.prototype.clear=_T,Kn.prototype.delete=LT,Kn.prototype.get=NT,Kn.prototype.has=BT,Kn.prototype.set=FT;function Ib(l,u){var m=Ie(l),y=!m&&eo(l),S=!m&&!y&&xi(l),P=!m&&!y&&!S&&zo(l),O=m||y||S||P,I=O?Sh(l.length,YR):[],L=I.length;for(var G in l)(u||et.call(l,G))&&!(O&&(G=="length"||S&&(G=="offset"||G=="parent")||P&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||Br(G,L)))&&I.push(G);return I}function _b(l){var u=l.length;return u?l[Vh(0,u-1)]:t}function WT(l,u){return lc(sn(l),Xi(u,0,l.length))}function VT(l){return lc(sn(l))}function Mh(l,u,m){(m!==t&&!Gn(l[u],m)||m===t&&!(u in l))&&_r(l,u,m)}function oa(l,u,m){var y=l[u];(!(et.call(l,u)&&Gn(y,m))||m===t&&!(u in l))&&_r(l,u,m)}function Yl(l,u){for(var m=l.length;m--;)if(Gn(l[m][0],u))return m;return-1}function jT(l,u,m,y){return mi(l,function(S,P,O){u(y,S,m(S),O)}),y}function Lb(l,u){return l&&ur(u,Ot(u),l)}function HT(l,u){return l&&ur(u,ln(u),l)}function _r(l,u,m){u=="__proto__"&&Hl?Hl(l,u,{configurable:!0,enumerable:!0,value:m,writable:!0}):l[u]=m}function Oh(l,u){for(var m=-1,y=u.length,S=V(y),P=l==null;++m<y;)S[m]=P?t:hd(l,u[m]);return S}function Xi(l,u,m){return l===l&&(m!==t&&(l=l<=m?l:m),u!==t&&(l=l>=u?l:u)),l}function _n(l,u,m,y,S,P){var O,I=u&d,L=u&g,G=u&b;if(m&&(O=S?m(l,y,S,P):m(l)),O!==t)return O;if(!dt(l))return l;var Y=Ie(l);if(Y){if(O=M3(l),!I)return sn(l,O)}else{var J=Ht(l),se=J==ne||J==ut;if(xi(l))return s1(l,I);if(J==gt||J==Re||se&&!S){if(O=L||se?{}:k1(l),!I)return L?y3(l,HT(O,l)):x3(l,Lb(O,l))}else{if(!st[J])return S?l:{};O=O3(l,J,I)}}P||(P=new Kn);var ge=P.get(l);if(ge)return ge;P.set(l,O),ev(l)?l.forEach(function(Ae){O.add(_n(Ae,u,m,Ae,l,P))}):Q1(l)&&l.forEach(function(Ae,He){O.set(He,_n(Ae,u,m,He,l,P))});var ke=G?L?Qh:Zh:L?ln:Ot,Be=Y?t:ke(l);return On(Be||l,function(Ae,He){Be&&(He=Ae,Ae=l[He]),oa(O,He,_n(Ae,u,m,He,l,P))}),O}function zT(l){var u=Ot(l);return function(m){return Nb(m,l,u)}}function Nb(l,u,m){var y=m.length;if(l==null)return!y;for(l=nt(l);y--;){var S=m[y],P=u[S],O=l[S];if(O===t&&!(S in l)||!P(O))return!1}return!0}function Bb(l,u,m){if(typeof l!="function")throw new Dn(s);return ha(function(){l.apply(t,m)},u)}function sa(l,u,m,y){var S=-1,P=Ol,O=!0,I=l.length,L=[],G=u.length;if(!I)return L;m&&(u=ft(u,xn(m))),y?(P=vh,O=!1):u.length>=i&&(P=Js,O=!1,u=new Yi(u));e:for(;++S<I;){var Y=l[S],J=m==null?Y:m(Y);if(Y=y||Y!==0?Y:0,O&&J===J){for(var se=G;se--;)if(u[se]===J)continue e;L.push(Y)}else P(u,J,y)||L.push(Y)}return L}var mi=f1(cr),Fb=f1(Ih,!0);function UT(l,u){var m=!0;return mi(l,function(y,S,P){return m=!!u(y,S,P),m}),m}function Xl(l,u,m){for(var y=-1,S=l.length;++y<S;){var P=l[y],O=u(P);if(O!=null&&(I===t?O===O&&!wn(O):m(O,I)))var I=O,L=P}return L}function KT(l,u,m,y){var S=l.length;for(m=Le(m),m<0&&(m=-m>S?0:S+m),y=y===t||y>S?S:Le(y),y<0&&(y+=S),y=m>y?0:nv(y);m<y;)l[m++]=u;return l}function Wb(l,u){var m=[];return mi(l,function(y,S,P){u(y,S,P)&&m.push(y)}),m}function Bt(l,u,m,y,S){var P=-1,O=l.length;for(m||(m=I3),S||(S=[]);++P<O;){var I=l[P];u>0&&m(I)?u>1?Bt(I,u-1,m,y,S):hi(S,I):y||(S[S.length]=I)}return S}var Dh=h1(),Vb=h1(!0);function cr(l,u){return l&&Dh(l,u,Ot)}function Ih(l,u){return l&&Vb(l,u,Ot)}function Zl(l,u){return fi(u,function(m){return Fr(l[m])})}function Zi(l,u){u=bi(u,l);for(var m=0,y=u.length;l!=null&&m<y;)l=l[fr(u[m++])];return m&&m==y?l:t}function jb(l,u,m){var y=u(l);return Ie(l)?y:hi(y,m(l))}function Qt(l){return l==null?l===t?Mo:Zt:Gi&&Gi in nt(l)?R3(l):V3(l)}function _h(l,u){return l>u}function GT(l,u){return l!=null&&et.call(l,u)}function qT(l,u){return l!=null&&u in nt(l)}function YT(l,u,m){return l>=jt(u,m)&&l<Et(u,m)}function Lh(l,u,m){for(var y=m?vh:Ol,S=l[0].length,P=l.length,O=P,I=V(P),L=1/0,G=[];O--;){var Y=l[O];O&&u&&(Y=ft(Y,xn(u))),L=jt(Y.length,L),I[O]=!m&&(u||S>=120&&Y.length>=120)?new Yi(O&&Y):t}Y=l[0];var J=-1,se=I[0];e:for(;++J<S&&G.length<L;){var ge=Y[J],ke=u?u(ge):ge;if(ge=m||ge!==0?ge:0,!(se?Js(se,ke):y(G,ke,m))){for(O=P;--O;){var Be=I[O];if(!(Be?Js(Be,ke):y(l[O],ke,m)))continue e}se&&se.push(ke),G.push(ge)}}return G}function XT(l,u,m,y){return cr(l,function(S,P,O){u(y,m(S),P,O)}),y}function aa(l,u,m){u=bi(u,l),l=T1(l,u);var y=l==null?l:l[fr(Nn(u))];return y==null?t:vn(y,l,m)}function Hb(l){return mt(l)&&Qt(l)==Re}function ZT(l){return mt(l)&&Qt(l)==zi}function QT(l){return mt(l)&&Qt(l)==Ee}function la(l,u,m,y,S){return l===u?!0:l==null||u==null||!mt(l)&&!mt(u)?l!==l&&u!==u:JT(l,u,m,y,la,S)}function JT(l,u,m,y,S,P){var O=Ie(l),I=Ie(u),L=O?Ve:Ht(l),G=I?Ve:Ht(u);L=L==Re?gt:L,G=G==Re?gt:G;var Y=L==gt,J=G==gt,se=L==G;if(se&&xi(l)){if(!xi(u))return!1;O=!0,Y=!1}if(se&&!Y)return P||(P=new Kn),O||zo(l)?$1(l,u,m,y,S,P):A3(l,u,L,m,y,S,P);if(!(m&x)){var ge=Y&&et.call(l,"__wrapped__"),ke=J&&et.call(u,"__wrapped__");if(ge||ke){var Be=ge?l.value():l,Ae=ke?u.value():u;return P||(P=new Kn),S(Be,Ae,m,y,P)}}return se?(P||(P=new Kn),E3(l,u,m,y,S,P)):!1}function e3(l){return mt(l)&&Ht(l)==qe}function Nh(l,u,m,y){var S=m.length,P=S,O=!y;if(l==null)return!P;for(l=nt(l);S--;){var I=m[S];if(O&&I[2]?I[1]!==l[I[0]]:!(I[0]in l))return!1}for(;++S<P;){I=m[S];var L=I[0],G=l[L],Y=I[1];if(O&&I[2]){if(G===t&&!(L in l))return!1}else{var J=new Kn;if(y)var se=y(G,Y,L,l,u,J);if(!(se===t?la(Y,G,x|v,y,J):se))return!1}}return!0}function zb(l){if(!dt(l)||L3(l))return!1;var u=Fr(l)?eT:zE;return u.test(Ji(l))}function t3(l){return mt(l)&&Qt(l)==lr}function n3(l){return mt(l)&&Ht(l)==Mt}function r3(l){return mt(l)&&pc(l.length)&&!!at[Qt(l)]}function Ub(l){return typeof l=="function"?l:l==null?cn:typeof l=="object"?Ie(l)?qb(l[0],l[1]):Gb(l):dv(l)}function Bh(l){if(!fa(l))return sT(l);var u=[];for(var m in nt(l))et.call(l,m)&&m!="constructor"&&u.push(m);return u}function i3(l){if(!dt(l))return W3(l);var u=fa(l),m=[];for(var y in l)y=="constructor"&&(u||!et.call(l,y))||m.push(y);return m}function Fh(l,u){return l<u}function Kb(l,u){var m=-1,y=an(l)?V(l.length):[];return mi(l,function(S,P,O){y[++m]=u(S,P,O)}),y}function Gb(l){var u=ed(l);return u.length==1&&u[0][2]?E1(u[0][0],u[0][1]):function(m){return m===l||Nh(m,l,u)}}function qb(l,u){return nd(l)&&A1(u)?E1(fr(l),u):function(m){var y=hd(m,l);return y===t&&y===u?dd(m,l):la(u,y,x|v)}}function Ql(l,u,m,y,S){l!==u&&Dh(u,function(P,O){if(S||(S=new Kn),dt(P))o3(l,u,O,m,Ql,y,S);else{var I=y?y(id(l,O),P,O+"",l,u,S):t;I===t&&(I=P),Mh(l,O,I)}},ln)}function o3(l,u,m,y,S,P,O){var I=id(l,m),L=id(u,m),G=O.get(L);if(G){Mh(l,m,G);return}var Y=P?P(I,L,m+"",l,u,O):t,J=Y===t;if(J){var se=Ie(L),ge=!se&&xi(L),ke=!se&&!ge&&zo(L);Y=L,se||ge||ke?Ie(I)?Y=I:bt(I)?Y=sn(I):ge?(J=!1,Y=s1(L,!0)):ke?(J=!1,Y=a1(L,!0)):Y=[]:da(L)||eo(L)?(Y=I,eo(I)?Y=rv(I):(!dt(I)||Fr(I))&&(Y=k1(L))):J=!1}J&&(O.set(L,Y),S(Y,L,y,P,O),O.delete(L)),Mh(l,m,Y)}function Yb(l,u){var m=l.length;if(m)return u+=u<0?m:0,Br(u,m)?l[u]:t}function Xb(l,u,m){u.length?u=ft(u,function(P){return Ie(P)?function(O){return Zi(O,P.length===1?P[0]:P)}:P}):u=[cn];var y=-1;u=ft(u,xn(Ce()));var S=Kb(l,function(P,O,I){var L=ft(u,function(G){return G(P)});return{criteria:L,index:++y,value:P}});return OR(S,function(P,O){return v3(P,O,m)})}function s3(l,u){return Zb(l,u,function(m,y){return dd(l,y)})}function Zb(l,u,m){for(var y=-1,S=u.length,P={};++y<S;){var O=u[y],I=Zi(l,O);m(I,O)&&ca(P,bi(O,l),I)}return P}function a3(l){return function(u){return Zi(u,l)}}function Wh(l,u,m,y){var S=y?MR:Do,P=-1,O=u.length,I=l;for(l===u&&(u=sn(u)),m&&(I=ft(l,xn(m)));++P<O;)for(var L=0,G=u[P],Y=m?m(G):G;(L=S(I,Y,L,y))>-1;)I!==l&&jl.call(I,L,1),jl.call(l,L,1);return l}function Qb(l,u){for(var m=l?u.length:0,y=m-1;m--;){var S=u[m];if(m==y||S!==P){var P=S;Br(S)?jl.call(l,S,1):zh(l,S)}}return l}function Vh(l,u){return l+Ul(Ob()*(u-l+1))}function l3(l,u,m,y){for(var S=-1,P=Et(zl((u-l)/(m||1)),0),O=V(P);P--;)O[y?P:++S]=l,l+=m;return O}function jh(l,u){var m="";if(!l||u<1||u>oe)return m;do u%2&&(m+=l),u=Ul(u/2),u&&(l+=l);while(u);return m}function We(l,u){return od(R1(l,u,cn),l+"")}function c3(l){return _b(Uo(l))}function u3(l,u){var m=Uo(l);return lc(m,Xi(u,0,m.length))}function ca(l,u,m,y){if(!dt(l))return l;u=bi(u,l);for(var S=-1,P=u.length,O=P-1,I=l;I!=null&&++S<P;){var L=fr(u[S]),G=m;if(L==="__proto__"||L==="constructor"||L==="prototype")return l;if(S!=O){var Y=I[L];G=y?y(Y,L,I):t,G===t&&(G=dt(Y)?Y:Br(u[S+1])?[]:{})}oa(I,L,G),I=I[L]}return l}var Jb=Kl?function(l,u){return Kl.set(l,u),l}:cn,f3=Hl?function(l,u){return Hl(l,"toString",{configurable:!0,enumerable:!1,value:md(u),writable:!0})}:cn;function h3(l){return lc(Uo(l))}function Ln(l,u,m){var y=-1,S=l.length;u<0&&(u=-u>S?0:S+u),m=m>S?S:m,m<0&&(m+=S),S=u>m?0:m-u>>>0,u>>>=0;for(var P=V(S);++y<S;)P[y]=l[y+u];return P}function d3(l,u){var m;return mi(l,function(y,S,P){return m=u(y,S,P),!m}),!!m}function Jl(l,u,m){var y=0,S=l==null?y:l.length;if(typeof u=="number"&&u===u&&S<=ve){for(;y<S;){var P=y+S>>>1,O=l[P];O!==null&&!wn(O)&&(m?O<=u:O<u)?y=P+1:S=P}return S}return Hh(l,u,cn,m)}function Hh(l,u,m,y){var S=0,P=l==null?0:l.length;if(P===0)return 0;u=m(u);for(var O=u!==u,I=u===null,L=wn(u),G=u===t;S<P;){var Y=Ul((S+P)/2),J=m(l[Y]),se=J!==t,ge=J===null,ke=J===J,Be=wn(J);if(O)var Ae=y||ke;else G?Ae=ke&&(y||se):I?Ae=ke&&se&&(y||!ge):L?Ae=ke&&se&&!ge&&(y||!Be):ge||Be?Ae=!1:Ae=y?J<=u:J<u;Ae?S=Y+1:P=Y}return jt(P,De)}function e1(l,u){for(var m=-1,y=l.length,S=0,P=[];++m<y;){var O=l[m],I=u?u(O):O;if(!m||!Gn(I,L)){var L=I;P[S++]=O===0?0:O}}return P}function t1(l){return typeof l=="number"?l:wn(l)?le:+l}function yn(l){if(typeof l=="string")return l;if(Ie(l))return ft(l,yn)+"";if(wn(l))return Db?Db.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}function gi(l,u,m){var y=-1,S=Ol,P=l.length,O=!0,I=[],L=I;if(m)O=!1,S=vh;else if(P>=i){var G=u?null:S3(l);if(G)return Il(G);O=!1,S=Js,L=new Yi}else L=u?[]:I;e:for(;++y<P;){var Y=l[y],J=u?u(Y):Y;if(Y=m||Y!==0?Y:0,O&&J===J){for(var se=L.length;se--;)if(L[se]===J)continue e;u&&L.push(J),I.push(Y)}else S(L,J,m)||(L!==I&&L.push(J),I.push(Y))}return I}function zh(l,u){return u=bi(u,l),l=T1(l,u),l==null||delete l[fr(Nn(u))]}function n1(l,u,m,y){return ca(l,u,m(Zi(l,u)),y)}function ec(l,u,m,y){for(var S=l.length,P=y?S:-1;(y?P--:++P<S)&&u(l[P],P,l););return m?Ln(l,y?0:P,y?P+1:S):Ln(l,y?P+1:0,y?S:P)}function r1(l,u){var m=l;return m instanceof Ue&&(m=m.value()),xh(u,function(y,S){return S.func.apply(S.thisArg,hi([y],S.args))},m)}function Uh(l,u,m){var y=l.length;if(y<2)return y?gi(l[0]):[];for(var S=-1,P=V(y);++S<y;)for(var O=l[S],I=-1;++I<y;)I!=S&&(P[S]=sa(P[S]||O,l[I],u,m));return gi(Bt(P,1),u,m)}function i1(l,u,m){for(var y=-1,S=l.length,P=u.length,O={};++y<S;){var I=y<P?u[y]:t;m(O,l[y],I)}return O}function Kh(l){return bt(l)?l:[]}function Gh(l){return typeof l=="function"?l:cn}function bi(l,u){return Ie(l)?l:nd(l,u)?[l]:D1(Qe(l))}var p3=We;function vi(l,u,m){var y=l.length;return m=m===t?y:m,!u&&m>=y?l:Ln(l,u,m)}var o1=tT||function(l){return Nt.clearTimeout(l)};function s1(l,u){if(u)return l.slice();var m=l.length,y=Eb?Eb(m):new l.constructor(m);return l.copy(y),y}function qh(l){var u=new l.constructor(l.byteLength);return new Wl(u).set(new Wl(l)),u}function m3(l,u){var m=u?qh(l.buffer):l.buffer;return new l.constructor(m,l.byteOffset,l.byteLength)}function g3(l){var u=new l.constructor(l.source,H0.exec(l));return u.lastIndex=l.lastIndex,u}function b3(l){return ia?nt(ia.call(l)):{}}function a1(l,u){var m=u?qh(l.buffer):l.buffer;return new l.constructor(m,l.byteOffset,l.length)}function l1(l,u){if(l!==u){var m=l!==t,y=l===null,S=l===l,P=wn(l),O=u!==t,I=u===null,L=u===u,G=wn(u);if(!I&&!G&&!P&&l>u||P&&O&&L&&!I&&!G||y&&O&&L||!m&&L||!S)return 1;if(!y&&!P&&!G&&l<u||G&&m&&S&&!y&&!P||I&&m&&S||!O&&S||!L)return-1}return 0}function v3(l,u,m){for(var y=-1,S=l.criteria,P=u.criteria,O=S.length,I=m.length;++y<O;){var L=l1(S[y],P[y]);if(L){if(y>=I)return L;var G=m[y];return L*(G=="desc"?-1:1)}}return l.index-u.index}function c1(l,u,m,y){for(var S=-1,P=l.length,O=m.length,I=-1,L=u.length,G=Et(P-O,0),Y=V(L+G),J=!y;++I<L;)Y[I]=u[I];for(;++S<O;)(J||S<P)&&(Y[m[S]]=l[S]);for(;G--;)Y[I++]=l[S++];return Y}function u1(l,u,m,y){for(var S=-1,P=l.length,O=-1,I=m.length,L=-1,G=u.length,Y=Et(P-I,0),J=V(Y+G),se=!y;++S<Y;)J[S]=l[S];for(var ge=S;++L<G;)J[ge+L]=u[L];for(;++O<I;)(se||S<P)&&(J[ge+m[O]]=l[S++]);return J}function sn(l,u){var m=-1,y=l.length;for(u||(u=V(y));++m<y;)u[m]=l[m];return u}function ur(l,u,m,y){var S=!m;m||(m={});for(var P=-1,O=u.length;++P<O;){var I=u[P],L=y?y(m[I],l[I],I,m,l):t;L===t&&(L=l[I]),S?_r(m,I,L):oa(m,I,L)}return m}function x3(l,u){return ur(l,td(l),u)}function y3(l,u){return ur(l,C1(l),u)}function tc(l,u){return function(m,y){var S=Ie(m)?kR:jT,P=u?u():{};return S(m,l,Ce(y,2),P)}}function Vo(l){return We(function(u,m){var y=-1,S=m.length,P=S>1?m[S-1]:t,O=S>2?m[2]:t;for(P=l.length>3&&typeof P=="function"?(S--,P):t,O&&Jt(m[0],m[1],O)&&(P=S<3?t:P,S=1),u=nt(u);++y<S;){var I=m[y];I&&l(u,I,y,P)}return u})}function f1(l,u){return function(m,y){if(m==null)return m;if(!an(m))return l(m,y);for(var S=m.length,P=u?S:-1,O=nt(m);(u?P--:++P<S)&&y(O[P],P,O)!==!1;);return m}}function h1(l){return function(u,m,y){for(var S=-1,P=nt(u),O=y(u),I=O.length;I--;){var L=O[l?I:++S];if(m(P[L],L,P)===!1)break}return u}}function w3(l,u,m){var y=u&w,S=ua(l);function P(){var O=this&&this!==Nt&&this instanceof P?S:l;return O.apply(y?m:this,arguments)}return P}function d1(l){return function(u){u=Qe(u);var m=Io(u)?Un(u):t,y=m?m[0]:u.charAt(0),S=m?vi(m,1).join(""):u.slice(1);return y[l]()+S}}function jo(l){return function(u){return xh(fv(uv(u).replace(fR,"")),l,"")}}function ua(l){return function(){var u=arguments;switch(u.length){case 0:return new l;case 1:return new l(u[0]);case 2:return new l(u[0],u[1]);case 3:return new l(u[0],u[1],u[2]);case 4:return new l(u[0],u[1],u[2],u[3]);case 5:return new l(u[0],u[1],u[2],u[3],u[4]);case 6:return new l(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new l(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var m=Wo(l.prototype),y=l.apply(m,u);return dt(y)?y:m}}function $3(l,u,m){var y=ua(l);function S(){for(var P=arguments.length,O=V(P),I=P,L=Ho(S);I--;)O[I]=arguments[I];var G=P<3&&O[0]!==L&&O[P-1]!==L?[]:di(O,L);if(P-=G.length,P<m)return v1(l,u,nc,S.placeholder,t,O,G,t,t,m-P);var Y=this&&this!==Nt&&this instanceof S?y:l;return vn(Y,this,O)}return S}function p1(l){return function(u,m,y){var S=nt(u);if(!an(u)){var P=Ce(m,3);u=Ot(u),m=function(I){return P(S[I],I,S)}}var O=l(u,m,y);return O>-1?S[P?u[O]:O]:t}}function m1(l){return Nr(function(u){var m=u.length,y=m,S=In.prototype.thru;for(l&&u.reverse();y--;){var P=u[y];if(typeof P!="function")throw new Dn(s);if(S&&!O&&sc(P)=="wrapper")var O=new In([],!0)}for(y=O?y:m;++y<m;){P=u[y];var I=sc(P),L=I=="wrapper"?Jh(P):t;L&&rd(L[0])&&L[1]==(M|A|T|B)&&!L[4].length&&L[9]==1?O=O[sc(L[0])].apply(O,L[3]):O=P.length==1&&rd(P)?O[I]():O.thru(P)}return function(){var G=arguments,Y=G[0];if(O&&G.length==1&&Ie(Y))return O.plant(Y).value();for(var J=0,se=m?u[J].apply(this,G):Y;++J<m;)se=u[J].call(this,se);return se}})}function nc(l,u,m,y,S,P,O,I,L,G){var Y=u&M,J=u&w,se=u&C,ge=u&(A|R),ke=u&N,Be=se?t:ua(l);function Ae(){for(var He=arguments.length,Ke=V(He),$n=He;$n--;)Ke[$n]=arguments[$n];if(ge)var en=Ho(Ae),Cn=IR(Ke,en);if(y&&(Ke=c1(Ke,y,S,ge)),P&&(Ke=u1(Ke,P,O,ge)),He-=Cn,ge&&He<G){var vt=di(Ke,en);return v1(l,u,nc,Ae.placeholder,m,Ke,vt,I,L,G-He)}var qn=J?m:this,Vr=se?qn[l]:l;return He=Ke.length,I?Ke=j3(Ke,I):ke&&He>1&&Ke.reverse(),Y&&L<He&&(Ke.length=L),this&&this!==Nt&&this instanceof Ae&&(Vr=Be||ua(Vr)),Vr.apply(qn,Ke)}return Ae}function g1(l,u){return function(m,y){return XT(m,l,u(y),{})}}function rc(l,u){return function(m,y){var S;if(m===t&&y===t)return u;if(m!==t&&(S=m),y!==t){if(S===t)return y;typeof m=="string"||typeof y=="string"?(m=yn(m),y=yn(y)):(m=t1(m),y=t1(y)),S=l(m,y)}return S}}function Yh(l){return Nr(function(u){return u=ft(u,xn(Ce())),We(function(m){var y=this;return l(u,function(S){return vn(S,y,m)})})})}function ic(l,u){u=u===t?" ":yn(u);var m=u.length;if(m<2)return m?jh(u,l):u;var y=jh(u,zl(l/_o(u)));return Io(u)?vi(Un(y),0,l).join(""):y.slice(0,l)}function C3(l,u,m,y){var S=u&w,P=ua(l);function O(){for(var I=-1,L=arguments.length,G=-1,Y=y.length,J=V(Y+L),se=this&&this!==Nt&&this instanceof O?P:l;++G<Y;)J[G]=y[G];for(;L--;)J[G++]=arguments[++I];return vn(se,S?m:this,J)}return O}function b1(l){return function(u,m,y){return y&&typeof y!="number"&&Jt(u,m,y)&&(m=y=t),u=Wr(u),m===t?(m=u,u=0):m=Wr(m),y=y===t?u<m?1:-1:Wr(y),l3(u,m,y,l)}}function oc(l){return function(u,m){return typeof u=="string"&&typeof m=="string"||(u=Bn(u),m=Bn(m)),l(u,m)}}function v1(l,u,m,y,S,P,O,I,L,G){var Y=u&A,J=Y?O:t,se=Y?t:O,ge=Y?P:t,ke=Y?t:P;u|=Y?T:D,u&=~(Y?D:T),u&k||(u&=-4);var Be=[l,u,S,ge,J,ke,se,I,L,G],Ae=m.apply(t,Be);return rd(l)&&P1(Ae,Be),Ae.placeholder=y,M1(Ae,l,u)}function Xh(l){var u=At[l];return function(m,y){if(m=Bn(m),y=y==null?0:jt(Le(y),292),y&&Mb(m)){var S=(Qe(m)+"e").split("e"),P=u(S[0]+"e"+(+S[1]+y));return S=(Qe(P)+"e").split("e"),+(S[0]+"e"+(+S[1]-y))}return u(m)}}var S3=Bo&&1/Il(new Bo([,-0]))[1]==te?function(l){return new Bo(l)}:vd;function x1(l){return function(u){var m=Ht(u);return m==qe?Ah(u):m==Mt?VR(u):DR(u,l(u))}}function Lr(l,u,m,y,S,P,O,I){var L=u&C;if(!L&&typeof l!="function")throw new Dn(s);var G=y?y.length:0;if(G||(u&=-97,y=S=t),O=O===t?O:Et(Le(O),0),I=I===t?I:Le(I),G-=S?S.length:0,u&D){var Y=y,J=S;y=S=t}var se=L?t:Jh(l),ge=[l,u,m,y,S,Y,J,P,O,I];if(se&&F3(ge,se),l=ge[0],u=ge[1],m=ge[2],y=ge[3],S=ge[4],I=ge[9]=ge[9]===t?L?0:l.length:Et(ge[9]-G,0),!I&&u&(A|R)&&(u&=-25),!u||u==w)var ke=w3(l,u,m);else u==A||u==R?ke=$3(l,u,I):(u==T||u==(w|T))&&!S.length?ke=C3(l,u,m,y):ke=nc.apply(t,ge);var Be=se?Jb:P1;return M1(Be(ke,ge),l,u)}function y1(l,u,m,y){return l===t||Gn(l,No[m])&&!et.call(y,m)?u:l}function w1(l,u,m,y,S,P){return dt(l)&&dt(u)&&(P.set(u,l),Ql(l,u,t,w1,P),P.delete(u)),l}function k3(l){return da(l)?t:l}function $1(l,u,m,y,S,P){var O=m&x,I=l.length,L=u.length;if(I!=L&&!(O&&L>I))return!1;var G=P.get(l),Y=P.get(u);if(G&&Y)return G==u&&Y==l;var J=-1,se=!0,ge=m&v?new Yi:t;for(P.set(l,u),P.set(u,l);++J<I;){var ke=l[J],Be=u[J];if(y)var Ae=O?y(Be,ke,J,u,l,P):y(ke,Be,J,l,u,P);if(Ae!==t){if(Ae)continue;se=!1;break}if(ge){if(!yh(u,function(He,Ke){if(!Js(ge,Ke)&&(ke===He||S(ke,He,m,y,P)))return ge.push(Ke)})){se=!1;break}}else if(!(ke===Be||S(ke,Be,m,y,P))){se=!1;break}}return P.delete(l),P.delete(u),se}function A3(l,u,m,y,S,P,O){switch(m){case ui:if(l.byteLength!=u.byteLength||l.byteOffset!=u.byteOffset)return!1;l=l.buffer,u=u.buffer;case zi:return!(l.byteLength!=u.byteLength||!P(new Wl(l),new Wl(u)));case Pe:case Ee:case Fe:return Gn(+l,+u);case $e:return l.name==u.name&&l.message==u.message;case lr:case li:return l==u+"";case qe:var I=Ah;case Mt:var L=y&x;if(I||(I=Il),l.size!=u.size&&!L)return!1;var G=O.get(l);if(G)return G==u;y|=v,O.set(l,u);var Y=$1(I(l),I(u),y,S,P,O);return O.delete(l),Y;case ci:if(ia)return ia.call(l)==ia.call(u)}return!1}function E3(l,u,m,y,S,P){var O=m&x,I=Zh(l),L=I.length,G=Zh(u),Y=G.length;if(L!=Y&&!O)return!1;for(var J=L;J--;){var se=I[J];if(!(O?se in u:et.call(u,se)))return!1}var ge=P.get(l),ke=P.get(u);if(ge&&ke)return ge==u&&ke==l;var Be=!0;P.set(l,u),P.set(u,l);for(var Ae=O;++J<L;){se=I[J];var He=l[se],Ke=u[se];if(y)var $n=O?y(Ke,He,se,u,l,P):y(He,Ke,se,l,u,P);if(!($n===t?He===Ke||S(He,Ke,m,y,P):$n)){Be=!1;break}Ae||(Ae=se=="constructor")}if(Be&&!Ae){var en=l.constructor,Cn=u.constructor;en!=Cn&&"constructor"in l&&"constructor"in u&&!(typeof en=="function"&&en instanceof en&&typeof Cn=="function"&&Cn instanceof Cn)&&(Be=!1)}return P.delete(l),P.delete(u),Be}function Nr(l){return od(R1(l,t,N1),l+"")}function Zh(l){return jb(l,Ot,td)}function Qh(l){return jb(l,ln,C1)}var Jh=Kl?function(l){return Kl.get(l)}:vd;function sc(l){for(var u=l.name+"",m=Fo[u],y=et.call(Fo,u)?m.length:0;y--;){var S=m[y],P=S.func;if(P==null||P==l)return S.name}return u}function Ho(l){var u=et.call(E,"placeholder")?E:l;return u.placeholder}function Ce(){var l=E.iteratee||gd;return l=l===gd?Ub:l,arguments.length?l(arguments[0],arguments[1]):l}function ac(l,u){var m=l.__data__;return _3(u)?m[typeof u=="string"?"string":"hash"]:m.map}function ed(l){for(var u=Ot(l),m=u.length;m--;){var y=u[m],S=l[y];u[m]=[y,S,A1(S)]}return u}function Qi(l,u){var m=BR(l,u);return zb(m)?m:t}function R3(l){var u=et.call(l,Gi),m=l[Gi];try{l[Gi]=t;var y=!0}catch{}var S=Bl.call(l);return y&&(u?l[Gi]=m:delete l[Gi]),S}var td=Rh?function(l){return l==null?[]:(l=nt(l),fi(Rh(l),function(u){return Tb.call(l,u)}))}:xd,C1=Rh?function(l){for(var u=[];l;)hi(u,td(l)),l=Vl(l);return u}:xd,Ht=Qt;(Th&&Ht(new Th(new ArrayBuffer(1)))!=ui||ta&&Ht(new ta)!=qe||Ph&&Ht(Ph.resolve())!=Po||Bo&&Ht(new Bo)!=Mt||na&&Ht(new na)!=Hi)&&(Ht=function(l){var u=Qt(l),m=u==gt?l.constructor:t,y=m?Ji(m):"";if(y)switch(y){case uT:return ui;case fT:return qe;case hT:return Po;case dT:return Mt;case pT:return Hi}return u});function T3(l,u,m){for(var y=-1,S=m.length;++y<S;){var P=m[y],O=P.size;switch(P.type){case"drop":l+=O;break;case"dropRight":u-=O;break;case"take":u=jt(u,l+O);break;case"takeRight":l=Et(l,u-O);break}}return{start:l,end:u}}function P3(l){var u=l.match(LE);return u?u[1].split(NE):[]}function S1(l,u,m){u=bi(u,l);for(var y=-1,S=u.length,P=!1;++y<S;){var O=fr(u[y]);if(!(P=l!=null&&m(l,O)))break;l=l[O]}return P||++y!=S?P:(S=l==null?0:l.length,!!S&&pc(S)&&Br(O,S)&&(Ie(l)||eo(l)))}function M3(l){var u=l.length,m=new l.constructor(u);return u&&typeof l[0]=="string"&&et.call(l,"index")&&(m.index=l.index,m.input=l.input),m}function k1(l){return typeof l.constructor=="function"&&!fa(l)?Wo(Vl(l)):{}}function O3(l,u,m){var y=l.constructor;switch(u){case zi:return qh(l);case Pe:case Ee:return new y(+l);case ui:return m3(l,m);case Ui:case Lt:case nh:case rh:case ih:case oh:case sh:case ah:case lh:return a1(l,m);case qe:return new y;case Fe:case li:return new y(l);case lr:return g3(l);case Mt:return new y;case ci:return b3(l)}}function D3(l,u){var m=u.length;if(!m)return l;var y=m-1;return u[y]=(m>1?"& ":"")+u[y],u=u.join(m>2?", ":" "),l.replace(_E,`{
/* [wrapped with `+u+`] */
`)}function I3(l){return Ie(l)||eo(l)||!!(Pb&&l&&l[Pb])}function Br(l,u){var m=typeof l;return u=u??oe,!!u&&(m=="number"||m!="symbol"&&KE.test(l))&&l>-1&&l%1==0&&l<u}function Jt(l,u,m){if(!dt(m))return!1;var y=typeof u;return(y=="number"?an(m)&&Br(u,m.length):y=="string"&&u in m)?Gn(m[u],l):!1}function nd(l,u){if(Ie(l))return!1;var m=typeof l;return m=="number"||m=="symbol"||m=="boolean"||l==null||wn(l)?!0:ME.test(l)||!PE.test(l)||u!=null&&l in nt(u)}function _3(l){var u=typeof l;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?l!=="__proto__":l===null}function rd(l){var u=sc(l),m=E[u];if(typeof m!="function"||!(u in Ue.prototype))return!1;if(l===m)return!0;var y=Jh(m);return!!y&&l===y[0]}function L3(l){return!!Ab&&Ab in l}var N3=Ll?Fr:yd;function fa(l){var u=l&&l.constructor,m=typeof u=="function"&&u.prototype||No;return l===m}function A1(l){return l===l&&!dt(l)}function E1(l,u){return function(m){return m==null?!1:m[l]===u&&(u!==t||l in nt(m))}}function B3(l){var u=hc(l,function(y){return m.size===f&&m.clear(),y}),m=u.cache;return u}function F3(l,u){var m=l[1],y=u[1],S=m|y,P=S<(w|C|M),O=y==M&&m==A||y==M&&m==B&&l[7].length<=u[8]||y==(M|B)&&u[7].length<=u[8]&&m==A;if(!(P||O))return l;y&w&&(l[2]=u[2],S|=m&w?0:k);var I=u[3];if(I){var L=l[3];l[3]=L?c1(L,I,u[4]):I,l[4]=L?di(l[3],h):u[4]}return I=u[5],I&&(L=l[5],l[5]=L?u1(L,I,u[6]):I,l[6]=L?di(l[5],h):u[6]),I=u[7],I&&(l[7]=I),y&M&&(l[8]=l[8]==null?u[8]:jt(l[8],u[8])),l[9]==null&&(l[9]=u[9]),l[0]=u[0],l[1]=S,l}function W3(l){var u=[];if(l!=null)for(var m in nt(l))u.push(m);return u}function V3(l){return Bl.call(l)}function R1(l,u,m){return u=Et(u===t?l.length-1:u,0),function(){for(var y=arguments,S=-1,P=Et(y.length-u,0),O=V(P);++S<P;)O[S]=y[u+S];S=-1;for(var I=V(u+1);++S<u;)I[S]=y[S];return I[u]=m(O),vn(l,this,I)}}function T1(l,u){return u.length<2?l:Zi(l,Ln(u,0,-1))}function j3(l,u){for(var m=l.length,y=jt(u.length,m),S=sn(l);y--;){var P=u[y];l[y]=Br(P,m)?S[P]:t}return l}function id(l,u){if(!(u==="constructor"&&typeof l[u]=="function")&&u!="__proto__")return l[u]}var P1=O1(Jb),ha=rT||function(l,u){return Nt.setTimeout(l,u)},od=O1(f3);function M1(l,u,m){var y=u+"";return od(l,D3(y,H3(P3(y),m)))}function O1(l){var u=0,m=0;return function(){var y=aT(),S=Q-(y-m);if(m=y,S>0){if(++u>=j)return arguments[0]}else u=0;return l.apply(t,arguments)}}function lc(l,u){var m=-1,y=l.length,S=y-1;for(u=u===t?y:u;++m<u;){var P=Vh(m,S),O=l[P];l[P]=l[m],l[m]=O}return l.length=u,l}var D1=B3(function(l){var u=[];return l.charCodeAt(0)===46&&u.push(""),l.replace(OE,function(m,y,S,P){u.push(S?P.replace(WE,"$1"):y||m)}),u});function fr(l){if(typeof l=="string"||wn(l))return l;var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}function Ji(l){if(l!=null){try{return Nl.call(l)}catch{}try{return l+""}catch{}}return""}function H3(l,u){return On(ze,function(m){var y="_."+m[0];u&m[1]&&!Ol(l,y)&&l.push(y)}),l.sort()}function I1(l){if(l instanceof Ue)return l.clone();var u=new In(l.__wrapped__,l.__chain__);return u.__actions__=sn(l.__actions__),u.__index__=l.__index__,u.__values__=l.__values__,u}function z3(l,u,m){(m?Jt(l,u,m):u===t)?u=1:u=Et(Le(u),0);var y=l==null?0:l.length;if(!y||u<1)return[];for(var S=0,P=0,O=V(zl(y/u));S<y;)O[P++]=Ln(l,S,S+=u);return O}function U3(l){for(var u=-1,m=l==null?0:l.length,y=0,S=[];++u<m;){var P=l[u];P&&(S[y++]=P)}return S}function K3(){var l=arguments.length;if(!l)return[];for(var u=V(l-1),m=arguments[0],y=l;y--;)u[y-1]=arguments[y];return hi(Ie(m)?sn(m):[m],Bt(u,1))}var G3=We(function(l,u){return bt(l)?sa(l,Bt(u,1,bt,!0)):[]}),q3=We(function(l,u){var m=Nn(u);return bt(m)&&(m=t),bt(l)?sa(l,Bt(u,1,bt,!0),Ce(m,2)):[]}),Y3=We(function(l,u){var m=Nn(u);return bt(m)&&(m=t),bt(l)?sa(l,Bt(u,1,bt,!0),t,m):[]});function X3(l,u,m){var y=l==null?0:l.length;return y?(u=m||u===t?1:Le(u),Ln(l,u<0?0:u,y)):[]}function Z3(l,u,m){var y=l==null?0:l.length;return y?(u=m||u===t?1:Le(u),u=y-u,Ln(l,0,u<0?0:u)):[]}function Q3(l,u){return l&&l.length?ec(l,Ce(u,3),!0,!0):[]}function J3(l,u){return l&&l.length?ec(l,Ce(u,3),!0):[]}function e5(l,u,m,y){var S=l==null?0:l.length;return S?(m&&typeof m!="number"&&Jt(l,u,m)&&(m=0,y=S),KT(l,u,m,y)):[]}function _1(l,u,m){var y=l==null?0:l.length;if(!y)return-1;var S=m==null?0:Le(m);return S<0&&(S=Et(y+S,0)),Dl(l,Ce(u,3),S)}function L1(l,u,m){var y=l==null?0:l.length;if(!y)return-1;var S=y-1;return m!==t&&(S=Le(m),S=m<0?Et(y+S,0):jt(S,y-1)),Dl(l,Ce(u,3),S,!0)}function N1(l){var u=l==null?0:l.length;return u?Bt(l,1):[]}function t5(l){var u=l==null?0:l.length;return u?Bt(l,te):[]}function n5(l,u){var m=l==null?0:l.length;return m?(u=u===t?1:Le(u),Bt(l,u)):[]}function r5(l){for(var u=-1,m=l==null?0:l.length,y={};++u<m;){var S=l[u];y[S[0]]=S[1]}return y}function B1(l){return l&&l.length?l[0]:t}function i5(l,u,m){var y=l==null?0:l.length;if(!y)return-1;var S=m==null?0:Le(m);return S<0&&(S=Et(y+S,0)),Do(l,u,S)}function o5(l){var u=l==null?0:l.length;return u?Ln(l,0,-1):[]}var s5=We(function(l){var u=ft(l,Kh);return u.length&&u[0]===l[0]?Lh(u):[]}),a5=We(function(l){var u=Nn(l),m=ft(l,Kh);return u===Nn(m)?u=t:m.pop(),m.length&&m[0]===l[0]?Lh(m,Ce(u,2)):[]}),l5=We(function(l){var u=Nn(l),m=ft(l,Kh);return u=typeof u=="function"?u:t,u&&m.pop(),m.length&&m[0]===l[0]?Lh(m,t,u):[]});function c5(l,u){return l==null?"":oT.call(l,u)}function Nn(l){var u=l==null?0:l.length;return u?l[u-1]:t}function u5(l,u,m){var y=l==null?0:l.length;if(!y)return-1;var S=y;return m!==t&&(S=Le(m),S=S<0?Et(y+S,0):jt(S,y-1)),u===u?HR(l,u,S):Dl(l,vb,S,!0)}function f5(l,u){return l&&l.length?Yb(l,Le(u)):t}var h5=We(F1);function F1(l,u){return l&&l.length&&u&&u.length?Wh(l,u):l}function d5(l,u,m){return l&&l.length&&u&&u.length?Wh(l,u,Ce(m,2)):l}function p5(l,u,m){return l&&l.length&&u&&u.length?Wh(l,u,t,m):l}var m5=Nr(function(l,u){var m=l==null?0:l.length,y=Oh(l,u);return Qb(l,ft(u,function(S){return Br(S,m)?+S:S}).sort(l1)),y});function g5(l,u){var m=[];if(!(l&&l.length))return m;var y=-1,S=[],P=l.length;for(u=Ce(u,3);++y<P;){var O=l[y];u(O,y,l)&&(m.push(O),S.push(y))}return Qb(l,S),m}function sd(l){return l==null?l:cT.call(l)}function b5(l,u,m){var y=l==null?0:l.length;return y?(m&&typeof m!="number"&&Jt(l,u,m)?(u=0,m=y):(u=u==null?0:Le(u),m=m===t?y:Le(m)),Ln(l,u,m)):[]}function v5(l,u){return Jl(l,u)}function x5(l,u,m){return Hh(l,u,Ce(m,2))}function y5(l,u){var m=l==null?0:l.length;if(m){var y=Jl(l,u);if(y<m&&Gn(l[y],u))return y}return-1}function w5(l,u){return Jl(l,u,!0)}function $5(l,u,m){return Hh(l,u,Ce(m,2),!0)}function C5(l,u){var m=l==null?0:l.length;if(m){var y=Jl(l,u,!0)-1;if(Gn(l[y],u))return y}return-1}function S5(l){return l&&l.length?e1(l):[]}function k5(l,u){return l&&l.length?e1(l,Ce(u,2)):[]}function A5(l){var u=l==null?0:l.length;return u?Ln(l,1,u):[]}function E5(l,u,m){return l&&l.length?(u=m||u===t?1:Le(u),Ln(l,0,u<0?0:u)):[]}function R5(l,u,m){var y=l==null?0:l.length;return y?(u=m||u===t?1:Le(u),u=y-u,Ln(l,u<0?0:u,y)):[]}function T5(l,u){return l&&l.length?ec(l,Ce(u,3),!1,!0):[]}function P5(l,u){return l&&l.length?ec(l,Ce(u,3)):[]}var M5=We(function(l){return gi(Bt(l,1,bt,!0))}),O5=We(function(l){var u=Nn(l);return bt(u)&&(u=t),gi(Bt(l,1,bt,!0),Ce(u,2))}),D5=We(function(l){var u=Nn(l);return u=typeof u=="function"?u:t,gi(Bt(l,1,bt,!0),t,u)});function I5(l){return l&&l.length?gi(l):[]}function _5(l,u){return l&&l.length?gi(l,Ce(u,2)):[]}function L5(l,u){return u=typeof u=="function"?u:t,l&&l.length?gi(l,t,u):[]}function ad(l){if(!(l&&l.length))return[];var u=0;return l=fi(l,function(m){if(bt(m))return u=Et(m.length,u),!0}),Sh(u,function(m){return ft(l,wh(m))})}function W1(l,u){if(!(l&&l.length))return[];var m=ad(l);return u==null?m:ft(m,function(y){return vn(u,t,y)})}var N5=We(function(l,u){return bt(l)?sa(l,u):[]}),B5=We(function(l){return Uh(fi(l,bt))}),F5=We(function(l){var u=Nn(l);return bt(u)&&(u=t),Uh(fi(l,bt),Ce(u,2))}),W5=We(function(l){var u=Nn(l);return u=typeof u=="function"?u:t,Uh(fi(l,bt),t,u)}),V5=We(ad);function j5(l,u){return i1(l||[],u||[],oa)}function H5(l,u){return i1(l||[],u||[],ca)}var z5=We(function(l){var u=l.length,m=u>1?l[u-1]:t;return m=typeof m=="function"?(l.pop(),m):t,W1(l,m)});function V1(l){var u=E(l);return u.__chain__=!0,u}function U5(l,u){return u(l),l}function cc(l,u){return u(l)}var K5=Nr(function(l){var u=l.length,m=u?l[0]:0,y=this.__wrapped__,S=function(P){return Oh(P,l)};return u>1||this.__actions__.length||!(y instanceof Ue)||!Br(m)?this.thru(S):(y=y.slice(m,+m+(u?1:0)),y.__actions__.push({func:cc,args:[S],thisArg:t}),new In(y,this.__chain__).thru(function(P){return u&&!P.length&&P.push(t),P}))});function G5(){return V1(this)}function q5(){return new In(this.value(),this.__chain__)}function Y5(){this.__values__===t&&(this.__values__=tv(this.value()));var l=this.__index__>=this.__values__.length,u=l?t:this.__values__[this.__index__++];return{done:l,value:u}}function X5(){return this}function Z5(l){for(var u,m=this;m instanceof ql;){var y=I1(m);y.__index__=0,y.__values__=t,u?S.__wrapped__=y:u=y;var S=y;m=m.__wrapped__}return S.__wrapped__=l,u}function Q5(){var l=this.__wrapped__;if(l instanceof Ue){var u=l;return this.__actions__.length&&(u=new Ue(this)),u=u.reverse(),u.__actions__.push({func:cc,args:[sd],thisArg:t}),new In(u,this.__chain__)}return this.thru(sd)}function J5(){return r1(this.__wrapped__,this.__actions__)}var eP=tc(function(l,u,m){et.call(l,m)?++l[m]:_r(l,m,1)});function tP(l,u,m){var y=Ie(l)?gb:UT;return m&&Jt(l,u,m)&&(u=t),y(l,Ce(u,3))}function nP(l,u){var m=Ie(l)?fi:Wb;return m(l,Ce(u,3))}var rP=p1(_1),iP=p1(L1);function oP(l,u){return Bt(uc(l,u),1)}function sP(l,u){return Bt(uc(l,u),te)}function aP(l,u,m){return m=m===t?1:Le(m),Bt(uc(l,u),m)}function j1(l,u){var m=Ie(l)?On:mi;return m(l,Ce(u,3))}function H1(l,u){var m=Ie(l)?AR:Fb;return m(l,Ce(u,3))}var lP=tc(function(l,u,m){et.call(l,m)?l[m].push(u):_r(l,m,[u])});function cP(l,u,m,y){l=an(l)?l:Uo(l),m=m&&!y?Le(m):0;var S=l.length;return m<0&&(m=Et(S+m,0)),mc(l)?m<=S&&l.indexOf(u,m)>-1:!!S&&Do(l,u,m)>-1}var uP=We(function(l,u,m){var y=-1,S=typeof u=="function",P=an(l)?V(l.length):[];return mi(l,function(O){P[++y]=S?vn(u,O,m):aa(O,u,m)}),P}),fP=tc(function(l,u,m){_r(l,m,u)});function uc(l,u){var m=Ie(l)?ft:Kb;return m(l,Ce(u,3))}function hP(l,u,m,y){return l==null?[]:(Ie(u)||(u=u==null?[]:[u]),m=y?t:m,Ie(m)||(m=m==null?[]:[m]),Xb(l,u,m))}var dP=tc(function(l,u,m){l[m?0:1].push(u)},function(){return[[],[]]});function pP(l,u,m){var y=Ie(l)?xh:yb,S=arguments.length<3;return y(l,Ce(u,4),m,S,mi)}function mP(l,u,m){var y=Ie(l)?ER:yb,S=arguments.length<3;return y(l,Ce(u,4),m,S,Fb)}function gP(l,u){var m=Ie(l)?fi:Wb;return m(l,dc(Ce(u,3)))}function bP(l){var u=Ie(l)?_b:c3;return u(l)}function vP(l,u,m){(m?Jt(l,u,m):u===t)?u=1:u=Le(u);var y=Ie(l)?WT:u3;return y(l,u)}function xP(l){var u=Ie(l)?VT:h3;return u(l)}function yP(l){if(l==null)return 0;if(an(l))return mc(l)?_o(l):l.length;var u=Ht(l);return u==qe||u==Mt?l.size:Bh(l).length}function wP(l,u,m){var y=Ie(l)?yh:d3;return m&&Jt(l,u,m)&&(u=t),y(l,Ce(u,3))}var $P=We(function(l,u){if(l==null)return[];var m=u.length;return m>1&&Jt(l,u[0],u[1])?u=[]:m>2&&Jt(u[0],u[1],u[2])&&(u=[u[0]]),Xb(l,Bt(u,1),[])}),fc=nT||function(){return Nt.Date.now()};function CP(l,u){if(typeof u!="function")throw new Dn(s);return l=Le(l),function(){if(--l<1)return u.apply(this,arguments)}}function z1(l,u,m){return u=m?t:u,u=l&&u==null?l.length:u,Lr(l,M,t,t,t,t,u)}function U1(l,u){var m;if(typeof u!="function")throw new Dn(s);return l=Le(l),function(){return--l>0&&(m=u.apply(this,arguments)),l<=1&&(u=t),m}}var ld=We(function(l,u,m){var y=w;if(m.length){var S=di(m,Ho(ld));y|=T}return Lr(l,y,u,m,S)}),K1=We(function(l,u,m){var y=w|C;if(m.length){var S=di(m,Ho(K1));y|=T}return Lr(u,y,l,m,S)});function G1(l,u,m){u=m?t:u;var y=Lr(l,A,t,t,t,t,t,u);return y.placeholder=G1.placeholder,y}function q1(l,u,m){u=m?t:u;var y=Lr(l,R,t,t,t,t,t,u);return y.placeholder=q1.placeholder,y}function Y1(l,u,m){var y,S,P,O,I,L,G=0,Y=!1,J=!1,se=!0;if(typeof l!="function")throw new Dn(s);u=Bn(u)||0,dt(m)&&(Y=!!m.leading,J="maxWait"in m,P=J?Et(Bn(m.maxWait)||0,u):P,se="trailing"in m?!!m.trailing:se);function ge(vt){var qn=y,Vr=S;return y=S=t,G=vt,O=l.apply(Vr,qn),O}function ke(vt){return G=vt,I=ha(He,u),Y?ge(vt):O}function Be(vt){var qn=vt-L,Vr=vt-G,pv=u-qn;return J?jt(pv,P-Vr):pv}function Ae(vt){var qn=vt-L,Vr=vt-G;return L===t||qn>=u||qn<0||J&&Vr>=P}function He(){var vt=fc();if(Ae(vt))return Ke(vt);I=ha(He,Be(vt))}function Ke(vt){return I=t,se&&y?ge(vt):(y=S=t,O)}function $n(){I!==t&&o1(I),G=0,y=L=S=I=t}function en(){return I===t?O:Ke(fc())}function Cn(){var vt=fc(),qn=Ae(vt);if(y=arguments,S=this,L=vt,qn){if(I===t)return ke(L);if(J)return o1(I),I=ha(He,u),ge(L)}return I===t&&(I=ha(He,u)),O}return Cn.cancel=$n,Cn.flush=en,Cn}var SP=We(function(l,u){return Bb(l,1,u)}),kP=We(function(l,u,m){return Bb(l,Bn(u)||0,m)});function AP(l){return Lr(l,N)}function hc(l,u){if(typeof l!="function"||u!=null&&typeof u!="function")throw new Dn(s);var m=function(){var y=arguments,S=u?u.apply(this,y):y[0],P=m.cache;if(P.has(S))return P.get(S);var O=l.apply(this,y);return m.cache=P.set(S,O)||P,O};return m.cache=new(hc.Cache||Ir),m}hc.Cache=Ir;function dc(l){if(typeof l!="function")throw new Dn(s);return function(){var u=arguments;switch(u.length){case 0:return!l.call(this);case 1:return!l.call(this,u[0]);case 2:return!l.call(this,u[0],u[1]);case 3:return!l.call(this,u[0],u[1],u[2])}return!l.apply(this,u)}}function EP(l){return U1(2,l)}var RP=p3(function(l,u){u=u.length==1&&Ie(u[0])?ft(u[0],xn(Ce())):ft(Bt(u,1),xn(Ce()));var m=u.length;return We(function(y){for(var S=-1,P=jt(y.length,m);++S<P;)y[S]=u[S].call(this,y[S]);return vn(l,this,y)})}),cd=We(function(l,u){var m=di(u,Ho(cd));return Lr(l,T,t,u,m)}),X1=We(function(l,u){var m=di(u,Ho(X1));return Lr(l,D,t,u,m)}),TP=Nr(function(l,u){return Lr(l,B,t,t,t,u)});function PP(l,u){if(typeof l!="function")throw new Dn(s);return u=u===t?u:Le(u),We(l,u)}function MP(l,u){if(typeof l!="function")throw new Dn(s);return u=u==null?0:Et(Le(u),0),We(function(m){var y=m[u],S=vi(m,0,u);return y&&hi(S,y),vn(l,this,S)})}function OP(l,u,m){var y=!0,S=!0;if(typeof l!="function")throw new Dn(s);return dt(m)&&(y="leading"in m?!!m.leading:y,S="trailing"in m?!!m.trailing:S),Y1(l,u,{leading:y,maxWait:u,trailing:S})}function DP(l){return z1(l,1)}function IP(l,u){return cd(Gh(u),l)}function _P(){if(!arguments.length)return[];var l=arguments[0];return Ie(l)?l:[l]}function LP(l){return _n(l,b)}function NP(l,u){return u=typeof u=="function"?u:t,_n(l,b,u)}function BP(l){return _n(l,d|b)}function FP(l,u){return u=typeof u=="function"?u:t,_n(l,d|b,u)}function WP(l,u){return u==null||Nb(l,u,Ot(u))}function Gn(l,u){return l===u||l!==l&&u!==u}var VP=oc(_h),jP=oc(function(l,u){return l>=u}),eo=Hb(function(){return arguments}())?Hb:function(l){return mt(l)&&et.call(l,"callee")&&!Tb.call(l,"callee")},Ie=V.isArray,HP=ub?xn(ub):ZT;function an(l){return l!=null&&pc(l.length)&&!Fr(l)}function bt(l){return mt(l)&&an(l)}function zP(l){return l===!0||l===!1||mt(l)&&Qt(l)==Pe}var xi=iT||yd,UP=fb?xn(fb):QT;function KP(l){return mt(l)&&l.nodeType===1&&!da(l)}function GP(l){if(l==null)return!0;if(an(l)&&(Ie(l)||typeof l=="string"||typeof l.splice=="function"||xi(l)||zo(l)||eo(l)))return!l.length;var u=Ht(l);if(u==qe||u==Mt)return!l.size;if(fa(l))return!Bh(l).length;for(var m in l)if(et.call(l,m))return!1;return!0}function qP(l,u){return la(l,u)}function YP(l,u,m){m=typeof m=="function"?m:t;var y=m?m(l,u):t;return y===t?la(l,u,t,m):!!y}function ud(l){if(!mt(l))return!1;var u=Qt(l);return u==$e||u==_e||typeof l.message=="string"&&typeof l.name=="string"&&!da(l)}function XP(l){return typeof l=="number"&&Mb(l)}function Fr(l){if(!dt(l))return!1;var u=Qt(l);return u==ne||u==ut||u==pe||u==Zs}function Z1(l){return typeof l=="number"&&l==Le(l)}function pc(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=oe}function dt(l){var u=typeof l;return l!=null&&(u=="object"||u=="function")}function mt(l){return l!=null&&typeof l=="object"}var Q1=hb?xn(hb):e3;function ZP(l,u){return l===u||Nh(l,u,ed(u))}function QP(l,u,m){return m=typeof m=="function"?m:t,Nh(l,u,ed(u),m)}function JP(l){return J1(l)&&l!=+l}function eM(l){if(N3(l))throw new Me(o);return zb(l)}function tM(l){return l===null}function nM(l){return l==null}function J1(l){return typeof l=="number"||mt(l)&&Qt(l)==Fe}function da(l){if(!mt(l)||Qt(l)!=gt)return!1;var u=Vl(l);if(u===null)return!0;var m=et.call(u,"constructor")&&u.constructor;return typeof m=="function"&&m instanceof m&&Nl.call(m)==QR}var fd=db?xn(db):t3;function rM(l){return Z1(l)&&l>=-9007199254740991&&l<=oe}var ev=pb?xn(pb):n3;function mc(l){return typeof l=="string"||!Ie(l)&&mt(l)&&Qt(l)==li}function wn(l){return typeof l=="symbol"||mt(l)&&Qt(l)==ci}var zo=mb?xn(mb):r3;function iM(l){return l===t}function oM(l){return mt(l)&&Ht(l)==Hi}function sM(l){return mt(l)&&Qt(l)==Qs}var aM=oc(Fh),lM=oc(function(l,u){return l<=u});function tv(l){if(!l)return[];if(an(l))return mc(l)?Un(l):sn(l);if(ea&&l[ea])return WR(l[ea]());var u=Ht(l),m=u==qe?Ah:u==Mt?Il:Uo;return m(l)}function Wr(l){if(!l)return l===0?l:0;if(l=Bn(l),l===te||l===-1/0){var u=l<0?-1:1;return u*q}return l===l?l:0}function Le(l){var u=Wr(l),m=u%1;return u===u?m?u-m:u:0}function nv(l){return l?Xi(Le(l),0,he):0}function Bn(l){if(typeof l=="number")return l;if(wn(l))return le;if(dt(l)){var u=typeof l.valueOf=="function"?l.valueOf():l;l=dt(u)?u+"":u}if(typeof l!="string")return l===0?l:+l;l=wb(l);var m=HE.test(l);return m||UE.test(l)?CR(l.slice(2),m?2:8):jE.test(l)?le:+l}function rv(l){return ur(l,ln(l))}function cM(l){return l?Xi(Le(l),-9007199254740991,oe):l===0?l:0}function Qe(l){return l==null?"":yn(l)}var uM=Vo(function(l,u){if(fa(u)||an(u)){ur(u,Ot(u),l);return}for(var m in u)et.call(u,m)&&oa(l,m,u[m])}),iv=Vo(function(l,u){ur(u,ln(u),l)}),gc=Vo(function(l,u,m,y){ur(u,ln(u),l,y)}),fM=Vo(function(l,u,m,y){ur(u,Ot(u),l,y)}),hM=Nr(Oh);function dM(l,u){var m=Wo(l);return u==null?m:Lb(m,u)}var pM=We(function(l,u){l=nt(l);var m=-1,y=u.length,S=y>2?u[2]:t;for(S&&Jt(u[0],u[1],S)&&(y=1);++m<y;)for(var P=u[m],O=ln(P),I=-1,L=O.length;++I<L;){var G=O[I],Y=l[G];(Y===t||Gn(Y,No[G])&&!et.call(l,G))&&(l[G]=P[G])}return l}),mM=We(function(l){return l.push(t,w1),vn(ov,t,l)});function gM(l,u){return bb(l,Ce(u,3),cr)}function bM(l,u){return bb(l,Ce(u,3),Ih)}function vM(l,u){return l==null?l:Dh(l,Ce(u,3),ln)}function xM(l,u){return l==null?l:Vb(l,Ce(u,3),ln)}function yM(l,u){return l&&cr(l,Ce(u,3))}function wM(l,u){return l&&Ih(l,Ce(u,3))}function $M(l){return l==null?[]:Zl(l,Ot(l))}function CM(l){return l==null?[]:Zl(l,ln(l))}function hd(l,u,m){var y=l==null?t:Zi(l,u);return y===t?m:y}function SM(l,u){return l!=null&&S1(l,u,GT)}function dd(l,u){return l!=null&&S1(l,u,qT)}var kM=g1(function(l,u,m){u!=null&&typeof u.toString!="function"&&(u=Bl.call(u)),l[u]=m},md(cn)),AM=g1(function(l,u,m){u!=null&&typeof u.toString!="function"&&(u=Bl.call(u)),et.call(l,u)?l[u].push(m):l[u]=[m]},Ce),EM=We(aa);function Ot(l){return an(l)?Ib(l):Bh(l)}function ln(l){return an(l)?Ib(l,!0):i3(l)}function RM(l,u){var m={};return u=Ce(u,3),cr(l,function(y,S,P){_r(m,u(y,S,P),y)}),m}function TM(l,u){var m={};return u=Ce(u,3),cr(l,function(y,S,P){_r(m,S,u(y,S,P))}),m}var PM=Vo(function(l,u,m){Ql(l,u,m)}),ov=Vo(function(l,u,m,y){Ql(l,u,m,y)}),MM=Nr(function(l,u){var m={};if(l==null)return m;var y=!1;u=ft(u,function(P){return P=bi(P,l),y||(y=P.length>1),P}),ur(l,Qh(l),m),y&&(m=_n(m,d|g|b,k3));for(var S=u.length;S--;)zh(m,u[S]);return m});function OM(l,u){return sv(l,dc(Ce(u)))}var DM=Nr(function(l,u){return l==null?{}:s3(l,u)});function sv(l,u){if(l==null)return{};var m=ft(Qh(l),function(y){return[y]});return u=Ce(u),Zb(l,m,function(y,S){return u(y,S[0])})}function IM(l,u,m){u=bi(u,l);var y=-1,S=u.length;for(S||(S=1,l=t);++y<S;){var P=l==null?t:l[fr(u[y])];P===t&&(y=S,P=m),l=Fr(P)?P.call(l):P}return l}function _M(l,u,m){return l==null?l:ca(l,u,m)}function LM(l,u,m,y){return y=typeof y=="function"?y:t,l==null?l:ca(l,u,m,y)}var av=x1(Ot),lv=x1(ln);function NM(l,u,m){var y=Ie(l),S=y||xi(l)||zo(l);if(u=Ce(u,4),m==null){var P=l&&l.constructor;S?m=y?new P:[]:dt(l)?m=Fr(P)?Wo(Vl(l)):{}:m={}}return(S?On:cr)(l,function(O,I,L){return u(m,O,I,L)}),m}function BM(l,u){return l==null?!0:zh(l,u)}function FM(l,u,m){return l==null?l:n1(l,u,Gh(m))}function WM(l,u,m,y){return y=typeof y=="function"?y:t,l==null?l:n1(l,u,Gh(m),y)}function Uo(l){return l==null?[]:kh(l,Ot(l))}function VM(l){return l==null?[]:kh(l,ln(l))}function jM(l,u,m){return m===t&&(m=u,u=t),m!==t&&(m=Bn(m),m=m===m?m:0),u!==t&&(u=Bn(u),u=u===u?u:0),Xi(Bn(l),u,m)}function HM(l,u,m){return u=Wr(u),m===t?(m=u,u=0):m=Wr(m),l=Bn(l),YT(l,u,m)}function zM(l,u,m){if(m&&typeof m!="boolean"&&Jt(l,u,m)&&(u=m=t),m===t&&(typeof u=="boolean"?(m=u,u=t):typeof l=="boolean"&&(m=l,l=t)),l===t&&u===t?(l=0,u=1):(l=Wr(l),u===t?(u=l,l=0):u=Wr(u)),l>u){var y=l;l=u,u=y}if(m||l%1||u%1){var S=Ob();return jt(l+S*(u-l+$R("1e-"+((S+"").length-1))),u)}return Vh(l,u)}var UM=jo(function(l,u,m){return u=u.toLowerCase(),l+(m?cv(u):u)});function cv(l){return pd(Qe(l).toLowerCase())}function uv(l){return l=Qe(l),l&&l.replace(GE,_R).replace(hR,"")}function KM(l,u,m){l=Qe(l),u=yn(u);var y=l.length;m=m===t?y:Xi(Le(m),0,y);var S=m;return m-=u.length,m>=0&&l.slice(m,S)==u}function GM(l){return l=Qe(l),l&&EE.test(l)?l.replace(V0,LR):l}function qM(l){return l=Qe(l),l&&DE.test(l)?l.replace(ch,"\\$&"):l}var YM=jo(function(l,u,m){return l+(m?"-":"")+u.toLowerCase()}),XM=jo(function(l,u,m){return l+(m?" ":"")+u.toLowerCase()}),ZM=d1("toLowerCase");function QM(l,u,m){l=Qe(l),u=Le(u);var y=u?_o(l):0;if(!u||y>=u)return l;var S=(u-y)/2;return ic(Ul(S),m)+l+ic(zl(S),m)}function JM(l,u,m){l=Qe(l),u=Le(u);var y=u?_o(l):0;return u&&y<u?l+ic(u-y,m):l}function e6(l,u,m){l=Qe(l),u=Le(u);var y=u?_o(l):0;return u&&y<u?ic(u-y,m)+l:l}function t6(l,u,m){return m||u==null?u=0:u&&(u=+u),lT(Qe(l).replace(uh,""),u||0)}function n6(l,u,m){return(m?Jt(l,u,m):u===t)?u=1:u=Le(u),jh(Qe(l),u)}function r6(){var l=arguments,u=Qe(l[0]);return l.length<3?u:u.replace(l[1],l[2])}var i6=jo(function(l,u,m){return l+(m?"_":"")+u.toLowerCase()});function o6(l,u,m){return m&&typeof m!="number"&&Jt(l,u,m)&&(u=m=t),m=m===t?he:m>>>0,m?(l=Qe(l),l&&(typeof u=="string"||u!=null&&!fd(u))&&(u=yn(u),!u&&Io(l))?vi(Un(l),0,m):l.split(u,m)):[]}var s6=jo(function(l,u,m){return l+(m?" ":"")+pd(u)});function a6(l,u,m){return l=Qe(l),m=m==null?0:Xi(Le(m),0,l.length),u=yn(u),l.slice(m,m+u.length)==u}function l6(l,u,m){var y=E.templateSettings;m&&Jt(l,u,m)&&(u=t),l=Qe(l),u=gc({},u,y,y1);var S=gc({},u.imports,y.imports,y1),P=Ot(S),O=kh(S,P),I,L,G=0,Y=u.interpolate||Tl,J="__p += '",se=Eh((u.escape||Tl).source+"|"+Y.source+"|"+(Y===j0?VE:Tl).source+"|"+(u.evaluate||Tl).source+"|$","g"),ge="//# sourceURL="+(et.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bR+"]")+`
`;l.replace(se,function(Ae,He,Ke,$n,en,Cn){return Ke||(Ke=$n),J+=l.slice(G,Cn).replace(qE,NR),He&&(I=!0,J+=`' +
__e(`+He+`) +
'`),en&&(L=!0,J+=`';
`+en+`;
__p += '`),Ke&&(J+=`' +
((__t = (`+Ke+`)) == null ? '' : __t) +
'`),G=Cn+Ae.length,Ae}),J+=`';
`;var ke=et.call(u,"variable")&&u.variable;if(!ke)J=`with (obj) {
`+J+`
}
`;else if(FE.test(ke))throw new Me(a);J=(L?J.replace(CE,""):J).replace(SE,"$1").replace(kE,"$1;"),J="function("+(ke||"obj")+`) {
`+(ke?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(L?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+J+`return __p
}`;var Be=hv(function(){return Ze(P,ge+"return "+J).apply(t,O)});if(Be.source=J,ud(Be))throw Be;return Be}function c6(l){return Qe(l).toLowerCase()}function u6(l){return Qe(l).toUpperCase()}function f6(l,u,m){if(l=Qe(l),l&&(m||u===t))return wb(l);if(!l||!(u=yn(u)))return l;var y=Un(l),S=Un(u),P=$b(y,S),O=Cb(y,S)+1;return vi(y,P,O).join("")}function h6(l,u,m){if(l=Qe(l),l&&(m||u===t))return l.slice(0,kb(l)+1);if(!l||!(u=yn(u)))return l;var y=Un(l),S=Cb(y,Un(u))+1;return vi(y,0,S).join("")}function d6(l,u,m){if(l=Qe(l),l&&(m||u===t))return l.replace(uh,"");if(!l||!(u=yn(u)))return l;var y=Un(l),S=$b(y,Un(u));return vi(y,S).join("")}function p6(l,u){var m=W,y=K;if(dt(u)){var S="separator"in u?u.separator:S;m="length"in u?Le(u.length):m,y="omission"in u?yn(u.omission):y}l=Qe(l);var P=l.length;if(Io(l)){var O=Un(l);P=O.length}if(m>=P)return l;var I=m-_o(y);if(I<1)return y;var L=O?vi(O,0,I).join(""):l.slice(0,I);if(S===t)return L+y;if(O&&(I+=L.length-I),fd(S)){if(l.slice(I).search(S)){var G,Y=L;for(S.global||(S=Eh(S.source,Qe(H0.exec(S))+"g")),S.lastIndex=0;G=S.exec(Y);)var J=G.index;L=L.slice(0,J===t?I:J)}}else if(l.indexOf(yn(S),I)!=I){var se=L.lastIndexOf(S);se>-1&&(L=L.slice(0,se))}return L+y}function m6(l){return l=Qe(l),l&&AE.test(l)?l.replace(W0,zR):l}var g6=jo(function(l,u,m){return l+(m?" ":"")+u.toUpperCase()}),pd=d1("toUpperCase");function fv(l,u,m){return l=Qe(l),u=m?t:u,u===t?FR(l)?GR(l):PR(l):l.match(u)||[]}var hv=We(function(l,u){try{return vn(l,t,u)}catch(m){return ud(m)?m:new Me(m)}}),b6=Nr(function(l,u){return On(u,function(m){m=fr(m),_r(l,m,ld(l[m],l))}),l});function v6(l){var u=l==null?0:l.length,m=Ce();return l=u?ft(l,function(y){if(typeof y[1]!="function")throw new Dn(s);return[m(y[0]),y[1]]}):[],We(function(y){for(var S=-1;++S<u;){var P=l[S];if(vn(P[0],this,y))return vn(P[1],this,y)}})}function x6(l){return zT(_n(l,d))}function md(l){return function(){return l}}function y6(l,u){return l==null||l!==l?u:l}var w6=m1(),$6=m1(!0);function cn(l){return l}function gd(l){return Ub(typeof l=="function"?l:_n(l,d))}function C6(l){return Gb(_n(l,d))}function S6(l,u){return qb(l,_n(u,d))}var k6=We(function(l,u){return function(m){return aa(m,l,u)}}),A6=We(function(l,u){return function(m){return aa(l,m,u)}});function bd(l,u,m){var y=Ot(u),S=Zl(u,y);m==null&&!(dt(u)&&(S.length||!y.length))&&(m=u,u=l,l=this,S=Zl(u,Ot(u)));var P=!(dt(m)&&"chain"in m)||!!m.chain,O=Fr(l);return On(S,function(I){var L=u[I];l[I]=L,O&&(l.prototype[I]=function(){var G=this.__chain__;if(P||G){var Y=l(this.__wrapped__),J=Y.__actions__=sn(this.__actions__);return J.push({func:L,args:arguments,thisArg:l}),Y.__chain__=G,Y}return L.apply(l,hi([this.value()],arguments))})}),l}function E6(){return Nt._===this&&(Nt._=JR),this}function vd(){}function R6(l){return l=Le(l),We(function(u){return Yb(u,l)})}var T6=Yh(ft),P6=Yh(gb),M6=Yh(yh);function dv(l){return nd(l)?wh(fr(l)):a3(l)}function O6(l){return function(u){return l==null?t:Zi(l,u)}}var D6=b1(),I6=b1(!0);function xd(){return[]}function yd(){return!1}function _6(){return{}}function L6(){return""}function N6(){return!0}function B6(l,u){if(l=Le(l),l<1||l>oe)return[];var m=he,y=jt(l,he);u=Ce(u),l-=he;for(var S=Sh(y,u);++m<l;)u(m);return S}function F6(l){return Ie(l)?ft(l,fr):wn(l)?[l]:sn(D1(Qe(l)))}function W6(l){var u=++ZR;return Qe(l)+u}var V6=rc(function(l,u){return l+u},0),j6=Xh("ceil"),H6=rc(function(l,u){return l/u},1),z6=Xh("floor");function U6(l){return l&&l.length?Xl(l,cn,_h):t}function K6(l,u){return l&&l.length?Xl(l,Ce(u,2),_h):t}function G6(l){return xb(l,cn)}function q6(l,u){return xb(l,Ce(u,2))}function Y6(l){return l&&l.length?Xl(l,cn,Fh):t}function X6(l,u){return l&&l.length?Xl(l,Ce(u,2),Fh):t}var Z6=rc(function(l,u){return l*u},1),Q6=Xh("round"),J6=rc(function(l,u){return l-u},0);function eO(l){return l&&l.length?Ch(l,cn):0}function tO(l,u){return l&&l.length?Ch(l,Ce(u,2)):0}return E.after=CP,E.ary=z1,E.assign=uM,E.assignIn=iv,E.assignInWith=gc,E.assignWith=fM,E.at=hM,E.before=U1,E.bind=ld,E.bindAll=b6,E.bindKey=K1,E.castArray=_P,E.chain=V1,E.chunk=z3,E.compact=U3,E.concat=K3,E.cond=v6,E.conforms=x6,E.constant=md,E.countBy=eP,E.create=dM,E.curry=G1,E.curryRight=q1,E.debounce=Y1,E.defaults=pM,E.defaultsDeep=mM,E.defer=SP,E.delay=kP,E.difference=G3,E.differenceBy=q3,E.differenceWith=Y3,E.drop=X3,E.dropRight=Z3,E.dropRightWhile=Q3,E.dropWhile=J3,E.fill=e5,E.filter=nP,E.flatMap=oP,E.flatMapDeep=sP,E.flatMapDepth=aP,E.flatten=N1,E.flattenDeep=t5,E.flattenDepth=n5,E.flip=AP,E.flow=w6,E.flowRight=$6,E.fromPairs=r5,E.functions=$M,E.functionsIn=CM,E.groupBy=lP,E.initial=o5,E.intersection=s5,E.intersectionBy=a5,E.intersectionWith=l5,E.invert=kM,E.invertBy=AM,E.invokeMap=uP,E.iteratee=gd,E.keyBy=fP,E.keys=Ot,E.keysIn=ln,E.map=uc,E.mapKeys=RM,E.mapValues=TM,E.matches=C6,E.matchesProperty=S6,E.memoize=hc,E.merge=PM,E.mergeWith=ov,E.method=k6,E.methodOf=A6,E.mixin=bd,E.negate=dc,E.nthArg=R6,E.omit=MM,E.omitBy=OM,E.once=EP,E.orderBy=hP,E.over=T6,E.overArgs=RP,E.overEvery=P6,E.overSome=M6,E.partial=cd,E.partialRight=X1,E.partition=dP,E.pick=DM,E.pickBy=sv,E.property=dv,E.propertyOf=O6,E.pull=h5,E.pullAll=F1,E.pullAllBy=d5,E.pullAllWith=p5,E.pullAt=m5,E.range=D6,E.rangeRight=I6,E.rearg=TP,E.reject=gP,E.remove=g5,E.rest=PP,E.reverse=sd,E.sampleSize=vP,E.set=_M,E.setWith=LM,E.shuffle=xP,E.slice=b5,E.sortBy=$P,E.sortedUniq=S5,E.sortedUniqBy=k5,E.split=o6,E.spread=MP,E.tail=A5,E.take=E5,E.takeRight=R5,E.takeRightWhile=T5,E.takeWhile=P5,E.tap=U5,E.throttle=OP,E.thru=cc,E.toArray=tv,E.toPairs=av,E.toPairsIn=lv,E.toPath=F6,E.toPlainObject=rv,E.transform=NM,E.unary=DP,E.union=M5,E.unionBy=O5,E.unionWith=D5,E.uniq=I5,E.uniqBy=_5,E.uniqWith=L5,E.unset=BM,E.unzip=ad,E.unzipWith=W1,E.update=FM,E.updateWith=WM,E.values=Uo,E.valuesIn=VM,E.without=N5,E.words=fv,E.wrap=IP,E.xor=B5,E.xorBy=F5,E.xorWith=W5,E.zip=V5,E.zipObject=j5,E.zipObjectDeep=H5,E.zipWith=z5,E.entries=av,E.entriesIn=lv,E.extend=iv,E.extendWith=gc,bd(E,E),E.add=V6,E.attempt=hv,E.camelCase=UM,E.capitalize=cv,E.ceil=j6,E.clamp=jM,E.clone=LP,E.cloneDeep=BP,E.cloneDeepWith=FP,E.cloneWith=NP,E.conformsTo=WP,E.deburr=uv,E.defaultTo=y6,E.divide=H6,E.endsWith=KM,E.eq=Gn,E.escape=GM,E.escapeRegExp=qM,E.every=tP,E.find=rP,E.findIndex=_1,E.findKey=gM,E.findLast=iP,E.findLastIndex=L1,E.findLastKey=bM,E.floor=z6,E.forEach=j1,E.forEachRight=H1,E.forIn=vM,E.forInRight=xM,E.forOwn=yM,E.forOwnRight=wM,E.get=hd,E.gt=VP,E.gte=jP,E.has=SM,E.hasIn=dd,E.head=B1,E.identity=cn,E.includes=cP,E.indexOf=i5,E.inRange=HM,E.invoke=EM,E.isArguments=eo,E.isArray=Ie,E.isArrayBuffer=HP,E.isArrayLike=an,E.isArrayLikeObject=bt,E.isBoolean=zP,E.isBuffer=xi,E.isDate=UP,E.isElement=KP,E.isEmpty=GP,E.isEqual=qP,E.isEqualWith=YP,E.isError=ud,E.isFinite=XP,E.isFunction=Fr,E.isInteger=Z1,E.isLength=pc,E.isMap=Q1,E.isMatch=ZP,E.isMatchWith=QP,E.isNaN=JP,E.isNative=eM,E.isNil=nM,E.isNull=tM,E.isNumber=J1,E.isObject=dt,E.isObjectLike=mt,E.isPlainObject=da,E.isRegExp=fd,E.isSafeInteger=rM,E.isSet=ev,E.isString=mc,E.isSymbol=wn,E.isTypedArray=zo,E.isUndefined=iM,E.isWeakMap=oM,E.isWeakSet=sM,E.join=c5,E.kebabCase=YM,E.last=Nn,E.lastIndexOf=u5,E.lowerCase=XM,E.lowerFirst=ZM,E.lt=aM,E.lte=lM,E.max=U6,E.maxBy=K6,E.mean=G6,E.meanBy=q6,E.min=Y6,E.minBy=X6,E.stubArray=xd,E.stubFalse=yd,E.stubObject=_6,E.stubString=L6,E.stubTrue=N6,E.multiply=Z6,E.nth=f5,E.noConflict=E6,E.noop=vd,E.now=fc,E.pad=QM,E.padEnd=JM,E.padStart=e6,E.parseInt=t6,E.random=zM,E.reduce=pP,E.reduceRight=mP,E.repeat=n6,E.replace=r6,E.result=IM,E.round=Q6,E.runInContext=_,E.sample=bP,E.size=yP,E.snakeCase=i6,E.some=wP,E.sortedIndex=v5,E.sortedIndexBy=x5,E.sortedIndexOf=y5,E.sortedLastIndex=w5,E.sortedLastIndexBy=$5,E.sortedLastIndexOf=C5,E.startCase=s6,E.startsWith=a6,E.subtract=J6,E.sum=eO,E.sumBy=tO,E.template=l6,E.times=B6,E.toFinite=Wr,E.toInteger=Le,E.toLength=nv,E.toLower=c6,E.toNumber=Bn,E.toSafeInteger=cM,E.toString=Qe,E.toUpper=u6,E.trim=f6,E.trimEnd=h6,E.trimStart=d6,E.truncate=p6,E.unescape=m6,E.uniqueId=W6,E.upperCase=g6,E.upperFirst=pd,E.each=j1,E.eachRight=H1,E.first=B1,bd(E,function(){var l={};return cr(E,function(u,m){et.call(E.prototype,m)||(l[m]=u)}),l}(),{chain:!1}),E.VERSION=r,On(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){E[l].placeholder=E}),On(["drop","take"],function(l,u){Ue.prototype[l]=function(m){m=m===t?1:Et(Le(m),0);var y=this.__filtered__&&!u?new Ue(this):this.clone();return y.__filtered__?y.__takeCount__=jt(m,y.__takeCount__):y.__views__.push({size:jt(m,he),type:l+(y.__dir__<0?"Right":"")}),y},Ue.prototype[l+"Right"]=function(m){return this.reverse()[l](m).reverse()}}),On(["filter","map","takeWhile"],function(l,u){var m=u+1,y=m==Z||m==ue;Ue.prototype[l]=function(S){var P=this.clone();return P.__iteratees__.push({iteratee:Ce(S,3),type:m}),P.__filtered__=P.__filtered__||y,P}}),On(["head","last"],function(l,u){var m="take"+(u?"Right":"");Ue.prototype[l]=function(){return this[m](1).value()[0]}}),On(["initial","tail"],function(l,u){var m="drop"+(u?"":"Right");Ue.prototype[l]=function(){return this.__filtered__?new Ue(this):this[m](1)}}),Ue.prototype.compact=function(){return this.filter(cn)},Ue.prototype.find=function(l){return this.filter(l).head()},Ue.prototype.findLast=function(l){return this.reverse().find(l)},Ue.prototype.invokeMap=We(function(l,u){return typeof l=="function"?new Ue(this):this.map(function(m){return aa(m,l,u)})}),Ue.prototype.reject=function(l){return this.filter(dc(Ce(l)))},Ue.prototype.slice=function(l,u){l=Le(l);var m=this;return m.__filtered__&&(l>0||u<0)?new Ue(m):(l<0?m=m.takeRight(-l):l&&(m=m.drop(l)),u!==t&&(u=Le(u),m=u<0?m.dropRight(-u):m.take(u-l)),m)},Ue.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Ue.prototype.toArray=function(){return this.take(he)},cr(Ue.prototype,function(l,u){var m=/^(?:filter|find|map|reject)|While$/.test(u),y=/^(?:head|last)$/.test(u),S=E[y?"take"+(u=="last"?"Right":""):u],P=y||/^find/.test(u);S&&(E.prototype[u]=function(){var O=this.__wrapped__,I=y?[1]:arguments,L=O instanceof Ue,G=I[0],Y=L||Ie(O),J=function(He){var Ke=S.apply(E,hi([He],I));return y&&se?Ke[0]:Ke};Y&&m&&typeof G=="function"&&G.length!=1&&(L=Y=!1);var se=this.__chain__,ge=!!this.__actions__.length,ke=P&&!se,Be=L&&!ge;if(!P&&Y){O=Be?O:new Ue(this);var Ae=l.apply(O,I);return Ae.__actions__.push({func:cc,args:[J],thisArg:t}),new In(Ae,se)}return ke&&Be?l.apply(this,I):(Ae=this.thru(J),ke?y?Ae.value()[0]:Ae.value():Ae)})}),On(["pop","push","shift","sort","splice","unshift"],function(l){var u=_l[l],m=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",y=/^(?:pop|shift)$/.test(l);E.prototype[l]=function(){var S=arguments;if(y&&!this.__chain__){var P=this.value();return u.apply(Ie(P)?P:[],S)}return this[m](function(O){return u.apply(Ie(O)?O:[],S)})}}),cr(Ue.prototype,function(l,u){var m=E[u];if(m){var y=m.name+"";et.call(Fo,y)||(Fo[y]=[]),Fo[y].push({name:u,func:m})}}),Fo[nc(t,C).name]=[{name:"wrapper",func:t}],Ue.prototype.clone=mT,Ue.prototype.reverse=gT,Ue.prototype.value=bT,E.prototype.at=K5,E.prototype.chain=G5,E.prototype.commit=q5,E.prototype.next=Y5,E.prototype.plant=Z5,E.prototype.reverse=Q5,E.prototype.toJSON=E.prototype.valueOf=E.prototype.value=J5,E.prototype.first=E.prototype.head,ea&&(E.prototype[ea]=X5),E},Lo=qR();Ki?((Ki.exports=Lo)._=Lo,gh._=Lo):Nt._=Lo}).call(pa)})(of,of.exports);of.exports;const Cl=(n,e)=>{const t=p.createContext(e),r=o=>{const{children:s,...a}=o,c=p.useMemo(()=>a,Object.values(a));return $.jsx(t.Provider,{value:c,children:s})};function i(o){const s=p.useContext(t);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${n}\``)}return r.displayName=`${n}Provider`,[r,i]};function mU(n,e){return typeof n=="string"?!1:e in n}function xu(n,e,t){return n&&e&&mU(n,e)?n[e]:t}const iw={padding:["padding-block-start","padding-inline-end","padding-block-end","padding-inline-start"],paddingTop:"padding-block-start",paddingRight:"padding-inline-end",paddingBottom:"padding-block-end",paddingLeft:"padding-inline-start",margin:["margin-block-start","margin-inline-end","margin-block-end","margin-inline-start"],marginLeft:"margin-inline-start",marginRight:"margin-inline-end",marginTop:"margin-block-start",marginBottom:"margin-block-end",borderRadius:"border-radius",borderStyle:"border-style",borderWidth:"border-width",borderColor:"border-color",fontSize:"font-size",fontWeight:"font-weight",lineHeight:"line-height",zIndex:"z-index",boxShadow:"box-shadow",pointerEvents:"pointer-events",textAlign:"text-align",textTransform:"text-transform",textDecoration:"text-decoration",flexGrow:"flex-grow",flexShrink:"flex-shrink",flexBasis:"flex-basis",minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height",flexDirection:"flex-direction",flexWrap:"flex-wrap",justifyContent:"justify-content",alignItems:"align-items"},gU=n=>{const[e,t,r,i]=n,o=t??e;return[e,o,r??e,i??o]};function bU(n,e){switch(n){case"gap":case"padding":case"margin":case"paddingTop":case"paddingLeft":case"paddingRight":case"paddingBottom":case"marginTop":case"marginLeft":case"marginRight":case"marginBottom":case"left":case"right":case"top":case"bottom":case"width":case"maxWidth":case"minWidth":case"height":case"maxHeight":case"minHeight":case"borderRadius":case"borderWidth":return e.spaces;case"color":case"background":case"borderColor":return e.colors;case"fontSize":return e.fontSizes;case"fontWeight":return e.fontWeights;case"lineHeight":return e.lineHeights;case"zIndex":return e.zIndices;case"boxShadow":return e.shadows;default:return null}}const Xf=(n,e)=>{const t=Object.entries(n).reduce((r,i)=>{const[o,s]=i,a=bU(o,e),c=Object.prototype.hasOwnProperty.call(iw,o)?iw[o]:o;return c&&(s||s===0)&&(typeof s=="object"&&!Array.isArray(s)?Object.entries(s).forEach(([f,h])=>{r[f]={...r[f],...ow(c,h,a)}}):r.initial={...r.initial,...ow(c,s,a)}),r},{initial:{},small:{},medium:{},large:{}});return Object.entries(t).reduce((r,[i,o])=>{if(o&&Object.keys(o).length>0){const s=Object.entries(o).reduce((a,[c,f])=>(a.push(`${c}: ${f};`),a),[]).join(`
`);i==="initial"?r.push(s):r.push(`${e.breakpoints[i]}{ ${s} }`)}return r},[]).join(`
`)},ow=(n,e,t)=>{if(Array.isArray(n)&&Array.isArray(e)){const r=gU(e);return n.reduce((i,o,s)=>(i[o]=xu(t,r[s],r[s]),i),{})}else return Array.isArray(n)&&!Array.isArray(e)?n.reduce((r,i)=>(r[i]=xu(t,e,e),r),{}):!Array.isArray(n)&&!Array.isArray(e)?{[n]:xu(t,e,e)}:(console.warn("You've passed an array of values to a property that does not support it. Please check the property and value you're passing."),{})},on=p.forwardRef,we=on((n,e)=>{const{background:t,basis:r,borderColor:i,color:o,flex:s,fontSize:a,grow:c,hasRadius:f,padding:h,paddingBottom:d,paddingLeft:g,paddingRight:b,paddingTop:x,margin:v,marginLeft:w,marginBottom:C,marginRight:k,marginTop:A,shadow:R,shrink:T,lineHeight:D,fontWeight:M,width:B,minWidth:N,maxWidth:W,height:K,minHeight:j,maxHeight:Q,top:Z,left:ee,bottom:ue,right:te,borderRadius:oe,borderStyle:q,borderWidth:le,tag:he,pointerEvents:De,display:ve,position:ze,zIndex:Re,overflow:Ve,cursor:pe,transition:Pe,transform:Ee,animation:_e,textAlign:$e,textTransform:ne,...ut}=n,qe=he||"div",Fe={$background:t,$basis:r,$borderColor:i,$color:o,$flex:s,$fontSize:a,$grow:c,$hasRadius:f,$padding:h,$paddingBottom:d,$paddingLeft:g,$paddingRight:b,$paddingTop:x,$margin:v,$marginLeft:w,$marginBottom:C,$marginRight:k,$marginTop:A,$shadow:R,$shrink:T,$lineHeight:D,$fontWeight:M,$width:B,$minWidth:N,$maxWidth:W,$height:K,$minHeight:j,$maxHeight:Q,$top:Z,$left:ee,$bottom:ue,$right:te,$borderRadius:oe,$borderStyle:q,$borderWidth:le,$pointerEvents:De,$display:ve,$position:ze,$zIndex:Re,$overflow:Ve,$cursor:pe,$transition:Pe,$transform:Ee,$animation:_e,$textAlign:$e,$textTransform:ne};return $.jsx(vU,{as:qe,ref:e,...Fe,...ut})}),vU=F.div`
  ${({theme:n,...e})=>Xf({padding:e.$padding,paddingTop:e.$paddingTop,paddingBottom:e.$paddingBottom,paddingLeft:e.$paddingLeft,paddingRight:e.$paddingRight,margin:e.$margin,marginTop:e.$marginTop,marginBottom:e.$marginBottom,marginLeft:e.$marginLeft,marginRight:e.$marginRight,top:e.$top,left:e.$left,bottom:e.$bottom,right:e.$right,width:e.$width,minWidth:e.$minWidth,maxWidth:e.$maxWidth,height:e.$height,minHeight:e.$minHeight,maxHeight:e.$maxHeight,color:e.$color,background:e.$background,fontSize:e.$fontSize,fontWeight:e.$fontWeight,lineHeight:e.$lineHeight,borderRadius:e.$hasRadius?n.borderRadius:e.$borderRadius,borderStyle:e.$borderColor&&!e.$borderStyle?"solid":e.$borderStyle,borderWidth:e.$borderColor&&!e.$borderWidth?"1px":e.$borderWidth,borderColor:e.$borderColor,zIndex:e.$zIndex,boxShadow:e.$shadow,display:e.$display,pointerEvents:e.$pointerEvents,cursor:e.$cursor,textAlign:e.$textAlign,textTransform:e.$textTransform,transition:e.$transition,transform:e.$transform,animation:e.$animation,position:e.$position,overflow:e.$overflow,flex:e.$flex,flexShrink:e.$shrink,flexGrow:e.$grow,flexBasis:e.$basis},n)};
`,be=on((n,e)=>{const{className:t,alignItems:r,direction:i,inline:o,gap:s,justifyContent:a,wrap:c,...f}=n,h={$alignItems:r,$direction:i,$gap:s,$justifyContent:a,$wrap:c,$inline:o};return $.jsx(xU,{className:t,ref:e,...h,...f})}),xU=F(we)`
  ${({theme:n,$display:e="flex",$alignItems:t="center",$direction:r="row",...i})=>Xf({gap:i.$gap,alignItems:t,justifyContent:i.$justifyContent,flexWrap:i.$wrap,flexDirection:r,display:i.$inline?"inline-flex":e},n)};
`,yU="alpha",wU="beta",$U="delta",CU="epsilon",sw="omega",SU="pi",kU="sigma",DA=Te`
  display: block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,AU=({$variant:n=sw,theme:e})=>{switch(n){case yU:return`
        font-weight: ${e.fontWeights.bold};
        font-size: ${e.fontSizes[5]};
        line-height: ${e.lineHeights[2]};
      `;case wU:return`
        font-weight: ${e.fontWeights.bold};
        font-size: ${e.fontSizes[4]};
        line-height: ${e.lineHeights[1]};
      `;case $U:return`
        font-weight: ${e.fontWeights.semiBold};
        font-size: ${e.fontSizes[3]};
        line-height: ${e.lineHeights[2]};
      `;case CU:return`
        font-size: ${e.fontSizes[3]};
        line-height: ${e.lineHeights[6]};
      `;case sw:return`
        font-size: ${e.fontSizes[2]};
        line-height: ${e.lineHeights[4]};
      `;case SU:return`
        font-size: ${e.fontSizes[1]};
        line-height: ${e.lineHeights[3]};
      `;case kU:return`
        font-weight: ${e.fontWeights.bold};
        font-size: ${e.fontSizes[0]};
        line-height: ${e.lineHeights[5]};
        text-transform: uppercase;
      `;default:return`
        font-size: ${e.fontSizes[2]};
      `}},Ne=on((n,e)=>{const{ellipsis:t,textColor:r="currentcolor",textDecoration:i,textTransform:o,variant:s,lineHeight:a,fontWeight:c,fontSize:f,...h}=n,d={$ellipsis:t,$textColor:r,$textDecoration:i,$textTransform:o,$variant:s,$lineHeight:a,$fontWeight:c,$fontSize:f};return $.jsx(EU,{ref:e,tag:"span",...d,...h})}),EU=F(we)`
  ${AU}
  ${({$ellipsis:n})=>n?DA:""}

  ${({theme:n,...e})=>Xf({color:e.$textColor,textDecoration:e.$textDecoration,textTransform:e.$textTransform,lineHeight:e.$lineHeight,fontWeight:e.$fontWeight,fontSize:e.$fontSize},n)}
`,[RU,T0]=Cl("Accordion");p.forwardRef(({children:n,size:e="S",...t},r)=>$.jsx(TU,{ref:r,$size:e,collapsible:!0,...t,type:"single",children:$.jsx(RU,{size:e,children:n})}));const TU=F(JI)`
  background-color: ${n=>n.theme.colors.neutral0};

  ${n=>n.$size==="S"?Te`
        border-radius: ${e=>e.theme.borderRadius};
        border: solid 1px ${e=>e.theme.colors.neutral200};
      `:Te``}
`;p.forwardRef((n,e)=>{const{size:t}=T0("Item");return $.jsx(PU,{$size:t,"data-size":t,ref:e,...n})});const PU=F(e8)`
  overflow: hidden;
  margin: 1px 0;

  &:first-child {
    border-top-left-radius: 0.3rem;
    border-top-right-radius: 0.3rem;
    margin-top: 0;
  }

  &:last-child {
    border-bottom-left-radius: 0.3rem;
    border-bottom-right-radius: 0.3rem;
    margin-bottom: 0;
  }

  &[data-size='S'] {
    & + & {
      border-top: solid 1px ${n=>n.theme.colors.neutral200};
    }
  }

  &[data-state='open'] {
    box-shadow: 0 0 0 1px ${n=>n.theme.colors.primary600};
  }

  &:not([data-disabled]):hover {
    box-shadow: 0 0 0 1px ${n=>n.theme.colors.primary600};
  }

  /* This applies our desired focus effect correctly. */
  &:focus-within {
    position: relative;
    z-index: 1;
    box-shadow: 0 0 0 1px ${n=>n.theme.colors.primary600};
  }

  @media (prefers-reduced-motion: no-preference) {
    transition: box-shadow ${n=>n.theme.motion.timings[120]}
      ${n=>n.theme.motion.easings.easeOutQuad};
  }
`;p.forwardRef(({caretPosition:n="left",description:e,icon:t,iconProps:r,children:i,...o},s)=>{const{size:a}=T0("Trigger");return $.jsxs(_A,{$caretPosition:n,$size:a,ref:s,...o,children:[n==="left"?$.jsx(sf,{$size:a,children:$.jsx(po,{width:a==="S"?"1.2rem":"1.6rem",height:a==="S"?"1.2rem":"1.6rem"})}):null,$.jsxs(be,{tag:"span",gap:2,overflow:"hidden",children:[t&&a==="S"?$.jsx(IA,{children:$.jsx(t,{...r})}):null,$.jsxs(be,{alignItems:"flex-start",direction:"column",tag:"span",ref:s,overflow:"hidden",children:[$.jsx(Ne,{fontWeight:a==="S"?"bold":void 0,ellipsis:!0,variant:a==="M"?"delta":void 0,textAlign:"left",width:"100%",children:i}),e&&a==="M"?$.jsx(Ne,{textAlign:"left",children:e}):null]})]}),n==="right"?$.jsx(sf,{$size:a,children:$.jsx(po,{width:a==="S"?"1.2rem":"1.6rem",height:a==="S"?"1.2rem":"1.6rem"})}):null]})});const IA=F(we)`
  color: ${n=>n.theme.colors.neutral500};
  display: flex;

  @media (prefers-reduced-motion: no-preference) {
    transition: ${n=>n.theme.transitions.color};
  }
`,sf=F(be).attrs(n=>({...n,tag:"span"}))`
  background-color: ${n=>n.theme.colors.neutral200};
  width: ${n=>n.$size==="S"?"2.4rem":"3.2rem"};
  height: ${n=>n.$size==="S"?"2.4rem":"3.2rem"};
  flex: ${n=>n.$size==="S"?"0 0 2.4rem":"0 0 3.2rem"};
  border-radius: 50%;
  justify-content: center;

  @media (prefers-reduced-motion: no-preference) {
    transition:
      transform ${n=>n.theme.motion.timings[200]} ${n=>n.theme.motion.easings.authenticMotion},
      ${n=>n.theme.transitions.backgroundColor};
  }
`,_A=F(n8)`
  display: flex;
  align-items: center;
  justify-content: ${n=>n.$caretPosition==="left"?"flex-start":"space-between"};
  width: 100%;
  gap: ${n=>n.theme.spaces[4]};
  padding-inline: ${n=>n.$size==="S"?n.theme.spaces[4]:n.theme.spaces[6]};
  padding-block: ${n=>n.$size==="S"?n.theme.spaces[3]:n.theme.spaces[6]};
  cursor: pointer;
  color: ${n=>n.theme.colors.neutral800};
  overflow: hidden;

  &[data-disabled] {
    cursor: default;
    color: ${n=>n.theme.colors.neutral600};
  }

  &[data-state='open'] > ${sf} {
    transform: rotate(180deg);
  }

  /* we remove the default focus because the entire item should have the focus style and the default would be hidden. */
  &:focus-visible {
    outline: none;
  }

  @media (prefers-reduced-motion: no-preference) {
    transition: ${n=>n.theme.transitions.color};
  }
`;p.forwardRef((n,e)=>{const{size:t}=T0("Trigger");return $.jsx(LA,{$size:t,...n,ref:e})});const LA=F(be).attrs(n=>({...n,tag:"span"}))`
  padding-inline: ${n=>n.$size==="S"?n.theme.spaces[2]:n.theme.spaces[6]};
  padding-block: ${n=>n.$size==="S"?n.theme.spaces[2]:n.theme.spaces[6]};

  // Remove default IconButton styles so there are no backgrounds or borders.
  & > button {
    border: none;
    background: none;
    color: ${n=>n.theme.colors.neutral600};

    @media (prefers-reduced-motion: no-preference) {
      transition: ${n=>n.theme.transitions.color};
    }
  }
`;p.forwardRef(({variant:n="primary",...e},t)=>$.jsx(MU,{$variant:n,ref:t,...e}));const MU=F(t8)`
  display: flex;
  align-items: center;
  background-color: ${n=>n.$variant==="primary"?n.theme.colors.neutral0:n.theme.colors.neutral100};

  &[data-disabled] {
    background-color: ${n=>n.theme.colors.neutral150};
  }

  &:not([data-disabled]) {
    &:hover,
    &[data-state='open'] {
      background-color: ${n=>n.theme.colors.primary100};

      & > ${_A} {
        color: ${n=>n.theme.colors.primary600};

        & ${IA} {
          color: ${n=>n.theme.colors.primary600};
        }

        & ${sf} {
          background-color: ${n=>n.theme.colors.primary200};
        }
      }

      & > ${LA} > button {
        color: ${n=>n.theme.colors.primary600};
      }
    }
  }

  @media (prefers-reduced-motion: no-preference) {
    transition: ${n=>n.theme.transitions.backgroundColor};
  }
`;p.forwardRef((n,e)=>$.jsx(IU,{ref:e,...n}));const OU=zt`
  from {
    height: 0;
  }
  to {
    height: var(--radix-accordion-content-height);
  }
`,DU=zt`
  from {
    height: var(--radix-accordion-content-height);
  }
  to {
    height: 0;
  }
`,IU=F(r8)`
  overflow: hidden;

  @media (prefers-reduced-motion: no-preference) {
    &[data-state='open'] {
      animation: ${OU} ${n=>n.theme.motion.timings[320]}
        ${n=>n.theme.motion.easings.authenticMotion};
    }

    &[data-state='closed'] {
      animation: ${DU} ${n=>n.theme.motion.timings[320]}
        ${n=>n.theme.motion.easings.authenticMotion};
    }
  }
`,Zf=Te`
  position: relative;
  outline: none;

  &:after {
    transition-property: all;
    transition-duration: 0.2s;
    border-radius: 8px;
    content: '';
    position: absolute;
    top: -4px;
    bottom: -4px;
    left: -4px;
    right: -4px;
    border: 2px solid transparent;
  }

  &:focus-visible {
    outline: none;

    &:after {
      border-radius: 8px;
      content: '';
      position: absolute;
      top: -5px;
      bottom: -5px;
      left: -5px;
      right: -5px;
      border: 2px solid ${n=>n.theme.colors.primary600};
    }
  }
`,Ys=({tag:n,...e})=>{const t=n||"span";return $.jsx(_U,{...e,as:t})},_U=F.span`
  border: 0;
  clip: rect(0 0 0 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
`,ol=({children:n,label:e})=>{const t=p.Children.only(n);return $.jsxs($.Fragment,{children:[p.cloneElement(t,{"aria-hidden":"true",focusable:"false"}),$.jsx(Ys,{children:e})]})};ol.displayName="AccessibleIcon";const Wm=({theme:n,$variant:e})=>e==="danger"?n.colors.danger700:e==="success"?n.colors.success700:e==="warning"?n.colors.warning700:n.colors.primary700;F(we)`
  ${Zf};
`;F(be)`
  svg {
    height: 100%;
    width: 100%;

    path {
      fill: ${Wm};
    }
  }
`;F(we)`
  & a > span {
    color: ${Wm};
  }

  svg path {
    fill: ${Wm};
  }
`;function Cr({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=NA({defaultProp:e,onChange:t}),o=n!==void 0,s=o?n:r,a=St(t),c=p.useCallback(f=>{if(o){const d=typeof f=="function"?f(n):f;d!==n&&a(d)}else i(f)},[o,n,i,a]);return[s,c]}function NA({defaultProp:n,onChange:e}){const t=p.useState(n),[r]=t,i=p.useRef(r),o=St(e);return p.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),t}const aw={easeOutQuad:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"},lw={120:"120ms"};`${lw[120]}${aw.easeOutQuad}`,`${lw[120]}${aw.easeOutQuad}`;const yt={overlayFadeIn:zt`
    from {
      opacity: 0;
    }
    to {
      opacity: 0.2;
    }
  `,modalPopIn:zt`
    from {
      transform:translate(-50%, -50%)  scale(0.8);
      opacity: 0;
    }
    to {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }
  `,modalPopOut:zt`
    from {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }
    to {
      transform:translate(-50%, -50%)  scale(0.8);
      opacity: 0;
    }
  `,popIn:zt`
    from {
      transform: scale(0.8);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  `,popOut:zt`
    from {
      transform: scale(1);
      opacity: 1;
    }
    to {
      transform: scale(0.8);
      opacity: 0;
    }
  `,slideDownIn:zt`
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  `,slideDownOut:zt`
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(-10px);
    }
  `,slideUpIn:zt`
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  `,slideUpOut:zt`
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(10px);
    }
  `,fadeIn:zt`
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  `,fadeOut:zt`
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  `},sl=32,cw=2;p.forwardRef(({onLoadingStatusChange:n,delayMs:e=600,src:t,alt:r,fallback:i,preview:o=!1,...s},a)=>{const[c,f]=Cr({onChange:n}),[h,d]=p.useState(!1),g=o&&c==="loaded",b=x=>{g&&d(x)};return $.jsxs(d2,{onOpenChange:b,children:[$.jsx(p2,{asChild:!0,children:$.jsxs(Vm,{ref:a,...s,children:[g?$.jsx(LU,{width:"100%",height:"100%",position:"absolute",background:"neutral0",zIndex:"overlay",style:{opacity:h?.4:0}}):null,$.jsx(NU,{src:t,alt:r,onLoadingStatusChange:f}),$.jsx(p8,{delayMs:e,children:$.jsx(Ne,{fontWeight:"bold",textTransform:"uppercase",children:i})})]})}),g?$.jsx(m2,{children:$.jsx(BU,{side:"top",sideOffset:4,children:$.jsx(FU,{src:t,alt:r})})}):null]})});const BA=Te`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  vertical-align: middle;
  overflow: hidden;
  user-select: none;
  overflow: hidden;
  border-radius: 50%;
`,FA=Te`
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: inherit;
`,Vm=F(h8)`
  position: relative;
  z-index: 0;
  ${BA}
  width: ${sl/10}rem;
  height: ${sl/10}rem;
  /* TODO: we should get the user email & hash it to turn it into a hex-value so different emails can consistently get a different background */
  background-color: ${n=>n.theme.colors.primary600};
  color: ${n=>n.theme.colors.neutral0};
`,LU=F(we)`
  @media (prefers-reduced-motion: no-preference) {
    transition: opacity ${n=>n.theme.motion.timings[200]}
      ${n=>n.theme.motion.easings.authenticMotion};
  }
`,NU=F(d8)`
  ${FA}
`,BU=F(g2)`
  ${BA}
  width: ${sl*cw/10}rem;
  height: ${sl*cw/10}rem;

  @media (prefers-reduced-motion: no-preference) {
    animation: ${yt.fadeIn} ${n=>n.theme.motion.timings[200]}
      ${n=>n.theme.motion.easings.authenticMotion};
  }
`,FU=F.img`
  ${FA}
`;p.forwardRef((n,e)=>$.jsx(WU,{...n,ref:e,tag:"div"}));const WU=F(be)`
  & > ${Vm} + ${Vm} {
    margin-left: -${sl/10/2}rem;
  }
`,VU=({active:n=!1,size:e="M",textColor:t="neutral600",backgroundColor:r="neutral150",children:i,minWidth:o=5,...s})=>{const a=e==="S"?1:2;return $.jsx(jU,{inline:!0,alignItems:"center",justifyContent:"center",minWidth:o,paddingLeft:a,paddingRight:a,background:n?"primary200":r,$size:e,...s,children:$.jsx(Ne,{variant:"sigma",textColor:n?"primary600":t,lineHeight:"1rem",children:i})})},jU=F(be)`
  border-radius: ${({theme:n,$size:e})=>e==="S"?"2px":n.borderRadius};
  ${({$size:n,theme:e})=>n==="S"?Te`
        padding-block: 0.3rem;
        padding-inline ${e.spaces[1]}
      `:Te`
      padding-block: 0.7rem;
      padding-inline ${e.spaces[2]}
    `};
`,Sl=on(({href:n,disabled:e=!1,isExternal:t=!1,...r},i)=>$.jsx(HU,{tag:"a",ref:i,target:t?"_blank":void 0,rel:t?"noreferrer noopener":void 0,href:n,tabIndex:e?-1:void 0,"aria-disabled":e,pointerEvents:e?"none":void 0,cursor:e?void 0:"pointer",...r})),HU=F(we)`
  text-decoration: none;

  &:visited {
    color: inherit;
  }
`,WA=()=>$.jsx(we,{"aria-hidden":!0,paddingLeft:1,paddingRight:1,children:$.jsx(Ne,{variant:"pi",textColor:"neutral500",children:"/"})});WA.displayName="Divider";const zU=F(be)`
  // CrumbLinks do have padding-x, because they need to have a
  // interaction effect, which mis-aligns the breadcrumbs on the left.
  // This normalizes the behavior by moving the first item to left by
  // the same amount it has inner padding
  & > *:first-child {
    margin-left: ${({theme:n})=>`calc(-1*${n.spaces[2]})`};
  }
`,UU=p.forwardRef(({label:n,children:e,...t},r)=>{const i=p.Children.toArray(e);return $.jsx(we,{"aria-label":n,tag:"nav",...t,ref:r,children:$.jsx(zU,{tag:"ol",children:p.Children.map(i,(o,s)=>{const a=i.length>1&&s+1<i.length;return $.jsxs(be,{inline:!0,tag:"li",children:[o,a&&$.jsx(WA,{})]})})})})});UU.displayName="Breadcrumbs";const KU=p.forwardRef(({children:n,isCurrent:e=!1,...t},r)=>$.jsx(we,{paddingLeft:2,paddingRight:2,paddingTop:1,paddingBottom:1,ref:r,children:$.jsx(Ne,{variant:"pi",textColor:"neutral800",fontWeight:e?"bold":"regular","aria-current":e,...t,children:n})}));KU.displayName="Crumb";const GU=F(Sl)`
  border-radius: ${({theme:n})=>n.borderRadius};
  color: ${({theme:n})=>n.colors.neutral600};
  font-size: ${({theme:n})=>n.fontSizes[1]};
  line-height: ${({theme:n})=>n.lineHeights[4]};
  padding: ${({theme:n})=>`${n.spaces[1]} ${n.spaces[2]}`};
  text-decoration: none;

  :hover,
  :focus {
    background-color: ${({theme:n})=>n.colors.neutral200};
    color: ${({theme:n})=>n.colors.neutral700};
  }
`,qU=p.forwardRef(({children:n,...e},t)=>$.jsx(GU,{ref:t,...e,children:n}));qU.displayName="CrumbLink";const Ds=n=>n.replaceAll(":","");function YU(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function VA(...n){return e=>n.forEach(t=>YU(t,e))}function bn(...n){return p.useCallback(VA(...n),n)}const XU=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Is=XU()?p.useEffect:p.useLayoutEffect,ZU=ww.useId||(()=>{});let QU=0;const ar=n=>{const[e,t]=p.useState(ZU());return Is(()=>{n||t(r=>r??String(QU++))},[n]),n?.toString()??(e||"")},kl=(n,e,{selectorToWatch:t,skipWhen:r=!1})=>{const i=gg(e);p.useEffect(()=>{if(r||!n.current)return;const o={root:n.current,rootMargin:"0px"},s=f=>{f.forEach(h=>{h.isIntersecting&&n.current&&n.current.scrollHeight>n.current.clientHeight&&i(h)})},a=new IntersectionObserver(s,o),c=n.current.querySelector(t);return c&&a.observe(c),()=>{a.disconnect()}},[r,i,t,n])},P0="success-light",M0="danger-light",Qf="default",Al="tertiary",El="secondary",jA="danger",HA="success",Jf="ghost",O0=[P0,M0],JU=[Qf,Al,El,jA,HA,Jf,...O0],eK=["XS","S","M","L"],Yn=n=>n===P0||n===M0?`${n.substring(0,n.lastIndexOf("-"))}`:n===Al?"neutral":n===Qf||n===El||JU.every(e=>e!==n)?"primary":`${n}`,zA=({theme:n})=>Te`
    border: 1px solid ${n.colors.neutral200};
    background: ${n.colors.neutral150};
    color: ${n.colors.neutral600};
    cursor: default;
  `,UA=({theme:n,$variant:e})=>[...O0,El].includes(e)?Te`
      background-color: ${n.colors.neutral0};
    `:e===Al?Te`
      background-color: ${n.colors.neutral100};
    `:e===Jf?Te`
      background-color: ${n.colors.neutral100};
    `:e===Qf?Te`
      border: 1px solid ${n.colors.buttonPrimary500};
      background: ${n.colors.buttonPrimary500};
    `:Te`
    border: 1px solid ${n.colors[`${Yn(e)}500`]};
    background: ${n.colors[`${Yn(e)}500`]};
  `,KA=({theme:n,$variant:e})=>[...O0,El].includes(e)?Te`
      background-color: ${n.colors.neutral0};
      border: 1px solid ${n.colors[`${Yn(e)}600`]};
      color: ${n.colors[`${Yn(e)}600`]};
    `:e===Al||e===Jf?Te`
      background-color: ${n.colors.neutral150};
    `:Te`
    border: 1px solid ${n.colors[`${Yn(e)}600`]};
    background: ${n.colors[`${Yn(e)}600`]};
  `,GA=({theme:n,$variant:e})=>{switch(e){case M0:case P0:case El:return Te`
        border: 1px solid ${n.colors[`${Yn(e)}200`]};
        background: ${n.colors[`${Yn(e)}100`]};
        color: ${n.colors[`${Yn(e)}700`]};
      `;case Al:return Te`
        border: 1px solid ${n.colors.neutral200};
        background: ${n.colors.neutral0};
        color: ${n.colors.neutral800};
      `;case Jf:return Te`
        border: 1px solid transparent;
        background: transparent;
        color: ${n.colors.neutral800};

        svg {
          fill: ${n.colors.neutral500};
        }
      `;case HA:case jA:return Te`
        border: 1px solid ${n.colors[`${Yn(e)}600`]};
        background: ${n.colors[`${Yn(e)}600`]};
        color: ${n.colors.neutral0};
      `;default:return Te`
        border: 1px solid ${n.colors.buttonPrimary600};
        background: ${n.colors.buttonPrimary600};
        color: ${n.colors.buttonNeutral0};
      `}},bs=on(({variant:n=Qf,startIcon:e,endIcon:t,disabled:r=!1,children:i,onClick:o,size:s=eK[1],loading:a=!1,fullWidth:c=!1,...f},h)=>{const d=r||a,g=b=>{!d&&o&&o(b)};return $.jsxs(rK,{ref:h,"aria-disabled":d,disabled:d,$size:s,$variant:n,tag:"button",onClick:g,hasRadius:!0,gap:2,inline:!0,alignItems:"center",justifyContent:"center",width:c?"100%":void 0,paddingLeft:4,paddingRight:4,cursor:"pointer",...f,children:[(e||a)&&$.jsx(be,{tag:"span","aria-hidden":!0,children:a?$.jsx(nK,{}):e}),$.jsx(Ne,{variant:s==="S"?"pi":void 0,fontWeight:"bold",children:i}),t&&$.jsx(be,{tag:"span","aria-hidden":!0,children:t})]})}),tK=zt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,nK=F($w)`
  animation: ${tK} 2s infinite linear;
  will-change: transform;
`,rK=F(be)`
  height: ${({theme:n,$size:e})=>n.sizes.button[e]};
  text-decoration: none;
  ${GA}

  &:hover {
    ${UA}
  }

  &:active {
    ${KA}
  }

  &[aria-disabled='true'] {
    ${zA}
  }

  @media (prefers-reduced-motion: no-preference) {
    transition:
      ${n=>n.theme.transitions.backgroundColor},
      ${n=>n.theme.transitions.color},
      border-color ${n=>n.theme.motion.timings[200]} ${n=>n.theme.motion.easings.easeOutQuad};
  }
`,qA=p.forwardRef(({children:n,description:e,label:t,defaultOpen:r,open:i,onOpenChange:o,delayDuration:s=500,disableHoverableContent:a,...c},f)=>!t&&!e?n:$.jsxs(d2,{defaultOpen:r,open:i,onOpenChange:o,delayDuration:s,disableHoverableContent:a,children:[$.jsx(p2,{asChild:!0,children:n}),$.jsx(m2,{children:$.jsx(iK,{ref:f,sideOffset:8,...c,children:$.jsx(Ne,{variant:"pi",fontWeight:"bold",children:t||e})})})]})),iK=F(g2)`
  background-color: ${n=>n.theme.colors.neutral900};
  color: ${n=>n.theme.colors.neutral0};
  padding-inline: ${n=>n.theme.spaces[2]};
  padding-block: ${n=>n.theme.spaces[2]};
  border-radius: ${n=>n.theme.borderRadius};
  z-index: ${n=>n.theme.zIndices.tooltip};
  will-change: opacity;
  transform-origin: var(--radix-tooltip-content-transform-origin);

  @media (prefers-reduced-motion: no-preference) {
    animation: ${yt.fadeIn} ${n=>n.theme.motion.timings[200]}
      ${n=>n.theme.motion.easings.authenticMotion};
  }
`,_s=on(({label:n,background:e,children:t,disabled:r=!1,onClick:i,size:o="S",variant:s="tertiary",withTooltip:a=!0,...c},f)=>{const h=g=>{!r&&i&&i(g)},d=$.jsx(Ta,{"aria-disabled":r,background:r?"neutral150":e,tag:"button",display:"inline-flex",justifyContent:"center",hasRadius:!0,cursor:"pointer",...c,ref:f,$size:o,onClick:h,$variant:s,children:$.jsx(ol,{label:n,children:t})});return a?$.jsx(qA,{label:n,children:d}):d}),Ta=F(be)`
  text-decoration: none;

  ${n=>{switch(n.$size){case"XS":return Te`
          padding-block: 0.25rem;
          padding-inline: 0.25rem;
        `;case"S":return Te`
          padding-block: 0.7rem;
          padding-inline: 0.7rem;
        `;case"M":return Te`
          padding-block: 0.9rem;
          padding-inline: 0.9rem;
        `;case"L":return Te`
          padding-block: 1.1rem;
          padding-inline: 1.1rem;
        `}}}
  ${GA}
  ${n=>n.$variant==="tertiary"?Te`
          color: ${n.theme.colors.neutral500};
        `:""}

  &:hover {
    ${UA}
    ${n=>n.$variant==="tertiary"?Te`
            color: ${n.theme.colors.neutral600};
          `:""}
  }

  &:active {
    ${KA}
  }

  &[aria-disabled='true'] {
    ${zA}
  }

  @media (prefers-reduced-motion: no-preference) {
    transition:
      ${n=>n.theme.transitions.backgroundColor},
      ${n=>n.theme.transitions.color},
      border-color ${n=>n.theme.motion.timings[200]} ${n=>n.theme.motion.easings.easeOutQuad};
  }
`;F(be)`
  & ${Ta}:first-child {
    border-radius: ${({theme:n})=>`${n.borderRadius} 0 0 ${n.borderRadius}`};
  }

  & ${Ta}:last-child {
    border-radius: ${({theme:n})=>`0 ${n.borderRadius} ${n.borderRadius} 0`};
  }

  & ${Ta} {
    border-radius: 0;

    & + ${Ta} {
      border-left: none;
    }
  }
`;const oK=on(({children:n,href:e,disabled:t=!1,startIcon:r,endIcon:i,isExternal:o=!1,...s},a)=>$.jsxs(sK,{ref:a,href:e,disabled:t,isExternal:o,...s,children:[r,$.jsx(Ne,{textColor:t?"neutral600":"primary600",children:n}),i,e&&!i&&o&&$.jsx(rO,{})]})),sK=F(Sl)`
  display: inline-flex;
  align-items: center;
  text-decoration: none;
  gap: ${({theme:n})=>n.spaces[2]};
  pointer-events: ${({disabled:n})=>n?"none":void 0};

  svg {
    font-size: 1rem;

    path {
      fill: ${({disabled:n,theme:e})=>n?e.colors.neutral600:e.colors.primary600};
    }
  }

  &:hover {
    & > span {
      color: ${({theme:n})=>n.colors.primary500};
    }

    svg path {
      fill: ${({theme:n})=>n.colors.primary500};
    }
  }

  &:active {
    color: ${({theme:n})=>n.colors.primary700};
  }

  ${Zf};
`,aK=F_,lK=p.forwardRef(({label:n,endIcon:e=$.jsx(po,{width:"1.2rem",height:"1.2rem","aria-hidden":!0}),tag:t=bs,icon:r,...i},o)=>{const s={...i,ref:o,type:"button"};return $.jsx(W_,{asChild:!0,disabled:s.disabled,children:t===_s?$.jsx(_s,{label:n,variant:"tertiary",...s,children:r}):$.jsx(bs,{endIcon:e,variant:"ghost",...s})})}),cK=p.forwardRef(({children:n,intersectionId:e,onCloseAutoFocus:t,popoverPlacement:r="bottom-start",...i},o)=>{const[s,a]=r.split("-");return $.jsx(M$,{children:$.jsx(uK,{align:a,side:s,loop:!0,onCloseAutoFocus:t,asChild:!0,children:$.jsxs(YA,{ref:o,direction:"column",borderColor:"neutral150",hasRadius:!0,background:"neutral0",shadow:"filterShadow",maxHeight:"15rem",padding:1,marginTop:1,marginBottom:1,alignItems:"flex-start",position:"relative",overflow:"auto",...i,children:[n,$.jsx(we,{id:e,width:"100%",height:"1px"})]})})})}),YA=F(be)`
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
  z-index: ${n=>n.theme.zIndices.popover};

  &::-webkit-scrollbar {
    display: none;
  }
`,uK=F(V_)`
  @media (prefers-reduced-motion: no-preference) {
    animation-duration: ${n=>n.theme.motion.timings[200]};

    &[data-state='open'] {
      animation-timing-function: ${n=>n.theme.motion.easings.authenticMotion};

      &[data-side='top'] {
        animation-name: ${yt.slideUpIn};
      }

      &[data-side='bottom'] {
        animation-name: ${yt.slideDownIn};
      }
    }
  }
`,XA=({theme:n})=>Te`
  text-align: left;
  width: 100%;
  border-radius: ${n.borderRadius};
  padding: ${n.spaces[2]} ${n.spaces[4]};

  &[aria-disabled='true'] {
    cursor: not-allowed;
    color: ${n.colors.neutral500};
  }

  &[data-highlighted] {
    background-color: ${n.colors.primary100};
  }

  &:focus-visible {
    outline: none;

    &:after {
      content: none;
    }
  }
`,fK=F(be)`
  ${XA}
`;F(oK)`
  /* We include this here again because typically when people use OptionLink they provide an as prop which cancels the Box props */
  color: ${({theme:n,color:e})=>xu(n.colors,e,void 0)};
  text-decoration: none;

  &:hover {
    color: unset;
  }

  /* TODO: do we need this? */
  svg > path,
  &:focus-visible svg > path {
    fill: currentColor;
  }

  ${XA}
`;const hK=F(we)`
  /* Negative horizontal margin to compensate Menu.Content's padding */
  margin: ${({theme:n})=>n.spaces[1]} -${({theme:n})=>n.spaces[1]};
  width: calc(100% + ${({theme:n})=>n.spaces[2]});
  /* Hide separator if there's nothing above in the menu */
  &:first-child {
    display: none;
  }
`;p.forwardRef((n,e)=>$.jsx(H_,{...n,asChild:!0,children:$.jsx(hK,{height:"1px",shrink:0,background:"neutral150",ref:e})}));p.forwardRef((n,e)=>$.jsx(j_,{asChild:!0,children:$.jsx(dK,{ref:e,variant:"sigma",textColor:"neutral600",...n})}));const dK=F(Ne)`
  padding: ${({theme:n})=>n.spaces[2]} ${({theme:n})=>n.spaces[4]};
`;p.forwardRef(({disabled:n=!1,...e},t)=>$.jsx(z_,{asChild:!0,disabled:n,children:$.jsxs(pK,{ref:t,color:"neutral800",tag:"button",type:"button",background:"transparent",borderStyle:"none",gap:5,...e,children:[$.jsx(Ne,{children:e.children}),$.jsx(Km,{fill:"neutral500",height:"1.2rem",width:"1.2rem"})]})}));const pK=F(fK)`
  &[data-state='open'] {
    background-color: ${({theme:n})=>n.colors.primary100};
  }
`;p.forwardRef((n,e)=>$.jsx(M$,{children:$.jsx(U_,{sideOffset:8,asChild:!0,children:$.jsx(YA,{ref:e,direction:"column",borderStyle:"solid",borderWidth:"1px",borderColor:"neutral150",hasRadius:!0,background:"neutral0",shadow:"filterShadow",maxHeight:"15rem",padding:1,alignItems:"flex-start",overflow:"auto",...n})})}));const mK=aK,gK=lK,bK=cK,vK=p.forwardRef(({children:n,onOpen:e,onClose:t,popoverPlacement:r,onReachEnd:i,...o},s)=>{const a=p.useRef(null),c=bn(s,a),f=p.useRef(null),[h,d]=p.useState(!1),g=w=>{i&&i(w)},b=w=>{w&&typeof e=="function"?e():!w&&typeof t=="function"&&t(),d(w)},x=ar(),v=`intersection-${Ds(x)}`;return kl(f,g,{selectorToWatch:`#${v}`,skipWhen:!h}),$.jsxs(mK,{onOpenChange:b,children:[$.jsx(gK,{ref:c,...o,children:o.label}),$.jsx(bK,{ref:f,intersectionId:v,popoverPlacement:r,children:n})]})}),xK=F(vK)`
  padding: ${({theme:n})=>`${n.spaces[1]} ${n.spaces[2]}`};
  height: unset;

  :hover,
  :focus {
    background-color: ${({theme:n})=>n.colors.neutral200};
  }
`,yK=p.forwardRef(({children:n,...e},t)=>$.jsx(xK,{ref:t,endIcon:null,size:"S",...e,children:n}));yK.displayName="CrumbSimpleMenu";const ZA=p.createContext({id:""}),wK=()=>p.useContext(ZA);p.forwardRef(({id:n,...e},t)=>{const r=ar(n),i=p.useMemo(()=>({id:r}),[r]);return $.jsx(ZA.Provider,{value:i,children:$.jsx(we,{ref:t,id:n,tabIndex:0,hasRadius:!0,background:"neutral0",borderStyle:"solid",borderWidth:"1px",borderColor:"neutral150",shadow:"tableShadow",tag:"article","aria-labelledby":`${r}-title`,...e})})});const $K=p.forwardRef(({position:n,...e},t)=>$.jsx(CK,{ref:t,$position:n,...e,direction:"row",gap:2})),CK=F(be)`
  position: absolute;
  top: ${({theme:n})=>n.spaces[3]};
  right: ${({$position:n,theme:e})=>{if(n==="end")return e.spaces[3]}};
  left: ${({$position:n,theme:e})=>{if(n==="start")return e.spaces[3]}};
`;F.img`
  // inline flows is based on typography and displays an extra white space below the image
  // switch to block is required in order to make the img stick the bottom of the container
  // addition infos: https://stackoverflow.com/questions/5804256/image-inside-div-has-extra-space-below-the-image
  margin: 0;
  padding: 0;
  max-height: 100%;
  max-width: 100%;
  object-fit: contain;
`;F.div`
  display: flex;
  justify-content: center;
  height: ${({$size:n})=>n==="S"?"8.8rem":"16.4rem"};
  width: 100%;
  background: repeating-conic-gradient(${({theme:n})=>n.colors.neutral100} 0% 25%, transparent 0% 50%) 50% / 20px
    20px;
  border-top-left-radius: ${({theme:n})=>n.borderRadius};
  border-top-right-radius: ${({theme:n})=>n.borderRadius};
`;F.div`
  margin-left: auto;
  flex-shrink: 0;
`;F(VU)`
  margin-left: ${({theme:n})=>n.spaces[1]};
`;const SK=({fill:n,...e})=>{const{colors:t}=cO();return $.jsx(we,{tag:"svg",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fill:n?t[n]:void 0,...e,children:$.jsx("path",{d:"M29.0613 10.0613L13.0613 26.0613C12.9219 26.2011 12.7563 26.3121 12.574 26.3878C12.3917 26.4635 12.1962 26.5024 11.9988 26.5024C11.8013 26.5024 11.6059 26.4635 11.4235 26.3878C11.2412 26.3121 11.0756 26.2011 10.9363 26.0613L3.93626 19.0613C3.79673 18.9217 3.68605 18.7561 3.61053 18.5738C3.53502 18.3915 3.49615 18.1961 3.49615 17.9988C3.49615 17.8014 3.53502 17.606 3.61053 17.4237C3.68605 17.2414 3.79673 17.0758 3.93626 16.9363C4.07579 16.7967 4.24143 16.686 4.42374 16.6105C4.60604 16.535 4.80143 16.4962 4.99876 16.4962C5.19608 16.4962 5.39147 16.535 5.57378 16.6105C5.75608 16.686 5.92173 16.7967 6.06126 16.9363L12 22.875L26.9388 7.93876C27.2205 7.65697 27.6027 7.49866 28.0013 7.49866C28.3998 7.49866 28.782 7.65697 29.0638 7.93876C29.3455 8.22055 29.5039 8.60274 29.5039 9.00126C29.5039 9.39977 29.3455 9.78197 29.0638 10.0638L29.0613 10.0613Z"})})},uw=p.forwardRef(({defaultChecked:n,checked:e,onCheckedChange:t,...r},i)=>{const o=p.useRef(null),[s,a]=Cr({defaultProp:n,prop:e,onChange:t}),c=bn(o,i);return $.jsx(kK,{ref:c,checked:s,onCheckedChange:a,...r,children:$.jsxs(AK,{forceMount:!0,children:[s===!0?$.jsx(SK,{width:"1.6rem",fill:"neutral0"}):null,s==="indeterminate"?$.jsx(iO,{fill:"neutral0"}):null]})})}),kK=F(J_)`
  background: ${n=>n.theme.colors.neutral0};
  width: 2rem;
  height: 2rem;
  border-radius: ${n=>n.theme.borderRadius};
  border: 1px solid ${n=>n.theme.colors.neutral300};
  position: relative;
  z-index: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  // this ensures the checkbox is always a square even in flex-containers.
  flex: 0 0 2rem;

  &[data-state='checked'],
  &[data-state='indeterminate'] {
    border: 1px solid ${n=>n.theme.colors.primary600};
    background-color: ${n=>n.theme.colors.primary600};
  }

  &[data-disabled] {
    background-color: ${n=>n.theme.colors.neutral200};
  }

  /* increase target size for touch devices https://www.w3.org/WAI/WCAG21/Understanding/target-size.html */
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;
    z-index: -1;
    min-width: 44px;
    min-height: 44px;
  }
`,AK=F(e9)`
  display: inline-flex;
  pointer-events: auto !important;
  width: 100%;
  height: 100%;
  cursor: pointer;
  justify-content: center;
  align-items: center;

  &[data-disabled] {
    cursor: not-allowed;
  }
`,D0=p.forwardRef(({children:n,...e},t)=>{const r=ar(e.id);return n?$.jsxs(be,{gap:2,children:[$.jsx(uw,{id:r,...e}),$.jsx(Ne,{tag:"label",textColor:"neutral800",htmlFor:r,children:n})]}):$.jsx(uw,{ref:t,...e})});p.forwardRef((n,e)=>{const{id:t}=wK();return $.jsx($K,{position:"start",children:$.jsx(D0,{"aria-labelledby":`${t}-title`,...n,ref:e})})});F(we)`
  word-break: break-all;
`;F(be)`
  border-bottom: 1px solid ${({theme:n})=>n.colors.neutral150};
`;const Ut={DOWN:"ArrowDown",UP:"ArrowUp",RIGHT:"ArrowRight",LEFT:"ArrowLeft",ESCAPE:"Escape",ENTER:"Enter",END:"End",HOME:"Home",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown"},EK=F(we)`
  grid-template-columns: auto 1fr auto;
  grid-template-areas: 'startAction slides endAction';
`,RK=F(be)`
  grid-area: slides;
`,fw=F(we)`
  grid-area: ${({$area:n})=>n};

  &:focus svg path,
  &:hover svg path {
    fill: ${({theme:n})=>n.colors.neutral900};
  }
`,TK=p.forwardRef(({actions:n,children:e,label:t,nextLabel:r,onNext:i,onPrevious:o,previousLabel:s,secondaryLabel:a,selectedSlide:c,...f},h)=>{const d=p.useRef(null),g=p.useRef(null),b=p.Children.map(e,(v,w)=>p.cloneElement(v,{selected:w===c})),x=v=>{switch(v.key){case Ut.RIGHT:{v.preventDefault(),g?.current&&g.current.focus(),i&&i();break}case Ut.LEFT:{v.preventDefault(),d?.current&&d.current.focus(),o&&o();break}}};return $.jsx(we,{ref:h,...f,onKeyDown:x,children:$.jsxs(we,{padding:2,borderColor:"neutral200",hasRadius:!0,background:"neutral100",children:[$.jsxs(EK,{tag:"section","aria-roledescription":"carousel","aria-label":t,display:"grid",position:"relative",children:[b&&b.length>1&&$.jsxs($.Fragment,{children:[$.jsx(fw,{tag:"button",onClick:o,$area:"startAction",ref:d,type:"button",children:$.jsx(ol,{label:s,children:$.jsx(Cw,{width:"1.6rem",height:"1.6rem",fill:"neutral600"})})}),$.jsx(fw,{tag:"button",onClick:i,$area:"endAction",ref:g,type:"button",children:$.jsx(ol,{label:r,children:$.jsx(Km,{width:"1.6rem",height:"1.6rem",fill:"neutral600"})})})]}),$.jsx(RK,{"aria-live":"polite",paddingLeft:2,paddingRight:2,width:"100%",overflow:"hidden",children:b}),n]}),a&&$.jsx(we,{paddingTop:2,paddingLeft:4,paddingRight:4,children:$.jsx(qA,{label:a,children:$.jsx(be,{justifyContent:"center",children:$.jsx(Ne,{variant:"pi",textColor:"neutral600",ellipsis:!0,children:a})})})})]})})}),ji=(n="&")=>({theme:e,$hasError:t=!1})=>Te`
    outline: none;
    box-shadow: none;
    transition-property: border-color, box-shadow, fill;
    transition-duration: 0.2s;

    ${n}:focus-within {
      border: 1px solid ${t?e.colors.danger600:e.colors.primary600};
      box-shadow: ${t?e.colors.danger600:e.colors.primary600} 0px 0px 0px 2px;
    }
  `,[PK,Pn]=Cl("Field",{}),Ls=p.forwardRef(({children:n,name:e,error:t=!1,hint:r,id:i,required:o=!1,...s},a)=>{const c=ar(i),[f,h]=p.useState();return $.jsx(PK,{name:e,id:c,error:t,hint:r,required:o,labelNode:f,setLabelNode:h,children:$.jsx(be,{direction:"column",alignItems:"stretch",gap:1,ref:a,...s,children:n})})}),QA=p.forwardRef(({children:n,action:e,...t},r)=>{const{id:i,required:o,setLabelNode:s}=Pn("Label"),a=bn(r,s);return n?$.jsxs(MK,{ref:a,variant:"pi",textColor:"neutral800",fontWeight:"bold",...t,id:`${i}-label`,htmlFor:i,tag:"label",ellipsis:!0,children:[n,o&&$.jsx(Ne,{"aria-hidden":!0,lineHeight:"1em",textColor:"danger600",children:"*"}),e&&$.jsx(OK,{marginLeft:1,children:e})]}):null}),MK=F(Ne)`
  display: flex;
`,OK=F(be)`
  line-height: 0;
  color: ${({theme:n})=>n.colors.neutral500};
`,I0=p.forwardRef(({endAction:n,startAction:e,disabled:t=!1,onChange:r,hasError:i,required:o,className:s,size:a="M",...c},f)=>{const{id:h,error:d,hint:g,name:b,required:x}=Pn("Input");let v;d?v=`${h}-error`:g&&(v=`${h}-hint`);const w=!!d,C=p.useRef(null),k=p.useRef(null),A=bn(k,f),R=T=>{!t&&r&&r(T)};return p.useLayoutEffect(()=>{if(C.current&&k.current){const T=C.current.offsetWidth,D=k.current;if(D){const M=T+8+16;D.style.paddingRight=`${M}px`}}},[n]),$.jsxs(_K,{gap:2,justifyContent:"space-between",$hasError:w||i,$disabled:t,$size:a,$hasLeftAction:!!e,$hasRightAction:!!n,className:s,children:[e,$.jsx(DK,{id:h,name:b,ref:A,$size:a,"aria-describedby":v,"aria-invalid":w||i,"aria-disabled":t,disabled:t,"data-disabled":t?"":void 0,onChange:R,"aria-required":x||o,$hasLeftAction:!!e,$hasRightAction:!!n,...c}),n&&$.jsx(IK,{ref:C,children:n})]})}),DK=F.input`
  border: none;
  border-radius: ${({theme:n})=>n.borderRadius};
  cursor: ${n=>n["aria-disabled"]?"not-allowed":void 0};

  color: ${({theme:n})=>n.colors.neutral800};
  font-weight: 400;
  font-size: ${n=>n.theme.fontSizes[2]};
  line-height: 2.2rem;
  display: block;
  width: 100%;
  background: inherit;

  ::placeholder {
    color: ${({theme:n})=>n.colors.neutral500};
    opacity: 1;
  }

  &[aria-disabled='true'] {
    color: inherit;
  }

  //focus managed by InputWrapper
  &:focus {
    outline: none;
    box-shadow: none;
  }

  ${n=>{switch(n.$size){case"S":return Te`
          padding-inline-start: ${n.$hasLeftAction?0:n.theme.spaces[4]};
          padding-inline-end: ${n.$hasRightAction?0:n.theme.spaces[4]};
          padding-block: ${n.theme.spaces[1]};
        `;default:return Te`
          padding-inline-start: ${n.$hasLeftAction?0:n.theme.spaces[4]};
          padding-inline-end: ${n.$hasRightAction?0:n.theme.spaces[4]};
          padding-block: ${n.theme.spaces[2]};
        `}}}
`,IK=F(be)`
  position: absolute;
  right: ${({theme:n})=>n.spaces[4]};
  top: 50%;
  transform: translateY(-50%);
`,_K=F(be)`
  border: 1px solid ${({theme:n,$hasError:e})=>e?n.colors.danger600:n.colors.neutral200};
  border-radius: ${({theme:n})=>n.borderRadius};
  background: ${({theme:n})=>n.colors.neutral0};
  padding-inline-start: ${({$hasLeftAction:n,theme:e})=>n?e.spaces[4]:0};
  position: relative;

  ${ji()}
  ${({theme:n,$disabled:e})=>e?Te`
          color: ${n.colors.neutral600};
          background: ${n.colors.neutral150};
        `:void 0};
`,LK=()=>{const{id:n,hint:e,error:t}=Pn("Hint");return!e||t?null:$.jsx(Ne,{variant:"pi",tag:"p",id:`${n}-hint`,textColor:"neutral600",children:e})},NK=()=>{const{id:n,error:e}=Pn("Error");return!e||typeof e!="string"?null:$.jsx(Ne,{variant:"pi",tag:"p",id:`${n}-error`,textColor:"danger600","data-strapi-field-error":!0,children:e})};p.forwardRef(({label:n,children:e,...t},r)=>$.jsx(BK,{justifyContent:"unset",background:"transparent",borderStyle:"none",...t,type:"button",tag:"button",ref:r,children:$.jsx(ol,{label:n,children:e})}));const BK=F(be)`
  font-size: 1.6rem;
  padding: 0;
`;p.forwardRef(({actions:n,children:e,error:t,hint:r,label:i,labelAction:o,nextLabel:s,onNext:a,onPrevious:c,previousLabel:f,required:h,secondaryLabel:d,selectedSlide:g,id:b,...x},v)=>{const w=ar(b);return $.jsx(Ls,{hint:r,error:t,id:w,required:h,children:$.jsxs(be,{direction:"column",alignItems:"stretch",gap:1,children:[i&&$.jsx(QA,{action:o,children:i}),$.jsx(TK,{ref:v,actions:n,label:i,nextLabel:s,onNext:a,onPrevious:c,previousLabel:f,secondaryLabel:d,selectedSlide:g,id:w,...x,children:e}),$.jsx(LK,{}),$.jsx(NK,{})]})})});F(we)`
  ${DA}
`;F(be)`
  display: ${({$selected:n})=>n?"flex":"none"};
`;const eh=p.forwardRef(({children:n,viewportRef:e,...t},r)=>$.jsxs(FK,{ref:r,...t,children:[$.jsx(WK,{ref:e,children:n}),$.jsx(hw,{orientation:"vertical",children:$.jsx(dw,{})}),$.jsx(hw,{orientation:"horizontal",children:$.jsx(dw,{})})]})),FK=F(g9)`
  width: 100%;
  height: 100%;
  overflow: hidden;
  display: flex;
`,WK=F(b9)`
  min-width: 100%;
`,hw=F(v9)`
  display: flex;
  /* ensures no selection */
  user-select: none;
  /* disable browser handling of all panning and zooming gestures on touch devices */
  touch-action: none;

  &[data-orientation='vertical'] {
    width: 0.4rem;
    margin: 0.4rem;
  }

  &[data-orientation='horizontal'] {
    flex-direction: column;
    height: 0.4rem;
    margin: 0.4rem;
  }
`,dw=F(x9)`
  position: relative;
  flex: 1;
  background-color: ${n=>n.theme.colors.neutral150};
  border-radius: 0.4rem;

  /* increase target size for touch devices https://www.w3.org/WAI/WCAG21/Understanding/target-size.html */
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;
    min-width: 44px;
    min-height: 44px;
  }
`,VK="data:image/svg+xml,%3csvg%20width='63'%20height='63'%20viewBox='0%200%2063%2063'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M42.5563%2011.9816C39.484%2010.3071%2035.8575%209.29097%2032.3354%209.13521C28.6443%208.92888%2024.8295%209.72318%2021.3336%2011.4129C20.9123%2011.5901%2020.5376%2011.8101%2020.1722%2012.0249L20.0108%2012.1179C19.8774%2012.1951%2019.7441%2012.2724%2019.608%2012.3536C19.3253%2012.5146%2019.0492%2012.6744%2018.7544%2012.8792C18.5463%2013.0329%2018.3395%2013.1759%2018.1301%2013.323C17.5658%2013.7208%2016.9868%2014.1317%2016.4983%2014.5979C14.8476%2015.9524%2013.5571%2017.6075%2012.6071%2018.9214C10.4365%2022.1566%209.08622%2025.9567%208.80702%2029.6143L8.7764%2030.1588C8.73328%2030.9196%208.68476%2031.7057%208.75353%2032.4555C8.76648%2032.6084%208.7661%2032.7638%208.77506%2032.914C8.78895%2033.229%208.80152%2033.5373%208.846%2033.8672L9.07396%2035.4221C9.09756%2035.5764%209.1198%2035.7413%209.1633%2035.9263L9.65919%2037.9272L10.138%2039.2823C10.2729%2039.6673%2010.4158%2040.0751%2010.6%2040.43C12.0292%2043.637%2014.1425%2046.4578%2016.7063%2048.585C19.0508%2050.5296%2021.824%2052.0023%2024.7491%2052.8452L26.2371%2053.2376C26.3781%2053.2693%2026.4926%2053.2889%2026.6031%2053.3058L26.7775%2053.3311C27.0052%2053.3636%2027.2195%2053.3986%2027.4445%2053.435C27.8598%2053.5076%2028.2672%2053.5748%2028.7079%2053.6183L30.5641%2053.7229C30.9516%2053.7249%2031.3352%2053.7068%2031.7081%2053.6874C31.9039%2053.681%2032.0984%2053.6681%2032.3288%2053.662C34.5253%2053.4772%2036.5106%2053.0634%2038.0516%2052.4652C38.1769%2052.4171%2038.3008%2052.3796%2038.4234%2052.3355C38.6727%2052.2499%2038.9259%2052.167%2039.1432%2052.0599L40.8591%2051.2626L42.5702%2050.266C42.9009%2050.0682%2043.0205%2049.6414%2042.8282%2049.2984C42.632%2048.9526%2042.2034%2048.8308%2041.8634%2049.0166L40.1792%2049.9218L38.4995%2050.6224C38.3169%2050.6953%2038.121%2050.7534%2037.9224%2050.8155C37.7838%2050.8489%2037.6518%2050.8983%2037.5012%2050.9408C36.0711%2051.435%2034.2445%2051.7425%2032.244%2051.8346C32.0442%2051.8383%2031.8471%2051.8379%2031.654%2051.8403C31.3051%2051.8414%2030.9602%2051.8451%2030.6392%2051.8305L28.9177%2051.6725C28.5476%2051.619%2028.1695%2051.5427%2027.7848%2051.4678C27.5639%2051.4167%2027.3376%2051.3737%2027.1299%2051.3374L26.9529%2051.2987C26.8704%2051.2834%2026.7772%2051.2667%2026.7333%2051.2543L25.3466%2050.8322C22.7651%2049.9789%2020.33%2048.5729%2018.2942%2046.7557C16.1056%2044.7951%2014.3339%2042.2335%2013.1742%2039.3582C12.0276%2036.6013%2011.5988%2033.2792%2011.9716%2030.0076C12.3145%2027.0213%2013.3948%2024.1635%2015.1858%2021.5083C15.3034%2021.3339%2015.421%2021.1596%2015.5212%2021.0196C16.4309%2019.8688%2017.5408%2018.5589%2018.9483%2017.496C19.3367%2017.1525%2019.7862%2016.856%2020.2611%2016.5478C20.4878%2016.4009%2020.7079%2016.2553%2020.8907%2016.1306C21.0974%2016.0048%2021.3188%2015.8831%2021.5348%2015.7694C21.6761%2015.6975%2021.8162%2015.619%2021.9388%2015.5576L22.1002%2015.4646C22.4002%2015.3037%2022.6749%2015.1546%2022.9908%2015.039L24.1186%2014.5715C24.3399%2014.4844%2024.5718%2014.4159%2024.7997%2014.3447C24.953%2014.2982%2025.0982%2014.2635%2025.2635%2014.2078C25.786%2014.0182%2026.3283%2013.9112%2026.9105%2013.7965C27.117%2013.7571%2027.3302%2013.7163%2027.5608%2013.6585C27.7553%2013.611%2027.9737%2013.5969%2028.2082%2013.5762C28.364%2013.5603%2028.5172%2013.5483%2028.6318%2013.5333C28.7876%2013.5173%2028.9342%2013.5066%2029.0927%2013.4867C29.3285%2013.4555%2029.5456%2013.4347%2029.7494%2013.4337C30.0237%2013.44%2030.2994%2013.4357%2030.5777%2013.4274C31.0811%2013.421%2031.5579%2013.4197%2032.0318%2013.4914C34.9664%2013.7352%2037.7144%2014.6085%2040.2052%2016.0868C42.3489%2017.3655%2044.2716%2019.1525%2045.7607%2021.264C47.0255%2023.0628%2047.9756%2025.0528%2048.4928%2027.0393C48.572%2027.3176%2048.6299%2027.5931%2048.6839%2027.8659C48.7154%2028.0428%2048.7563%2028.2145%2048.7892%2028.3636C48.8037%2028.4541%2048.8208%2028.5406%2048.8445%2028.6258C48.8749%2028.7443%2048.8986%2028.864%2048.9116%2028.9651L48.9793%2029.6047C48.9922%2029.7748%2049.0132%2029.9331%2049.0301%2030.0887C49.0668%2030.3268%2049.0889%2030.5608%2049.0964%2030.7561L49.1083%2031.9001C49.1312%2032.3307%2049.089%2032.7116%2049.0522%2033.0673C49.0384%2033.2598%2049.0126%2033.4443%2049.0123%2033.5824C48.9961%2033.6926%2048.9918%2033.7935%2048.9836%2033.8917C48.9753%2034.0072%2048.9724%2034.1148%2048.9414%2034.2554L48.5449%2036.3059C48.3134%2037.8623%2049.3793%2039.3365%2050.9488%2039.5822C52.0417%2039.7601%2053.1536%2039.2819%2053.7711%2038.3664C54.0063%2038.0176%2054.1604%2037.6257%2054.2227%2037.2064L54.5217%2035.2574C54.5514%2035.0756%2054.572%2034.83%2054.5846%2034.5791L54.6028%2034.2338C54.6098%2034.0598%2054.6223%2033.8779%2054.6347%2033.6788C54.6734%2033.1052%2054.7163%2032.4479%2054.6619%2031.8058L54.5867%2030.4289C54.5622%2030.0952%2054.5097%2029.76%2054.4559%2029.4181C54.431%2029.2572%2054.4048%2029.0896%2054.3826%2028.9074L54.2687%2028.104C54.2332%2027.9244%2054.1804%2027.7273%2054.1329%2027.5396L54.0643%2027.2454C54.0195%2027.071%2053.9773%2026.8927%2053.9338%2026.7076C53.8455%2026.3309%2053.7479%2025.9422%2053.613%2025.5571C52.84%2023.0292%2051.5383%2020.5194%2049.8338%2018.2799C47.8544%2015.682%2045.3333%2013.5087%2042.5563%2011.9816Z'%20fill='%234945FF'/%3e%3c/svg%3e",jK=p.forwardRef(({children:n,small:e=!1,...t},r)=>$.jsxs("div",{role:"alert","aria-live":"assertive",ref:r,...t,children:[$.jsx(Ys,{children:n}),$.jsx(zK,{src:VK,"aria-hidden":!0,$small:e})]})),HK=zt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,zK=F.img`
  animation: ${HK} 1s infinite linear;
  will-change: transform;
  ${({$small:n,theme:e})=>n&&`width: ${e.spaces[6]}; height: ${e.spaces[6]};`}
`,UK=p.forwardRef(({allowCustomValue:n,autocomplete:e,children:t,className:r,clearLabel:i="Clear",creatable:o=!1,creatableDisabled:s=!1,creatableStartIcon:a,createMessage:c=ve=>`Create "${ve}"`,defaultFilterValue:f,defaultTextValue:h,defaultOpen:d=!1,open:g,onOpenChange:b,disabled:x=!1,hasError:v,id:w,filterValue:C,hasMoreItems:k=!1,isPrintableCharacter:A,loading:R=!1,loadingMessage:T="Loading content...",name:D,noOptionsMessage:M=()=>"No results found",onChange:B,onClear:N,onCreateOption:W,onFilterValueChange:K,onInputChange:j,onTextValueChange:Q,onLoadMore:Z,placeholder:ee="Select or enter a value",required:ue=!1,size:te="M",startIcon:oe,textValue:q,value:le,...he},De)=>{const[ve,ze]=Cr({prop:g,defaultProp:d,onChange:b}),[Re,Ve]=Cr({prop:q,defaultProp:n&&!h?le:h,onChange:Q}),[pe,Pe]=Cr({prop:C,defaultProp:f,onChange:K}),Ee=p.useRef(null),_e=p.useRef(null),$e=bn(_e,De),ne=p.useRef(null),ut=Lt=>{N&&!x&&(Ve(""),Pe(""),N(Lt),_e.current.focus())},qe=Lt=>{ze(Lt)},Fe=Lt=>{Ve(Lt)},Zt=Lt=>{Pe(Lt)},gt=Lt=>{j&&j(Lt)},Po=Lt=>{B&&B(Lt)},Zs=Lt=>{Z&&k&&!R&&Z(Lt)},lr=()=>{W&&Re&&o!=="visible"?W(Re):W&&o==="visible"&&(W(),ze(!1))},Mt=ar(),li=`intersection-${Ds(Mt)}`;kl(Ee,Zs,{selectorToWatch:`#${li}`,skipWhen:!ve});const{error:ci,...Mo}=Pn("Combobox"),Hi=!!ci||v,Qs=Mo.id??w,zi=Mo.name??D,ui=Mo.required||ue;let Ui;return ci?Ui=`${Qs}-error`:Mo.hint&&(Ui=`${Qs}-hint`),$.jsxs(Zn.Root,{autocomplete:e||(o===!0?"list":"both"),onOpenChange:qe,open:ve,onTextValueChange:Fe,textValue:Re,allowCustomValue:!!o||n,disabled:x,required:ui,value:le,onValueChange:Po,filterValue:pe,onFilterValueChange:Zt,isPrintableCharacter:A,visible:o==="visible",children:[$.jsxs(KK,{$hasError:Hi,$size:te,className:r,children:[$.jsxs(be,{flex:"1",tag:"span",gap:3,children:[oe?$.jsx(be,{flex:"0 0 1.6rem",tag:"span","aria-hidden":!0,children:oe}):null,$.jsx(GK,{placeholder:ee,id:Qs,"aria-invalid":!!ci,onChange:gt,ref:$e,name:zi,"aria-describedby":Ui,...he})]}),$.jsxs(be,{tag:"span",gap:3,children:[Re&&N?$.jsx(_s,{size:"XS",variant:"ghost",onClick:ut,"aria-disabled":x,"aria-label":i,label:i,ref:ne,children:$.jsx(Ns,{})}):null,$.jsx(qK,{children:$.jsx(po,{fill:"neutral500"})})]})]}),$.jsx(Zn.Portal,{children:$.jsx(YK,{sideOffset:4,children:$.jsxs(Zn.Viewport,{ref:Ee,children:[$.jsxs(ZK,{children:[t,o!==!0&&!R?$.jsx(Zn.NoValueFound,{asChild:!0,children:$.jsx(jm,{$hasHover:!1,children:$.jsx(Ne,{children:M(Re??"")})})}):null,R?$.jsx(be,{justifyContent:"center",alignItems:"center",paddingTop:2,paddingBottom:2,children:$.jsx(jK,{small:!0,children:T})}):null,$.jsx(we,{id:li,width:"100%",height:"1px"})]}),o?$.jsx(XK,{onPointerUp:lr,onClick:lr,disabled:s,asChild:!0,children:$.jsx(jm,{children:$.jsxs(be,{gap:2,children:[a&&$.jsx(we,{tag:"span","aria-hidden":!0,display:"inline-flex",children:a}),$.jsx(Ne,{children:c(Re??"")})]})})}):null]})})})]})}),KK=F(Zn.Trigger)`
  position: relative;
  border: 1px solid ${({theme:n,$hasError:e})=>e?n.colors.danger600:n.colors.neutral200};
  border-radius: ${({theme:n})=>n.borderRadius};
  background: ${({theme:n})=>n.colors.neutral0};
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: ${({theme:n})=>n.spaces[4]};

  ${n=>{switch(n.$size){case"S":return Te`
          padding-inline-start: ${({theme:e})=>e.spaces[4]};
          padding-inline-end: ${({theme:e})=>e.spaces[3]};
          padding-block: ${({theme:e})=>e.spaces[1]};
        `;default:return Te`
          padding-inline-start: ${({theme:e})=>e.spaces[4]};
          padding-inline-end: ${({theme:e})=>e.spaces[3]};
          padding-block: ${({theme:e})=>e.spaces[2]};
        `}}}

  &[data-disabled] {
    color: ${({theme:n})=>n.colors.neutral600};
    background: ${({theme:n})=>n.colors.neutral150};
    cursor: not-allowed;
  }

  /* Required to ensure the below inputFocusStyles are adhered too */
  &:focus-visible {
    outline: none;
  }

  ${({theme:n,$hasError:e})=>ji()({theme:n,$hasError:e})};
`,GK=F(Zn.TextInput)`
  width: 100%;
  font-size: 1.4rem;
  line-height: 2.2rem;
  color: ${({theme:n})=>n.colors.neutral800};
  padding: 0;
  border: none;
  background-color: transparent;

  &:focus-visible {
    outline: none;
  }

  &[aria-disabled='true'] {
    cursor: inherit;
  }
`,qK=F(Zn.Icon)`
  border: none;
  background: transparent;
  padding: 0;
  color: ${({theme:n})=>n.colors.neutral600};
  display: flex;

  &[aria-disabled='true'] {
    cursor: inherit;
  }
`,YK=F(Zn.Content)`
  background: ${({theme:n})=>n.colors.neutral0};
  box-shadow: ${({theme:n})=>n.shadows.filterShadow};
  border: 1px solid ${({theme:n})=>n.colors.neutral150};
  border-radius: ${({theme:n})=>n.borderRadius};
  width: var(--radix-combobox-trigger-width);
  /* This is from the design-system figma file. */
  max-height: 15rem;
  z-index: ${({theme:n})=>n.zIndices.popover};

  &:focus-visible {
    outline: ${({theme:n})=>`2px solid ${n.colors.primary600}`};
    outline-offset: 2px;
  }

  @media (prefers-reduced-motion: no-preference) {
    animation-duration: ${n=>n.theme.motion.timings[200]};

    /* The select can't animate out yet, watch https://github.com/radix-ui/primitives/issues/1893, or take a look and solve it yourself. */
    &[data-state='open'] {
      animation-timing-function: ${n=>n.theme.motion.easings.authenticMotion};

      &[data-side='top'] {
        animation-name: ${yt.slideUpIn};
      }

      &[data-side='bottom'] {
        animation-name: ${yt.slideDownIn};
      }
    }
  }
`,XK=F(Zn.CreateItem)`
  && {
    border-top: 1px solid ${({theme:n})=>n.colors.neutral150};
    background: ${({theme:n})=>n.colors.neutral0};
    cursor: pointer;
    padding: ${({theme:n})=>n.spaces[1]};
    position: sticky;
    bottom: 0;
    left: 0;
  }
  &&:hover,
  &&[data-highlighted] {
    background: ${({theme:n})=>n.colors.neutral0};
  }
  &&[data-disabled] {
    color: ${({theme:n})=>n.colors.neutral600};
    background: ${({theme:n})=>n.colors.neutral150};
    cursor: not-allowed;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
  }
  &&[data-disabled]:hover {
    background: ${({theme:n})=>n.colors.neutral150};
    color: ${({theme:n})=>n.colors.neutral600};
  }
  && > div {
    padding: ${({theme:n})=>n.spaces[2]} ${({theme:n})=>n.spaces[4]};
  }
  && > div:hover,
  &&[data-highlighted] > div {
    background-color: ${({theme:n})=>n.colors.primary100};
  }
  &&[data-disabled] > div:hover {
    background: ${({theme:n})=>n.colors.neutral150};
  }
`,ZK=F(eh)`
  padding: ${({theme:n})=>n.spaces[1]};
`,QK=p.forwardRef(({children:n,value:e,disabled:t,textValue:r,...i},o)=>$.jsx(Zn.ComboboxItem,{asChild:!0,value:e,disabled:t,textValue:r,children:$.jsx(jm,{ref:o,...i,children:$.jsx(Zn.ItemText,{asChild:!0,children:$.jsx(Ne,{children:n})})})})),jm=F.div`
  width: 100%;
  border: none;
  text-align: left;
  outline-offset: -3px;
  padding: ${({theme:n})=>n.spaces[2]} ${({theme:n})=>n.spaces[4]};
  background-color: ${({theme:n})=>n.colors.neutral0};
  border-radius: ${({theme:n})=>n.borderRadius};
  user-select: none;

  &[data-state='checked'] {
    background-color: ${({theme:n})=>n.colors.primary100};
    color: ${({theme:n})=>n.colors.primary600};
    font-weight: bold;
  }

  &:hover,
  &[data-highlighted] {
    outline: none;
    background-color: ${({theme:n,$hasHover:e=!0})=>e?n.colors.primary100:n.colors.neutral0};
  }

  &[data-highlighted] {
    color: ${({theme:n})=>n.colors.primary600};
    font-weight: bold;
  }
`;p.forwardRef((n,e)=>$.jsx(cL,{...n,asChild:!0,ref:e}));p.forwardRef((n,e)=>$.jsxs(uL,{children:[$.jsx(JK,{}),$.jsx(eG,{ref:e,...n})]}));const JK=F(fL)`
  background-color: ${n=>n.theme.colors.neutral800};
  position: fixed;
  inset: 0;
  z-index: ${n=>n.theme.zIndices.overlay};
  opacity: 0.2;

  @media (prefers-reduced-motion: no-preference) {
    animation: ${yt.overlayFadeIn} ${n=>n.theme.motion.timings[200]}
      ${n=>n.theme.motion.easings.authenticMotion};
  }
`,eG=F(hL)`
  max-width: 42rem;
  height: min-content;
  width: 100%;
  overflow: hidden;
  margin: 0 auto;
  display: flex;
  flex-direction: column;

  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  border-radius: ${n=>n.theme.borderRadius};
  background-color: ${n=>n.theme.colors.neutral0};
  box-shadow: ${n=>n.theme.shadows.popupShadow};
  z-index: ${n=>n.theme.zIndices.modal};

  @media (prefers-reduced-motion: no-preference) {
    &[data-state='open'] {
      animation-duration: ${n=>n.theme.motion.timings[200]};
      animation-timing-function: ${n=>n.theme.motion.easings.authenticMotion};
      animation-name: ${yt.modalPopIn};
    }

    &[data-state='closed'] {
      animation-duration: ${n=>n.theme.motion.timings[120]};
      animation-timing-function: ${n=>n.theme.motion.easings.easeOutQuad};
      animation-name: ${yt.modalPopOut};
    }
  }
`;p.forwardRef(({children:n,...e},t)=>$.jsx(mL,{asChild:!0,children:$.jsx(tG,{tag:"h2",variant:"beta",ref:t,padding:6,fontWeight:"bold",...e,children:n})}));const tG=F(Ne)`
  display: flex;
  justify-content: center;
  border-bottom: solid 1px ${n=>n.theme.colors.neutral150};
`;p.forwardRef(({children:n,icon:e,...t},r)=>$.jsx(be,{ref:r,gap:2,direction:"column",paddingTop:8,paddingBottom:8,paddingLeft:6,paddingRight:6,...t,children:typeof n=="string"?$.jsxs($.Fragment,{children:[e?p.cloneElement(e,{width:24,height:24}):null,$.jsx(nG,{children:n})]}):n}));const nG=p.forwardRef((n,e)=>$.jsx(gL,{asChild:!0,children:$.jsx(Ne,{ref:e,variant:"omega",...n,tag:"p"})}));p.forwardRef((n,e)=>$.jsx(rG,{ref:e,gap:2,padding:4,justifyContent:"space-between",...n,tag:"footer"}));const rG=F(be)`
  border-top: solid 1px ${n=>n.theme.colors.neutral150};
  flex: 1;
`;p.forwardRef((n,e)=>$.jsx(pL,{...n,asChild:!0,ref:e}));p.forwardRef((n,e)=>$.jsx(dL,{...n,asChild:!0,ref:e}));function Qr(n,e){const t=p.useRef(null);return e&&t.current&&iG(e,t.current)&&(e=t.current),t.current=e??null,p.useMemo(()=>new VO(n,e),[n,e])}function iG(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const i of t)if(e[i]!==n[i])return!1;return!0}oO`
${Te`
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  * {
    margin: 0;
  }

  html {
    /* Sets 1rem === 10px */
    font-size: 62.5%;
  }

  body {
    height: 100%;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans',
      'Helvetica Neue', sans-serif;
    color: ${({theme:n})=>n.colors.neutral800};
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
  }

  img,
  picture,
  video,
  canvas {
    display: block;
    max-width: 100%;
  }

  input,
  button,
  textarea,
  select {
    padding: 0;
    font: inherit;
  }

  button {
    border: unset;
    background: unset;
    padding: unset;
    margin: unset;
  }

  p,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    overflow-wrap: break-word;
    font: unset;
  }

  #root {
    isolation: isolate;
  }

  ol,
  ul {
    list-style: none;
    padding: unset;
    margin: unset;
  }

  table {
    border-collapse: collapse;
    border-spacing: 0;
  }

  *:focus-visible {
    outline: 2px solid ${({theme:n})=>n.colors.primary600};
    outline-offset: 2px;
  }

  *:has(> :disabled:not(button)) {
    cursor: not-allowed !important;
  }

  [aria-disabled='true']:not(button) {
    cursor: not-allowed !important;
  }

  /* Focusing the button with a mouse, touch, or stylus will show a subtle drop shadow. */
  *:focus:not(:focus-visible) {
    outline: none;
  }

  .lock-body-scroll {
    height: 100vh;
    overflow-y: hidden;
  }
`}
`;const pw="en-EN",oG=()=>typeof navigator>"u"?pw:navigator.language?navigator.language:pw,[KY,th]=Cl("StrapiDesignSystem",{locale:oG()}),sG=iD,JA=p.forwardRef(({container:n=globalThis?.document?.body,...e},t)=>n?ii.createPortal($.jsx(we,{ref:t,...e}),n):null);JA.displayName="Portal";const aG=p.forwardRef(({onClear:n,clearLabel:e="Clear",startIcon:t,disabled:r,hasError:i,children:o,id:s,size:a="M",withTags:c,...f},h)=>{const d=p.useRef(null),g=v=>{n&&!r&&(n(v),d.current.focus())},{labelNode:b}=Pn("SelectTrigger"),x=bn(d,h);return $.jsx(ir.Trigger,{asChild:!0,children:$.jsxs(cG,{"aria-disabled":r,$hasError:i,ref:x,alignItems:"center",justifyContent:"space-between",position:"relative",overflow:"hidden",hasRadius:!0,background:r?"neutral150":"neutral0",gap:4,cursor:"default","aria-labelledby":b?`${s}-label`:void 0,$size:a,$withTags:c,...f,children:[$.jsxs(be,{flex:"1",tag:"span",gap:3,children:[t&&$.jsx(be,{tag:"span","aria-hidden":!0,children:t}),o]}),$.jsxs(be,{tag:"span",gap:3,children:[n?$.jsx(lG,{tag:"button",hasRadius:!0,background:"transparent",role:"button",tabIndex:0,onClick:g,"aria-disabled":r,"aria-label":e,title:e,cursor:"pointer",children:$.jsx(Ns,{})}):null,$.jsx(uG,{children:$.jsx(po,{})})]})]})})}),lG=F(we)`
  border: none;
  display: flex;

  svg {
    height: 1.1rem;
    width: 1.1rem;
  }

  svg path {
    fill: ${({theme:n})=>n.colors.neutral500};
  }
`,cG=F(be)`
  border: 1px solid ${({theme:n,$hasError:e})=>e?n.colors.danger600:n.colors.neutral200};
  ${n=>{switch(n.$size){case"S":return Te`
          padding-block: ${n.theme.spaces[1]};
          padding-inline-start: ${n.$withTags?n.theme.spaces[1]:n.theme.spaces[4]};
          padding-inline-end: ${n.theme.spaces[3]};
        `;default:return Te`
          padding-block: ${n.$withTags?"0.3rem":n.theme.spaces[2]};
          padding-inline-start: ${n.$withTags?n.theme.spaces[1]:n.theme.spaces[4]};
          padding-inline-end: ${n.theme.spaces[3]};
        `}}}
  cursor: pointer;

  &[aria-disabled='true'] {
    color: ${n=>n.theme.colors.neutral500};
  }

  /* Required to ensure the below inputFocusStyles are adhered too */
  &:focus-visible {
    outline: none;
  }

  ${({theme:n,$hasError:e})=>ji()({theme:n,$hasError:e})};
`,uG=F(ir.Icon)`
  display: flex;
  & > svg {
    fill: ${({theme:n})=>n.colors.neutral500};
  }
`,fG=p.forwardRef(({children:n,placeholder:e,...t},r)=>$.jsx(hG,{ref:r,ellipsis:!0,...t,children:$.jsx(dG,{placeholder:e,children:n})})),hG=F(Ne)`
  flex: 1;
  font-size: 1.4rem;
  line-height: 2.2rem;
`,dG=F(ir.Value)`
  display: flex;
  gap: ${({theme:n})=>n.spaces[1]};
  flex-wrap: wrap;
`,pG=p.forwardRef((n,e)=>$.jsx(mG,{ref:e,...n,children:$.jsx(eh,{children:n.children})})),mG=F(ir.Content)`
  background: ${({theme:n})=>n.colors.neutral0};
  box-shadow: ${({theme:n})=>n.shadows.filterShadow};
  border: 1px solid ${({theme:n})=>n.colors.neutral150};
  border-radius: ${({theme:n})=>n.borderRadius};
  min-width: var(--radix-select-trigger-width);
  max-height: 15.6rem;
  z-index: ${({theme:n})=>n.zIndices.popover};

  @media (prefers-reduced-motion: no-preference) {
    animation-duration: ${n=>n.theme.motion.timings[200]};

    /* The select can't animate out yet, watch https://github.com/radix-ui/primitives/issues/1893, or take a look and solve it yourself. */
    &[data-state='open'] {
      animation-timing-function: ${n=>n.theme.motion.easings.authenticMotion};

      &[data-side='top'] {
        animation-name: ${yt.slideUpIn};
      }

      &[data-side='bottom'] {
        animation-name: ${yt.slideDownIn};
      }
    }
  }
`,gG=F(ir.Viewport)`
  padding: ${({theme:n})=>n.spaces[1]};
`,bG=p.forwardRef((n,e)=>$.jsx(xG,{ref:e,...n})),vG=Te`
  width: 100%;
  border: none;
  text-align: left;
  outline-offset: -3px;
  border-radius: ${n=>n.theme.borderRadius};
  padding: ${n=>`${n.theme.spaces[2]} ${n.theme.spaces[4]}`};
  padding-left: ${({theme:n})=>n.spaces[4]};
  background-color: ${({theme:n})=>n.colors.neutral0};
  display: flex;
  align-items: center;
  gap: ${({theme:n})=>n.spaces[2]};
  white-space: nowrap;
  user-select: none;
  color: ${({theme:n})=>n.colors.neutral800};

  &:focus-visible {
    outline: none;
    background-color: ${({theme:n})=>n.colors.primary100};
    cursor: pointer;
  }
`,xG=F(ir.Item)`
  ${vG}

  &:hover {
    background-color: ${({theme:n})=>n.colors.primary100};
    cursor: pointer;
  }

  &[data-state='checked'] {
    font-weight: bold;
    color: ${({theme:n})=>n.colors.primary600};
    font-weight: bold;
  }
`,eE=ir.Root,tE=aG,nE=fG,rE=ir.Portal,iE=pG,oE=gG,_0=bG,sE=ir.ItemIndicator,aE=ir.ItemText,yG=ir.Group,mw=p.forwardRef(({children:n,clearLabel:e="Clear",customizeContent:t,disabled:r,hasError:i,id:o,name:s,onChange:a,onClear:c,onCloseAutoFocus:f,onReachEnd:h,placeholder:d,required:g,size:b,startIcon:x,value:v,...w},C)=>{const[k,A]=p.useState(),[R,T]=p.useState(!1),D=he=>{T(he)},M=he=>{c&&c(he),a||A("")},B=he=>{a?a(typeof v=="number"?Number(he):he):A(he)},N=p.useRef(null),W=ar(),K=`intersection-${Ds(W)}`;kl(N,he=>{h&&h(he)},{selectorToWatch:`#${K}`,skipWhen:!R});const{error:Q,required:Z,...ee}=Pn("SingleSelect"),ue=!!Q||i,te=ee.id??o,oe=ee.name??s;let q;Q?q=`${te}-error`:ee.hint&&(q=`${te}-hint`);const le=(typeof v<"u"&&v!==null?v.toString():k)??"";return $.jsxs(eE,{onOpenChange:D,disabled:r,required:Z??g,onValueChange:B,value:le,...w,children:[$.jsx(tE,{ref:C,id:te,name:oe,startIcon:x,hasError:ue,disabled:r,clearLabel:e,onClear:le&&c?M:void 0,"aria-label":w["aria-label"],"aria-describedby":q??w["aria-describedby"],size:b,children:$.jsx(nE,{placeholder:d,textColor:le?"neutral800":"neutral600",children:le&&t?t(le):void 0})}),$.jsx(rE,{children:$.jsx(iE,{position:"popper",sideOffset:4,onCloseAutoFocus:f,children:$.jsxs(oE,{ref:N,children:[n,$.jsx(we,{id:K,width:"100%",height:"1px"})]})})})]})}),gw=p.forwardRef(({value:n,startIcon:e,children:t,...r},i)=>$.jsxs(_0,{ref:i,value:n.toString(),...r,children:[e&&$.jsx(be,{tag:"span","aria-hidden":!0,children:e}),$.jsx(Ne,{lineHeight:"20px",width:"100%",children:$.jsx(aE,{children:t})})]})),wG=200,bw=15,[$G,Xs]=Cl("DatePicker"),CG=p.forwardRef(({calendarLabel:n,className:e,initialDate:t,locale:r,maxDate:i,minDate:o,monthSelectLabel:s="Month",onChange:a,value:c,yearSelectLabel:f="Year",hasError:h,id:d,name:g,disabled:b=!1,required:x=!1,onClear:v,clearLabel:w="Clear",size:C="M",...k},A)=>{const R=xs(),T=th("DatePicker"),D=r??T.locale,M=Qr(D,{day:"2-digit",month:"2-digit",year:"numeric"}),[B,N]=p.useState(!1),[W,K]=p.useState(null),[j,Q]=p.useState(null),[Z,ee]=p.useState(null),[ue,te]=p.useState(),[oe,q]=Cr({defaultProp:t?no(t):void 0,prop:c?no(c):void 0,onChange(Fe){a&&a(Fe?.toDate(R))}}),[le,he]=p.useMemo(()=>{const Fe=t?no(t):qm("UTC"),Zt=o?no(o):Fe.set({day:1,month:1,year:Fe.year-wG});let gt=i?no(i):Fe.set({day:31,month:12,year:Fe.year+bw});return gt.compare(Zt)<0&&(gt=Zt.set({day:31,month:12,year:Zt.year+bw})),[Zt,gt]},[o,i,t]),[De,ve]=p.useState(SG({currentValue:oe,minDate:le,maxDate:he})),ze=ar(),Re=p.useRef(null),Ve=Fe=>{v&&!b&&(te(""),q(void 0),v(Fe),j?.focus())},pe=p.useCallback(Fe=>{Fe&&oe&&ve(oe),N(Fe)},[oe]);Is(()=>{if(c){const Fe=no(c);te(M.format(Fe.toDate(R))),ve(Fe)}else te("")},[c,M,R]),Is(()=>{if(t&&ue===void 0){const Fe=no(t);te(M.format(Fe.toDate(R)))}},[t,ue,M,R]);const{error:Pe,...Ee}=Pn("Combobox"),_e=!!Pe||h,$e=Ee.id??d,ne=Ee.name??g,ut=Ee.required||x;let qe;return Pe?qe=`${$e}-error`:Ee.hint&&(qe=`${$e}-hint`),$.jsxs($G,{calendarDate:De,content:Z,contentId:ze,disabled:b,locale:D,minDate:le,maxDate:he,open:B,onCalendarDateChange:ve,onContentChange:ee,onOpenChange:pe,onTextInputChange:Q,onTextValueChange:te,onTriggerChange:K,onValueChange:q,required:ut,textInput:j,textValue:ue,timeZone:R,trigger:W,value:oe,children:[$.jsxs(AG,{className:e,hasError:_e,size:C,children:[$.jsx(sO,{fill:"neutral500","aria-hidden":!0}),$.jsx(TG,{ref:A,"aria-describedby":qe,id:$e,name:ne,...k}),ue&&v?$.jsx(_s,{size:"XS",variant:"ghost",onClick:Ve,"aria-disabled":b,"aria-label":w,label:w,ref:Re,children:$.jsx(Ns,{})}):null]}),$.jsx(JA,{children:$.jsx(DG,{label:n,children:$.jsx(BG,{monthSelectLabel:s,yearSelectLabel:f})})})]})}),vw=n=>!!n.match(/^[^a-zA-Z]*$/),SG=({currentValue:n,minDate:e,maxDate:t})=>{const r=qm("UTC");return n||(bp(e,r)===e&&vp(t,r)===t?r:bp(e,r)===r?e:vp(t,r)===r?t:r)},kG="DatePickerTrigger",AG=p.forwardRef(({hasError:n,size:e,...t},r)=>{const i=Xs(kG),o=bn(r,a=>i.onTriggerChange(a)),s=()=>{i.disabled||i.onOpenChange(!0)};return $.jsx(js,{asChild:!0,trapped:i.open,onMountAutoFocus:a=>{a.preventDefault()},onUnmountAutoFocus:a=>{document.getSelection()?.empty(),a.preventDefault()},children:$.jsx(EG,{ref:o,$hasError:n,$size:e,...t,hasRadius:!0,gap:3,overflow:"hidden",background:i.disabled?"neutral150":"neutral0",onClick:co(t.onClick,()=>{i.textInput?.focus()}),onPointerDown:co(t.onPointerDown,a=>{const c=a.target;c.hasPointerCapture(a.pointerId)&&c.releasePointerCapture(a.pointerId),(c.closest("button")??c.closest("div"))===a.currentTarget&&a.button===0&&a.ctrlKey===!1&&(s(),i.textInput?.focus())})})})}),EG=F(be)`
  border: 1px solid ${({theme:n,$hasError:e})=>e?n.colors.danger600:n.colors.neutral200};
  ${n=>{switch(n.$size){case"S":return Te`
          padding-block: ${n.theme.spaces[1]};
          padding-inline: ${n.theme.spaces[3]};
        `;default:return Te`
          padding-block: ${n.theme.spaces[2]};
          padding-inline: ${n.theme.spaces[3]};
        `}}}

  & > svg {
    flex: 1 0 auto;
  }

  &[data-disabled] {
    color: ${({theme:n})=>n.colors.neutral600};
    background: ${({theme:n})=>n.colors.neutral150};
    cursor: not-allowed;
  }

  /* Required to ensure the below inputFocusStyles are adhered too */
  &:focus-visible {
    outline: none;
  }

  ${({theme:n,$hasError:e})=>ji()({theme:n,$hasError:e})};
`,RG="DatePickerTextInput",TG=p.forwardRef(({placeholder:n,...e},t)=>{const r=Xs(RG),{onTextValueChange:i,textValue:o,onTextInputChange:s,onOpenChange:a,disabled:c,locale:f}=r,h=bn(t,C=>s(C)),d=()=>{c||a(!0)},g=Qr(f,{year:"numeric",month:"2-digit",day:"2-digit"}),[b,x,v]=p.useMemo(()=>{const C=g.formatToParts(new Date),k=C.filter(T=>T.type==="year"||T.type==="month"||T.type==="day"),A=k.map(T=>{switch(T.type){case"day":return"DD";case"month":return"MM";case"year":return"YYYY";default:return""}}),R=C.find(T=>T.type==="literal")?.value??"";return[A,R,k]},[g]),w=b.map(C=>`\\d{${C.length}}`).join(`\\${x}`);return $.jsx(MG,{role:"combobox",type:"text",inputMode:"numeric",ref:h,"aria-autocomplete":"none","aria-controls":r.contentId,"aria-disabled":r.disabled,"aria-expanded":r.open,"aria-required":r.required,"aria-haspopup":"dialog","data-state":r.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,pattern:w,placeholder:n??b.join(x),...e,value:o??"",onBlur:co(e.onBlur,()=>{if(!r.textValue){r.onValueChange(void 0);return}r.onTextValueChange(g.format(r.calendarDate.toDate(r.timeZone))),r.onValueChange(r.calendarDate)}),onChange:co(e.onChange,C=>{if(vw(C.target.value)){const k=C.target.value.split(x),[A,R,T]=v.map((Q,Z)=>{const ee=k[Z];return{...Q,value:ee}}).sort((Q,Z)=>Q.type==="year"?1:Z.type==="year"?-1:Q.type==="month"?1:Z.type==="month"?-1:0).map(Q=>Q.value),D=r.calendarDate.year;let M=r.calendarDate.year;if(T){const Q=T.length===1?`0${T}`:T;M=T.length<3?Number(`${D}`.slice(0,4-Q.length)+Q):Number(Q)}T&&T.length<3&&M>r.maxDate.year&&(M-=100);const B=r.calendarDate.set({year:M}),N=B.calendar.getMonthsInYear(B),W=B.set({month:R&&Number(R)<=N?Number(R):void 0}),K=W.calendar.getDaysInMonth(W),j=W.set({day:A&&Number(A)<=K?Number(A):void 0});r.onCalendarDateChange(PG(j,r.minDate,r.maxDate)),r.onTextValueChange(C.target.value)}}),onKeyDown:co(e.onKeyDown,C=>{if(!r.open&&(vw(C.key)||["ArrowDown","Backspace"].includes(C.key)))d();else if(["Tab"].includes(C.key)&&r.open)C.preventDefault();else if(["Escape"].includes(C.key))r.open?r.onOpenChange(!1):(r.onValueChange(void 0),r.onTextValueChange("")),C.preventDefault();else if(r.open&&["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(C.key))switch(C.preventDefault(),C.key){case"ArrowDown":{const k=r.calendarDate.add({weeks:1});if(r.maxDate&&k.compare(r.maxDate)>0)return;r.onCalendarDateChange(k);return}case"ArrowRight":{const k=r.calendarDate.add({days:1});if(r.maxDate&&k.compare(r.maxDate)>0)return;r.onCalendarDateChange(k);return}case"ArrowUp":{const k=r.calendarDate.subtract({weeks:1});if(r.minDate&&k.compare(r.minDate)<0)return;r.onCalendarDateChange(k);return}case"ArrowLeft":{const k=r.calendarDate.subtract({days:1});if(r.minDate&&k.compare(r.minDate)<0)return;r.onCalendarDateChange(k)}}else r.open&&["Enter"].includes(C.key)&&(C.preventDefault(),i(g.format(r.calendarDate.toDate(r.timeZone))),r.onValueChange(r.calendarDate),r.onOpenChange(!1))})})});function PG(n,e,t){return e&&(n=vp(n,e)),t&&(n=bp(n,t)),n}const MG=F.input`
  width: 100%;
  font-size: 1.4rem;
  line-height: 2.2rem;
  color: ${({theme:n})=>n.colors.neutral800};
  border: none;
  background-color: transparent;

  &:focus-visible {
    outline: none;
  }

  &[aria-disabled='true'] {
    cursor: inherit;
  }
`,OG="DatePickerContent",DG=p.forwardRef((n,e)=>{const[t,r]=p.useState(),i=Xs(OG);if(Is(()=>{r(new DocumentFragment)},[]),!i.open){const o=t;return o?ii.createPortal($.jsx("div",{children:n.children}),o):null}return $.jsx(_G,{...n,ref:e})}),IG="DatePickerContent",_G=p.forwardRef((n,e)=>{const{label:t="Choose date",...r}=n,{onOpenChange:i,...o}=Xs(IG),{x:s,y:a,refs:c,strategy:f,placement:h}=t2({strategy:"fixed",placement:"bottom-start",middleware:[n2({mainAxis:4}),r2(),i2()],elements:{reference:o.trigger},whileElementsMounted:Jw});p.useEffect(()=>{const g=()=>{i(!1)};return window.addEventListener("blur",g),window.addEventListener("resize",g),()=>{window.removeEventListener("blur",g),window.removeEventListener("resize",g)}},[i]);const d=bn(e,g=>o.onContentChange(g),c.setFloating);return Vs(),$.jsx(wf,{allowPinchZoom:!0,children:$.jsx(sG,{asChild:!0,onFocusOutside:g=>{g.preventDefault()},onDismiss:()=>{i(!1)},children:$.jsx(LG,{ref:d,"data-state":o.open?"open":"closed","data-side":h.includes("top")?"top":"bottom",onContextMenu:g=>g.preventDefault(),id:o.contentId,role:"dialog","aria-modal":"true","aria-label":t,style:{left:s,top:a,position:f},hasRadius:!0,background:"neutral0",padding:1,...r})})})}),LG=F(we)`
  box-shadow: ${({theme:n})=>n.shadows.filterShadow};
  z-index: ${({theme:n})=>n.zIndices.popover};
  border: 1px solid ${({theme:n})=>n.colors.neutral150};

  @media (prefers-reduced-motion: no-preference) {
    animation-duration: ${n=>n.theme.motion.timings[200]};

    &[data-state='open'] {
      animation-timing-function: ${n=>n.theme.motion.easings.authenticMotion};

      &[data-side='top'] {
        animation-name: ${yt.slideUpIn};
      }

      &[data-side='bottom'] {
        animation-name: ${yt.slideDownIn};
      }
    }
  }
`,NG="DatePickerCalendar",BG=p.forwardRef(({monthSelectLabel:n,yearSelectLabel:e,...t},r)=>{const{locale:i,timeZone:o,minDate:s,maxDate:a,calendarDate:c,onCalendarDateChange:f}=Xs(NG),h=bO(c),d=p.useMemo(()=>{const A=s.year,R=a.year;return[...Array(R-A+1).keys()].map(T=>(A+T).toString())},[s,a]),g=Qr(i,{month:"long"}),b=p.useMemo(()=>[...Array(c.calendar.getMonthsInYear(c)).keys()].map(A=>g.format(c.set({month:A+1}).toDate(o))),[c,g,o]),x=Qr(i,{weekday:"short"}),v=p.useMemo(()=>{const A=Rw(qm(o),i);return[...new Array(7).keys()].map(R=>{const D=A.add({days:R}).toDate(o);return x.format(D)})},[o,i,x]),w=A=>{if(typeof A=="number")return;const R=c.set({month:b.indexOf(A)+1});f(R)},C=A=>{if(typeof A=="number")return;const R=c.set({year:parseInt(A,10)});f(R)},k=FG(h,i);return $.jsxs(be,{ref:r,direction:"column",alignItems:"stretch",padding:4,...t,children:[$.jsxs(WG,{justifyContent:"flex-start",paddingBottom:4,paddingLeft:2,paddingRight:2,gap:2,children:[$.jsx(Ls,{children:$.jsx(mw,{"aria-label":n,value:b[c.month-1],onChange:w,children:b.map(A=>$.jsx(gw,{value:A,children:A},A))})}),$.jsx(Ls,{children:$.jsx(mw,{value:c.year.toString(),"aria-label":e,onChange:C,children:d.map(A=>$.jsx(gw,{value:A,children:A},A))})})]}),$.jsxs("table",{role:"grid",children:[$.jsx("thead",{"aria-hidden":!0,children:$.jsx("tr",{"aria-rowindex":0,children:v.map((A,R)=>$.jsx(VG,{"aria-colindex":R,children:A},A))})}),$.jsx("tbody",{children:[...new Array(6).keys()].map(A=>$.jsx("tr",{"aria-rowindex":A+2,children:k(A).map((R,T)=>R?$.jsx(zG,{"aria-colindex":T+1,date:R,startDate:h,disabled:s.compare(R)>0||R.compare(a)>0},R.toString()):$.jsx(lE,{"aria-colindex":T+1},T+1))},A))})]})]})}),FG=(n,e)=>t=>{let r=n.add({weeks:t});const i=[];r=Rw(r,e);const o=Aw(r,e);for(let s=0;s<o;s++)i.push(null);for(;i.length<7;){i.push(r);const s=r.add({days:1});if(kw(r,s))break;r=s}for(;i.length<7;)i.push(null);return i},WG=F(be)`
  div[role='combobox'] {
    border: 1px solid transparent;
    background: transparent;
    font-weight: ${n=>n.theme.fontWeights.bold};

    svg {
      fill: ${({theme:n})=>n.colors.neutral500};
    }

    &:hover {
      background-color: ${({theme:n})=>n.colors.neutral100};
    }
  }
`,VG=p.forwardRef(({children:n,...e},t)=>$.jsx(jG,{tag:"th",role:"gridcell",ref:t,...e,height:"2.4rem",width:"3.2rem",children:$.jsx(Ne,{variant:"pi",fontWeight:"bold",color:"neutral800",children:n.slice(0,2)})})),jG=F(we)`
  border-radius: ${({theme:n})=>n.borderRadius};
  text-transform: capitalize;
`,HG="DatePickerCalendarCell",zG=p.forwardRef(({date:n,startDate:e,disabled:t,...r},i)=>{const{timeZone:o,locale:s,calendarDate:a,onValueChange:c,onOpenChange:f,onTextValueChange:h,onCalendarDateChange:d}=Xs(HG),g=kw(a,n),b=Qr(s,{weekday:"long",day:"numeric",month:"long",year:"numeric"}),x=p.useMemo(()=>b.format(n.toDate(o)),[b,n,o]),v=Qr(s,{day:"numeric",calendar:n.calendar.identifier}),w=p.useMemo(()=>v.formatToParts(n.toDate(o)).find(T=>T.type==="day").value,[v,n,o]),C=Qr(s,{day:"2-digit",month:"2-digit",year:"numeric"}),k=vO(e),A=n.compare(e)<0||n.compare(k)>0;let R="neutral900";return g?R="primary600":A&&(R="neutral600"),$.jsx(lE,{tag:"td",role:"gridcell",ref:i,"aria-selected":g,...r,hasRadius:!0,"aria-label":x,tabIndex:g?0:-1,background:g?"primary100":"neutral0",cursor:"pointer",onPointerDown:co(r.onPointerDown,T=>{T.preventDefault(),d(n),c(n),h(C.format(n.toDate(o))),f(!1)}),"aria-disabled":t,children:$.jsx(Ne,{variant:"pi",textColor:R,children:w})})}),lE=F(we)`
  text-align: center;
  padding: 0.7rem;
  // Trick to prevent the outline from overflowing because of the general outline-offset
  outline-offset: -2px !important;
  &[aria-disabled='true'] {
    pointer-events: none;
    opacity: 0.5;
  }

  &[aria-disabled='false'] {
    &:hover {
      background: ${({theme:n})=>n.colors.primary100};
      color: ${({theme:n})=>n.colors.primary600};
    }
  }
`,no=n=>{const e=n.toISOString(),t=Fw(e,"UTC");return Ow(t)},mp=n=>!!n.match(/^[^a-zA-Z]*$/);function UG(n=""){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const KG=p.forwardRef(({step:n=15,value:e,defaultValue:t,onChange:r,...i},o)=>{const s=th("TimePicker"),[a,c]=p.useState(""),[f,h]=Cr({prop:e,defaultProp:t,onChange:r}),d=Qr(s.locale,{hour:"2-digit",minute:"2-digit",hour12:!1}),g=p.useMemo(()=>{const R=d.formatToParts(new Date),{value:T}=R.find(D=>D.type==="literal");return T},[d]),b=p.useMemo(()=>{const R=60/n;return[...Array(24).keys()].flatMap(T=>[...Array(R).keys()].map(D=>d.format(new Date(0,0,0,T,D*n))))},[n,d]),x=R=>{(!R||mp(R))&&c(R)},v=R=>{const[T,D]=R.split(g);if(!T&&!D)return;const M=Number(T??"0"),B=Number(D??"0");if(!(M>23||B>59))return d.format(new Date(0,0,0,M,B))},w=R=>{const T=v(R.target.value);T?(c(T),h(T)):c(f)},C=R=>{if(typeof R<"u"){const T=v(R);h(T)}else h(R)};p.useEffect(()=>{const R=typeof e>"u"?"":e;mp(R)&&c(R)},[e,c]);const A=`\\d{2}${UG(g)}\\d{2}`;return $.jsx(UK,{...i,ref:o,value:f,onChange:C,isPrintableCharacter:mp,allowCustomValue:!0,placeholder:`--${g}--`,autocomplete:"none",startIcon:$.jsx(aO,{fill:"neutral500"}),inputMode:"numeric",pattern:A,textValue:a,onTextValueChange:x,onBlur:w,children:b.map(R=>$.jsx(QK,{value:R,children:R},R))})}),GG=F(CG)`
  flex: 1 1 70%;
  min-width: 120px;
`,qG=F(KG)`
  flex: 1 1 30%;
  min-width: 140px;
`;p.forwardRef(({clearLabel:n="clear",dateLabel:e="Choose date",timeLabel:t="Choose time",disabled:r=!1,hasError:i,onChange:o,onClear:s,required:a=!1,step:c,value:f,initialDate:h,size:d,...g},b)=>{const x=p.useRef(null),[v,w]=Cr({defaultProp:h?$a(h,!1):void 0,prop:f?$a(f,!1):f??void 0,onChange(Q){o&&o(Q?.toDate(xs()))}}),C=th("DateTimePicker"),k=Qr(C.locale,{hour:"2-digit",minute:"2-digit",hour12:!1}),A=v?k.format(v.toDate(xs())):"",R=Q=>{let Z=Q?$a(Q):void 0;if(!(Z&&v&&Z.compare(v)===0)){if(A&&Z){const[ee,ue]=A.split(":");Z=Z.set({hour:parseInt(ee,10),minute:parseInt(ue,10)})}w(Z)}},T=Q=>{if(!Q)return;const[Z,ee]=Q.split(":"),ue=v?v.set({hour:parseInt(Z,10),minute:parseInt(ee,10)}):$a(new Date).set({hour:parseInt(Z,10),minute:parseInt(ee,10)});w(ue)},D=Q=>{w(void 0),s&&s(Q)},M=()=>{const Q=v?v.set({hour:0,minute:0}):$a(new Date);w(Q)},B=bn(x,b),{error:N,id:W,labelNode:K}=Pn("DateTimePicker"),j=!!N||i;return $.jsxs(be,{"aria-labelledby":K?`${W}-label`:void 0,role:"group",flex:"1",gap:1,children:[$.jsx(Ls,{children:$.jsx(GG,{...g,size:d,value:v?.toDate("UTC"),onChange:R,required:a,onClear:s?D:void 0,clearLabel:`${n} date`,disabled:r,ref:B,"aria-label":e})}),$.jsx(Ls,{children:$.jsx(qG,{size:d,hasError:j,value:A,onChange:T,onClear:s&&A!==void 0&&A!=="00:00"?M:void 0,clearLabel:`${n} time`,required:a,disabled:r,step:c,"aria-label":t})})]})});const $a=(n,e=!0)=>{const t=n.toISOString();let r=DO(t);return e&&(r=r.set({hour:0,minute:0})),mo(r)},YG=p.forwardRef((n,e)=>$.jsx(XG,{ref:e,background:"neutral150",...n,"data-orientation":"horizontal",role:"separator",tag:"div"})),XG=F(we)`
  height: 1px;
  border: none;
  /* If contained in a Flex parent we want to prevent the Divider to shink */
  flex-shrink: 0;
`,ZG=F(we)`
  svg {
    height: 8.8rem;
  }
`;p.forwardRef(({icon:n,content:e,action:t,hasRadius:r=!0,shadow:i="tableShadow"},o)=>$.jsxs(be,{ref:o,alignItems:"center",direction:"column",padding:11,background:"neutral0",hasRadius:r,shadow:i,children:[n?$.jsx(ZG,{paddingBottom:6,"aria-hidden":!0,children:n}):null,$.jsx(we,{paddingBottom:4,children:$.jsx(Ne,{variant:"delta",tag:"p",textAlign:"center",textColor:"neutral600",children:e})}),t]}));const cE=Oe.define(),uE=Oe.define(),QG=ye.mark({attributes:{style:"background-color: yellow; color: black"}}),JG=_t.define({create(){return ye.none},update(n,e){return n=n.map(e.changes),e.effects.forEach(t=>{t.is(cE)?n=n.update({add:t.value,sort:!0}):t.is(uE)&&(n=n.update({filter:t.value}))}),n},provide:n=>ae.decorations.from(n)});p.forwardRef(({hasError:n,required:e,id:t,value:r="",disabled:i=!1,onChange:o=()=>null,...s},a)=>{const c=p.useRef(),f=p.useRef(),h=p.useRef(),{error:d,...g}=Pn("JsonInput"),b=!!d||n,x=g.id??t,v=g.required||e;let w;d?w=`${x}-error`:g.hint&&(w=`${x}-hint`);const C=N=>{const W=f.current?.doc;if(W){const{text:K,to:j}=W.line(N),Q=j-K.trimStart().length;j>Q&&h.current?.dispatch({effects:cE.of([QG.range(Q,j)])})}},k=()=>{const N=f.current?.doc;if(N){const W=N.length||0;h.current?.dispatch({effects:uE.of((K,j)=>j<=0||K>=W)})}},A=({state:N,view:W})=>{h.current=W,f.current=N,k();const j=LW()(W);j.length&&C(N.doc.lineAt(j[0].from).number)},R=(N,W)=>{A(W),o(N)},T=(N,W)=>{h.current=N,f.current=W,A({view:N,state:W})},{setContainer:D,view:M}=nA({value:r,onCreateEditor:T,container:c.current,editable:!i,extensions:[FW(),JG],onChange:R,theme:"dark",basicSetup:{lineNumbers:!0,bracketMatching:!0,closeBrackets:!0,indentOnInput:!0,syntaxHighlighting:!0,highlightSelectionMatches:!0,tabSize:2}}),B=bn(c,D);return p.useImperativeHandle(a,()=>({...M?.dom,focus(){M&&M.focus()},scrollIntoView(N){M&&M.dom.scrollIntoView(N)}}),[M]),$.jsx(eq,{ref:B,$disabled:i,$hasError:b,alignItems:"stretch",fontSize:2,hasRadius:!0,"aria-required":v,id:x,"aria-describedby":w,...s})});const eq=F(be)`
  line-height: ${({theme:n})=>n.lineHeights[2]};

  .cm-editor {
    /** 
     * Hard coded since the color is the same between themes,
     * theme.colors.neutral800 changes between themes 
     */
    background-color: #32324d;
    width: 100%;
    outline: none;
    cursor: ${({$disabled:n})=>n?"not-allowed":"text"};
  }

  .cm-scroller {
    border: 1px solid ${({theme:n,$hasError:e})=>e?n.colors.danger600:n.colors.neutral200};
    /* inputFocusStyle will receive hasError prop */
    ${ji()}
  }

  .cm-editor,
  .cm-scroller {
    border-radius: ${({theme:n})=>n.borderRadius};
  }

  .cm-gutters,
  .cm-activeLineGutter {
    /** 
     * Hard coded since the color is the same between themes,
     * theme.colors.neutral700 changes between themes 
     */
    background-color: #4a4a6a;
  }
`;on(({disabled:n,...e},t)=>$.jsx(bs,{ref:t,tag:Sl,tabIndex:n?-1:void 0,disabled:n,...e}));const tq=F(we)`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,nq=({labelledBy:n="main-content-title",...e})=>$.jsx(tq,{"aria-labelledby":n,tag:"main",id:"main-content",tabIndex:-1,...e});F(we)`
  text-decoration: none;

  &:focus {
    left: ${({theme:n})=>n.spaces[3]};
    top: ${({theme:n})=>n.spaces[3]};
  }
`;p.forwardRef((n,e)=>$.jsx(eC,{...n,asChild:!0,ref:e}));p.forwardRef((n,e)=>$.jsxs(tC,{children:[$.jsx(rq,{}),$.jsx(iq,{ref:e,...n})]}));const rq=F(nC)`
  background-color: ${n=>n.theme.colors.neutral800};
  position: fixed;
  inset: 0;
  z-index: ${n=>n.theme.zIndices.overlay};
  opacity: 0.2;
  will-change: opacity;

  @media (prefers-reduced-motion: no-preference) {
    animation: ${yt.overlayFadeIn} ${n=>n.theme.motion.timings[200]}
      ${n=>n.theme.motion.easings.authenticMotion};
  }
`,iq=F(rC)`
  max-width: 83rem;
  max-height: 90vh;
  height: auto;
  width: 60%;
  overflow: hidden;
  margin: 0 auto;
  display: flex;
  flex-direction: column;

  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  border-radius: ${n=>n.theme.borderRadius};
  background-color: ${n=>n.theme.colors.neutral0};
  box-shadow: ${n=>n.theme.shadows.popupShadow};
  z-index: ${n=>n.theme.zIndices.modal};

  @media (prefers-reduced-motion: no-preference) {
    &[data-state='open'] {
      animation-duration: ${n=>n.theme.motion.timings[200]};
      animation-timing-function: ${n=>n.theme.motion.easings.authenticMotion};
      animation-name: ${yt.modalPopIn};
    }

    &[data-state='closed'] {
      animation-duration: ${n=>n.theme.motion.timings[120]};
      animation-timing-function: ${n=>n.theme.motion.easings.easeOutQuad};
      animation-name: ${yt.modalPopOut};
    }
  }
`,oq=p.forwardRef((n,e)=>$.jsx(qg,{...n,asChild:!0,ref:e}));p.forwardRef(({children:n,closeLabel:e="Close modal",...t},r)=>$.jsxs(sq,{ref:r,padding:4,paddingLeft:5,paddingRight:5,background:"neutral100",justifyContent:"space-between",...t,tag:"header",children:[n,$.jsx(oq,{children:$.jsx(_s,{withTooltip:!1,label:e,children:$.jsx(Ns,{})})})]}));const sq=F(be)`
  border-bottom: solid 1px ${n=>n.theme.colors.neutral150};
`;p.forwardRef((n,e)=>$.jsx(iC,{asChild:!0,children:$.jsx(Ne,{tag:"h2",variant:"omega",fontWeight:"bold",ref:e,...n})}));p.forwardRef(({children:n,...e},t)=>$.jsx(aq,{ref:t,...e,children:n}));const aq=F(eh)`
  padding-inline: ${n=>n.theme.spaces[8]};

  & > div {
    padding-block: ${n=>n.theme.spaces[8]};
    /* Add negative margin and padding to avoid cropping the box shadow when the inputs are focused */
    margin: 0 -2px 0 -2px;
    padding-left: 2px;
    padding-right: 2px;

    & > div {
      // the scroll area component applies a display: table to the child, which we don't want.
      display: block !important;
    }
  }
`;p.forwardRef((n,e)=>$.jsx(lq,{ref:e,padding:4,paddingLeft:5,paddingRight:5,background:"neutral100",justifyContent:"space-between",...n,tag:"footer"}));const lq=F(be)`
  border-top: solid 1px ${n=>n.theme.colors.neutral150};
  flex: 1;
`,cq="";p.forwardRef(({startAction:n,locale:e,onValueChange:t,value:r,step:i=1,disabled:o=!1,...s},a)=>{const c=th("NumberInput"),f=e||c.locale,h=p.useRef(new oA(f,{style:"decimal"})),d=p.useRef(new iA(f,{maximumFractionDigits:20})),[g,b]=uq({prop(D){const M=String(r);return isNaN(Number(M))||M!==D&&D!==""?D:d.current.format(Number(r))},defaultProp:cq,onChange(D){const M=h.current.parse(D??"");t(isNaN(M)?void 0:M)}}),x=D=>{b(String(D))},v=({target:{value:D}})=>{h.current.isValidPartialNumber(D)&&x(D)},C=(D=>{const M=D.toString();return M.includes(".")?M.split(".")[1].length:0})(i),k=()=>{if(!g){x(i);return}const D=h.current.parse(g),M=isNaN(D)?i:D+i,B=parseFloat(M.toFixed(C));x(d.current.format(B))},A=()=>{if(!g){x(-i);return}const D=h.current.parse(g),M=isNaN(D)?-i:D-i,B=parseFloat(M.toFixed(C));x(d.current.format(B))},R=D=>{if(!o)switch(D.key){case Ut.DOWN:{D.preventDefault(),A();break}case Ut.UP:{D.preventDefault(),k();break}}},T=()=>{if(g){const D=h.current.parse(g),M=isNaN(D)?"":d.current.format(D);x(M)}};return $.jsx(I0,{ref:a,startAction:n,disabled:o,type:"text",inputMode:"decimal",onChange:v,onKeyDown:R,onBlur:T,value:g,endAction:$.jsxs(be,{direction:"column",children:[$.jsx(xw,{disabled:o,"aria-hidden":!0,$reverse:!0,onClick:k,tabIndex:-1,type:"button","data-testid":"ArrowUp",children:$.jsx(po,{fill:"neutral500"})}),$.jsx(xw,{disabled:o,"aria-hidden":!0,onClick:A,tabIndex:-1,type:"button","data-testid":"ArrowDown",children:$.jsx(po,{fill:"neutral500"})})]}),...s})});const xw=F.button`
  display: flex;
  justify-content: center;
  align-items: center;
  transform: translateY(${({$reverse:n})=>n?"-2px":"2px"});
  cursor: ${({disabled:n})=>n?"not-allowed":void 0};
  height: 1.1rem;

  svg {
    width: 1.2rem;
    transform: ${({$reverse:n})=>n?"rotateX(180deg)":void 0};
  }
`;function uq({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=NA({defaultProp:e,onChange:t}),o=n!==void 0,s=n instanceof Function?n(r):n,a=o?s:r,c=gg(t),f=p.useCallback(h=>{if(o){const g=typeof h=="function"?h(s):h;g!==s&&(c(g),i(h))}else i(h)},[o,s,i,c]);return[a,f]}const fq=p.createContext({activePage:1,pageCount:1}),L0=()=>p.useContext(fq);on(({children:n,...e},t)=>{const{activePage:r}=L0(),i=r===1;return $.jsxs(hE,{ref:t,"aria-disabled":i,tabIndex:i?-1:void 0,...e,children:[$.jsx(Ys,{children:n}),$.jsx(Cw,{"aria-hidden":!0})]})});on(({children:n,...e},t)=>{const{activePage:r,pageCount:i}=L0(),o=r===i;return $.jsxs(hE,{ref:t,"aria-disabled":o,tabIndex:o?-1:void 0,...e,children:[$.jsx(Ys,{children:n}),$.jsx(Km,{"aria-hidden":!0})]})});const fE=F(Sl)`
  padding: ${({theme:n})=>n.spaces[3]};
  border-radius: ${({theme:n})=>n.borderRadius};
  box-shadow: ${({$active:n,theme:e})=>n?e.shadows.filterShadow:void 0};
  text-decoration: none;
  display: flex;

  ${Zf}
`,hE=F(fE)`
  font-size: 1.1rem;

  svg path {
    fill: ${n=>n["aria-disabled"]?n.theme.colors.neutral300:n.theme.colors.neutral600};
  }

  &:focus,
  &:hover {
    svg path {
      fill: ${n=>n["aria-disabled"]?n.theme.colors.neutral300:n.theme.colors.neutral700};
    }
  }

  ${n=>n["aria-disabled"]?`
  pointer-events: none;
    `:void 0}
`;on(({number:n,children:e,...t},r)=>{const{activePage:i}=L0(),o=i===n;return $.jsxs(hq,{ref:r,...t,"aria-current":o,$active:o,children:[$.jsx(Ys,{children:e}),$.jsx(Ne,{"aria-hidden":!0,fontWeight:o?"bold":void 0,lineHeight:"revert",variant:"pi",children:n})]})});const hq=F(fE)`
  color: ${({theme:n,$active:e})=>e?n.colors.primary700:n.colors.neutral800};
  background: ${({theme:n,$active:e})=>e?n.colors.neutral0:void 0};

  &:hover {
    box-shadow: ${({theme:n})=>n.shadows.filterShadow};
  }
`;p.forwardRef((n,e)=>$.jsx(gz,{...n,asChild:!0,ref:e}));p.forwardRef((n,e)=>$.jsx(bz,{children:$.jsx(dq,{sideOffset:4,side:"bottom",align:"start",...n,ref:e})}));const dq=F(vz)`
  box-shadow: ${({theme:n})=>n.shadows.filterShadow};
  z-index: ${({theme:n})=>n.zIndices.popover};
  background-color: ${n=>n.theme.colors.neutral0};
  border: 1px solid ${({theme:n})=>n.colors.neutral150};
  border-radius: ${({theme:n})=>n.borderRadius};

  @media (prefers-reduced-motion: no-preference) {
    animation-duration: ${n=>n.theme.motion.timings[200]};

    &[data-state='open'] {
      animation-timing-function: ${n=>n.theme.motion.easings.authenticMotion};

      &[data-side='top'] {
        animation-name: ${yt.slideUpIn};
      }

      &[data-side='bottom'] {
        animation-name: ${yt.slideDownIn};
      }
    }

    &[data-state='closed'] {
      animation-timing-function: ${n=>n.theme.motion.easings.easeOutQuad};

      &[data-side='top'] {
        animation-name: ${yt.slideUpOut};
      }

      &[data-side='bottom'] {
        animation-name: ${yt.slideDownOut};
      }
    }
  }
`;p.forwardRef(({children:n,intersectionId:e,onReachEnd:t,...r},i)=>{const o=p.useRef(null),s=bn(o,i),a=ar();return kl(o,t??(()=>{}),{selectorToWatch:`#${Ds(a)}`,skipWhen:!e||!t}),$.jsxs(pq,{ref:s,...r,children:[n,e&&t&&$.jsx(we,{id:Ds(a),width:"100%",height:"1px"})]})});const pq=F(eh)`
  height: 20rem;
`;p.forwardRef(({size:n="M",value:e,...t},r)=>$.jsx(mq,{ref:r,$size:n,...t,children:$.jsx(gq,{style:{transform:`translate3D(-${100-(e??0)}%, 0, 0)`}})}));const mq=F(Ez)`
  position: relative;
  overflow: hidden;
  width: ${n=>n.$size==="S"?"7.8rem":"10.2rem"};
  height: ${n=>n.$size==="S"?"0.4rem":"0.8rem"};
  background-color: ${n=>n.theme.colors.neutral600};
  border-radius: ${n=>n.theme.borderRadius};

  /* Fix overflow clipping in Safari */
  /* https://gist.github.com/domske/b66047671c780a238b51c51ffde8d3a0 */
  transform: translateZ(0);
`,gq=F(Rz)`
  background-color: ${({theme:n})=>n.colors.neutral0};
  border-radius: ${({theme:n})=>n.borderRadius};
  width: 100%;
  height: 100%;

  @media (prefers-reduced-motion: no-preference) {
    transition: transform ${n=>n.theme.motion.timings[320]}
      ${n=>n.theme.motion.easings.authenticMotion};
  }
`;p.forwardRef((n,e)=>$.jsx(bq,{ref:e,...n}));const bq=F(zz)`
  display: flex;
  flex-direction: column;
  gap: ${n=>n.theme.spaces[3]};
`;p.forwardRef(({children:n,id:e,...t},r)=>{const i=ar(e);return $.jsxs(be,{gap:2,children:[$.jsx(vq,{id:i,ref:r,...t,children:$.jsx(xq,{})}),$.jsx(Ne,{tag:"label",htmlFor:i,children:n})]})});const vq=F(Uz)`
  background: ${n=>n.theme.colors.neutral0};
  width: 2rem;
  height: 2rem;
  flex: 0 0 2rem;
  border-radius: 50%;
  border: 1px solid ${n=>n.theme.colors.neutral300};
  position: relative;
  cursor: pointer;
  z-index: 0;

  @media (prefers-reduced-motion: no-preference) {
    transition: border-color ${n=>n.theme.motion.timings[120]}
      ${n=>n.theme.motion.easings.easeOutQuad};
  }

  &[data-state='checked'] {
    border: 1px solid ${n=>n.theme.colors.primary600};
  }

  &[data-disabled] {
    cursor: not-allowed;
    background-color: ${n=>n.theme.colors.neutral200};
  }

  /* increase target size for touch devices https://www.w3.org/WAI/WCAG21/Understanding/target-size.html */
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;
    min-width: 44px;
    min-height: 44px;
  }
`,xq=F(Kz)`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  position: relative;

  &[data-state='checked'] {
    @media (prefers-reduced-motion: no-preference) {
      animation: ${yt.popIn} ${n=>n.theme.motion.timings[200]};
    }
  }

  &::after {
    content: '';
    display: block;
    width: 1rem;
    height: 1rem;
    border-radius: 50%;
    background: ${n=>n.theme.colors.primary600};
  }
`,yq=n=>{const e=n.querySelector('[tabindex="0"]');e&&e.focus()},dE=p.createContext({rowIndex:0,colIndex:0,setTableValues(){throw new Error("setTableValues must be initialized via the RawTableContext.Provider")}}),wq=()=>p.useContext(dE),$q=p.forwardRef(({colCount:n,rowCount:e,jumpStep:t=3,initialCol:r=0,initialRow:i=0,...o},s)=>{const a=p.useRef(null),c=p.useRef(!1),f=bn(a,s),[h,d]=p.useState(i),[g,b]=p.useState(r),x=p.useCallback(({colIndex:C,rowIndex:k})=>{b(C),d(k)},[]);p.useEffect(()=>{c.current&&yq(a.current),c.current||(c.current=!0)},[g,h]);const v=C=>{switch(C.key){case Ut.RIGHT:{C.preventDefault(),b(k=>k<n-1?k+1:k);break}case Ut.LEFT:{C.preventDefault(),b(k=>k>0?k-1:k);break}case Ut.UP:{C.preventDefault(),d(k=>k>0?k-1:k);break}case Ut.DOWN:{C.preventDefault(),d(k=>k<e-1?k+1:k);break}case Ut.HOME:{C.preventDefault(),C.ctrlKey&&d(0),b(0);break}case Ut.END:{C.preventDefault(),C.ctrlKey&&d(e-1),b(n-1);break}case Ut.PAGE_DOWN:{C.preventDefault(),d(k=>k+t<e?k+t:e-1);break}case Ut.PAGE_UP:{C.preventDefault(),d(k=>k-t>0?k-t:0);break}}},w=p.useMemo(()=>({rowIndex:h,colIndex:g,setTableValues:x}),[g,h,x]);return $.jsx(dE.Provider,{value:w,children:$.jsx("table",{role:"grid",ref:f,"aria-rowcount":e,"aria-colcount":n,onKeyDown:v,...o})})}),Ca=(n,e)=>[...n.querySelectorAll('a, button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])')].filter(i=>!i.hasAttribute("disabled")),gp=n=>n.filter(e=>e.tagName==="INPUT"?e.type!=="checkbox"&&e.type!=="radio":!1),pE=p.forwardRef(({coords:n={col:0,row:0},tag:e="td",...t},r)=>{const i=p.useRef(null),o=bn(r,i),{rowIndex:s,colIndex:a,setTableValues:c}=wq(),[f,h]=p.useState(!1),d=x=>{const v=Ca(i.current);if(v.length===0||v.length===1&&gp(v).length===0)return;if(v.length>1&&!v.find(C=>C.tagName!=="BUTTON")){x.preventDefault();const C=v.findIndex(k=>k===document.activeElement);if(x.key===Ut.RIGHT){const k=v[C+1];k&&(x.stopPropagation(),k.focus())}else if(x.key===Ut.LEFT){const k=v[C-1];k&&(x.stopPropagation(),k.focus())}return}const w=x.key===Ut.ENTER;if(w&&!f)h(!0);else if((x.key===Ut.ESCAPE||w)&&f){if(w&&document.activeElement?.tagName==="A")return;h(!1),i.current.focus()}else f&&x.stopPropagation()},g=s===n.row-1&&a===n.col-1;Is(()=>{const x=Ca(i.current);x.length===0||x.length===1&&gp(x).length!==0||x.length>1&&x.find(v=>v.tagName!=="BUTTON")?(i.current.setAttribute("tabIndex",!f&&g?"0":"-1"),x.forEach((v,w)=>{v.setAttribute("tabIndex",f?"0":"-1"),f&&w===0&&v.focus()})):x.forEach(v=>{v.setAttribute("tabIndex",g?"0":"-1")})},[f,g]);const b=p.useCallback(()=>{const x=Ca(i.current);x.length>=1&&(gp(x).length!==0||!x.find(v=>v.tagName!=="BUTTON"))&&h(!0),c({rowIndex:n.row-1,colIndex:n.col-1})},[n,c]);return Is(()=>{const x=i.current;return Ca(x).forEach(w=>{w.addEventListener("focus",b)}),()=>{Ca(x).forEach(C=>{C.removeEventListener("focus",b)})}},[b]),$.jsx(we,{role:"gridcell",tag:e,ref:o,onKeyDown:d,...t})}),Cq=n=>$.jsx(pE,{...n,tag:"th"}),Sq=({children:n,...e})=>{const t=p.Children.toArray(n).map(r=>p.isValidElement(r)?p.cloneElement(r,{"aria-rowindex":1}):r);return $.jsx("thead",{...e,children:t})},kq=({children:n,...e})=>{const t=p.Children.toArray(n).map((r,i)=>p.isValidElement(r)?p.cloneElement(r,{"aria-rowindex":i+2}):r);return $.jsx("tbody",{...e,children:t})},Aq=({children:n,...e})=>{const t=p.Children.toArray(n).map((r,i)=>p.isValidElement(r)?p.cloneElement(r,{"aria-colindex":i+1,coords:{col:i+1,row:e["aria-rowindex"]}}):r);return $.jsx(we,{tag:"tr",...e,children:t})},Eq=F(Ns)`
  font-size: 0.5rem;
  path {
    fill: ${({theme:n})=>n.colors.neutral500};
  }
`,mE=F(lO)`
  font-size: 1rem;
  path {
    fill: ${({theme:n})=>n.colors.neutral500};
  }
`,Rq=F.div`
  border-radius: ${({theme:n})=>n.borderRadius};
  border: 1px solid ${({theme:n})=>n.colors.neutral150}

  &:focus-within {
    ${mE} {
      fill: ${({theme:n})=>n.colors.primary600};
    }
  }
`,Tq=F(I0)`
  border: 1px solid ${({theme:n})=>n.colors.neutral150}
  height: 16px;
  padding: 0 0 0 8px;
  color: ${({theme:n})=>n.colors.neutral800};

  &::placeholder {
    color: ${({theme:n})=>n.colors.neutral500};
  }

  &:hover {
    button {
      cursor: pointer;
    }
  }

  ${ji()}
`;p.forwardRef(({name:n,children:e,value:t="",onClear:r,clearLabel:i="Clear",...o},s)=>{const a=p.useRef(null),c=t.length>0,f=d=>{r(d),a.current.focus()},h=VA(s,a);return $.jsx(Rq,{children:$.jsxs(Ls,{name:n,children:[$.jsx(Ys,{children:$.jsx(QA,{children:e})}),$.jsx(Tq,{size:"S",ref:h,value:t,startAction:$.jsx(mE,{"aria-hidden":!0}),endAction:c?$.jsx(_s,{onClick:f,onMouseDown:d=>{d.preventDefault()},label:i,size:"XS",variant:"ghost",type:"button",children:$.jsx(Eq,{})}):void 0,...o})]})})});const Pq=F(we)`
  display: inline-flex;
  border: none;

  & > svg {
    height: 1.2rem;
    width: 1.2rem;
  }

  & > svg path {
    fill: ${({theme:n,...e})=>e["aria-disabled"]?n.colors.neutral600:n.colors.primary600};
  }

  &:hover {
    cursor: ${({$iconAction:n})=>n?"pointer":"initial"};
  }
`,Mq=({children:n,icon:e,label:t,disabled:r=!1,onClick:i,...o})=>{const s=a=>{r||!i||i(a)};return $.jsxs(be,{inline:!0,background:r?"neutral200":"primary100",color:r?"neutral700":"primary600",paddingLeft:3,paddingRight:1,borderColor:r?"neutral300":"primary200",hasRadius:!0,height:"3.2rem",...o,children:[$.jsx(Oq,{$disabled:r,variant:"pi",fontWeight:"bold",children:n}),$.jsx(Pq,{tag:"button",disabled:r,"aria-disabled":r,"aria-label":t,padding:2,onClick:s,$iconAction:!!i,children:e})]})},Oq=F(Ne)`
  color: inherit;
  border-right: 1px solid ${({theme:n,$disabled:e})=>e?n.colors.neutral300:n.colors.primary200};
  padding-right: ${({theme:n})=>n.spaces[2]};
`;p.forwardRef(({children:n,clearLabel:e="Clear",customizeContent:t,disabled:r,hasError:i,id:o,name:s,onChange:a,onClear:c,onCloseAutoFocus:f,onReachEnd:h,placeholder:d,required:g,size:b,startIcon:x,value:v,withTags:w,...C},k)=>{const A=p.useRef(null),[R,T]=p.useState(),[D,M]=p.useState(!1),B=ve=>{a?a(ve):T(ve)},N=ve=>()=>{const ze=Array.isArray(v)?v.filter(Re=>Re!==ve):(R??[]).filter(Re=>Re!==ve);a?a(ze):T(ze)},W=ve=>{M(ve)},K=ar(),j=`intersection-${Ds(K)}`;kl(A,ve=>{h&&h(ve)},{selectorToWatch:`#${j}`,skipWhen:!D});const Z=typeof v<"u"&&v!==null?v:R,ee=ve=>ve&&typeof ve=="object"&&ve.value?$.jsx(Mq,{tabIndex:-1,disabled:r,icon:$.jsx(Ns,{width:`${14/16}rem`,height:`${14/16}rem`}),onClick:N(ve.value),children:ve.textValue},ve.value):null,{error:ue,...te}=Pn("MultiSelect"),oe=!!ue||i,q=te.id??o,le=te.name??s,he=te.required??g;let De;return ue?De=`${q}-error`:te.hint&&(De=`${q}-hint`),$.jsxs(eE,{onOpenChange:W,disabled:r,required:he,onValueChange:B,value:Z,...C,multi:!0,children:[$.jsx(tE,{ref:k,id:q,name:le,"aria-label":C["aria-label"],"aria-describedby":De??C["aria-describedby"],startIcon:x,hasError:oe,disabled:r,clearLabel:e,onClear:Z?.length?c:void 0,withTags:!!(w&&(Z?.length??!1)),size:b,children:$.jsx(nE,{placeholder:d,textColor:Z?.length?"neutral800":"neutral600",children:Z?.length?w?ee:t?t(Z):void 0:void 0})}),$.jsx(rE,{children:$.jsx(iE,{position:"popper",sideOffset:4,onCloseAutoFocus:f,children:$.jsxs(oE,{ref:A,children:[n,$.jsx(we,{id:j,width:"100%",height:"1px"})]})})})]})});const Dq=p.forwardRef(({value:n,children:e,startIcon:t,...r},i)=>$.jsxs(_0,{ref:i,value:n.toString(),...r,children:[t&&$.jsx(we,{tag:"span","aria-hidden":!0,children:t}),$.jsx(sE,{children:({isSelected:o,isIntermediate:s})=>$.jsx(D0,{checked:s?"indeterminate":o})}),$.jsx(Ne,{children:$.jsx(aE,{children:e})})]}));p.forwardRef(({children:n,label:e,startIcon:t,values:r=[],...i},o)=>$.jsxs(yG,{ref:o,children:[$.jsxs(_0,{value:r,...i,children:[t&&$.jsx(we,{tag:"span","aria-hidden":!0,children:t}),$.jsx(sE,{children:({isSelected:s,isIntermediate:a})=>$.jsx(D0,{checked:a?"indeterminate":s})}),$.jsx(Ne,{children:e})]}),n]}));F(Dq)`
  padding-left: ${({theme:n})=>n.spaces[7]};
`;const Iq="23.2rem";p.forwardRef(({...n},e)=>$.jsx(_q,{ref:e,...n,tag:"nav"}));const _q=F(we)`
  width: ${Iq};
  background: ${({theme:n})=>n.colors.neutral100};
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
  border-right: 1px solid ${({theme:n})=>n.colors.neutral200};
  z-index: 1;
`;F(YG)`
  width: 2.4rem;
  background-color: ${({theme:n})=>n.colors.neutral200};
`;on(({active:n,children:e,icon:t=null,withBullet:r=!1,isSubSectionChild:i=!1,...o},s)=>$.jsxs(Lq,{background:"neutral100",paddingLeft:i?9:7,paddingBottom:2,paddingTop:2,ref:s,...o,children:[$.jsxs(be,{children:[t?$.jsx(Nq,{children:t}):$.jsx(Hm,{$active:n}),$.jsx(Ne,{paddingLeft:2,children:e})]}),r&&$.jsx(be,{paddingRight:4,children:$.jsx(Hm,{$active:!0})})]}));const Hm=F.span`
  width: 0.4rem;
  height: 0.4rem;
  background-color: ${({theme:n,$active:e})=>e?n.colors.primary600:n.colors.neutral600};
  border-radius: 50%;
`,Lq=F(Sl)`
  display: flex;
  align-items: center;
  justify-content: space-between;
  text-decoration: none;
  color: ${({theme:n})=>n.colors.neutral800};
  svg > * {
    fill: ${({theme:n})=>n.colors.neutral600};
  }

  &.active {
    ${({theme:n})=>Te`
        background-color: ${n.colors.primary100};
        border-right: 2px solid ${n.colors.primary600};
        color: ${n.colors.primary700};
        font-weight: 500;
      `}

    ${Hm} {
      background-color: ${({theme:n})=>n.colors.primary600};
    }
  }

  &:focus-visible {
    outline-offset: -2px;
  }
`,Nq=F.div`
  svg {
    height: 1.6rem;
    width: 1.6rem;
  }
`;F.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`;F(we)`
  & > svg {
    height: 0.4rem;
    fill: ${({theme:n})=>n.colors.neutral500};
  }
`;p.forwardRef(({visibleLabels:n,onLabel:e="On",offLabel:t="Off",onCheckedChange:r,checked:i,defaultChecked:o,disabled:s,...a},c)=>{const[f,h]=Cr({prop:i,defaultProp:o}),d=g=>{h(g)};return $.jsxs(be,{gap:3,children:[$.jsx(Bq,{ref:c,onCheckedChange:co(r,d),checked:f,disabled:s,...a,children:$.jsx(Fq,{})}),n?$.jsx(Wq,{"aria-hidden":!0,"data-disabled":s,"data-state":f?"checked":"unchecked",children:f?e:t}):null]})});const Bq=F(eU)`
  width: 4rem;
  height: 2.4rem;
  border-radius: 1.2rem;
  background-color: ${({theme:n})=>n.colors.danger500};

  &[data-state='checked'] {
    background-color: ${({theme:n})=>n.colors.success500};
  }

  &[data-disabled] {
    background-color: ${({theme:n})=>n.colors.neutral300};
  }

  @media (prefers-reduced-motion: no-preference) {
    transition: ${n=>n.theme.transitions.backgroundColor};
  }
`,Fq=F(tU)`
  display: block;
  height: 1.6rem;
  width: 1.6rem;
  border-radius: 50%;
  background-color: ${({theme:n})=>n.colors.neutral0};
  transform: translateX(4px);

  &[data-state='checked'] {
    transform: translateX(20px);
  }

  @media (prefers-reduced-motion: no-preference) {
    transition: transform ${n=>n.theme.motion.timings[120]}
      ${n=>n.theme.motion.easings.authenticMotion};
  }
`,Wq=F(Ne)`
  color: ${n=>n.theme.colors.danger600};

  &[data-state='checked'] {
    color: ${n=>n.theme.colors.success600};
  }

  &[data-disabled='true'] {
    color: ${({theme:n})=>n.colors.neutral500};
  }
`,[Vq,N0]=Cl("Tabs");p.forwardRef(({disabled:n=!1,variant:e="regular",hasError:t,...r},i)=>$.jsx(Vq,{disabled:n,hasError:t,variant:e,children:$.jsx(jq,{ref:i,...r})}));const jq=F(fU)`
  width: 100%;
  position: relative;
`;p.forwardRef((n,e)=>{const{variant:t}=N0("List");return $.jsx(Hq,{ref:e,...n,$variant:t})});const Hq=F(hU)`
  display: flex;
  align-items: ${n=>n.$variant==="regular"?"flex-end":"unset"};
  position: relative;
  z-index: 0;
`;p.forwardRef(({children:n,disabled:e,...t},r)=>{const{disabled:i,variant:o,hasError:s}=N0("Trigger"),a=i===!0||i===t.value||e,c=s===t.value;return $.jsxs(zq,{ref:r,...t,$hasError:c,$variant:o,disabled:a,children:[$.jsx(bE,{fontWeight:"bold",variant:o==="simple"?"sigma":void 0,children:n}),o==="simple"?$.jsx(gE,{}):null]})});const gE=F.span`
  display: block;
  width: 100%;
  background-color: currentColor;
  position: absolute;
  bottom: 0;
  left: 0;
  opacity: 0;
  height: 0.2rem;
`,bE=F(Ne)``,zq=F(dU)`
  position: relative;
  color: ${n=>n.$hasError?n.theme.colors.danger600:n.theme.colors.neutral600};
  cursor: pointer;
  z-index: 0;

  ${n=>n.$variant==="simple"?Te`
        padding-block: ${e=>e.theme.spaces[4]};
        padding-inline: ${e=>e.theme.spaces[4]};

        & > ${bE} {
          line-height: 1.2rem;
        }

        &[data-state='active'] {
          color: ${n.$hasError?n.theme.colors.danger600:n.theme.colors.primary700};

          & > ${gE} {
            opacity: 1;
          }
        }
      `:Te`
        padding-block: ${e=>e.theme.spaces[3]};
        padding-inline: ${e=>e.theme.spaces[3]};
        flex: 1;
        background-color: ${e=>e.theme.colors.neutral100};
        border-bottom: solid 1px ${e=>e.theme.colors.neutral150};

        &:not([data-state='active']) + &:not([data-state='active']) {
          border-left: solid 1px ${e=>e.theme.colors.neutral150};
        }

        &[data-state='active'] {
          padding-block: ${e=>e.theme.spaces[4]};
          padding-inline: ${e=>e.theme.spaces[4]};
          color: ${n.$hasError?n.theme.colors.danger600:n.theme.colors.primary700};
          border-top-right-radius: ${e=>e.theme.borderRadius};
          border-top-left-radius: ${e=>e.theme.borderRadius};
          background-color: ${e=>e.theme.colors.neutral0};
          border-bottom: solid 1px ${e=>e.theme.colors.neutral0};
          box-shadow: ${n.theme.shadows.tableShadow};
          z-index: 1;
        }
      `}

  &[data-disabled] {
    cursor: not-allowed;
    color: ${n=>n.theme.colors.neutral400};
  }
`;p.forwardRef((n,e)=>{const{variant:t}=N0("Content");return $.jsx(Uq,{$variant:t,ref:e,...n})});const Uq=F(pU)`
  ${n=>n.$variant==="simple"?Te``:Te`
        position: relative;
        z-index: 1;
        background-color: ${e=>e.theme.colors.neutral0};
      `}
`,Kq=F(we)`
  overflow: hidden;
  border: 1px solid ${({theme:n})=>n.colors.neutral150};
`,Gq=F($q)`
  width: 100%;
  white-space: nowrap;
`,qq=F(we)`
  &:before {
    // TODO: make sure to add a token for this weird stuff
    background: linear-gradient(90deg, #c0c0cf 0%, rgba(0, 0, 0, 0) 100%);
    opacity: 0.2;
    position: absolute;
    height: 100%;
    content: ${({$overflowing:n})=>n==="both"||n==="left"?"''":void 0};
    box-shadow: ${({theme:n})=>n.shadows.tableShadow};
    width: ${({theme:n})=>n.spaces[2]};
    left: 0;
  }

  &:after {
    // TODO: make sure to add a token for this weird stuff
    background: linear-gradient(270deg, #c0c0cf 0%, rgba(0, 0, 0, 0) 100%);
    opacity: 0.2;
    position: absolute;
    height: 100%;
    content: ${({$overflowing:n})=>n==="both"||n==="right"?"''":void 0};
    box-shadow: ${({theme:n})=>n.shadows.tableShadow};
    width: ${({theme:n})=>n.spaces[2]};
    right: 0;
    top: 0;
  }
`,Yq=F(we)`
  overflow-x: auto;
`;p.forwardRef(({footer:n,...e},t)=>{const r=p.useRef(null),[i,o]=p.useState(),s=a=>{const c=a.target.scrollWidth-a.target.clientWidth;if(a.target.scrollLeft===0){o("right");return}if(a.target.scrollLeft===c){o("left");return}a.target.scrollLeft>0&&o("both")};return p.useEffect(()=>{r.current.scrollWidth>r.current.clientWidth&&o("right")},[]),$.jsxs(Kq,{shadow:"tableShadow",hasRadius:!0,background:"neutral0",children:[$.jsx(qq,{$overflowing:i,position:"relative",children:$.jsx(Yq,{ref:r,onScroll:s,paddingLeft:6,paddingRight:6,children:$.jsx(Gq,{ref:t,...e})})}),n]})});F(kq)`
  & tr:last-of-type {
    border-bottom: none;
  }
`;F(Sq)`
  border-bottom: 1px solid ${({theme:n})=>n.colors.neutral150};
`;F(Aq)`
  border-bottom: 1px solid ${({theme:n})=>n.colors.neutral150};

  & td,
  & th {
    padding: ${({theme:n})=>n.spaces[4]};
  }

  & td:first-of-type,
  & th:first-of-type {
    padding: 0 ${({theme:n})=>n.spaces[1]};
  }

  // Resetting padding values and fixing a height
  th {
    padding-top: 0;
    padding-bottom: 0;
    height: 5.6rem;
  }
`;const vE=F(pE)`
  vertical-align: middle;
  text-align: left;
  outline-offset: -4px;

  /**
  * Hack to make sure the checkbox looks aligned
  */
  input {
    vertical-align: sub;
  }
`;p.forwardRef(({children:n,action:e,...t},r)=>$.jsx(vE,{color:"neutral600",as:Cq,ref:r,...t,children:$.jsxs(be,{children:[n,e]})}));p.forwardRef(({children:n,...e},t)=>$.jsx(vE,{color:"neutral800",ref:t,...e,children:n}));F(we)`
  height: 2.4rem;
  width: 2.4rem;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;

  svg {
    height: 1rem;
    width: 1rem;
  }

  svg path {
    fill: ${({theme:n})=>n.colors.primary600};
  }
`;F(we)`
  border-radius: 0 0 ${({theme:n})=>n.borderRadius} ${({theme:n})=>n.borderRadius};
  display: block;
  width: 100%;
  border: none;
`;on(({children:n,startIcon:e,endIcon:t,disabled:r=!1,loading:i=!1,...o},s)=>{const a=r||i;return $.jsxs(Qq,{ref:s,disabled:a,"aria-disabled":a,tag:"button",type:"button",gap:2,...o,children:[i?$.jsx(Zq,{"aria-hidden":!0,children:$.jsx($w,{})}):e,$.jsx(Ne,{variant:"pi",children:n}),t]})});const Xq=zt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,Zq=F.span`
  display: flex;
  animation: ${Xq} 2s infinite linear;
  will-change: transform;
`,Qq=F(be)`
  border: none;
  background-color: transparent;
  color: ${n=>n.theme.colors.primary600};
  cursor: pointer;

  &[aria-disabled='true'] {
    pointer-events: none;
    color: ${n=>n.theme.colors.neutral600};
  }

  ${Zf}
`,Jq=p.forwardRef((n,e)=>$.jsx(I0,{ref:e,...n}));Jq.displayName="TextInput";p.forwardRef(({disabled:n,hasError:e,id:t,name:r,required:i,...o},s)=>{const{error:a,...c}=Pn("Textarea"),f=!!a||e,h=c.id??t,d=c.name??r,g=c.required||i;let b;return a?b=`${h}-error`:c.hint&&(b=`${h}-hint`),$.jsx(eY,{borderColor:f?"danger600":"neutral200",$hasError:f,hasRadius:!0,children:$.jsx(tY,{"aria-invalid":f,"aria-required":g,tag:"textarea",background:n?"neutral150":"neutral0",color:n?"neutral600":"neutral800",disabled:n,fontSize:2,hasRadius:!0,ref:s,lineHeight:4,padding:4,width:"100%",height:"100%",id:h,name:d,"aria-describedby":b,...o})})});const eY=F(we)`
  height: 10.5rem;
  ${ji()}
`,tY=F(we)`
  border: none;
  resize: none;

  ::placeholder {
    color: ${({theme:n})=>n.colors.neutral500};
    font-size: ${({theme:n})=>n.fontSizes[2]};
    color: ${({theme:n})=>n.colors.neutral500};
    opacity: 1;
  }

  &:focus-within {
    outline: none;
  }

  &:disabled {
    cursor: not-allowed;
  }
`;p.forwardRef(({offLabel:n,onLabel:e,disabled:t,hasError:r,required:i,id:o,name:s,checked:a,onChange:c,...f},h)=>{const[d=!1,g]=Cr({prop:a}),b=d!==null&&!d,{error:x,...v}=Pn("Toggle"),w=!!x||r,C=v.id??o,k=v.name??s,A=v.required||i;let R;return x?R=`${C}-error`:v.hint&&(R=`${C}-hint`),$.jsxs(nY,{position:"relative",hasRadius:!0,padding:1,background:t?"neutral150":"neutral100",borderStyle:"solid",borderWidth:"1px",borderColor:"neutral200",wrap:"wrap",cursor:t?"not-allowed":"pointer",$hasError:w,children:[$.jsx(yw,{hasRadius:!0,flex:"1 1 50%",paddingTop:2,paddingBottom:2,paddingLeft:3,paddingRight:3,justifyContent:"center",background:t&&b?"neutral200":b?"neutral0":"transparent",borderColor:t&&b?"neutral300":b?"neutral200":t?"neutral150":"neutral100",children:$.jsx(Ne,{variant:"pi",fontWeight:"bold",textTransform:"uppercase",textColor:t?"neutral700":b?"danger700":"neutral600",children:n})}),$.jsx(yw,{hasRadius:!0,flex:"1 1 50%",paddingLeft:3,paddingRight:3,justifyContent:"center",background:t&&d?"neutral200":d?"neutral0":"transparent",borderColor:t&&d?"neutral300":d?"neutral200":t?"neutral150":"neutral100",children:$.jsx(Ne,{variant:"pi",fontWeight:"bold",textTransform:"uppercase",textColor:t?"neutral700":d?"primary600":"neutral600",children:e})}),$.jsx(rY,{...f,id:C,name:k,ref:h,onChange:T=>{g(T.currentTarget.checked),c?.(T)},type:"checkbox","aria-required":A,disabled:t,"aria-disabled":t,checked:!!d,"aria-describedby":R})]})});const nY=F(be)`
  ${ji()}
`,yw=F(be)`
  padding-block: 0.6rem;
`,rY=F.input`
  height: 100%;
  left: 0;
  opacity: 0;
  position: absolute;
  top: 0;
  z-index: 0;
  width: 100%;
`;on((n,e)=>{const{gap:t=0,gridCols:r=12,...i}=n;return $.jsx(iY,{ref:e,$gap:t,$gridCols:r,...i})});const iY=F(we)`
  display: grid;
  grid-template-columns: repeat(${({$gridCols:n})=>n}, 1fr);
  ${({theme:n,$gap:e})=>Xf({gap:e},n)}
`;on(({col:n,s:e,xs:t,m:r,...i},o)=>$.jsx(oY,{ref:o,$col:n,$s:e,$xs:t,$m:r,...i}));const oY=F(be)`
  grid-column: span ${({$xs:n})=>n??12};
  max-width: 100%;

  ${({theme:n})=>n.breakpoints.small} {
    grid-column: span ${({$s:n,$xs:e})=>n??e??12};
  }

  ${({theme:n})=>n.breakpoints.medium} {
    grid-column: span ${({$m:n,$s:e,$xs:t})=>n??e??t??12};
  }

  ${({theme:n})=>n.breakpoints.large} {
    grid-column: span ${({$col:n,$m:e,$s:t,$xs:r})=>n??e??t??r??12};
  }
`;var sY=function(n){console.error(n)},aY=function(n){console.warn(n)},lY={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:sY,onWarn:aY};function cY(n,e,t){if(t===void 0&&(t=Error),!n)throw new t(e)}function uY(n){cY(n,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}Je(Je({},lY),{textComponent:p.Fragment});var xE={exports:{}},tt={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,a=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,b=n?Symbol.for("react.memo"):60115,x=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,w=n?Symbol.for("react.fundamental"):60117,C=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function A(ne){return typeof ne=="string"||typeof ne=="function"||ne===r||ne===f||ne===o||ne===i||ne===d||ne===g||typeof ne=="object"&&ne!==null&&(ne.$$typeof===x||ne.$$typeof===b||ne.$$typeof===s||ne.$$typeof===a||ne.$$typeof===h||ne.$$typeof===w||ne.$$typeof===C||ne.$$typeof===k||ne.$$typeof===v)}function R(ne){if(typeof ne=="object"&&ne!==null){var ut=ne.$$typeof;switch(ut){case e:var qe=ne.type;switch(qe){case c:case f:case r:case o:case i:case d:return qe;default:var Fe=qe&&qe.$$typeof;switch(Fe){case a:case h:case x:case b:case s:return Fe;default:return ut}}case t:return ut}}}var T=c,D=f,M=a,B=s,N=e,W=h,K=r,j=x,Q=b,Z=t,ee=o,ue=i,te=d,oe=!1;function q(ne){return oe||(oe=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),le(ne)||R(ne)===c}function le(ne){return R(ne)===f}function he(ne){return R(ne)===a}function De(ne){return R(ne)===s}function ve(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===e}function ze(ne){return R(ne)===h}function Re(ne){return R(ne)===r}function Ve(ne){return R(ne)===x}function pe(ne){return R(ne)===b}function Pe(ne){return R(ne)===t}function Ee(ne){return R(ne)===o}function _e(ne){return R(ne)===i}function $e(ne){return R(ne)===d}tt.AsyncMode=T,tt.ConcurrentMode=D,tt.ContextConsumer=M,tt.ContextProvider=B,tt.Element=N,tt.ForwardRef=W,tt.Fragment=K,tt.Lazy=j,tt.Memo=Q,tt.Portal=Z,tt.Profiler=ee,tt.StrictMode=ue,tt.Suspense=te,tt.isAsyncMode=q,tt.isConcurrentMode=le,tt.isContextConsumer=he,tt.isContextProvider=De,tt.isElement=ve,tt.isForwardRef=ze,tt.isFragment=Re,tt.isLazy=Ve,tt.isMemo=pe,tt.isPortal=Pe,tt.isProfiler=Ee,tt.isStrictMode=_e,tt.isSuspense=$e,tt.isValidElementType=A,tt.typeOf=R})();xE.exports=tt;var fY=xE.exports,yE=fY,hY={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},dY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wE={};wE[yE.ForwardRef]=hY;wE[yE.Memo]=dY;var B0=typeof window<"u"&&!window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=p.createContext(null)):p.createContext(null);B0.Consumer;B0.Provider;var pY=B0;function F0(){var n=p.useContext(pY);return uY(n),n}var zm;(function(n){n.formatDate="FormattedDate",n.formatTime="FormattedTime",n.formatNumber="FormattedNumber",n.formatList="FormattedList",n.formatDisplayName="FormattedDisplayName"})(zm||(zm={}));var Um;(function(n){n.formatDate="FormattedDateParts",n.formatTime="FormattedTimeParts",n.formatNumber="FormattedNumberParts",n.formatList="FormattedListParts"})(Um||(Um={}));function $E(n){var e=function(t){var r=F0(),i=t.value,o=t.children,s=ko(t,["value","children"]),a=typeof i=="string"?new Date(i||0):i,c=n==="formatDate"?r.formatDateToParts(a,s):r.formatTimeToParts(a,s);return o(c)};return e.displayName=Um[n],e}function Rl(n){var e=function(t){var r=F0(),i=t.value,o=t.children,s=ko(t,["value","children"]),a=r[n](i,s);if(typeof o=="function")return o(a);var c=r.textComponent||p.Fragment;return p.createElement(c,null,a)};return e.displayName=zm[n],e}Rl("formatDate");Rl("formatTime");Rl("formatNumber");Rl("formatList");Rl("formatDisplayName");$E("formatDate");$E("formatTime");const mY=n=>`${uO}.${n}`,gY=()=>{const{formatMessage:n}=F0(),[e,t]=p.useState(null),[r,i]=p.useState(!1),[o,s]=p.useState(""),a=f=>{f.target.files&&f.target.files.length>0&&t(f.target.files[0])},c=async()=>{if(!e){s("Please select a file first.");return}i(!0),s("");const f=new FormData;f.append("file",e);try{const h=await fetch("/api/vetgroup-product/upload",{method:"POST",body:f});if(!h.ok)throw new Error("Upload failed");const d=await h.json();s(JSON.stringify(d.message)||"File uploaded successfully!")}catch(h){s(`Error uploading file. Please try again. ${h}`)}finally{i(!1)}};return xe.createElement(nq,null,xe.createElement(we,{padding:6},xe.createElement(Ne,{variant:"alpha"},"Welcome to"," ",n({id:mY("plugin.name"),defaultMessage:"VetGroup Product Sync"})),xe.createElement(we,{paddingTop:4},xe.createElement("input",{type:"file",accept:".csv",onChange:a,disabled:r})),xe.createElement(we,{paddingTop:4},xe.createElement(bs,{onClick:c,loading:r},"Upload")),o&&xe.createElement(we,{paddingTop:4},xe.createElement(Ne,{variant:"epsilon"},o))),xe.createElement(bs,{variant:"secondary",onClick:async()=>{i(!0),s("");try{const h=await(await fetch("/api/vetgroup-product/sync",{method:"GET"})).json();s(h.message||"Sync completed successfully")}catch(f){s("Sync failed: "+f)}finally{i(!1)}}},"Sync with 1C"),xe.createElement(bs,{variant:"default",onClick:async()=>{await fetch("/api/vetgroup-product/publish-other",{method:"POST"}),alert("✅ Published all 'Other' products")}},"Publish 'Other' Products"))},bY=()=>xe.createElement("div",null,"Page Not Found"),GY=()=>xe.createElement(fO,null,xe.createElement(mv,{index:!0,element:xe.createElement(gY,null)}),xe.createElement(mv,{path:"*",element:xe.createElement(bY,null)}));export{GY as default};
