import{hr as we,hs as se,r as O,ht as Te,cA as Re,cM as xe,cF as ee,ax as ge,cJ as ve,bE as ie,aE as te,cL as le,al as Ce,j as f,x as V,bI as Me,eI as F,J as Oe,Q as K,a as ze,hu as De,z as Y,aF as Le,aG as Ee,o as Se,cP as be,cS as ye,V as ce,a1 as Fe,H as B,I as de,f3 as ke,aS as Pe,Y as $e,bD as je,X as Ae}from"./strapi-rhsEjLgL.js";import{u as Ne,I as We,D as Ve}from"./useDragAndDrop-DJ6jqvZN-BXjbreei.js";import{u as He,g as ae,a as Ue}from"./relations-Boc5Y9kX-DJDfhDiw.js";import{g as qe}from"./getEmptyImage-CjqolaH3.js";var ue=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Be(n,t){return!!(n===t||ue(n)&&ue(t))}function Ke(n,t){if(n.length!==t.length)return!1;for(var o=0;o<n.length;o++)if(!Be(n[o],t[o]))return!1;return!0}function ne(n,t){t===void 0&&(t=Ke);var o,s=[],l,v=!1;function S(){for(var y=[],T=0;T<arguments.length;T++)y[T]=arguments[T];return v&&o===this&&t(y,s)||(l=n.apply(this,y),v=!0,o=this,s=y),l}return S}var Ge=typeof performance=="object"&&typeof performance.now=="function",he=Ge?function(){return performance.now()}:function(){return Date.now()};function pe(n){cancelAnimationFrame(n.id)}function Ye(n,t){var o=he();function s(){he()-o>=t?n.call(null):l.id=requestAnimationFrame(s)}var l={id:requestAnimationFrame(s)};return l}var oe=-1;function me(n){if(n===void 0&&(n=!1),oe===-1||n){var t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",document.body.appendChild(t),oe=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return oe}var W=null;function fe(n){if(n===void 0&&(n=!1),W===null||n){var t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",o.direction="rtl";var s=document.createElement("div"),l=s.style;return l.width="100px",l.height="100px",t.appendChild(s),document.body.appendChild(t),t.scrollLeft>0?W="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?W="negative":W="positive-ascending"),document.body.removeChild(t),W}return W}var Qe=150,Je=function(t,o){return t},J=null,X=null;typeof window<"u"&&typeof window.WeakSet<"u"&&(J=new WeakSet,X=new WeakSet);function Xe(n){var t,o=n.getItemOffset,s=n.getEstimatedTotalSize,l=n.getItemSize,v=n.getOffsetForIndexAndAlignment,S=n.getStartIndexForOffset,y=n.getStopIndexForStartIndex,T=n.initInstanceProps,x=n.shouldResetStyleCacheOnItemSizeChange,C=n.validateProps;return t=function(M){we(D,M);function D(b){var e;return e=M.call(this,b)||this,e._instanceProps=T(e.props,se(e)),e._outerRef=void 0,e._resetIsScrollingTimeoutId=null,e.state={instance:se(e),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof e.props.initialScrollOffset=="number"?e.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},e._callOnItemsRendered=void 0,e._callOnItemsRendered=ne(function(i,a,c,h){return e.props.onItemsRendered({overscanStartIndex:i,overscanStopIndex:a,visibleStartIndex:c,visibleStopIndex:h})}),e._callOnScroll=void 0,e._callOnScroll=ne(function(i,a,c){return e.props.onScroll({scrollDirection:i,scrollOffset:a,scrollUpdateWasRequested:c})}),e._getItemStyle=void 0,e._getItemStyle=function(i){var a=e.props,c=a.direction,h=a.itemSize,p=a.layout,d=e._getItemStyleCache(x&&h,x&&p,x&&c),g;if(d.hasOwnProperty(i))g=d[i];else{var r=o(e.props,i,e._instanceProps),u=l(e.props,i,e._instanceProps),w=c==="horizontal"||p==="horizontal",R=c==="rtl",L=w?r:0;d[i]=g={position:"absolute",left:R?void 0:L,right:R?L:void 0,top:w?0:r,height:w?"100%":u,width:w?u:"100%"}}return g},e._getItemStyleCache=void 0,e._getItemStyleCache=ne(function(i,a,c){return{}}),e._onScrollHorizontal=function(i){var a=i.currentTarget,c=a.clientWidth,h=a.scrollLeft,p=a.scrollWidth;e.setState(function(d){if(d.scrollOffset===h)return null;var g=e.props.direction,r=h;if(g==="rtl")switch(fe()){case"negative":r=-h;break;case"positive-descending":r=p-c-h;break}return r=Math.max(0,Math.min(r,p-c)),{isScrolling:!0,scrollDirection:d.scrollOffset<r?"forward":"backward",scrollOffset:r,scrollUpdateWasRequested:!1}},e._resetIsScrollingDebounced)},e._onScrollVertical=function(i){var a=i.currentTarget,c=a.clientHeight,h=a.scrollHeight,p=a.scrollTop;e.setState(function(d){if(d.scrollOffset===p)return null;var g=Math.max(0,Math.min(p,h-c));return{isScrolling:!0,scrollDirection:d.scrollOffset<g?"forward":"backward",scrollOffset:g,scrollUpdateWasRequested:!1}},e._resetIsScrollingDebounced)},e._outerRefSetter=function(i){var a=e.props.outerRef;e._outerRef=i,typeof a=="function"?a(i):a!=null&&typeof a=="object"&&a.hasOwnProperty("current")&&(a.current=i)},e._resetIsScrollingDebounced=function(){e._resetIsScrollingTimeoutId!==null&&pe(e._resetIsScrollingTimeoutId),e._resetIsScrollingTimeoutId=Ye(e._resetIsScrolling,Qe)},e._resetIsScrolling=function(){e._resetIsScrollingTimeoutId=null,e.setState({isScrolling:!1},function(){e._getItemStyleCache(-1,null)})},e}D.getDerivedStateFromProps=function(e,i){return Ze(e,i),C(e),null};var _=D.prototype;return _.scrollTo=function(e){e=Math.max(0,e),this.setState(function(i){return i.scrollOffset===e?null:{scrollDirection:i.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},_.scrollToItem=function(e,i){i===void 0&&(i="auto");var a=this.props,c=a.itemCount,h=a.layout,p=this.state.scrollOffset;e=Math.max(0,Math.min(e,c-1));var d=0;if(this._outerRef){var g=this._outerRef;h==="vertical"?d=g.scrollWidth>g.clientWidth?me():0:d=g.scrollHeight>g.clientHeight?me():0}this.scrollTo(v(this.props,e,i,p,this._instanceProps,d))},_.componentDidMount=function(){var e=this.props,i=e.direction,a=e.initialScrollOffset,c=e.layout;if(typeof a=="number"&&this._outerRef!=null){var h=this._outerRef;i==="horizontal"||c==="horizontal"?h.scrollLeft=a:h.scrollTop=a}this._callPropsCallbacks()},_.componentDidUpdate=function(){var e=this.props,i=e.direction,a=e.layout,c=this.state,h=c.scrollOffset,p=c.scrollUpdateWasRequested;if(p&&this._outerRef!=null){var d=this._outerRef;if(i==="horizontal"||a==="horizontal")if(i==="rtl")switch(fe()){case"negative":d.scrollLeft=-h;break;case"positive-ascending":d.scrollLeft=h;break;default:var g=d.clientWidth,r=d.scrollWidth;d.scrollLeft=r-g-h;break}else d.scrollLeft=h;else d.scrollTop=h}this._callPropsCallbacks()},_.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&pe(this._resetIsScrollingTimeoutId)},_.render=function(){var e=this.props,i=e.children,a=e.className,c=e.direction,h=e.height,p=e.innerRef,d=e.innerElementType,g=e.innerTagName,r=e.itemCount,u=e.itemData,w=e.itemKey,R=w===void 0?Je:w,L=e.layout,P=e.outerElementType,$=e.outerTagName,I=e.style,z=e.useIsScrolling,j=e.width,m=this.state.isScrolling,E=c==="horizontal"||L==="horizontal",N=E?this._onScrollHorizontal:this._onScrollVertical,A=this._getRangeToRender(),k=A[0],H=A[1],G=[];if(r>0)for(var U=k;U<=H;U++)G.push(O.createElement(i,{data:u,key:R(U,u),index:U,isScrolling:z?m:void 0,style:this._getItemStyle(U)}));var re=s(this.props,this._instanceProps);return O.createElement(P||$||"div",{className:a,onScroll:N,ref:this._outerRefSetter,style:Te({position:"relative",height:h,width:j,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:c},I)},O.createElement(d||g||"div",{children:G,ref:p,style:{height:E?"100%":re,pointerEvents:m?"none":void 0,width:E?re:"100%"}}))},_._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var e=this.props.itemCount;if(e>0){var i=this._getRangeToRender(),a=i[0],c=i[1],h=i[2],p=i[3];this._callOnItemsRendered(a,c,h,p)}}if(typeof this.props.onScroll=="function"){var d=this.state,g=d.scrollDirection,r=d.scrollOffset,u=d.scrollUpdateWasRequested;this._callOnScroll(g,r,u)}},_._getRangeToRender=function(){var e=this.props,i=e.itemCount,a=e.overscanCount,c=this.state,h=c.isScrolling,p=c.scrollDirection,d=c.scrollOffset;if(i===0)return[0,0,0,0];var g=S(this.props,d,this._instanceProps),r=y(this.props,g,d,this._instanceProps),u=!h||p==="backward"?Math.max(1,a):1,w=!h||p==="forward"?Math.max(1,a):1;return[Math.max(0,g-u),Math.max(0,Math.min(i-1,r+w)),g,r]},D}(O.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Ze=function(t,o){var s=t.children,l=t.direction,v=t.height,S=t.layout,y=t.innerTagName,T=t.outerTagName,x=t.width,C=o.instance;{(y!=null||T!=null)&&X&&!X.has(C)&&(X.add(C),console.warn("The innerTagName and outerTagName props have been deprecated. Please use the innerElementType and outerElementType props instead."));var M=l==="horizontal"||S==="horizontal";switch(l){case"horizontal":case"vertical":J&&!J.has(C)&&(J.add(C),console.warn('The direction prop should be either "ltr" (default) or "rtl". Please use the layout prop to specify "vertical" (default) or "horizontal" orientation.'));break;case"ltr":case"rtl":break;default:throw Error('An invalid "direction" prop has been specified. Value should be either "ltr" or "rtl". '+('"'+l+'" was specified.'))}switch(S){case"horizontal":case"vertical":break;default:throw Error('An invalid "layout" prop has been specified. Value should be either "horizontal" or "vertical". '+('"'+S+'" was specified.'))}if(s==null)throw Error('An invalid "children" prop has been specified. Value should be a React component. '+('"'+(s===null?"null":typeof s)+'" was specified.'));if(M&&typeof x!="number")throw Error('An invalid "width" prop has been specified. Horizontal lists must specify a number for width. '+('"'+(x===null?"null":typeof x)+'" was specified.'));if(!M&&typeof v!="number")throw Error('An invalid "height" prop has been specified. Vertical lists must specify a number for height. '+('"'+(v===null?"null":typeof v)+'" was specified.'))}},et=Xe({getItemOffset:function(t,o){var s=t.itemSize;return o*s},getItemSize:function(t,o){var s=t.itemSize;return s},getEstimatedTotalSize:function(t){var o=t.itemCount,s=t.itemSize;return s*o},getOffsetForIndexAndAlignment:function(t,o,s,l,v,S){var y=t.direction,T=t.height,x=t.itemCount,C=t.itemSize,M=t.layout,D=t.width,_=y==="horizontal"||M==="horizontal",b=_?D:T,e=Math.max(0,x*C-b),i=Math.min(e,o*C),a=Math.max(0,o*C-b+C+S);switch(s==="smart"&&(l>=a-b&&l<=i+b?s="auto":s="center"),s){case"start":return i;case"end":return a;case"center":{var c=Math.round(a+(i-a)/2);return c<Math.ceil(b/2)?0:c>e+Math.floor(b/2)?e:c}case"auto":default:return l>=a&&l<=i?l:l<a?a:i}},getStartIndexForOffset:function(t,o){var s=t.itemCount,l=t.itemSize;return Math.max(0,Math.min(s-1,Math.floor(o/l)))},getStopIndexForStartIndex:function(t,o,s){var l=t.direction,v=t.height,S=t.itemCount,y=t.itemSize,T=t.layout,x=t.width,C=l==="horizontal"||T==="horizontal",M=o*y,D=C?x:v,_=Math.ceil((D+s-M)/y);return Math.max(0,Math.min(S-1,o+_-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){var o=t.itemSize;if(typeof o!="number")throw Error('An invalid "itemSize" prop has been specified. Value should be a number. '+('"'+(o===null?"null":typeof o)+'" was specified.'))}});const[St,tt]=Re("ComponentContext",{id:void 0,level:-1,uid:void 0,type:void 0});function Ie(n,t){const o=te(n),s=ie(t,S=>S.removeFieldRow),l=ie(t,S=>S.addFieldRow);return S=>{if(o.value&&o.value.connect){const y=o.value.connect.findIndex(T=>T.id===S.id);if(y>=0){s(`${n}.connect`,y);return}}l(`${n}.disconnect`,{id:S.id,apiData:{id:S.id,documentId:S.documentId,locale:S.locale}})}}const q=5,_e=["oneWay","oneToOne","manyToOne","oneToManyMorph","oneToOneMorph"],nt=O.forwardRef(({disabled:n,label:t,...o},s)=>{const[l,v]=O.useState(1),{document:S,model:y}=xe(),T=S?.documentId,{formatMessage:x}=ee(),[{query:C}]=ge(),M=ve(C),_=o.attribute.relation.toLowerCase().includes("morph")||n,{componentId:b,componentUID:e}=tt("RelationsField",({uid:m,id:E})=>({componentId:E,componentUID:m})),i=ie("RelationsList",m=>m.isSubmitting);O.useEffect(()=>{v(1)},[i]);const a=b?b.toString():T,c=e??y,[h]=o.name.split(".").slice(-1),{data:p,isLoading:d,isFetching:g}=He({model:c,targetField:h,id:a,params:{...M,pageSize:q,page:l}},{refetchOnMountOrArgChange:!0,skip:!a,selectFromResult:m=>({...m,data:{...m.data,results:m.data?.results?m.data.results:[]}})}),r=()=>{v(m=>m+1)},u=te(o.name),w=d||g,R="pagination"in p&&p.pagination?p.pagination.total:0,L=(u.value?.connect??[]).filter(m=>p.results.findIndex(E=>E.id===m.id)===-1).length??0,P=u.value?.disconnect?.length??0,$=R+L-P,I=O.useMemo(()=>{const m={field:u.value,href:`../${le}/${o.attribute.targetModel}`,mainField:o.mainField};return[...Ce(it(m),at(m),rt(m))([...p.results]),...u.value?.connect??[]].sort((A,k)=>A.__temp_key__<k.__temp_key__?-1:A.__temp_key__>k.__temp_key__?1:0)},[p.results,u.value,o.attribute.targetModel,o.mainField]),z=Ie(o.name,"RelationsField"),j=m=>{const[E]=I.slice(-1),N={id:m.id,apiData:{id:m.id,documentId:m.documentId,locale:m.locale},status:m.status,__temp_key__:ye(E?.__temp_key__??null,null,1)[0],[o.mainField?.name??"documentId"]:m[o.mainField?.name??"documentId"],label:ae(m,o.mainField),href:`../${le}/${o.attribute.targetModel}/${m.documentId}?${m.locale?`plugins[i18n][locale]=${m.locale}`:""}`};_e.includes(o.attribute.relation)?(u.value?.connect?.forEach(z),I.forEach(z),u.onChange(`${o.name}.connect`,[N])):u.onChange(`${o.name}.connect`,[...u.value?.connect??[],N])};return f.jsxs(V,{ref:s,direction:"column",gap:3,justifyContent:"space-between",alignItems:"stretch",wrap:"wrap",children:[f.jsxs(ot,{direction:"column",alignItems:"start",gap:2,width:"100%",children:[f.jsx(st,{disabled:_,id:e?b?`${b}`:"":T,label:`${t} ${$>0?`(${$})`:""}`,model:c,onChange:j,...o}),"pagination"in p&&p.pagination&&p.pagination.pageCount>p.pagination.page?f.jsx(Me,{disabled:w,onClick:r,loading:w,startIcon:f.jsx(Oe,{}),shrink:0,children:x({id:F("relation.loadMore"),defaultMessage:"Load More"})}):null]}),f.jsx(lt,{data:I,serverData:p.results,disabled:_,name:o.name,isLoading:w,relationType:o.attribute.relation})]})}),ot=K(V)`
  & > div {
    width: 100%;
  }
`,it=({field:n})=>t=>t.filter(o=>(n?.connect??[]).findIndex(l=>l.id===o.id)===-1),at=({field:n})=>t=>t.filter(o=>(n?.disconnect??[]).findIndex(l=>l.id===o.id)===-1),rt=({mainField:n,href:t})=>o=>o.map(s=>({...s,[n?.name??"documentId"]:s[n?.name??"documentId"],label:ae(s,n),href:`${t}/${s.documentId}?${s.locale?`plugins[i18n][locale]=${s.locale}`:""}`})),st=({hint:n,id:t,model:o,label:s,labelAction:l,name:v,mainField:S,placeholder:y,required:T,unique:x,"aria-label":C,onChange:M,...D})=>{const[_,b]=O.useState(""),[e,i]=O.useState({_q:"",page:1}),{toggleNotification:a}=ze(),[{query:c}]=ge(),{formatMessage:h}=ee(),p=De(v),d=te(v),[g,{data:r,isLoading:u}]=Ue();O.useEffect(()=>{const[I]=v.split(".").slice(-1);g({model:o,targetField:I,params:{...ve(c),id:t??"",pageSize:10,idsToInclude:d.value?.disconnect?.map(z=>z.id.toString())??[],idsToOmit:d.value?.connect?.map(z=>z.id.toString())??[],...e}})},[d.value?.connect,d.value?.disconnect,t,o,v,c,g,e]);const w=async I=>{i(z=>({...z,_q:I,page:1}))},R=r?.pagination?r.pagination.page<r.pagination.pageCount:!1,L=r?.results??[],P=I=>{if(!I)return;const z=L.find(j=>j.id.toString()===I);if(!z){console.error("You've tried to add a relation with an id that does not exist in the options you can see, this is likely a bug with Strapi. Please open an issue."),a({message:h({id:F("relation.error-adding-relation"),defaultMessage:"An error occurred while trying to add the relation."}),type:"danger"});return}M(z)},$=()=>{!r||!r.pagination||r.pagination.page<r.pagination.pageCount&&i(I=>({...I,page:I.page+1}))};return O.useLayoutEffect(()=>{b("")},[d.value]),f.jsxs(Y.Root,{error:d.error,hint:n,name:v,required:T,children:[f.jsx(Y.Label,{action:l,children:s}),f.jsx(Le,{ref:p,name:v,autocomplete:"list",placeholder:y||h({id:F("relation.add"),defaultMessage:"Add relation"}),hasMoreItems:R,loading:u,onOpenChange:()=>{w(_??"")},noOptionsMessage:()=>h({id:F("relation.notAvailable"),defaultMessage:"No relations available"}),loadingMessage:h({id:F("relation.isLoading"),defaultMessage:"Relations are loading"}),onLoadMore:$,textValue:_,onChange:P,onTextValueChange:I=>{b(I)},onInputChange:I=>{w(I.currentTarget.value)},...D,children:L.map(I=>{const z=ae(I,S);return f.jsx(Ee,{value:I.id.toString(),textValue:z,children:f.jsxs(V,{gap:2,justifyContent:"space-between",children:[f.jsx(Se,{ellipsis:!0,children:z}),I.status?f.jsx(be,{status:I.status}):null]})},I.id)})}),f.jsx(Y.Error,{}),f.jsx(Y.Hint,{})]})},Q=50,Z=4,lt=({data:n,serverData:t,disabled:o,name:s,isLoading:l,relationType:v})=>{const S=O.useId(),{formatMessage:y}=ee(),T=O.useRef(null),x=O.useRef(null),[C,M]=O.useState(),[D,_]=O.useState(""),b=te(s);O.useEffect(()=>{if(n.length<=q)return M(void 0);const r=w=>{const R=w.target,L=R.parentNode.scrollHeight,P=R.scrollHeight-R.scrollTop;return R.scrollTop===0?M("bottom"):M(P===L?"top":"top-bottom")},u=x?.current;return!l&&n.length>0&&u&&x.current.addEventListener("scroll",r),()=>{u&&u.removeEventListener("scroll",r)}},[l,n.length]);const e=r=>`${r+1} of ${n.length}`,i=(r,u)=>{const w=n[u];_(y({id:F("dnd.reorder"),defaultMessage:"{item}, moved. New position in list: {position}."},{item:w.label??w.documentId,position:e(r)}));const R=[...n],L=n[u],P=u>r?R[r-1]?.__temp_key__:R[r]?.__temp_key__,$=u>r?R[r]?.__temp_key__:R[r+1]?.__temp_key__,[I]=ye(P,$,1);R.splice(u,1),R.splice(r,0,{...L,__temp_key__:I});const z=R.reduce((j,m,E,N)=>{const A=t.find(H=>H.id===m.id),k=N[E+1];if(!A||A.__temp_key__!==m.__temp_key__){const H=k?{before:k.documentId,locale:k.locale,status:"publishedAt"in k&&k.publishedAt?"published":"draft"}:{end:!0},G={...m,apiData:{id:m.id,documentId:m.documentId,locale:m.locale,position:H}};return[...j,G]}return j},[]).toReversed();b.onChange(`${s}.connect`,z)},a=r=>{const u=n[r];_(y({id:F("dnd.grab-item"),defaultMessage:"{item}, grabbed. Current position in list: {position}. Press up and down arrow to change position, Spacebar to drop, Escape to cancel."},{item:u.label??u.documentId,position:e(r)}))},c=r=>{const{href:u,label:w,...R}=n[r];_(y({id:F("dnd.drop-item"),defaultMessage:"{item}, dropped. Final position in list: {position}."},{item:w??R.documentId,position:e(r)}))},h=r=>{const u=n[r];_(y({id:F("dnd.cancel-item"),defaultMessage:"{item}, dropped. Re-order cancelled."},{item:u.label??u.documentId}))},p=Ie(s,"RelationsList"),d=!_e.includes(v),g=n.length>q?Math.min(n.length,q)*(Q+Z)+Q/2:Math.min(n.length,q)*(Q+Z);return f.jsxs(ct,{$overflowDirection:C,children:[f.jsx(ce,{id:S,children:y({id:F("dnd.instructions"),defaultMessage:"Press spacebar to grab and re-order"})}),f.jsx(ce,{"aria-live":"assertive",children:D}),f.jsx(et,{height:g,ref:T,outerRef:x,itemCount:n.length,itemSize:Q+Z,itemData:{ariaDescribedBy:S,canDrag:d,disabled:o,handleCancel:h,handleDropItem:c,handleGrabItem:a,handleMoveItem:i,name:s,handleDisconnect:p,relations:n},itemKey:r=>n[r].id,innerElementType:"ol",children:dt})]})},ct=K(B)`
  position: relative;
  overflow: hidden;
  flex: 1;

  &:before,
  &:after {
    position: absolute;
    width: 100%;
    height: 4px;
    z-index: 1;
  }

  &:before {
    /* TODO: as for DS Table component we would need this to be handled by the DS theme */
    content: '';
    background: linear-gradient(rgba(3, 3, 5, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    top: 0;
    opacity: ${({$overflowDirection:n})=>n==="top-bottom"||n==="top"?1:0};
    transition: opacity 0.2s ease-in-out;
  }

  &:after {
    /* TODO: as for DS Table component we would need this to be handled by the DS theme */
    content: '';
    background: linear-gradient(0deg, rgba(3, 3, 5, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    bottom: 0;
    opacity: ${({$overflowDirection:n})=>n==="top-bottom"||n==="bottom"?1:0};
    transition: opacity 0.2s ease-in-out;
  }
`,dt=({data:n,index:t,style:o})=>{const{ariaDescribedBy:s,canDrag:l=!1,disabled:v=!1,handleCancel:S,handleDisconnect:y,handleDropItem:T,handleGrabItem:x,handleMoveItem:C,name:M,relations:D}=n,{formatMessage:_}=ee(),{href:b,id:e,label:i,status:a}=D[t],[{handlerId:c,isDragging:h,handleKeyDown:p},d,g,r,u]=Ne(l&&!v,{type:`${We.RELATION}_${M}`,index:t,item:{displayedValue:i,status:a,id:e,index:t},onMoveItem:C,onDropItem:T,onGrabItem:x,onCancel:S,dropSensitivity:Ve.REGULAR}),w=Fe(d,r);return O.useEffect(()=>{u(qe())},[u]),f.jsx(B,{style:o,tag:"li",ref:g,"aria-describedby":s,cursor:l?"all-scroll":"default",children:h?f.jsx(pt,{}):f.jsxs(V,{paddingTop:2,paddingBottom:2,paddingLeft:l?2:4,paddingRight:4,hasRadius:!0,borderColor:"neutral200",background:v?"neutral150":"neutral0",justifyContent:"space-between",ref:w,"data-handler-id":c,children:[f.jsxs(ut,{gap:1,children:[l?f.jsx(de,{tag:"div",role:"button",tabIndex:0,withTooltip:!1,label:_({id:F("components.RelationInput.icon-button-aria-label"),defaultMessage:"Drag"}),variant:"ghost",onKeyDown:p,disabled:v,children:f.jsx(ke,{})}):null,f.jsxs(V,{width:"100%",minWidth:0,justifyContent:"space-between",children:[f.jsx(B,{minWidth:0,paddingTop:1,paddingBottom:1,paddingRight:4,children:f.jsx(Pe,{description:i,children:b?f.jsx(ht,{tag:$e,to:b,isExternal:!1,children:i}):f.jsx(Se,{textColor:v?"neutral600":"primary600",ellipsis:!0,children:i})})}),a?f.jsx(be,{status:a}):null]})]}),f.jsx(B,{paddingLeft:4,children:f.jsx(de,{onClick:()=>y(D[t]),disabled:v,label:_({id:F("relation.disconnect"),defaultMessage:"Remove"}),variant:"ghost",size:"S",children:f.jsx(je,{})})})]})})},ut=K(V)`
  width: 100%;
  /* Used to prevent endAction to be pushed out of container */
  min-width: 0;

  & > div[role='button'] {
    cursor: all-scroll;
  }
`,bt=K.button`
  svg path {
    fill: ${({theme:n,disabled:t})=>t?n.colors.neutral600:n.colors.neutral500};
  }

  &:hover svg path,
  &:focus svg path {
    fill: ${({theme:n,disabled:t})=>!t&&n.colors.neutral600};
  }
`,ht=K(Ae)`
  display: block;

  & > span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    display: block;
  }
`,pt=()=>f.jsx(B,{paddingTop:2,paddingBottom:2,paddingLeft:4,paddingRight:4,hasRadius:!0,borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",background:"primary100",height:`calc(100% - ${Z}px)`}),yt=O.memo(nt);export{St as C,bt as D,ut as F,ht as L,yt as M,tt as u};
