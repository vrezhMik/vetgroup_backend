import{r as p,a2 as oi,j9 as Tw,ja as pO,hG as Be,j as C,h_ as ua,d as F,jb as Pw,h3 as Ee,bG as zt,jc as ho,jd as mO,je as qm,jf as gO,jg as Mw,jh as Os,a4 as bO,ji as vO,jj as xO,jk as yO,jl as wO,R as $O,a as xv,jm as CO}from"./strapi-BGrOUb2q.js";function At(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function wd(t,e){return t-e*Math.floor(t/e)}const Ow=1721426;function yc(t,e,n,r){e=Xm(t,e);let i=e-1,o=-2;return n<=2?o=0:lu(e)&&(o=-1),Ow-1+365*i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400)+Math.floor((367*n-362)/12+o+r)}function lu(t){return t%4===0&&(t%100!==0||t%400===0)}function Xm(t,e){return t==="BC"?1-e:e}function SO(t){let e="AD";return t<=0&&(e="BC",t=1-t),[e,t]}const kO={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]};class ps{fromJulianDay(e){let n=e,r=n-Ow,i=Math.floor(r/146097),o=wd(r,146097),s=Math.floor(o/36524),a=wd(o,36524),c=Math.floor(a/1461),f=wd(a,1461),h=Math.floor(f/365),d=i*400+s*100+c*4+h+(s!==4&&h!==4?1:0),[g,b]=SO(d),x=n-yc(g,b,1,1),v=2;n<yc(g,b,3,1)?v=0:lu(b)&&(v=1);let w=Math.floor(((x+v)*12+373)/367),$=n-yc(g,b,w,1)+1;return new Da(g,b,w,$)}toJulianDay(e){return yc(e.era,e.year,e.month,e.day)}getDaysInMonth(e){return kO[lu(e.year)?"leapyear":"standard"][e.month-1]}getMonthsInYear(e){return 12}getDaysInYear(e){return lu(e.year)?366:365}getYearsInEra(e){return 9999}getEras(){return["BC","AD"]}isInverseEra(e){return e.era==="BC"}balanceDate(e){e.year<=0&&(e.era=e.era==="BC"?"AD":"BC",e.year=1-e.year)}constructor(){this.identifier="gregory"}}const AO={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AR:1,AT:1,AU:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CN:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};function Dw(t,e){return e=Xn(e,t.calendar),t.era===e.era&&t.year===e.year&&t.month===e.month&&t.day===e.day}function Iw(t,e){let n=t.calendar.toJulianDay(t),r=Math.ceil(n+1-OO(e))%7;return r<0&&(r+=7),r}function EO(t){return Xr(Date.now(),t)}function Zm(t){return Ww(EO(t))}function _w(t,e){return t.calendar.toJulianDay(t)-e.calendar.toJulianDay(e)}function RO(t,e){return yv(t)-yv(e)}function yv(t){return t.hour*36e5+t.minute*6e4+t.second*1e3+t.millisecond}let $d=null;function ms(){return $d==null&&($d=new Intl.DateTimeFormat().resolvedOptions().timeZone),$d}function TO(t){return t.subtract({days:t.day-1})}function PO(t){return t.add({days:t.calendar.getDaysInMonth(t)-t.day})}function Lw(t,e){let n=Iw(t,e);return t.subtract({days:n})}const wv=new Map;function MO(t){if(Intl.Locale){let n=wv.get(t);return n||(n=new Intl.Locale(t).maximize().region,n&&wv.set(t,n)),n}let e=t.split("-")[1];return e==="u"?void 0:e}function OO(t){let e=MO(t);return e&&AO[e]||0}function bp(t,e){return t&&e?t.compare(e)<=0?t:e:t||e}function vp(t,e){return t&&e?t.compare(e)>=0?t:e:t||e}function gs(t){t=Xn(t,new ps);let e=Xm(t.era,t.year);return Nw(e,t.month,t.day,t.hour,t.minute,t.second,t.millisecond)}function Nw(t,e,n,r,i,o,s){let a=new Date;return a.setUTCHours(r,i,o,s),a.setUTCFullYear(t,e-1,n),a.getTime()}function xp(t,e){if(e==="UTC")return 0;if(t>0&&e===ms())return new Date(t).getTimezoneOffset()*-6e4;let{year:n,month:r,day:i,hour:o,minute:s,second:a}=Bw(t,e);return Nw(n,r,i,o,s,a,0)-Math.floor(t/1e3)*1e3}const $v=new Map;function Bw(t,e){let n=$v.get(e);n||(n=new Intl.DateTimeFormat("en-US",{timeZone:e,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),$v.set(e,n));let r=n.formatToParts(new Date(t)),i={};for(let o of r)o.type!=="literal"&&(i[o.type]=o.value);return{year:i.era==="BC"||i.era==="B"?-i.year+1:+i.year,month:+i.month,day:+i.day,hour:i.hour==="24"?0:+i.hour,minute:+i.minute,second:+i.second}}const Cv=864e5;function DO(t,e,n,r){return(n===r?[n]:[n,r]).filter(o=>IO(t,e,o))}function IO(t,e,n){let r=Bw(n,e);return t.year===r.year&&t.month===r.month&&t.day===r.day&&t.hour===r.hour&&t.minute===r.minute&&t.second===r.second}function Yr(t,e,n="compatible"){let r=po(t);if(e==="UTC")return gs(r);if(e===ms()&&n==="compatible"){r=Xn(r,new ps);let c=new Date,f=Xm(r.era,r.year);return c.setFullYear(f,r.month-1,r.day),c.setHours(r.hour,r.minute,r.second,r.millisecond),c.getTime()}let i=gs(r),o=xp(i-Cv,e),s=xp(i+Cv,e),a=DO(r,e,i-o,i-s);if(a.length===1)return a[0];if(a.length>1)switch(n){case"compatible":case"earlier":return a[0];case"later":return a[a.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(n){case"earlier":return Math.min(i-o,i-s);case"compatible":case"later":return Math.max(i-o,i-s);case"reject":throw new RangeError("No such absolute time found")}}function Fw(t,e,n="compatible"){return new Date(Yr(t,e,n))}function Xr(t,e){let n=xp(t,e),r=new Date(t+n),i=r.getUTCFullYear(),o=r.getUTCMonth()+1,s=r.getUTCDate(),a=r.getUTCHours(),c=r.getUTCMinutes(),f=r.getUTCSeconds(),h=r.getUTCMilliseconds();return new bs(i,o,s,e,n,a,c,f,h)}function Ww(t){return new Da(t.calendar,t.era,t.year,t.month,t.day)}function po(t,e){let n=0,r=0,i=0,o=0;if("timeZone"in t)({hour:n,minute:r,second:i,millisecond:o}=t);else if("hour"in t&&!e)return t;return e&&({hour:n,minute:r,second:i,millisecond:o}=e),new Su(t.calendar,t.era,t.year,t.month,t.day,n,r,i,o)}function Xn(t,e){if(t.calendar.identifier===e.identifier)return t;let n=e.fromJulianDay(t.calendar.toJulianDay(t)),r=t.copy();return r.calendar=e,r.era=n.era,r.year=n.year,r.month=n.month,r.day=n.day,mo(r),r}function _O(t,e,n){if(t instanceof bs)return t.timeZone===e?t:Vw(t,e);let r=Yr(t,e,n);return Xr(r,e)}function LO(t){let e=gs(t)-t.offset;return new Date(e)}function Vw(t,e){let n=gs(t)-t.offset;return Xn(Xr(n,e),t.calendar)}const fa=36e5;function uf(t,e){let n=t.copy(),r="hour"in n?WO(n,e):0;yp(n,e.years||0),n.calendar.balanceYearMonth&&n.calendar.balanceYearMonth(n,t),n.month+=e.months||0,wp(n),jw(n),n.day+=(e.weeks||0)*7,n.day+=e.days||0,n.day+=r,NO(n),n.calendar.balanceDate&&n.calendar.balanceDate(n),n.year<1&&(n.year=1,n.month=1,n.day=1);let i=n.calendar.getYearsInEra(n);if(n.year>i){var o,s;let c=(o=(s=n.calendar).isInverseEra)===null||o===void 0?void 0:o.call(s,n);n.year=i,n.month=c?1:n.calendar.getMonthsInYear(n),n.day=c?1:n.calendar.getDaysInMonth(n)}n.month<1&&(n.month=1,n.day=1);let a=n.calendar.getMonthsInYear(n);return n.month>a&&(n.month=a,n.day=n.calendar.getDaysInMonth(n)),n.day=Math.max(1,Math.min(n.calendar.getDaysInMonth(n),n.day)),n}function yp(t,e){var n,r;!((n=(r=t.calendar).isInverseEra)===null||n===void 0)&&n.call(r,t)&&(e=-e),t.year+=e}function wp(t){for(;t.month<1;)yp(t,-1),t.month+=t.calendar.getMonthsInYear(t);let e=0;for(;t.month>(e=t.calendar.getMonthsInYear(t));)t.month-=e,yp(t,1)}function NO(t){for(;t.day<1;)t.month--,wp(t),t.day+=t.calendar.getDaysInMonth(t);for(;t.day>t.calendar.getDaysInMonth(t);)t.day-=t.calendar.getDaysInMonth(t),t.month++,wp(t)}function jw(t){t.month=Math.max(1,Math.min(t.calendar.getMonthsInYear(t),t.month)),t.day=Math.max(1,Math.min(t.calendar.getDaysInMonth(t),t.day))}function mo(t){t.calendar.constrainDate&&t.calendar.constrainDate(t),t.year=Math.max(1,Math.min(t.calendar.getYearsInEra(t),t.year)),jw(t)}function Hw(t){let e={};for(let n in t)typeof t[n]=="number"&&(e[n]=-t[n]);return e}function zw(t,e){return uf(t,Hw(e))}function Qm(t,e){let n=t.copy();return e.era!=null&&(n.era=e.era),e.year!=null&&(n.year=e.year),e.month!=null&&(n.month=e.month),e.day!=null&&(n.day=e.day),mo(n),n}function Cu(t,e){let n=t.copy();return e.hour!=null&&(n.hour=e.hour),e.minute!=null&&(n.minute=e.minute),e.second!=null&&(n.second=e.second),e.millisecond!=null&&(n.millisecond=e.millisecond),FO(n),n}function BO(t){t.second+=Math.floor(t.millisecond/1e3),t.millisecond=wc(t.millisecond,1e3),t.minute+=Math.floor(t.second/60),t.second=wc(t.second,60),t.hour+=Math.floor(t.minute/60),t.minute=wc(t.minute,60);let e=Math.floor(t.hour/24);return t.hour=wc(t.hour,24),e}function FO(t){t.millisecond=Math.max(0,Math.min(t.millisecond,1e3)),t.second=Math.max(0,Math.min(t.second,59)),t.minute=Math.max(0,Math.min(t.minute,59)),t.hour=Math.max(0,Math.min(t.hour,23))}function wc(t,e){let n=t%e;return n<0&&(n+=e),n}function WO(t,e){return t.hour+=e.hours||0,t.minute+=e.minutes||0,t.second+=e.seconds||0,t.millisecond+=e.milliseconds||0,BO(t)}function Jm(t,e,n,r){let i=t.copy();switch(e){case"era":{let a=t.calendar.getEras(),c=a.indexOf(t.era);if(c<0)throw new Error("Invalid era: "+t.era);c=Zr(c,n,0,a.length-1,r?.round),i.era=a[c],mo(i);break}case"year":var o,s;!((o=(s=i.calendar).isInverseEra)===null||o===void 0)&&o.call(s,i)&&(n=-n),i.year=Zr(t.year,n,-1/0,9999,r?.round),i.year===-1/0&&(i.year=1),i.calendar.balanceYearMonth&&i.calendar.balanceYearMonth(i,t);break;case"month":i.month=Zr(t.month,n,1,t.calendar.getMonthsInYear(t),r?.round);break;case"day":i.day=Zr(t.day,n,1,t.calendar.getDaysInMonth(t),r?.round);break;default:throw new Error("Unsupported field "+e)}return t.calendar.balanceDate&&t.calendar.balanceDate(i),mo(i),i}function Uw(t,e,n,r){let i=t.copy();switch(e){case"hour":{let o=t.hour,s=0,a=23;if(r?.hourCycle===12){let c=o>=12;s=c?12:0,a=c?23:11}i.hour=Zr(o,n,s,a,r?.round);break}case"minute":i.minute=Zr(t.minute,n,0,59,r?.round);break;case"second":i.second=Zr(t.second,n,0,59,r?.round);break;case"millisecond":i.millisecond=Zr(t.millisecond,n,0,999,r?.round);break;default:throw new Error("Unsupported field "+e)}return i}function Zr(t,e,n,r,i=!1){if(i){t+=Math.sign(e),t<n&&(t=r);let o=Math.abs(e);e>0?t=Math.ceil(t/o)*o:t=Math.floor(t/o)*o,t>r&&(t=n)}else t+=e,t<n?t=r-(n-t-1):t>r&&(t=n+(t-r-1));return t}function Kw(t,e){let n;if(e.years!=null&&e.years!==0||e.months!=null&&e.months!==0||e.weeks!=null&&e.weeks!==0||e.days!=null&&e.days!==0){let i=uf(po(t),{years:e.years,months:e.months,weeks:e.weeks,days:e.days});n=Yr(i,t.timeZone)}else n=gs(t)-t.offset;n+=e.milliseconds||0,n+=(e.seconds||0)*1e3,n+=(e.minutes||0)*6e4,n+=(e.hours||0)*36e5;let r=Xr(n,t.timeZone);return Xn(r,t.calendar)}function VO(t,e){return Kw(t,Hw(e))}function jO(t,e,n,r){switch(e){case"hour":{let i=0,o=23;if(r?.hourCycle===12){let x=t.hour>=12;i=x?12:0,o=x?23:11}let s=po(t),a=Xn(Cu(s,{hour:i}),new ps),c=[Yr(a,t.timeZone,"earlier"),Yr(a,t.timeZone,"later")].filter(x=>Xr(x,t.timeZone).day===a.day)[0],f=Xn(Cu(s,{hour:o}),new ps),h=[Yr(f,t.timeZone,"earlier"),Yr(f,t.timeZone,"later")].filter(x=>Xr(x,t.timeZone).day===f.day).pop(),d=gs(t)-t.offset,g=Math.floor(d/fa),b=d%fa;return d=Zr(g,n,Math.floor(c/fa),Math.floor(h/fa),r?.round)*fa+b,Xn(Xr(d,t.timeZone),t.calendar)}case"minute":case"second":case"millisecond":return Uw(t,e,n,r);case"era":case"year":case"month":case"day":{let i=Jm(po(t),e,n,r),o=Yr(i,t.timeZone);return Xn(Xr(o,t.timeZone),t.calendar)}default:throw new Error("Unsupported field "+e)}}function HO(t,e,n){let r=po(t),i=Cu(Qm(r,e),e);if(i.compare(r)===0)return t;let o=Yr(i,t.timeZone,n);return Xn(Xr(o,t.timeZone),t.calendar)}const zO=/^(\d{4})-(\d{2})-(\d{2})(?:T(\d{2}))?(?::(\d{2}))?(?::(\d{2}))?(\.\d+)?(?:(?:([+-]\d{2})(?::?(\d{2}))?)|Z)$/;function Gw(t,e){let n=t.match(zO);if(!n)throw new Error("Invalid ISO 8601 date time string: "+t);let r=new bs(zr(n[1],1,9999),zr(n[2],1,12),1,e,0,n[4]?zr(n[4],0,23):0,n[5]?zr(n[5],0,59):0,n[6]?zr(n[6],0,59):0,n[7]?zr(n[7],0,1/0)*1e3:0);r.day=zr(n[3],0,r.calendar.getDaysInMonth(r));var i;return n[8]&&(r.offset=zr(n[8],-23,23)*36e5+zr((i=n[9])!==null&&i!==void 0?i:"0",0,59)*6e4),Vw(r,e)}function UO(t){return Gw(t,ms())}function zr(t,e,n){let r=Number(t);if(r<e||r>n)throw new RangeError(`Value out of range: ${e} <= ${r} <= ${n}`);return r}function KO(t){return`${String(t.hour).padStart(2,"0")}:${String(t.minute).padStart(2,"0")}:${String(t.second).padStart(2,"0")}${t.millisecond?String(t.millisecond/1e3).slice(1):""}`}function Yw(t){let e=Xn(t,new ps);return`${String(e.year).padStart(4,"0")}-${String(e.month).padStart(2,"0")}-${String(e.day).padStart(2,"0")}`}function qw(t){return`${Yw(t)}T${KO(t)}`}function GO(t){let e=Math.sign(t)<0?"-":"+";t=Math.abs(t);let n=Math.floor(t/36e5),r=t%36e5/6e4;return`${e}${String(n).padStart(2,"0")}:${String(r).padStart(2,"0")}`}function YO(t){return`${qw(t)}${GO(t.offset)}[${t.timeZone}]`}function qO(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function eg(t,e,n){qO(t,e),e.set(t,n)}function tg(t){let e=typeof t[0]=="object"?t.shift():new ps,n;if(typeof t[0]=="string")n=t.shift();else{let s=e.getEras();n=s[s.length-1]}let r=t.shift(),i=t.shift(),o=t.shift();return[e,n,r,i,o]}var XO=new WeakMap;class Da{copy(){return this.era?new Da(this.calendar,this.era,this.year,this.month,this.day):new Da(this.calendar,this.year,this.month,this.day)}add(e){return uf(this,e)}subtract(e){return zw(this,e)}set(e){return Qm(this,e)}cycle(e,n,r){return Jm(this,e,n,r)}toDate(e){return Fw(this,e)}toString(){return Yw(this)}compare(e){return _w(this,e)}constructor(...e){eg(this,XO,{writable:!0,value:void 0});let[n,r,i,o,s]=tg(e);this.calendar=n,this.era=r,this.year=i,this.month=o,this.day=s,mo(this)}}var ZO=new WeakMap;class Su{copy(){return this.era?new Su(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new Su(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(e){return uf(this,e)}subtract(e){return zw(this,e)}set(e){return Qm(Cu(this,e),e)}cycle(e,n,r){switch(e){case"era":case"year":case"month":case"day":return Jm(this,e,n,r);default:return Uw(this,e,n,r)}}toDate(e,n){return Fw(this,e,n)}toString(){return qw(this)}compare(e){let n=_w(this,e);return n===0?RO(this,po(e)):n}constructor(...e){eg(this,ZO,{writable:!0,value:void 0});let[n,r,i,o,s]=tg(e);this.calendar=n,this.era=r,this.year=i,this.month=o,this.day=s,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,mo(this)}}var QO=new WeakMap;class bs{copy(){return this.era?new bs(this.calendar,this.era,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond):new bs(this.calendar,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond)}add(e){return Kw(this,e)}subtract(e){return VO(this,e)}set(e,n){return HO(this,e,n)}cycle(e,n,r){return jO(this,e,n,r)}toDate(){return LO(this)}toString(){return YO(this)}toAbsoluteString(){return this.toDate().toISOString()}compare(e){return this.toDate().getTime()-_O(e,this.timeZone).toDate().getTime()}constructor(...e){eg(this,QO,{writable:!0,value:void 0});let[n,r,i,o,s]=tg(e),a=e.shift(),c=e.shift();this.calendar=n,this.era=r,this.year=i,this.month=o,this.day=s,this.timeZone=a,this.offset=c,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,mo(this)}}let Cd=new Map;class JO{format(e){return this.formatter.format(e)}formatToParts(e){return this.formatter.formatToParts(e)}formatRange(e,n){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(e,n);if(n<e)throw new RangeError("End date must be >= start date");return`${this.formatter.format(e)} – ${this.formatter.format(n)}`}formatRangeToParts(e,n){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(e,n);if(n<e)throw new RangeError("End date must be >= start date");let r=this.formatter.formatToParts(e),i=this.formatter.formatToParts(n);return[...r.map(o=>({...o,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...i.map(o=>({...o,source:"endRange"}))]}resolvedOptions(){let e=this.formatter.resolvedOptions();return nD()&&(this.resolvedHourCycle||(this.resolvedHourCycle=rD(e.locale,this.options)),e.hourCycle=this.resolvedHourCycle,e.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),e.calendar==="ethiopic-amete-alem"&&(e.calendar="ethioaa"),e}constructor(e,n={}){this.formatter=Xw(e,n),this.options=n}}const eD={true:{ja:"h11"},false:{}};function Xw(t,e={}){if(typeof e.hour12=="boolean"&&tD()){e={...e};let i=eD[String(e.hour12)][t.split("-")[0]],o=e.hour12?"h12":"h23";e.hourCycle=i??o,delete e.hour12}let n=t+(e?Object.entries(e).sort((i,o)=>i[0]<o[0]?-1:1).join():"");if(Cd.has(n))return Cd.get(n);let r=new Intl.DateTimeFormat(t,e);return Cd.set(n,r),r}let Sd=null;function tD(){return Sd==null&&(Sd=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),Sd}let kd=null;function nD(){return kd==null&&(kd=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),kd}function rD(t,e){if(!e.timeStyle&&!e.hour)return;t=t.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),t+=(t.includes("-u-")?"":"-u")+"-nu-latn";let n=Xw(t,{...e,timeZone:void 0}),r=parseInt(n.formatToParts(new Date(2020,2,3,0)).find(o=>o.type==="hour").value,10),i=parseInt(n.formatToParts(new Date(2020,2,3,23)).find(o=>o.type==="hour").value,10);if(r===0&&i===23)return"h23";if(r===24&&i===23)return"h24";if(r===0&&i===11)return"h11";if(r===12&&i===11)return"h12";throw new Error("Unexpected hour cycle result")}function z(){return z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z.apply(null,arguments)}function re(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function iD(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function ff(...t){return e=>t.forEach(n=>iD(n,e))}function $e(...t){return p.useCallback(ff(...t),t)}function ng(t,e){const n=p.createContext(e);function r(o){const{children:s,...a}=o,c=p.useMemo(()=>a,Object.values(a));return p.createElement(n.Provider,{value:c},s)}function i(o){const s=p.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return r.displayName=t+"Provider",[r,i]}function $t(t,e=[]){let n=[];function r(o,s){const a=p.createContext(s),c=n.length;n=[...n,s];function f(d){const{scope:g,children:b,...x}=d,v=g?.[t][c]||a,w=p.useMemo(()=>x,Object.values(x));return p.createElement(v.Provider,{value:w},b)}function h(d,g){const b=g?.[t][c]||a,x=p.useContext(b);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return f.displayName=o+"Provider",[f,h]}const i=()=>{const o=n.map(s=>p.createContext(s));return function(a){const c=a?.[t]||o;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,oD(i,...e)]}function oD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:f})=>{const d=c(o)[`__scope${f}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}const kr=p.forwardRef((t,e)=>{const{children:n,...r}=t,i=p.Children.toArray(n),o=i.find(sD);if(o){const s=o.props.children,a=i.map(c=>c===o?p.Children.count(s)>1?p.Children.only(null):p.isValidElement(s)?s.props.children:null:c);return p.createElement($p,z({},r,{ref:e}),p.isValidElement(s)?p.cloneElement(s,void 0,a):null)}return p.createElement($p,z({},r,{ref:e}),n)});kr.displayName="Slot";const $p=p.forwardRef((t,e)=>{const{children:n,...r}=t;return p.isValidElement(n)?p.cloneElement(n,{...aD(r,n.props),ref:e?ff(e,n.ref):n.ref}):p.Children.count(n)>1?p.Children.only(null):null});$p.displayName="SlotClone";const rg=({children:t})=>p.createElement(p.Fragment,null,t);function sD(t){return p.isValidElement(t)&&t.type===rg}function aD(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}const lD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],me=lD.reduce((t,e)=>{const n=p.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?kr:e;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(a,z({},s,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function cD(t,e){t&&oi.flushSync(()=>t.dispatchEvent(e))}function uD(t,e=globalThis?.document){const n=At(t);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const Cp="dismissableLayer.update",fD="dismissableLayer.pointerDownOutside",hD="dismissableLayer.focusOutside";let Sv;const dD=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Co=p.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:c,...f}=t,h=p.useContext(dD),[d,g]=p.useState(null),b=(n=d?.ownerDocument)!==null&&n!==void 0?n:globalThis?.document,[,x]=p.useState({}),v=$e(e,B=>g(B)),w=Array.from(h.layers),[$]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),S=w.indexOf($),A=d?w.indexOf(d):-1,R=h.layersWithOutsidePointerEventsDisabled.size>0,T=A>=S,D=pD(B=>{const N=B.target,W=[...h.branches].some(K=>K.contains(N));!T||W||(o?.(B),a?.(B),B.defaultPrevented||c?.())},b),M=mD(B=>{const N=B.target;[...h.branches].some(K=>K.contains(N))||(s?.(B),a?.(B),B.defaultPrevented||c?.())},b);return uD(B=>{A===h.layers.size-1&&(i?.(B),!B.defaultPrevented&&c&&(B.preventDefault(),c()))},b),p.useEffect(()=>{if(d)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Sv=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(d)),h.layers.add(d),kv(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Sv)}},[d,b,r,h]),p.useEffect(()=>()=>{d&&(h.layers.delete(d),h.layersWithOutsidePointerEventsDisabled.delete(d),kv())},[d,h]),p.useEffect(()=>{const B=()=>x({});return document.addEventListener(Cp,B),()=>document.removeEventListener(Cp,B)},[]),p.createElement(me.div,z({},f,{ref:v,style:{pointerEvents:R?T?"auto":"none":void 0,...t.style},onFocusCapture:re(t.onFocusCapture,M.onFocusCapture),onBlurCapture:re(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:re(t.onPointerDownCapture,D.onPointerDownCapture)}))});function pD(t,e=globalThis?.document){const n=At(t),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let f=function(){Zw(fD,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function mD(t,e=globalThis?.document){const n=At(t),r=p.useRef(!1);return p.useEffect(()=>{const i=o=>{o.target&&!r.current&&Zw(hD,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function kv(){const t=new CustomEvent(Cp);document.dispatchEvent(t)}function Zw(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?cD(i,o):i.dispatchEvent(o)}const gD=Co,dt=globalThis?.document?p.useLayoutEffect:()=>{},bD=Tw.useId||(()=>{});let vD=0;function mn(t){const[e,n]=p.useState(bD());return dt(()=>{n(r=>r??String(vD++))},[t]),e?`radix-${e}`:""}const xD=["top","right","bottom","left"],Ti=Math.min,En=Math.max,ku=Math.round,$c=Math.floor,$r=t=>({x:t,y:t}),yD={left:"right",right:"left",bottom:"top",top:"bottom"},wD={start:"end",end:"start"};function Sp(t,e,n){return En(t,Ti(e,n))}function ei(t,e){return typeof t=="function"?t(e):t}function ti(t){return t.split("-")[0]}function Ds(t){return t.split("-")[1]}function ig(t){return t==="x"?"y":"x"}function og(t){return t==="y"?"height":"width"}function Pi(t){return["top","bottom"].includes(ti(t))?"y":"x"}function sg(t){return ig(Pi(t))}function $D(t,e,n){n===void 0&&(n=!1);const r=Ds(t),i=sg(t),o=og(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Au(s)),[s,Au(s)]}function CD(t){const e=Au(t);return[kp(t),e,kp(e)]}function kp(t){return t.replace(/start|end/g,e=>wD[e])}function SD(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function kD(t,e,n,r){const i=Ds(t);let o=SD(ti(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(kp)))),o}function Au(t){return t.replace(/left|right|bottom|top/g,e=>yD[e])}function AD(t){return{top:0,right:0,bottom:0,left:0,...t}}function Qw(t){return typeof t!="number"?AD(t):{top:t,right:t,bottom:t,left:t}}function Eu(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Av(t,e,n){let{reference:r,floating:i}=t;const o=Pi(e),s=sg(e),a=og(s),c=ti(e),f=o==="y",h=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,g=r[a]/2-i[a]/2;let b;switch(c){case"top":b={x:h,y:r.y-i.height};break;case"bottom":b={x:h,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:d};break;case"left":b={x:r.x-i.width,y:d};break;default:b={x:r.x,y:r.y}}switch(Ds(e)){case"start":b[s]-=g*(n&&f?-1:1);break;case"end":b[s]+=g*(n&&f?-1:1);break}return b}const ED=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let f=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:d}=Av(f,r,c),g=r,b={},x=0;for(let v=0;v<a.length;v++){const{name:w,fn:$}=a[v],{x:S,y:A,data:R,reset:T}=await $({x:h,y:d,initialPlacement:r,placement:g,strategy:i,middlewareData:b,rects:f,platform:s,elements:{reference:t,floating:e}});h=S??h,d=A??d,b={...b,[w]:{...b[w],...R}},T&&x<=50&&(x++,typeof T=="object"&&(T.placement&&(g=T.placement),T.rects&&(f=T.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:h,y:d}=Av(f,g,c)),v=-1)}return{x:h,y:d,placement:g,strategy:i,middlewareData:b}};async function Ia(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:c}=t,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:g=!1,padding:b=0}=ei(e,t),x=Qw(b),w=a[g?d==="floating"?"reference":"floating":d],$=Eu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:f,rootBoundary:h,strategy:c})),S=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),R=await(o.isElement==null?void 0:o.isElement(A))?await(o.getScale==null?void 0:o.getScale(A))||{x:1,y:1}:{x:1,y:1},T=Eu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:A,strategy:c}):S);return{top:($.top-T.top+x.top)/R.y,bottom:(T.bottom-$.bottom+x.bottom)/R.y,left:($.left-T.left+x.left)/R.x,right:(T.right-$.right+x.right)/R.x}}const RD=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:c}=e,{element:f,padding:h=0}=ei(t,e)||{};if(f==null)return{};const d=Qw(h),g={x:n,y:r},b=sg(i),x=og(b),v=await s.getDimensions(f),w=b==="y",$=w?"top":"left",S=w?"bottom":"right",A=w?"clientHeight":"clientWidth",R=o.reference[x]+o.reference[b]-g[b]-o.floating[x],T=g[b]-o.reference[b],D=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f));let M=D?D[A]:0;(!M||!await(s.isElement==null?void 0:s.isElement(D)))&&(M=a.floating[A]||o.floating[x]);const B=R/2-T/2,N=M/2-v[x]/2-1,W=Ti(d[$],N),K=Ti(d[S],N),j=W,Q=M-v[x]-K,G=M/2-v[x]/2+B,ne=Sp(j,G,Q),le=!c.arrow&&Ds(i)!=null&&G!==ne&&o.reference[x]/2-(G<j?W:K)-v[x]/2<0,ee=le?G<j?G-j:G-Q:0;return{[b]:g[b]+ee,data:{[b]:ne,centerOffset:G-ne-ee,...le&&{alignmentOffset:ee}},reset:le}}}),TD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:c,elements:f}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:g,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...w}=ei(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const $=ti(i),S=Pi(a),A=ti(a)===a,R=await(c.isRTL==null?void 0:c.isRTL(f.floating)),T=g||(A||!v?[Au(a)]:CD(a)),D=x!=="none";!g&&D&&T.push(...kD(a,v,x,R));const M=[a,...T],B=await Ia(e,w),N=[];let W=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&N.push(B[$]),d){const G=$D(i,s,R);N.push(B[G[0]],B[G[1]])}if(W=[...W,{placement:i,overflows:N}],!N.every(G=>G<=0)){var K,j;const G=(((K=o.flip)==null?void 0:K.index)||0)+1,ne=M[G];if(ne)return{data:{index:G,overflows:W},reset:{placement:ne}};let le=(j=W.filter(ee=>ee.overflows[0]<=0).sort((ee,ae)=>ee.overflows[1]-ae.overflows[1])[0])==null?void 0:j.placement;if(!le)switch(b){case"bestFit":{var Q;const ee=(Q=W.filter(ae=>{if(D){const X=Pi(ae.placement);return X===S||X==="y"}return!0}).map(ae=>[ae.placement,ae.overflows.filter(X=>X>0).reduce((X,de)=>X+de,0)]).sort((ae,X)=>ae[1]-X[1])[0])==null?void 0:Q[0];ee&&(le=ee);break}case"initialPlacement":le=a;break}if(i!==le)return{reset:{placement:le}}}return{}}}};function Ev(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Rv(t){return xD.some(e=>t[e]>=0)}const PD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ei(t,e);switch(r){case"referenceHidden":{const o=await Ia(e,{...i,elementContext:"reference"}),s=Ev(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Rv(s)}}}case"escaped":{const o=await Ia(e,{...i,altBoundary:!0}),s=Ev(o,n.floating);return{data:{escapedOffsets:s,escaped:Rv(s)}}}default:return{}}}}};async function MD(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=ti(n),a=Ds(n),c=Pi(n)==="y",f=["left","top"].includes(s)?-1:1,h=o&&c?-1:1,d=ei(e,t);let{mainAxis:g,crossAxis:b,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof x=="number"&&(b=a==="end"?x*-1:x),c?{x:b*h,y:g*f}:{x:g*f,y:b*h}}const OD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,c=await MD(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:s}}}}},DD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:w=>{let{x:$,y:S}=w;return{x:$,y:S}}},...c}=ei(t,e),f={x:n,y:r},h=await Ia(e,c),d=Pi(ti(i)),g=ig(d);let b=f[g],x=f[d];if(o){const w=g==="y"?"top":"left",$=g==="y"?"bottom":"right",S=b+h[w],A=b-h[$];b=Sp(S,b,A)}if(s){const w=d==="y"?"top":"left",$=d==="y"?"bottom":"right",S=x+h[w],A=x-h[$];x=Sp(S,x,A)}const v=a.fn({...e,[g]:b,[d]:x});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[g]:o,[d]:s}}}}}},ID=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:c=!0,crossAxis:f=!0}=ei(t,e),h={x:n,y:r},d=Pi(i),g=ig(d);let b=h[g],x=h[d];const v=ei(a,e),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const A=g==="y"?"height":"width",R=o.reference[g]-o.floating[A]+w.mainAxis,T=o.reference[g]+o.reference[A]-w.mainAxis;b<R?b=R:b>T&&(b=T)}if(f){var $,S;const A=g==="y"?"width":"height",R=["top","left"].includes(ti(i)),T=o.reference[d]-o.floating[A]+(R&&(($=s.offset)==null?void 0:$[d])||0)+(R?0:w.crossAxis),D=o.reference[d]+o.reference[A]+(R?0:((S=s.offset)==null?void 0:S[d])||0)-(R?w.crossAxis:0);x<T?x=T:x>D&&(x=D)}return{[g]:b,[d]:x}}}},_D=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:c=()=>{},...f}=ei(t,e),h=await Ia(e,f),d=ti(i),g=Ds(i),b=Pi(i)==="y",{width:x,height:v}=o.floating;let w,$;d==="top"||d==="bottom"?(w=d,$=g===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):($=d,w=g==="end"?"top":"bottom");const S=v-h.top-h.bottom,A=x-h.left-h.right,R=Ti(v-h[w],S),T=Ti(x-h[$],A),D=!e.middlewareData.shift;let M=R,B=T;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(B=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=S),D&&!g){const W=En(h.left,0),K=En(h.right,0),j=En(h.top,0),Q=En(h.bottom,0);b?B=x-2*(W!==0||K!==0?W+K:En(h.left,h.right)):M=v-2*(j!==0||Q!==0?j+Q:En(h.top,h.bottom))}await c({...e,availableWidth:B,availableHeight:M});const N=await s.getDimensions(a.floating);return x!==N.width||v!==N.height?{reset:{rects:!0}}:{}}}};function hf(){return typeof window<"u"}function Is(t){return Jw(t)?(t.nodeName||"").toLowerCase():"#document"}function Tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rr(t){var e;return(e=(Jw(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Jw(t){return hf()?t instanceof Node||t instanceof Tn(t).Node:!1}function er(t){return hf()?t instanceof Element||t instanceof Tn(t).Element:!1}function Ar(t){return hf()?t instanceof HTMLElement||t instanceof Tn(t).HTMLElement:!1}function Tv(t){return!hf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tn(t).ShadowRoot}function ol(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=tr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function LD(t){return["table","td","th"].includes(Is(t))}function df(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function ag(t){const e=lg(),n=er(t)?tr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ND(t){let e=Mi(t);for(;Ar(e)&&!vs(e);){if(ag(e))return e;if(df(e))return null;e=Mi(e)}return null}function lg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vs(t){return["html","body","#document"].includes(Is(t))}function tr(t){return Tn(t).getComputedStyle(t)}function pf(t){return er(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Mi(t){if(Is(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Tv(t)&&t.host||Rr(t);return Tv(e)?e.host:e}function e2(t){const e=Mi(t);return vs(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ar(e)&&ol(e)?e:e2(e)}function _a(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=e2(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Tn(i);if(o){const a=Ap(s);return e.concat(s,s.visualViewport||[],ol(i)?i:[],a&&n?_a(a):[])}return e.concat(i,_a(i,[],n))}function Ap(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function t2(t){const e=tr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ar(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=ku(n)!==o||ku(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function cg(t){return er(t)?t:t.contextElement}function ss(t){const e=cg(t);if(!Ar(e))return $r(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=t2(e);let s=(o?ku(n.width):n.width)/r,a=(o?ku(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const BD=$r(0);function n2(t){const e=Tn(t);return!lg()||!e.visualViewport?BD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function FD(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tn(t)?!1:e}function go(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=cg(t);let s=$r(1);e&&(r?er(r)&&(s=ss(r)):s=ss(t));const a=FD(o,n,r)?n2(o):$r(0);let c=(i.left+a.x)/s.x,f=(i.top+a.y)/s.y,h=i.width/s.x,d=i.height/s.y;if(o){const g=Tn(o),b=r&&er(r)?Tn(r):r;let x=g,v=Ap(x);for(;v&&r&&b!==x;){const w=ss(v),$=v.getBoundingClientRect(),S=tr(v),A=$.left+(v.clientLeft+parseFloat(S.paddingLeft))*w.x,R=$.top+(v.clientTop+parseFloat(S.paddingTop))*w.y;c*=w.x,f*=w.y,h*=w.x,d*=w.y,c+=A,f+=R,x=Tn(v),v=Ap(x)}}return Eu({width:h,height:d,x:c,y:f})}function ug(t,e){const n=pf(t).scrollLeft;return e?e.left+n:go(Rr(t)).left+n}function r2(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:ug(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function WD(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Rr(r),a=e?df(e.floating):!1;if(r===s||a&&o)return n;let c={scrollLeft:0,scrollTop:0},f=$r(1);const h=$r(0),d=Ar(r);if((d||!d&&!o)&&((Is(r)!=="body"||ol(s))&&(c=pf(r)),Ar(r))){const b=go(r);f=ss(r),h.x=b.x+r.clientLeft,h.y=b.y+r.clientTop}const g=s&&!d&&!o?r2(s,c,!0):$r(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-c.scrollLeft*f.x+h.x+g.x,y:n.y*f.y-c.scrollTop*f.y+h.y+g.y}}function VD(t){return Array.from(t.getClientRects())}function jD(t){const e=Rr(t),n=pf(t),r=t.ownerDocument.body,i=En(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=En(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+ug(t);const a=-n.scrollTop;return tr(r).direction==="rtl"&&(s+=En(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function HD(t,e){const n=Tn(t),r=Rr(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;const f=lg();(!f||f&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a,y:c}}function zD(t,e){const n=go(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Ar(t)?ss(t):$r(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,c=i*o.x,f=r*o.y;return{width:s,height:a,x:c,y:f}}function Pv(t,e,n){let r;if(e==="viewport")r=HD(t,n);else if(e==="document")r=jD(Rr(t));else if(er(e))r=zD(e,n);else{const i=n2(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Eu(r)}function i2(t,e){const n=Mi(t);return n===e||!er(n)||vs(n)?!1:tr(n).position==="fixed"||i2(n,e)}function UD(t,e){const n=e.get(t);if(n)return n;let r=_a(t,[],!1).filter(a=>er(a)&&Is(a)!=="body"),i=null;const o=tr(t).position==="fixed";let s=o?Mi(t):t;for(;er(s)&&!vs(s);){const a=tr(s),c=ag(s);!c&&a.position==="fixed"&&(i=null),(o?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ol(s)&&!c&&i2(t,s))?r=r.filter(h=>h!==s):i=a,s=Mi(s)}return e.set(t,r),r}function KD(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?df(e)?[]:UD(e,this._c):[].concat(n),r],a=s[0],c=s.reduce((f,h)=>{const d=Pv(e,h,i);return f.top=En(d.top,f.top),f.right=Ti(d.right,f.right),f.bottom=Ti(d.bottom,f.bottom),f.left=En(d.left,f.left),f},Pv(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function GD(t){const{width:e,height:n}=t2(t);return{width:e,height:n}}function YD(t,e,n){const r=Ar(e),i=Rr(e),o=n==="fixed",s=go(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const c=$r(0);if(r||!r&&!o)if((Is(e)!=="body"||ol(i))&&(a=pf(e)),r){const g=go(e,!0,o,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else i&&(c.x=ug(i));const f=i&&!r&&!o?r2(i,a):$r(0),h=s.left+a.scrollLeft-c.x-f.x,d=s.top+a.scrollTop-c.y-f.y;return{x:h,y:d,width:s.width,height:s.height}}function Ad(t){return tr(t).position==="static"}function Mv(t,e){if(!Ar(t)||tr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Rr(t)===n&&(n=n.ownerDocument.body),n}function o2(t,e){const n=Tn(t);if(df(t))return n;if(!Ar(t)){let i=Mi(t);for(;i&&!vs(i);){if(er(i)&&!Ad(i))return i;i=Mi(i)}return n}let r=Mv(t,e);for(;r&&LD(r)&&Ad(r);)r=Mv(r,e);return r&&vs(r)&&Ad(r)&&!ag(r)?n:r||ND(t)||n}const qD=async function(t){const e=this.getOffsetParent||o2,n=this.getDimensions,r=await n(t.floating);return{reference:YD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function XD(t){return tr(t).direction==="rtl"}const ZD={convertOffsetParentRelativeRectToViewportRelativeRect:WD,getDocumentElement:Rr,getClippingRect:KD,getOffsetParent:o2,getElementRects:qD,getClientRects:VD,getDimensions:GD,getScale:ss,isElement:er,isRTL:XD};function s2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function QD(t,e){let n=null,r;const i=Rr(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const f=t.getBoundingClientRect(),{left:h,top:d,width:g,height:b}=f;if(a||e(),!g||!b)return;const x=$c(d),v=$c(i.clientWidth-(h+g)),w=$c(i.clientHeight-(d+b)),$=$c(h),A={rootMargin:-x+"px "+-v+"px "+-w+"px "+-$+"px",threshold:En(0,Ti(1,c))||1};let R=!0;function T(D){const M=D[0].intersectionRatio;if(M!==c){if(!R)return s();M?s(!1,M):r=setTimeout(()=>{s(!1,1e-7)},1e3)}M===1&&!s2(f,t.getBoundingClientRect())&&s(),R=!1}try{n=new IntersectionObserver(T,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,A)}n.observe(t)}return s(!0),o}function a2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=cg(t),h=i||o?[...f?_a(f):[],..._a(e)]:[];h.forEach($=>{i&&$.addEventListener("scroll",n,{passive:!0}),o&&$.addEventListener("resize",n)});const d=f&&a?QD(f,n):null;let g=-1,b=null;s&&(b=new ResizeObserver($=>{let[S]=$;S&&S.target===f&&b&&(b.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var A;(A=b)==null||A.observe(e)})),n()}),f&&!c&&b.observe(f),b.observe(e));let x,v=c?go(t):null;c&&w();function w(){const $=go(t);v&&!s2(v,$)&&n(),v=$,x=requestAnimationFrame(w)}return n(),()=>{var $;h.forEach(S=>{i&&S.removeEventListener("scroll",n),o&&S.removeEventListener("resize",n)}),d?.(),($=b)==null||$.disconnect(),b=null,c&&cancelAnimationFrame(x)}}const JD=OD,e4=DD,t4=TD,n4=_D,r4=PD,Ov=RD,i4=ID,o4=(t,e,n)=>{const r=new Map,i={platform:ZD,...n},o={...i.platform,_c:r};return ED(t,e,{...i,platform:o})};var cu=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Ru(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ru(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Ru(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function l2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Dv(t,e){const n=l2(t);return Math.round(e*n)/n}function Iv(t){const e=p.useRef(t);return cu(()=>{e.current=t}),e}function c2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:c,open:f}=t,[h,d]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,b]=p.useState(r);Ru(g,r)||b(r);const[x,v]=p.useState(null),[w,$]=p.useState(null),S=p.useCallback(ee=>{ee!==D.current&&(D.current=ee,v(ee))},[]),A=p.useCallback(ee=>{ee!==M.current&&(M.current=ee,$(ee))},[]),R=o||x,T=s||w,D=p.useRef(null),M=p.useRef(null),B=p.useRef(h),N=c!=null,W=Iv(c),K=Iv(i),j=p.useCallback(()=>{if(!D.current||!M.current)return;const ee={placement:e,strategy:n,middleware:g};K.current&&(ee.platform=K.current),o4(D.current,M.current,ee).then(ae=>{const X={...ae,isPositioned:!0};Q.current&&!Ru(B.current,X)&&(B.current=X,oi.flushSync(()=>{d(X)}))})},[g,e,n,K]);cu(()=>{f===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,d(ee=>({...ee,isPositioned:!1})))},[f]);const Q=p.useRef(!1);cu(()=>(Q.current=!0,()=>{Q.current=!1}),[]),cu(()=>{if(R&&(D.current=R),T&&(M.current=T),R&&T){if(W.current)return W.current(R,T,j);j()}},[R,T,j,W,N]);const G=p.useMemo(()=>({reference:D,floating:M,setReference:S,setFloating:A}),[S,A]),ne=p.useMemo(()=>({reference:R,floating:T}),[R,T]),le=p.useMemo(()=>{const ee={position:n,left:0,top:0};if(!ne.floating)return ee;const ae=Dv(ne.floating,h.x),X=Dv(ne.floating,h.y);return a?{...ee,transform:"translate("+ae+"px, "+X+"px)",...l2(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ae,top:X}},[n,a,ne.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:j,refs:G,elements:ne,floatingStyles:le}),[h,j,G,ne,le])}const s4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Ov({element:r.current,padding:i}).fn(n):{}:r?Ov({element:r,padding:i}).fn(n):{}}}},u2=(t,e)=>({...JD(t),options:[t,e]}),f2=(t,e)=>({...e4(t),options:[t,e]}),a4=(t,e)=>({...i4(t),options:[t,e]}),h2=(t,e)=>({...t4(t),options:[t,e]}),l4=(t,e)=>({...n4(t),options:[t,e]}),c4=(t,e)=>({...r4(t),options:[t,e]}),u4=(t,e)=>({...s4(t),options:[t,e]}),f4=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return p.createElement(me.svg,z({},o,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?n:p.createElement("polygon",{points:"0,0 30,0 15,10"}))}),h4=f4;function mf(t){const[e,n]=p.useState(void 0);return dt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const c=o.borderBoxSize,f=Array.isArray(c)?c[0]:c;s=f.inlineSize,a=f.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const d2="Popper",[p2,Ni]=$t(d2),[d4,m2]=p2(d2),p4=t=>{const{__scopePopper:e,children:n}=t,[r,i]=p.useState(null);return p.createElement(d4,{scope:e,anchor:r,onAnchorChange:i},n)},m4="PopperAnchor",g4=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=m2(m4,n),s=p.useRef(null),a=$e(e,s);return p.useEffect(()=>{o.onAnchorChange(r?.current||s.current)}),r?null:p.createElement(me.div,z({},i,{ref:a}))}),g2="PopperContent",[b4,v4]=p2(g2),x4=p.forwardRef((t,e)=>{var n,r,i,o,s,a,c,f;const{__scopePopper:h,side:d="bottom",sideOffset:g=0,align:b="center",alignOffset:x=0,arrowPadding:v=0,avoidCollisions:w=!0,collisionBoundary:$=[],collisionPadding:S=0,sticky:A="partial",hideWhenDetached:R=!1,updatePositionStrategy:T="optimized",onPlaced:D,...M}=t,B=m2(g2,h),[N,W]=p.useState(null),K=$e(e,Fe=>W(Fe)),[j,Q]=p.useState(null),G=mf(j),ne=(n=G?.width)!==null&&n!==void 0?n:0,le=(r=G?.height)!==null&&r!==void 0?r:0,ee=d+(b!=="center"?"-"+b:""),ae=typeof S=="number"?S:{top:0,right:0,bottom:0,left:0,...S},X=Array.isArray($)?$:[$],de=X.length>0,fe={padding:ae,boundary:X.filter(C4),altBoundary:de},{refs:Me,floatingStyles:be,placement:Ve,isPositioned:Le,middlewareData:je}=c2({strategy:"fixed",placement:ee,whileElementsMounted:(...Fe)=>a2(...Fe,{animationFrame:T==="always"}),elements:{reference:B.anchor},middleware:[u2({mainAxis:g+le,alignmentAxis:x}),w&&f2({mainAxis:!0,crossAxis:!1,limiter:A==="partial"?a4():void 0,...fe}),w&&h2({...fe}),l4({...fe,apply:({elements:Fe,rects:Zt,availableWidth:gt,availableHeight:Ui})=>{const{width:Gs,height:lr}=Zt.reference,Ct=Fe.floating.style;Ct.setProperty("--radix-popper-available-width",`${gt}px`),Ct.setProperty("--radix-popper-available-height",`${Ui}px`),Ct.setProperty("--radix-popper-anchor-width",`${Gs}px`),Ct.setProperty("--radix-popper-anchor-height",`${lr}px`)}}),j&&u4({element:j,padding:v}),S4({arrowWidth:ne,arrowHeight:le}),R&&c4({strategy:"referenceHidden",...fe})]}),[pe,Re]=b2(Ve),Ae=At(D);dt(()=>{Le&&Ae?.()},[Le,Ae]);const Ce=(i=je.arrow)===null||i===void 0?void 0:i.x,De=(o=je.arrow)===null||o===void 0?void 0:o.y,te=((s=je.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[pt,qe]=p.useState();return dt(()=>{N&&qe(window.getComputedStyle(N).zIndex)},[N]),p.createElement("div",{ref:Me.setFloating,"data-radix-popper-content-wrapper":"",style:{...be,transform:Le?be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pt,"--radix-popper-transform-origin":[(a=je.transformOrigin)===null||a===void 0?void 0:a.x,(c=je.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:t.dir},p.createElement(b4,{scope:h,placedSide:pe,onArrowChange:Q,arrowX:Ce,arrowY:De,shouldHideArrow:te},p.createElement(me.div,z({"data-side":pe,"data-align":Re},M,{ref:K,style:{...M.style,animation:Le?void 0:"none",opacity:(f=je.hide)!==null&&f!==void 0&&f.referenceHidden?0:void 0}}))))}),y4="PopperArrow",w4={top:"bottom",right:"left",bottom:"top",left:"right"},$4=p.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=v4(y4,r),s=w4[o.placedSide];return p.createElement("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0}},p.createElement(h4,z({},i,{ref:n,style:{...i.style,display:"block"}})))});function C4(t){return t!==null}const S4=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,o,s;const{placement:a,rects:c,middlewareData:f}=e,d=((n=f.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,g=d?0:t.arrowWidth,b=d?0:t.arrowHeight,[x,v]=b2(a),w={start:"0%",center:"50%",end:"100%"}[v],$=((r=(i=f.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+g/2,S=((o=(s=f.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+b/2;let A="",R="";return x==="bottom"?(A=d?w:`${$}px`,R=`${-b}px`):x==="top"?(A=d?w:`${$}px`,R=`${c.floating.height+b}px`):x==="right"?(A=`${-b}px`,R=d?w:`${S}px`):x==="left"&&(A=`${c.floating.width+b}px`,R=d?w:`${S}px`),{data:{x:A,y:R}}}});function b2(t){const[e,n="center"]=t.split("-");return[e,n]}const gf=p4,sl=g4,al=x4,k4=$4,_s=p.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?pO.createPortal(p.createElement(me.div,z({},i,{ref:e})),r):null});function A4(t,e){return p.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const Ot=t=>{const{present:e,children:n}=t,r=E4(e),i=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=$e(r.ref,i.ref);return typeof n=="function"||r.isPresent?p.cloneElement(i,{ref:o}):null};Ot.displayName="Presence";function E4(t){const[e,n]=p.useState(),r=p.useRef({}),i=p.useRef(t),o=p.useRef("none"),s=t?"mounted":"unmounted",[a,c]=A4(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const f=Cc(r.current);o.current=a==="mounted"?f:"none"},[a]),dt(()=>{const f=r.current,h=i.current;if(h!==t){const g=o.current,b=Cc(f);t?c("MOUNT"):b==="none"||f?.display==="none"?c("UNMOUNT"):c(h&&g!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),dt(()=>{if(e){const f=d=>{const b=Cc(r.current).includes(d.animationName);d.target===e&&b&&oi.flushSync(()=>c("ANIMATION_END"))},h=d=>{d.target===e&&(o.current=Cc(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(f=>{f&&(r.current=getComputedStyle(f)),n(f)},[])}}function Cc(t){return t?.animationName||"none"}function Yt({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=R4({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=At(n),c=p.useCallback(f=>{if(o){const d=typeof f=="function"?f(t):f;d!==t&&a(d)}else i(f)},[o,t,i,a]);return[s,c]}function R4({defaultProp:t,onChange:e}){const n=p.useState(t),[r]=n,i=p.useRef(r),o=At(e);return p.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}const v2=p.forwardRef((t,e)=>p.createElement(me.span,z({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),T4=v2,[bf,Vq]=$t("Tooltip",[Ni]),fg=Ni(),P4="TooltipProvider",Ep="tooltip.open",[jq,hg]=bf(P4),dg="Tooltip",[M4,ll]=bf(dg),O4=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:o,disableHoverableContent:s,delayDuration:a}=t,c=hg(dg,t.__scopeTooltip),f=fg(e),[h,d]=p.useState(null),g=mn(),b=p.useRef(0),x=s??c.disableHoverableContent,v=a??c.delayDuration,w=p.useRef(!1),[$=!1,S]=Yt({prop:r,defaultProp:i,onChange:M=>{M?(c.onOpen(),document.dispatchEvent(new CustomEvent(Ep))):c.onClose(),o?.(M)}}),A=p.useMemo(()=>$?w.current?"delayed-open":"instant-open":"closed",[$]),R=p.useCallback(()=>{window.clearTimeout(b.current),w.current=!1,S(!0)},[S]),T=p.useCallback(()=>{window.clearTimeout(b.current),S(!1)},[S]),D=p.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{w.current=!0,S(!0)},v)},[v,S]);return p.useEffect(()=>()=>window.clearTimeout(b.current),[]),p.createElement(gf,f,p.createElement(M4,{scope:e,contentId:g,open:$,stateAttribute:A,trigger:h,onTriggerChange:d,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayed?D():R()},[c.isOpenDelayed,D,R]),onTriggerLeave:p.useCallback(()=>{x?T():window.clearTimeout(b.current)},[T,x]),onOpen:R,onClose:T,disableHoverableContent:x},n))},_v="TooltipTrigger",D4=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=ll(_v,n),o=hg(_v,n),s=fg(n),a=p.useRef(null),c=$e(e,a,i.onTriggerChange),f=p.useRef(!1),h=p.useRef(!1),d=p.useCallback(()=>f.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),p.createElement(sl,z({asChild:!0},s),p.createElement(me.button,z({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:c,onPointerMove:re(t.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:re(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:re(t.onPointerDown,()=>{f.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:re(t.onFocus,()=>{f.current||i.onOpen()}),onBlur:re(t.onBlur,i.onClose),onClick:re(t.onClick,i.onClose)})))}),x2="TooltipPortal",[I4,_4]=bf(x2,{forceMount:void 0}),L4=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:i}=t,o=ll(x2,e);return p.createElement(I4,{scope:e,forceMount:n},p.createElement(Ot,{present:n||o.open},p.createElement(_s,{asChild:!0,container:i},r)))},La="TooltipContent",N4=p.forwardRef((t,e)=>{const n=_4(La,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,s=ll(La,t.__scopeTooltip);return p.createElement(Ot,{present:r||s.open},s.disableHoverableContent?p.createElement(y2,z({side:i},o,{ref:e})):p.createElement(B4,z({side:i},o,{ref:e})))}),B4=p.forwardRef((t,e)=>{const n=ll(La,t.__scopeTooltip),r=hg(La,t.__scopeTooltip),i=p.useRef(null),o=$e(e,i),[s,a]=p.useState(null),{trigger:c,onClose:f}=n,h=i.current,{onPointerInTransitChange:d}=r,g=p.useCallback(()=>{a(null),d(!1)},[d]),b=p.useCallback((x,v)=>{const w=x.currentTarget,$={x:x.clientX,y:x.clientY},S=W4($,w.getBoundingClientRect()),A=V4($,S),R=j4(v.getBoundingClientRect()),T=z4([...A,...R]);a(T),d(!0)},[d]);return p.useEffect(()=>()=>g(),[g]),p.useEffect(()=>{if(c&&h){const x=w=>b(w,h),v=w=>b(w,c);return c.addEventListener("pointerleave",x),h.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",x),h.removeEventListener("pointerleave",v)}}},[c,h,b,g]),p.useEffect(()=>{if(s){const x=v=>{const w=v.target,$={x:v.clientX,y:v.clientY},S=c?.contains(w)||h?.contains(w),A=!H4($,s);S?g():A&&(g(),f())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,h,s,f,g]),p.createElement(y2,z({},t,{ref:o}))}),[F4,Hq]=bf(dg,{isInside:!1}),y2=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=t,c=ll(La,n),f=fg(n),{onClose:h}=c;return p.useEffect(()=>(document.addEventListener(Ep,h),()=>document.removeEventListener(Ep,h)),[h]),p.useEffect(()=>{if(c.trigger){const d=g=>{const b=g.target;b!=null&&b.contains(c.trigger)&&h()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,h]),p.createElement(Co,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:d=>d.preventDefault(),onDismiss:h},p.createElement(al,z({"data-state":c.stateAttribute},f,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),p.createElement(rg,null,r),p.createElement(F4,{scope:n,isInside:!0},p.createElement(T4,{id:c.contentId,role:"tooltip"},i||r))))});function W4(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function V4(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function j4(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function H4(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,c=e[o].y,f=e[s].x,h=e[s].y;c>r!=h>r&&n<(f-a)*(r-c)/(h-c)+a&&(i=!i)}return i}function z4(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),U4(e)}function U4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],s=e[e.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}const w2=O4,$2=D4,C2=L4,S2=N4;let Ed=0;function Ls(){p.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:Lv()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:Lv()),Ed++,()=>{Ed===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Ed--}},[])}function Lv(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const Rd="focusScope.autoFocusOnMount",Td="focusScope.autoFocusOnUnmount",Nv={bubbles:!1,cancelable:!0},Ns=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,c]=p.useState(null),f=At(i),h=At(o),d=p.useRef(null),g=$e(e,v=>c(v)),b=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(A){if(b.paused||!a)return;const R=A.target;a.contains(R)?d.current=R:vi(d.current,{select:!0})},w=function(A){if(b.paused||!a)return;const R=A.relatedTarget;R!==null&&(a.contains(R)||vi(d.current,{select:!0}))},$=function(A){if(document.activeElement===document.body)for(const T of A)T.removedNodes.length>0&&vi(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const S=new MutationObserver($);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),S.disconnect()}}},[r,a,b.paused]),p.useEffect(()=>{if(a){Fv.add(b);const v=document.activeElement;if(!a.contains(v)){const $=new CustomEvent(Rd,Nv);a.addEventListener(Rd,f),a.dispatchEvent($),$.defaultPrevented||(K4(Z4(k2(a)),{select:!0}),document.activeElement===v&&vi(a))}return()=>{a.removeEventListener(Rd,f),setTimeout(()=>{const $=new CustomEvent(Td,Nv);a.addEventListener(Td,h),a.dispatchEvent($),$.defaultPrevented||vi(v??document.body,{select:!0}),a.removeEventListener(Td,h),Fv.remove(b)},0)}}},[a,f,h,b]);const x=p.useCallback(v=>{if(!n&&!r||b.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,$=document.activeElement;if(w&&$){const S=v.currentTarget,[A,R]=G4(S);A&&R?!v.shiftKey&&$===R?(v.preventDefault(),n&&vi(A,{select:!0})):v.shiftKey&&$===A&&(v.preventDefault(),n&&vi(R,{select:!0})):$===S&&v.preventDefault()}},[n,r,b.paused]);return p.createElement(me.div,z({tabIndex:-1},s,{ref:g,onKeyDown:x}))});function K4(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(vi(r,{select:e}),document.activeElement!==n)return}function G4(t){const e=k2(t),n=Bv(e,t),r=Bv(e.reverse(),t);return[n,r]}function k2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Bv(t,e){for(const n of t)if(!Y4(n,{upTo:e}))return n}function Y4(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function q4(t){return t instanceof HTMLInputElement&&"select"in t}function vi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&q4(t)&&e&&t.select()}}const Fv=X4();function X4(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=Wv(t,e),t.unshift(e)},remove(e){var n;t=Wv(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function Wv(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Z4(t){return t.filter(e=>e.tagName!=="A")}var Q4=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ho=new WeakMap,Sc=new WeakMap,kc={},Pd=0,A2=function(t){return t&&(t.host||A2(t.parentNode))},J4=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=A2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},e7=function(t,e,n,r){var i=J4(e,Array.isArray(t)?t:[t]);kc[n]||(kc[n]=new WeakMap);var o=kc[n],s=[],a=new Set,c=new Set(i),f=function(d){!d||a.has(d)||(a.add(d),f(d.parentNode))};i.forEach(f);var h=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(g){if(a.has(g))h(g);else try{var b=g.getAttribute(r),x=b!==null&&b!=="false",v=(Ho.get(g)||0)+1,w=(o.get(g)||0)+1;Ho.set(g,v),o.set(g,w),s.push(g),v===1&&x&&Sc.set(g,!0),w===1&&g.setAttribute(n,"true"),x||g.setAttribute(r,"true")}catch($){console.error("aria-hidden: cannot operate on ",g,$)}})};return h(e),a.clear(),Pd++,function(){s.forEach(function(d){var g=Ho.get(d)-1,b=o.get(d)-1;Ho.set(d,g),o.set(d,b),g||(Sc.has(d)||d.removeAttribute(r),Sc.delete(d)),b||d.removeAttribute(n)}),Pd--,Pd||(Ho=new WeakMap,Ho=new WeakMap,Sc=new WeakMap,kc={})}},cl=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Q4(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),e7(r,i,n,"aria-hidden")):function(){return null}},Ke=function(){return Ke=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ke.apply(this,arguments)};function Bi(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ul(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Ai="right-scroll-bar-position",Ei="width-before-scroll-bar",t7="with-scroll-bars-hidden",n7="--removed-body-scroll-bar-size";function Md(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function r7(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var i7=typeof window<"u"?p.useLayoutEffect:p.useEffect,Vv=new WeakMap;function fl(t,e){var n=r7(null,function(r){return t.forEach(function(i){return Md(i,r)})});return i7(function(){var r=Vv.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||Md(a,null)}),o.forEach(function(a){i.has(a)||Md(a,s)})}Vv.set(n,t)},[t]),n}function o7(t){return t}function s7(t,e){e===void 0&&(e=o7);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var c=function(){var h=s;s=[],h.forEach(o)},f=function(){return Promise.resolve().then(c)};f(),n={push:function(h){s.push(h),f()},filter:function(h){return s=s.filter(h),n}}}};return i}function hl(t){t===void 0&&(t={});var e=s7(null);return e.options=Ke({async:!0,ssr:!1},t),e}var E2=function(t){var e=t.sideCar,n=Bi(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Ke({},n))};E2.isSideCarExport=!0;function dl(t,e){return t.useMedium(e),E2}var R2=hl(),Od=function(){},vf=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:Od,onWheelCapture:Od,onTouchMoveCapture:Od}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,c=t.className,f=t.removeScrollBar,h=t.enabled,d=t.shards,g=t.sideCar,b=t.noIsolation,x=t.inert,v=t.allowPinchZoom,w=t.as,$=w===void 0?"div":w,S=t.gapMode,A=Bi(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=g,T=fl([n,e]),D=Ke(Ke({},A),i);return p.createElement(p.Fragment,null,h&&p.createElement(R,{sideCar:R2,removeScrollBar:f,shards:d,noIsolation:b,inert:x,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:S}),s?p.cloneElement(p.Children.only(a),Ke(Ke({},D),{ref:T})):p.createElement($,Ke({},D,{className:c,ref:T}),a))});vf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vf.classNames={fullWidth:Ei,zeroRight:Ai};var a7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function l7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=a7();return e&&t.setAttribute("nonce",e),t}function c7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function u7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var f7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=l7())&&(c7(e,n),u7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},h7=function(){var t=f7();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Bs=function(){var t=h7(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},d7={left:0,top:0,right:0,gap:0},Dd=function(t){return parseInt(t||"",10)||0},p7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Dd(n),Dd(r),Dd(i)]},m7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return d7;var e=p7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},g7=Bs(),as="data-scroll-locked",b7=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(t7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(as,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ai,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ei,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ai," .").concat(Ai,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ei," .").concat(Ei,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(as,`] {
    `).concat(n7,": ").concat(a,`px;
  }
`)},jv=function(){var t=parseInt(document.body.getAttribute(as)||"0",10);return isFinite(t)?t:0},v7=function(){p.useEffect(function(){return document.body.setAttribute(as,(jv()+1).toString()),function(){var t=jv()-1;t<=0?document.body.removeAttribute(as):document.body.setAttribute(as,t.toString())}},[])},pl=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;v7();var o=p.useMemo(function(){return m7(i)},[i]);return p.createElement(g7,{styles:b7(o,!e,i,n?"":"!important")})},Rp=!1;if(typeof window<"u")try{var Ac=Object.defineProperty({},"passive",{get:function(){return Rp=!0,!0}});window.addEventListener("test",Ac,Ac),window.removeEventListener("test",Ac,Ac)}catch{Rp=!1}var zo=Rp?{passive:!1}:!1,x7=function(t){return t.tagName==="TEXTAREA"},T2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!x7(t)&&n[e]==="visible")},y7=function(t){return T2(t,"overflowY")},w7=function(t){return T2(t,"overflowX")},Hv=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=P2(t,r);if(i){var o=M2(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},$7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},C7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},P2=function(t,e){return t==="v"?y7(e):w7(e)},M2=function(t,e){return t==="v"?$7(e):C7(e)},S7=function(t,e){return t==="h"&&e==="rtl"?-1:1},k7=function(t,e,n,r,i){var o=S7(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,c=e.contains(a),f=!1,h=s>0,d=0,g=0;do{var b=M2(t,a),x=b[0],v=b[1],w=b[2],$=v-w-o*x;(x||$)&&P2(t,a)&&(d+=$,g+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&Math.abs(d)<1||!h&&Math.abs(g)<1)&&(f=!0),f},Ec=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},zv=function(t){return[t.deltaX,t.deltaY]},Uv=function(t){return t&&"current"in t?t.current:t},A7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},E7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},R7=0,Uo=[];function T7(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(R7++)[0],o=p.useState(Bs)[0],s=p.useRef(t);p.useEffect(function(){s.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=ul([t.lockRef.current],(t.shards||[]).map(Uv),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(v,w){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var $=Ec(v),S=n.current,A="deltaX"in v?v.deltaX:S[0]-$[0],R="deltaY"in v?v.deltaY:S[1]-$[1],T,D=v.target,M=Math.abs(A)>Math.abs(R)?"h":"v";if("touches"in v&&M==="h"&&D.type==="range")return!1;var B=Hv(M,D);if(!B)return!0;if(B?T=M:(T=M==="v"?"h":"v",B=Hv(M,D)),!B)return!1;if(!r.current&&"changedTouches"in v&&(A||R)&&(r.current=T),!T)return!0;var N=r.current||T;return k7(N,w,v,N==="h"?A:R)},[]),c=p.useCallback(function(v){var w=v;if(!(!Uo.length||Uo[Uo.length-1]!==o)){var $="deltaY"in w?zv(w):Ec(w),S=e.current.filter(function(T){return T.name===w.type&&(T.target===w.target||w.target===T.shadowParent)&&A7(T.delta,$)})[0];if(S&&S.should){w.cancelable&&w.preventDefault();return}if(!S){var A=(s.current.shards||[]).map(Uv).filter(Boolean).filter(function(T){return T.contains(w.target)}),R=A.length>0?a(w,A[0]):!s.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),f=p.useCallback(function(v,w,$,S){var A={name:v,delta:w,target:$,should:S,shadowParent:P7($)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(R){return R!==A})},1)},[]),h=p.useCallback(function(v){n.current=Ec(v),r.current=void 0},[]),d=p.useCallback(function(v){f(v.type,zv(v),v.target,a(v,t.lockRef.current))},[]),g=p.useCallback(function(v){f(v.type,Ec(v),v.target,a(v,t.lockRef.current))},[]);p.useEffect(function(){return Uo.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:g}),document.addEventListener("wheel",c,zo),document.addEventListener("touchmove",c,zo),document.addEventListener("touchstart",h,zo),function(){Uo=Uo.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,zo),document.removeEventListener("touchmove",c,zo),document.removeEventListener("touchstart",h,zo)}},[]);var b=t.removeScrollBar,x=t.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:E7(i)}):null,b?p.createElement(pl,{gapMode:t.gapMode}):null)}function P7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const M7=dl(R2,T7);var pg=p.forwardRef(function(t,e){return p.createElement(vf,Ke({},t,{ref:e,sideCar:M7}))});pg.classNames=vf.classNames;function Tp(t,[e,n]){return Math.min(n,Math.max(e,t))}function xf(t){const e=t+"CollectionProvider",[n,r]=$t(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=b=>{const{scope:x,children:v}=b,w=Be.useRef(null),$=Be.useRef(new Map).current;return Be.createElement(i,{scope:x,itemMap:$,collectionRef:w},v)},a=t+"CollectionSlot",c=Be.forwardRef((b,x)=>{const{scope:v,children:w}=b,$=o(a,v),S=$e(x,$.collectionRef);return Be.createElement(kr,{ref:S},w)}),f=t+"CollectionItemSlot",h="data-radix-collection-item",d=Be.forwardRef((b,x)=>{const{scope:v,children:w,...$}=b,S=Be.useRef(null),A=$e(x,S),R=o(f,v);return Be.useEffect(()=>(R.itemMap.set(S,{ref:S,...$}),()=>void R.itemMap.delete(S))),Be.createElement(kr,{[h]:"",ref:A},w)});function g(b){const x=o(t+"CollectionConsumer",b);return Be.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const $=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((R,T)=>$.indexOf(R.ref.current)-$.indexOf(T.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:s,Slot:c,ItemSlot:d},g,r]}const O7=p.createContext(void 0);function So(t){const e=p.useContext(O7);return t||e||"ltr"}function yf(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function D7(t){const e=`${t}CollectionProvider`,[n,r]=$t(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map,listeners:new Set}),s=b=>{const{scope:x,children:v}=b,w=p.useRef(null),$=p.useRef(new Map).current,S=p.useRef(new Set).current;return C.jsx(i,{scope:x,itemMap:$,collectionRef:w,listeners:S,children:v})};s.displayName=e;const a=`${t}CollectionSlot`,c=p.forwardRef((b,x)=>{const{scope:v,children:w}=b,$=o(a,v),S=$e(x,$.collectionRef);return C.jsx(kr,{ref:S,children:w})});c.displayName=a;const f=`${t}CollectionItemSlot`,h="data-radix-collection-item",d=p.forwardRef((b,x)=>{const{scope:v,children:w,...$}=b,S=p.useRef(null),A=$e(x,S),R=o(f,v);return p.useEffect(()=>{const T=Array.from(R.itemMap.values());return R.itemMap.set(S,{ref:S,...$}),R.listeners.forEach(D=>D(Array.from(R.itemMap.values()),T)),()=>{const D=Array.from(R.itemMap.values());R.itemMap.delete(S),R.listeners.forEach(M=>M(Array.from(R.itemMap.values()),D))}}),C.jsx(kr,{[h]:"",ref:A,children:w})});d.displayName=f;function g(b){const x=o(`${t}CollectionConsumer`,b),v=p.useCallback(()=>{const $=x.collectionRef.current;if(!$)return[];const S=Array.from($.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((T,D)=>S.indexOf(T.ref.current)-S.indexOf(D.ref.current))},[x.collectionRef,x.itemMap]),w=p.useCallback($=>(x.listeners.add($),()=>x.listeners.delete($)),[x.listeners]);return{getItems:v,subscribe:w}}return[{Provider:s,Slot:c,ItemSlot:d},g,r]}const Id=new Map;function I7(t,e){const n=t+(e?Object.entries(e).sort((i,o)=>i[0]<o[0]?-1:1).join():"");if(Id.has(n))return Id.get(n);const r=new Intl.Collator(t,e);return Id.set(n,r),r}function mg(t,e){const n=I7(t,{usage:"search",...e});return{startsWith(r,i){return i.length===0?!0:(r=r.normalize("NFC"),i=i.normalize("NFC"),n.compare(r.slice(0,i.length),i)===0)},endsWith(r,i){return i.length===0?!0:(r=r.normalize("NFC"),i=i.normalize("NFC"),n.compare(r.slice(-i.length),i)===0)},contains(r,i){if(i.length===0)return!0;r=r.normalize("NFC"),i=i.normalize("NFC");let o=0;const s=i.length;for(;o+s<=r.length;o++){const a=r.slice(o,o+s);if(n.compare(i,a)===0)return!0}return!1}}}const _7=t=>{const e=p.useRef();return p.useEffect(()=>{e.current=t}),e.current},L7=[" ","Enter","ArrowUp","ArrowDown"],N7=["Enter"],B7=t=>!!(t.length===1&&t.match(/\S| /)),O2="Combobox",[xs,ml]=D7(O2),[F7,Tr]=ng(O2),W7=({children:t})=>C.jsx(gf,{children:C.jsx(xs.Provider,{scope:void 0,children:t})}),V7=t=>typeof t=="string"?t==="none"?{type:t,filter:void 0}:{type:t,filter:"startsWith"}:t,j7=t=>{const{allowCustomValue:e=!1,autocomplete:n="none",children:r,open:i,defaultOpen:o,onOpenChange:s,value:a,defaultValue:c,onValueChange:f,disabled:h,required:d=!1,locale:g="en-EN",onTextValueChange:b,textValue:x,defaultTextValue:v,filterValue:w,defaultFilterValue:$,onFilterValueChange:S,isPrintableCharacter:A=B7}=t,[R,T]=p.useState(null),[D,M]=p.useState(null),[B,N]=p.useState(null),[W,K]=p.useState(null),[j=!1,Q]=Yt({prop:i,defaultProp:o,onChange:s}),[G,ne]=Yt({prop:a,defaultProp:c,onChange:f}),[le,ee]=Yt({prop:x,defaultProp:e&&!v?a:v,onChange:b}),[ae,X]=Yt({prop:w,defaultProp:$,onChange:S}),de=mn(),fe=p.useCallback((be,Ve)=>{const Le=Ve.map(Ce=>Ce.ref.current),[je,...pe]=Le,[Re]=pe.slice(-1),Ae=W??Ve.find(Ce=>Ce.value===G)?.ref.current;for(const Ce of be){if(Ce===Ae)return;if(Ce?.scrollIntoView({block:"nearest"}),Ce===je&&D&&(D.scrollTop=0),Ce===Re&&D&&(D.scrollTop=D.scrollHeight),K(Ce),n==="both"){const De=Ve.find(te=>te.ref.current===Ce);De&&ee(De.textValue)}if(Ce!==Ae)return}},[n,ee,D,W,G]),Me=V7(n);return p.useEffect(()=>{n!=="both"&&K(null)},[le,n]),p.useEffect(()=>{if(B&&R)return cl([B,R])},[B,R]),C.jsx(W7,{children:C.jsx(F7,{allowCustomValue:e,autocomplete:Me,required:d,trigger:R,onTriggerChange:T,contentId:de,value:G,onValueChange:ne,open:j,onOpenChange:Q,disabled:h,locale:g,focusFirst:fe,textValue:le,onTextValueChange:ee,onViewportChange:M,onContentChange:N,visuallyFocussedItem:W,filterValue:ae,onFilterValueChange:X,onVisuallyFocussedItemChange:K,isPrintableCharacter:A,children:r})})},D2="ComboboxTrigger",I2=p.forwardRef((t,e)=>{const{...n}=t,r=Tr(D2),i=()=>{r.disabled||r.onOpenChange(!0)};return C.jsx(sl,{asChild:!0,children:C.jsx(Ns,{asChild:!0,trapped:r.open,onMountAutoFocus:o=>{o.preventDefault()},onUnmountAutoFocus:o=>{r.trigger?.focus({preventScroll:!0}),document.getSelection()?.empty(),o.preventDefault()},children:C.jsx("div",{ref:e,"data-disabled":r.disabled?"":void 0,...n,onClick:re(n.onClick,o=>{if(r.disabled){o.preventDefault();return}r.trigger?.focus()}),onPointerDown:re(n.onPointerDown,o=>{if(r.disabled){o.preventDefault();return}const s=o.target;s.hasPointerCapture(o.pointerId)&&s.releasePointerCapture(o.pointerId),(s.closest("button")??s.closest("div"))===o.currentTarget&&o.button===0&&o.ctrlKey===!1&&(i(),r.trigger?.focus())})})})})});I2.displayName=D2;const _2="ComboboxInput",L2=p.forwardRef((t,e)=>{const n=Tr(_2),r=p.useRef(null),{getItems:i}=ml(void 0),{startsWith:o}=mg(n.locale,{sensitivity:"base"}),s=n.disabled,a=$e(r,e,n.onTriggerChange),c=()=>{s||n.onOpenChange(!0)},f=_7(n.filterValue);return dt(()=>{const h=setTimeout(()=>{if(n.textValue===""||n.textValue===void 0||n.filterValue===""||n.filterValue===void 0)return;const d=i().find(b=>b.type==="option"&&o(b.textValue,n.textValue)),g=rI(f??"",n.filterValue);d&&!n.visuallyFocussedItem&&g===n.filterValue.length&&r.current?.setSelectionRange(n.filterValue.length,n.textValue.length)});return()=>clearTimeout(h)},[n.textValue,n.filterValue,o,n.visuallyFocussedItem,i,f]),C.jsx("input",{type:"text",role:"combobox","aria-controls":n.contentId,"aria-expanded":n.open,"aria-required":n.required,"aria-autocomplete":n.autocomplete.type,"data-state":n.open?"open":"closed","aria-disabled":s,"aria-activedescendant":n.visuallyFocussedItem?.id,disabled:s,"data-disabled":s?"":void 0,"data-placeholder":n.textValue===void 0?"":void 0,value:n.textValue??"",...t,ref:a,onKeyDown:re(t.onKeyDown,h=>{if(["ArrowUp","ArrowDown","Home","End"].includes(h.key))n.open||c(),setTimeout(()=>{let g=i().filter(b=>!b.disabled&&b.isVisible).map(b=>b.ref.current);if(["ArrowUp","End"].includes(h.key)&&(g=g.slice().reverse()),["ArrowUp","ArrowDown"].includes(h.key)){const b=n.visuallyFocussedItem??i().find(x=>x.value===n.value)?.ref.current;if(b){let x=g.indexOf(b);x===g.length-1&&(x=-1),g=g.slice(x+1)}}if(["ArrowDown"].includes(h.key)&&n.autocomplete.type==="both"&&g.length>1){const[b,...x]=g,v=i().find(w=>w.ref.current===b).textValue;n.textValue===v&&(g=x)}n.focusFirst(g,i())}),h.preventDefault();else if(["Tab"].includes(h.key)&&n.open)h.preventDefault();else if(["Escape"].includes(h.key))n.open?n.onOpenChange(!1):(n.onValueChange(void 0),n.onTextValueChange("")),h.preventDefault();else if(N7.includes(h.key)){if(n.visuallyFocussedItem){const d=i().find(g=>g.ref.current===n.visuallyFocussedItem);d&&(n.onValueChange(d.value),n.onTextValueChange(d.textValue),n.autocomplete.type==="both"&&n.onFilterValueChange(d.textValue),d.ref.current?.click())}else{const d=i().find(g=>g.type==="option"&&!g.disabled&&g.textValue===n.textValue);d&&(n.onValueChange(d.value),n.onTextValueChange(d.textValue),n.autocomplete.type==="both"&&n.onFilterValueChange(d.textValue),d.ref.current?.click())}n.onOpenChange(!1),h.preventDefault()}else n.onVisuallyFocussedItemChange(null)}),onChange:re(t.onChange,h=>{n.onTextValueChange(h.currentTarget.value),n.autocomplete.type==="both"&&n.onFilterValueChange(h.currentTarget.value)}),onKeyUp:re(t.onKeyUp,h=>{if(!n.open&&(n.isPrintableCharacter(h.key)||["Backspace"].includes(h.key))&&c(),setTimeout(()=>{if(n.autocomplete.type==="both"&&n.isPrintableCharacter(h.key)&&n.filterValue!==void 0){const d=n.filterValue,g=i().find(b=>o(b.textValue,d));g&&n.onTextValueChange(g.textValue)}}),n.autocomplete.type==="none"&&n.isPrintableCharacter(h.key)){const d=n.textValue??"",g=i().find(b=>o(b.textValue,d));g&&(n.onVisuallyFocussedItemChange(g.ref.current),g.ref.current?.scrollIntoView())}}),onBlur:re(t.onBlur,()=>{if(n.open)return;n.onVisuallyFocussedItemChange(null);const[h]=i().filter(g=>g.textValue===n.textValue&&g.type==="option");if(h){n.onValueChange(h.value),n.autocomplete.type==="both"&&n.onFilterValueChange(h.textValue);return}if(n.allowCustomValue){n.onValueChange(n.textValue),n.autocomplete.type==="both"&&n.onFilterValueChange(n.textValue);return}const[d]=i().filter(g=>g.value===n.value&&g.type==="option");d&&n.textValue!==""?(n.onTextValueChange(d.textValue),n.autocomplete.type==="both"&&n.onFilterValueChange(d.textValue)):(n.onValueChange(void 0),n.onTextValueChange(""))})})});L2.displayName="ComboboxTextInput";const N2=p.forwardRef((t,e)=>{const{children:n,...r}=t,i=Tr(_2),o=i.disabled,s=()=>{o||(i.onOpenChange(!0),i.trigger?.focus())};return C.jsx(me.button,{"aria-hidden":!0,type:"button","aria-disabled":o,"aria-controls":i.contentId,"aria-expanded":i.open,disabled:o,"data-disabled":o?"":void 0,...r,tabIndex:-1,ref:e,onClick:re(r.onClick,()=>{i.trigger?.focus()}),onPointerDown:re(r.onPointerDown,a=>{a.button===0&&a.ctrlKey===!1&&(s(),a.preventDefault())}),onKeyDown:re(r.onKeyDown,a=>{L7.includes(a.key)&&(s(),a.preventDefault())}),children:n||"▼"})});N2.displayName="ComboboxIcon";const H7="ComboboxPortal",B2=t=>C.jsx(_s,{asChild:!0,...t});B2.displayName=H7;const gg="ComboboxContent",F2=p.forwardRef((t,e)=>{const n=Tr(gg),{getItems:r}=ml(void 0),[i,o]=p.useState();if(dt(()=>{o(new DocumentFragment)},[]),dt(()=>{n.open&&n.autocomplete.type==="none"&&setTimeout(()=>{r().find(a=>a.value===n.value)?.ref.current?.scrollIntoView({block:"nearest"})})},[r,n.autocomplete,n.value,n.open]),!n.open){const s=i;return s?oi.createPortal(C.jsx(xs.Slot,{scope:void 0,children:C.jsx("div",{children:t.children})}),s):null}return C.jsx(W2,{...t,ref:e})});F2.displayName=gg;const z7=10,W2=p.forwardRef((t,e)=>{const{onEscapeKeyDown:n,onPointerDownOutside:r,...i}=t,o=Tr(gg),s=$e(e,c=>o.onContentChange(c)),{onOpenChange:a}=o;return Ls(),p.useEffect(()=>{const c=()=>{a(!1)};return window.addEventListener("blur",c),window.addEventListener("resize",c),()=>{window.removeEventListener("blur",c),window.removeEventListener("resize",c)}},[a]),C.jsx(pg,{allowPinchZoom:!0,children:C.jsx(Co,{asChild:!0,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:c=>{c.preventDefault()},onDismiss:()=>{o.onOpenChange(!1),o.trigger?.focus({preventScroll:!0})},children:C.jsx(V2,{role:"listbox",id:o.contentId,"data-state":o.open?"open":"closed",onContextMenu:c=>c.preventDefault(),...i,ref:s,style:{display:"flex",flexDirection:"column",outline:"none",...i.style}})})})});W2.displayName="ComboboxContentImpl";const V2=p.forwardRef((t,e)=>{const{align:n="start",collisionPadding:r=z7,...i}=t;return C.jsx(al,{...i,ref:e,align:n,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-combobox-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-combobox-content-available-width":"var(--radix-popper-available-width)","--radix-combobox-content-available-height":"var(--radix-popper-available-height)","--radix-combobox-trigger-width":"var(--radix-popper-anchor-width)","--radix-combobox-trigger-height":"var(--radix-popper-anchor-height)"}})});V2.displayName="ComboboxPopperPosition";const j2="ComboboxViewport",H2=p.forwardRef((t,e)=>{const n=Tr(j2),r=$e(e,n.onViewportChange);return C.jsxs(C.Fragment,{children:[C.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-combobox-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-combobox-viewport]::-webkit-scrollbar{display:none}"}}),C.jsx(xs.Slot,{scope:void 0,children:C.jsx(me.div,{"data-radix-combobox-viewport":"",role:"presentation",...t,ref:r,style:{position:"relative",flex:1,overflow:"auto",...t.style}})})]})});H2.displayName=j2;const wf="ComboboxItem",[Kv,bg]=ng(wf),vg=p.forwardRef((t,e)=>{const{value:n,disabled:r=!1,textValue:i,...o}=t,[s,a]=p.useState();dt(()=>{a(new DocumentFragment)},[]);const{onTextValueChange:c,textValue:f,...h}=Tr(wf),d=mn(),[g,b]=p.useState(i??""),x=h.value===n,{startsWith:v,contains:w}=mg(h.locale,{sensitivity:"base"}),$=p.useCallback(S=>{b(A=>A||(S?.textContent??"").trim())},[]);return p.useEffect(()=>{x&&f===void 0&&g!==""&&c(g)},[g,x,f,c]),h.autocomplete.type==="both"&&g&&h.filterValue&&!v(g,h.filterValue)||h.autocomplete.type==="list"&&h.autocomplete.filter==="startsWith"&&g&&f&&!v(g,f)||h.autocomplete.type==="list"&&h.autocomplete.filter==="contains"&&g&&f&&!w(g,f)?s?oi.createPortal(C.jsx(Kv,{textId:d,onTextValueChange:$,isSelected:x,textValue:g,children:C.jsx(xs.ItemSlot,{scope:void 0,value:n,textValue:g,disabled:r,type:"option",isVisible:!1,children:C.jsx(Pp,{ref:e,value:n,disabled:r,...o})})}),s):null:C.jsx(Kv,{textId:d,onTextValueChange:$,isSelected:x,textValue:g,children:C.jsx(xs.ItemSlot,{scope:void 0,value:n,textValue:g,disabled:r,type:"option",isVisible:!0,children:C.jsx(Pp,{ref:e,value:n,disabled:r,...o})})})});vg.displayName=wf;const z2="ComboboxItemImpl",Pp=p.forwardRef((t,e)=>{const{value:n,disabled:r=!1,...i}=t,o=p.useRef(null),s=$e(e,o),{getItems:a}=ml(void 0),{onTextValueChange:c,visuallyFocussedItem:f,...h}=Tr(wf),{isSelected:d,textValue:g,textId:b}=bg(z2),x=()=>{r||(h.onValueChange(n),c(g),h.onOpenChange(!1),h.autocomplete.type==="both"&&h.onFilterValueChange(g),h.trigger?.focus({preventScroll:!0}))},v=p.useMemo(()=>f===a().find($=>$.ref.current===o.current)?.ref.current,[a,f]),w=mn();return C.jsx(me.div,{role:"option","aria-labelledby":b,"data-highlighted":v?"":void 0,"aria-selected":d&&v,"data-state":d?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...i,id:w,ref:s,onPointerUp:re(i.onPointerUp,x)})});Pp.displayName=z2;const U2="ComboboxItemText",K2=p.forwardRef((t,e)=>{const{className:n,style:r,...i}=t,o=bg(U2),s=$e(e,o.onTextValueChange);return C.jsx(me.span,{id:o.textId,...i,ref:s})});K2.displayName=U2;const G2="ComboboxItemIndicator",Y2=p.forwardRef((t,e)=>{const{isSelected:n}=bg(G2);return n?C.jsx(me.span,{"aria-hidden":!0,...t,ref:e}):null});Y2.displayName=G2;const xg="ComboboxNoValueFound",q2=p.forwardRef((t,e)=>{const{textValue:n="",filterValue:r="",locale:i,autocomplete:o}=Tr(xg),[s,a]=p.useState([]),{subscribe:c}=ml(void 0),{startsWith:f,contains:h}=mg(i,{sensitivity:"base"});return p.useEffect(()=>{const d=c(g=>{a(g)});return()=>{d()}},[c]),o.type==="none"&&s.length>0||o.type==="list"&&o.filter==="startsWith"&&s.some(d=>f(d.textValue,n))||o.type==="both"&&s.some(d=>f(d.textValue,r))||o.type==="list"&&o.filter==="contains"&&s.some(d=>h(d.textValue,n))?null:C.jsx(me.div,{...t,ref:e})});q2.displayName=xg;const X2=p.forwardRef((t,e)=>{const{disabled:n=!1,...r}=t,i=Tr(xg),{textValue:o,visuallyFocussedItem:s}=i,{getItems:a,subscribe:c}=ml(void 0),f=p.useRef(null),[h,d]=p.useState(!1),g=$e(e,f),b=p.useMemo(()=>s===a().find(w=>w.ref.current===f.current)?.ref.current,[a,s]),x=mn(),v=()=>{!n&&o&&(i.onValueChange(o),i.onTextValueChange(o),i.onOpenChange(!1),i.autocomplete.type==="both"&&i.onFilterValueChange(o),i.trigger?.focus({preventScroll:!0}))};return dt(()=>{const w=c($=>{d(!$.some(S=>S.textValue===o&&S.type!=="create"))});return a().length===0&&d(!0),()=>{w()}},[o,c,a]),!o||!h?null:C.jsx(xs.ItemSlot,{scope:void 0,value:o??"",textValue:o??"",disabled:n,isVisible:!0,type:"create",children:C.jsx(me.div,{role:"option",tabIndex:n?void 0:-1,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,"data-highlighted":b?"":void 0,...r,id:x,ref:g,onPointerUp:re(r.onPointerUp,v)})})});X2.displayName="ComboboxCreateItem";const U7=j7,K7=I2,G7=L2,Y7=N2,q7=B2,X7=F2,Z7=H2,Q7=vg,J7=K2,eI=Y2,tI=q2,nI=X2;function rI(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)if(t[r]!==e[r])return r;return n}const Zn=Object.freeze(Object.defineProperty({__proto__:null,ComboboxItem:vg,Content:X7,CreateItem:nI,Icon:Y7,Item:Q7,ItemIndicator:eI,ItemText:J7,NoValueFound:tI,Portal:q7,Root:U7,TextInput:G7,Trigger:K7,Viewport:Z7},Symbol.toStringTag,{value:"Module"}));function yg(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>e.current?.(...n),[])}const iI=[" ","Enter","ArrowUp","ArrowDown"],oI=[" ","Enter"],gl="Select",[$f,bl,sI]=xf(gl),[Fs,aI]=$t(gl,[sI,Ni]),Cf=Ni(),[lI,si]=Fs(gl),[cI,uI]=Fs(gl),wg=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:c,dir:f,disabled:h,required:d,multi:g=!1}=t,b=Cf(e),[x,v]=p.useState(null),[w,$]=p.useState(null),[S,A]=p.useState(!1),R=So(f),[T=!1,D]=Yt({prop:r,defaultProp:i,onChange:o}),[M,B]=Yt({prop:s,defaultProp:a,onChange(j){c&&(Array.isArray(j),c(j))}}),N=p.useRef(null),[W,K]=p.useState(new Set);return C.jsx(gf,{...b,children:C.jsx(lI,{required:d,scope:e,trigger:x,onTriggerChange:v,valueNode:w,onValueNodeChange:$,valueNodeHasChildren:S,onValueNodeHasChildrenChange:A,contentId:mn(),value:M,onValueChange:B,open:T,onOpenChange:D,dir:R,triggerPointerDownPosRef:N,disabled:h,multi:g,children:C.jsx($f.Provider,{scope:e,children:C.jsx(cI,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(j=>{K(Q=>new Set(Q).add(j))},[]),onNativeOptionRemove:p.useCallback(j=>{K(Q=>{const G=new Set(Q);return G.delete(j),G})},[]),children:n})})})})};wg.displayName=gl;const Z2="SelectTrigger",$g=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Cf(n),o=si(Z2,n),s=o.disabled,a=$e(e,o.onTriggerChange),c=bl(n),[f,h,d]=s$(b=>{const x=c().filter($=>!$.disabled),v=x.find($=>$.value===o.value),w=a$(x,b,v);if(w!==void 0&&!Array.isArray(w.value)){const $=o.multi?[w.value]:w.value;o.onValueChange($)}}),g=()=>{s||(o.onOpenChange(!0),d())};return C.jsx(sl,{asChild:!0,...i,children:C.jsx(me.div,{role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,"data-placeholder":o.value===void 0?"":void 0,tabIndex:s?void 0:0,...r,ref:a,onClick:re(r.onClick,b=>{b.currentTarget.focus()}),onPointerDown:re(r.onPointerDown,b=>{const x=b.target;x.hasPointerCapture(b.pointerId)&&x.releasePointerCapture(b.pointerId),(x.closest("button")??x.closest("div"))===b.currentTarget&&b.button===0&&b.ctrlKey===!1&&(g(),o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)},b.preventDefault())}),onKeyDown:re(r.onKeyDown,b=>{const x=f.current!=="",v=b.ctrlKey||b.altKey||b.metaKey,w=b.target;(w.closest("button")??w.closest("div"))===b.currentTarget&&(!v&&b.key.length===1&&h(b.key),!(x&&b.key===" ")&&iI.includes(b.key)&&(g(),b.preventDefault()))})})})});$g.displayName=Z2;const Q2="SelectValue",Cg=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,placeholder:i,...o}=t,s=si(Q2,n),{onValueNodeHasChildrenChange:a}=s,c=r!==void 0,f=$e(e,s.onValueNodeChange),[h,d]=p.useState([]),g=bl(n);dt(()=>{a(c)},[a,c]),p.useLayoutEffect(()=>{if(Array.isArray(s.value)&&h.length!==s.value.length){const x=setTimeout(()=>{const v=g().filter(w=>Array.isArray(w.value)?!1:s.value?.includes(w.value));d(v)});return()=>{clearTimeout(x)}}},[s.value,g,h]);let b;if((s.value===void 0||s.value.length===0)&&i!==void 0)b=C.jsx("span",{children:i});else if(typeof r=="function")if(Array.isArray(s.value)){const x=s.value.map(v=>{const w=h.find($=>$.value===v);return w?r({value:v,textValue:w?.textValue}):null});b=x.every(v=>v===null)?i:x}else b=r(s.value);else b=r;return C.jsx(me.span,{...o,ref:f,children:b||null})});Cg.displayName=Q2;const fI="SelectIcon",Sg=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return C.jsx(me.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});Sg.displayName=fI;const hI="SelectPortal",kg=t=>C.jsx(_s,{asChild:!0,...t});kg.displayName=hI;const bo="SelectContent",Ag=p.forwardRef((t,e)=>{const n=si(bo,t.__scopeSelect),[r,i]=p.useState();if(dt(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?oi.createPortal(C.jsx(J2,{scope:t.__scopeSelect,children:C.jsx($f.Slot,{scope:t.__scopeSelect,children:C.jsx("div",{children:t.children})})}),o):null}return C.jsx(e$,{...t,ref:e})});Ag.displayName=bo;const Ur=10,[J2,Fi]=Fs(bo),dI="SelectContentImpl",e$=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:c,align:f,alignOffset:h,arrowPadding:d,collisionBoundary:g,collisionPadding:b,sticky:x,hideWhenDetached:v,avoidCollisions:w,...$}=t,S=si(bo,n),[A,R]=p.useState(null),[T,D]=p.useState(null),M=$e(e,pe=>R(pe)),[B,N]=p.useState(null),[W,K]=p.useState(null),j=bl(n),[Q,G]=p.useState(!1),ne=p.useRef(!1);p.useEffect(()=>{if(A)return cl(A)},[A]),Ls();const le=p.useCallback(pe=>{const[Re,...Ae]=j().map(te=>te.ref.current),[Ce]=Ae.slice(-1),De=document.activeElement;for(const te of pe)if(te===De||(te?.scrollIntoView({block:"nearest"}),te===Re&&T&&(T.scrollTop=0),te===Ce&&T&&(T.scrollTop=T.scrollHeight),te?.focus(),document.activeElement!==De))return},[j,T]),ee=p.useCallback(()=>le([B,A]),[le,B,A]);p.useEffect(()=>{Q&&ee()},[Q,ee]);const{onOpenChange:ae,triggerPointerDownPosRef:X}=S;p.useEffect(()=>{if(A){let pe={x:0,y:0};const Re=Ce=>{pe={x:Math.abs(Math.round(Ce.pageX)-(X.current?.x??0)),y:Math.abs(Math.round(Ce.pageY)-(X.current?.y??0))}},Ae=Ce=>{pe.x<=10&&pe.y<=10?Ce.preventDefault():A.contains(Ce.target)||ae(!1),document.removeEventListener("pointermove",Re),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[A,ae,X]),p.useEffect(()=>{const pe=()=>ae(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[ae]);const[de,fe]=s$(pe=>{const Re=j().filter(De=>!De.disabled),Ae=Re.find(De=>De.ref.current===document.activeElement),Ce=a$(Re,pe,Ae);Ce&&setTimeout(()=>Ce.ref.current.focus())}),Me=p.useCallback((pe,Re,Ae)=>{const Ce=!ne.current&&!Ae;(S.value!==void 0&&S.value===Re||Ce)&&(N(pe),Ce&&(ne.current=!0))},[S.value]),be=p.useCallback(()=>A?.focus(),[A]),Ve=p.useCallback((pe,Re,Ae)=>{const Ce=!ne.current&&!Ae;(S.value!==void 0&&(Array.isArray(Re)?Re.every(te=>S.value?.includes(te)):S.value===Re)||Ce)&&K(pe)},[S.value]),Le=r==="popper"?Mp:t$,je=Le===Mp?{side:a,sideOffset:c,align:f,alignOffset:h,arrowPadding:d,collisionBoundary:g,collisionPadding:b,sticky:x,hideWhenDetached:v,avoidCollisions:w}:{};return C.jsx(J2,{scope:n,content:A,viewport:T,onViewportChange:D,itemRefCallback:Me,selectedItem:B,onItemLeave:be,itemTextRefCallback:Ve,focusSelectedItem:ee,selectedItemText:W,position:r,isPositioned:Q,searchRef:de,children:C.jsx(pg,{as:kr,allowPinchZoom:!0,children:C.jsx(Ns,{asChild:!0,trapped:S.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:re(i,pe=>{S.trigger?.focus({preventScroll:!0}),document.getSelection()?.empty(),pe.preventDefault()}),children:C.jsx(Co,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:C.jsx(Le,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed","aria-multiselectable":S.multi?"true":void 0,dir:S.dir,onContextMenu:pe=>pe.preventDefault(),...$,...je,onPlaced:()=>G(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...$.style},onKeyDown:re($.onKeyDown,pe=>{const Re=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Re&&pe.key.length===1&&fe(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let Ce=j().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const De=pe.target,te=Ce.indexOf(De);Ce=Ce.slice(te+1)}setTimeout(()=>le(Ce)),pe.preventDefault()}})})})})})})});e$.displayName=dI;const pI="SelectItemAlignedPosition",t$=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=si(bo,n),s=Fi(bo,n),[a,c]=p.useState(null),[f,h]=p.useState(null),d=$e(e,M=>h(M)),g=bl(n),b=p.useRef(!1),x=p.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:$,focusSelectedItem:S}=s,A=p.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&f&&v&&w&&$){const M=o.trigger.getBoundingClientRect(),B=f.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),W=$.getBoundingClientRect();if(o.dir!=="rtl"){const De=W.left-B.left,te=N.left-De,pt=M.left-te,qe=M.width+pt,Fe=Math.max(qe,B.width),Zt=window.innerWidth-Ur,gt=Tp(te,[Ur,Zt-Fe]);a.style.minWidth=`${qe}px`,a.style.left=`${gt}px`}else{const De=B.right-W.right,te=window.innerWidth-N.right-De,pt=window.innerWidth-M.right-te,qe=M.width+pt,Fe=Math.max(qe,B.width),Zt=window.innerWidth-Ur,gt=Tp(te,[Ur,Zt-Fe]);a.style.minWidth=`${qe}px`,a.style.right=`${gt}px`}const K=g(),j=window.innerHeight-Ur*2,Q=v.scrollHeight,G=window.getComputedStyle(f),ne=parseInt(G.borderTopWidth,10),le=parseInt(G.paddingTop,10),ee=parseInt(G.borderBottomWidth,10),ae=parseInt(G.paddingBottom,10),X=ne+le+Q+ae+ee,de=Math.min(w.offsetHeight*5,X),fe=window.getComputedStyle(v),Me=parseInt(fe.paddingTop,10),be=parseInt(fe.paddingBottom,10),Ve=M.top+M.height/2-Ur,Le=j-Ve,je=w.offsetHeight/2,pe=w.offsetTop+je,Re=ne+le+pe,Ae=X-Re;if(Re<=Ve){const De=w===K[K.length-1].ref.current;a.style.bottom="0px";const te=f.clientHeight-v.offsetTop-v.offsetHeight,pt=Math.max(Le,je+(De?be:0)+te+ee),qe=Re+pt;a.style.height=`${qe}px`}else{const De=w===K[0].ref.current;a.style.top="0px";const pt=Math.max(Ve,ne+v.offsetTop+(De?Me:0)+je)+Ae;a.style.height=`${pt}px`,v.scrollTop=Re-Ve+v.offsetTop}a.style.margin=`${Ur}px 0`,a.style.minHeight=`${de}px`,a.style.maxHeight=`${j}px`,r?.(),requestAnimationFrame(()=>b.current=!0)}},[g,o.trigger,o.valueNode,a,f,v,w,$,o.dir,r]);dt(()=>A(),[A]);const[R,T]=p.useState();dt(()=>{f&&T(window.getComputedStyle(f).zIndex)},[f]);const D=p.useCallback(M=>{M&&x.current===!0&&(A(),S?.(),x.current=!1)},[A,S]);return C.jsx(gI,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:b,onScrollButtonChange:D,children:C.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:C.jsx(me.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});t$.displayName=pI;const mI="SelectPopperPosition",Mp=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ur,...o}=t,s=Cf(n);return C.jsx(al,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mp.displayName=mI;const[gI,Eg]=Fs(bo,{}),Op="SelectViewport",Rg=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Fi(Op,n),o=Eg(Op,n),s=$e(e,i.onViewportChange),a=p.useRef(0);return C.jsxs(C.Fragment,{children:[C.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),C.jsx($f.Slot,{scope:n,children:C.jsx(me.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:re(r.onScroll,c=>{const f=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:d}=o;if(d?.current&&h){const g=Math.abs(a.current-f.scrollTop);if(g>0){const b=window.innerHeight-Ur*2,x=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),w=Math.max(x,v);if(w<b){const $=w+g,S=Math.min(b,$),A=$-S;h.style.height=`${S}px`,h.style.bottom==="0px"&&(f.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}a.current=f.scrollTop})})})]})});Rg.displayName=Op;const n$="SelectGroup",[bI,vI]=Fs(n$),Tg=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=mn();return C.jsx(bI,{scope:n,id:i,children:C.jsx(me.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Tg.displayName=n$;const r$="SelectLabel",Pg=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=vI(r$,n);return C.jsx(me.div,{id:i.id,...r,ref:e})});Pg.displayName=r$;const Tu="SelectItem",[xI,i$]=Fs(Tu),Mg=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=si(Tu,n),c=Fi(Tu,n),f=typeof r=="string"?Array.isArray(a.value)?a.value.includes(r):a.value===r:r.every(S=>a.value?.includes(S)),h=Array.isArray(a.value)&&Array.isArray(r)&&r.some(S=>a.value?.includes(S)),[d,g]=p.useState(o??""),[b,x]=p.useState(!1),v=$e(e,S=>c.itemRefCallback?.(S,r,i)),w=mn(),$=()=>{if(!i){let S=a.multi&&typeof r=="string"?[r]:r;h&&!f?a.onValueChange(S):Array.isArray(a.value)&&(S=l$(r,a.value)),a.onValueChange(S),a.multi||a.onOpenChange(!1)}};if(!a.multi&&Array.isArray(r))throw new Error("You can only pass an array of values in multi selects");return C.jsx(xI,{scope:n,value:r,disabled:i,textId:w,isSelected:f,isIntermediate:h,onItemTextChange:p.useCallback(S=>{g(A=>A||(S?.textContent??"").trim())},[]),children:C.jsx($f.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:C.jsx(me.div,{role:"option","aria-labelledby":w,"data-highlighted":b?"":void 0,"aria-selected":a.multi?void 0:f&&b,"aria-checked":a.multi?f:void 0,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:v,onFocus:re(s.onFocus,()=>x(!0)),onBlur:re(s.onBlur,()=>x(!1)),onPointerUp:re(s.onPointerUp,$),onPointerMove:re(s.onPointerMove,S=>{i?c.onItemLeave?.():S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:re(s.onPointerLeave,S=>{S.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:re(s.onKeyDown,S=>{c.searchRef?.current!==""&&S.key===" "||(oI.includes(S.key)&&$(),S.key===" "&&S.preventDefault())})})})})});Mg.displayName=Tu;const ya="SelectItemText",Og=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=si(ya,n),a=Fi(ya,n),c=i$(ya,n),f=uI(ya,n),[h,d]=p.useState(null),g=$e(e,$=>d($),c.onItemTextChange,$=>a.itemTextRefCallback?.($,c.value,c.disabled)),b=h?.textContent,x=p.useMemo(()=>C.jsx("option",{value:c.value,disabled:c.disabled,children:b},Array.isArray(c.value)?c.value.join(";"):c.value),[c.disabled,c.value,b]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=f;return dt(()=>(v(x),()=>w(x)),[v,w,x]),C.jsxs(C.Fragment,{children:[C.jsx(me.span,{id:c.textId,...o,ref:g}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?oi.createPortal(o.children,s.valueNode):null]})});Og.displayName=ya;const o$="SelectItemIndicator",Dg=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t,o=i$(o$,n);return typeof r=="function"?C.jsx(me.span,{"aria-hidden":!0,...i,ref:e,children:r({isSelected:o.isSelected,isIntermediate:o.isIntermediate})}):o.isSelected?C.jsx(me.span,{"aria-hidden":!0,...i,ref:e,children:r}):null});Dg.displayName=o$;const Dp="SelectScrollUpButton",Ig=p.forwardRef((t,e)=>{const n=Fi(Dp,t.__scopeSelect),r=Eg(Dp,t.__scopeSelect),[i,o]=p.useState(!1),s=$e(e,r.onScrollButtonChange);return dt(()=>{if(n.viewport&&n.isPositioned){const a=n.viewport,c=()=>{const f=a.scrollTop>0;o(f)};return c(),a.addEventListener("scroll",c),()=>a.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?C.jsx(Lg,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop-=c.offsetHeight)}}):null});Ig.displayName=Dp;const Ip="SelectScrollDownButton",_g=p.forwardRef((t,e)=>{const n=Fi(Ip,t.__scopeSelect),r=Eg(Ip,t.__scopeSelect),[i,o]=p.useState(!1),s=$e(e,r.onScrollButtonChange);return dt(()=>{if(n.viewport&&n.isPositioned){const a=n.viewport,c=()=>{const f=a.scrollHeight-a.clientHeight,h=Math.ceil(a.scrollTop)<f;o(h)};return c(),a.addEventListener("scroll",c),()=>a.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?C.jsx(Lg,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop+=c.offsetHeight)}}):null});_g.displayName=Ip;const Lg=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=Fi("SelectScrollButton",n),s=p.useRef(null),a=bl(n),c=p.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),dt(()=>{a().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),C.jsx(me.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerMove:re(i.onPointerMove,()=>{o.onItemLeave?.(),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:re(i.onPointerLeave,()=>{c()})})});Lg.displayName="SelectScrollButtonImpl";const yI="SelectSeparator",Ng=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return C.jsx(me.div,{"aria-hidden":!0,...r,ref:e})});Ng.displayName=yI;const _p="SelectArrow",Bg=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Cf(n),o=si(_p,n),s=Fi(_p,n);return o.open&&s.position==="popper"?C.jsx(k4,{...i,...r,ref:e}):null});Bg.displayName=_p;const wI="BubbleSelect",$I=p.forwardRef((t,e)=>{const{value:n,...r}=t,i=p.useRef(null),o=$e(e,i),s=yf(n),a=si(wI,void 0);p.useEffect(()=>{const f=i.current,h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(s!==n&&g){const b=new Event("change",{bubbles:!0});g.call(f,n),f.dispatchEvent(b)}},[s,n]);let c=n;return a.multi&&!Array.isArray(n)&&(c=[]),C.jsx(v2,{asChild:!0,children:C.jsx("select",{...r,multiple:a.multi?!0:void 0,ref:o,defaultValue:c})})});$I.displayName="BubbleSelect";function s$(t){const e=yg(t),n=p.useRef(""),r=p.useRef(0),i=p.useCallback(s=>{const a=n.current+s;e(a),function c(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),o=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function a$(t,e,n){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=CI(t,Math.max(o,0));i.length===1&&(s=s.filter(f=>f!==n));const c=s.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function CI(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const l$=(t,e=[])=>{if(Array.isArray(t))return t.reduce((r,i)=>l$(i,r),e);const n=e.indexOf(t);return n===-1?[...e,t]:[...e.slice(0,n),...e.slice(n+1)]},SI=wg,kI=$g,AI=Cg,EI=Sg,RI=kg,TI=Ag,PI=Rg,MI=Tg,OI=Pg,DI=Mg,II=Og,_I=Dg,LI=Ig,NI=_g,BI=Ng,FI=Bg,ir=Object.freeze(Object.defineProperty({__proto__:null,Arrow:FI,Content:TI,Group:MI,Icon:EI,Item:DI,ItemIndicator:_I,ItemText:II,Label:OI,Portal:RI,Root:SI,ScrollDownButton:NI,ScrollUpButton:LI,Select:wg,SelectArrow:Bg,SelectContent:Ag,SelectGroup:Tg,SelectIcon:Sg,SelectItem:Mg,SelectItemIndicator:Dg,SelectItemText:Og,SelectLabel:Pg,SelectPortal:kg,SelectScrollDownButton:_g,SelectScrollUpButton:Ig,SelectSeparator:Ng,SelectTrigger:$g,SelectValue:Cg,SelectViewport:Rg,Separator:BI,Trigger:kI,Value:AI,Viewport:PI,createSelectScope:aI},Symbol.toStringTag,{value:"Module"}));function lo(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}const c$="Collapsible",[WI,u$]=$t(c$),[VI,Fg]=WI(c$),jI=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:s,...a}=t,[c=!1,f]=Yt({prop:r,defaultProp:i,onChange:s});return p.createElement(VI,{scope:n,disabled:o,contentId:mn(),open:c,onOpenToggle:p.useCallback(()=>f(h=>!h),[f])},p.createElement(me.div,z({"data-state":Wg(c),"data-disabled":o?"":void 0},a,{ref:e})))}),HI="CollapsibleTrigger",zI=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=Fg(HI,n);return p.createElement(me.button,z({type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Wg(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled},r,{ref:e,onClick:re(t.onClick,i.onOpenToggle)}))}),f$="CollapsibleContent",UI=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Fg(f$,t.__scopeCollapsible);return p.createElement(Ot,{present:n||i.open},({present:o})=>p.createElement(KI,z({},r,{ref:e,present:o})))}),KI=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=t,s=Fg(f$,n),[a,c]=p.useState(r),f=p.useRef(null),h=$e(e,f),d=p.useRef(0),g=d.current,b=p.useRef(0),x=b.current,v=s.open||a,w=p.useRef(v),$=p.useRef();return p.useEffect(()=>{const S=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(S)},[]),dt(()=>{const S=f.current;if(S){$.current=$.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const A=S.getBoundingClientRect();d.current=A.height,b.current=A.width,w.current||(S.style.transitionDuration=$.current.transitionDuration,S.style.animationName=$.current.animationName),c(r)}},[s.open,r]),p.createElement(me.div,z({"data-state":Wg(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!v},o,{ref:h,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...t.style}}),v&&i)});function Wg(t){return t?"open":"closed"}const GI=jI,YI=zI,qI=UI,Wi="Accordion",XI=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Vg,ZI,QI]=xf(Wi),[Sf,zq]=$t(Wi,[QI,u$]),jg=u$(),h$=Be.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,o=r;return Be.createElement(Vg.Provider,{scope:t.__scopeAccordion},n==="multiple"?Be.createElement(n8,z({},o,{ref:e})):Be.createElement(t8,z({},i,{ref:e})))});h$.propTypes={type(t){const e=t.value||t.defaultValue;return t.type&&!["single","multiple"].includes(t.type)?new Error("Invalid prop `type` supplied to `Accordion`. Expected one of `single | multiple`."):t.type==="multiple"&&typeof e=="string"?new Error("Invalid prop `type` supplied to `Accordion`. Expected `single` when `defaultValue` or `value` is type `string`."):t.type==="single"&&Array.isArray(e)?new Error("Invalid prop `type` supplied to `Accordion`. Expected `multiple` when `defaultValue` or `value` is type `string[]`."):null}};const[d$,JI]=Sf(Wi),[p$,e8]=Sf(Wi,{collapsible:!1}),t8=Be.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:o=!1,...s}=t,[a,c]=Yt({prop:n,defaultProp:r,onChange:i});return Be.createElement(d$,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:c,onItemClose:Be.useCallback(()=>o&&c(""),[o,c])},Be.createElement(p$,{scope:t.__scopeAccordion,collapsible:o},Be.createElement(m$,z({},s,{ref:e}))))}),n8=Be.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=t,[s=[],a]=Yt({prop:n,defaultProp:r,onChange:i}),c=Be.useCallback(h=>a((d=[])=>[...d,h]),[a]),f=Be.useCallback(h=>a((d=[])=>d.filter(g=>g!==h)),[a]);return Be.createElement(d$,{scope:t.__scopeAccordion,value:s,onItemOpen:c,onItemClose:f},Be.createElement(p$,{scope:t.__scopeAccordion,collapsible:!0},Be.createElement(m$,z({},o,{ref:e}))))}),[r8,kf]=Sf(Wi),m$=Be.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:o="vertical",...s}=t,a=Be.useRef(null),c=$e(a,e),f=ZI(n),d=So(i)==="ltr",g=re(t.onKeyDown,b=>{var x;if(!XI.includes(b.key))return;const v=b.target,w=f().filter(N=>{var W;return!((W=N.ref.current)!==null&&W!==void 0&&W.disabled)}),$=w.findIndex(N=>N.ref.current===v),S=w.length;if($===-1)return;b.preventDefault();let A=$;const R=0,T=S-1,D=()=>{A=$+1,A>T&&(A=R)},M=()=>{A=$-1,A<R&&(A=T)};switch(b.key){case"Home":A=R;break;case"End":A=T;break;case"ArrowRight":o==="horizontal"&&(d?D():M());break;case"ArrowDown":o==="vertical"&&D();break;case"ArrowLeft":o==="horizontal"&&(d?M():D());break;case"ArrowUp":o==="vertical"&&M();break}const B=A%S;(x=w[B].ref.current)===null||x===void 0||x.focus()});return Be.createElement(r8,{scope:n,disabled:r,direction:i,orientation:o},Be.createElement(Vg.Slot,{scope:n},Be.createElement(me.div,z({},s,{"data-orientation":o,ref:c,onKeyDown:r?void 0:g}))))}),Lp="AccordionItem",[i8,Hg]=Sf(Lp),o8=Be.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,o=kf(Lp,n),s=JI(Lp,n),a=jg(n),c=mn(),f=r&&s.value.includes(r)||!1,h=o.disabled||t.disabled;return Be.createElement(i8,{scope:n,open:f,disabled:h,triggerId:c},Be.createElement(GI,z({"data-orientation":o.orientation,"data-state":g$(f)},a,i,{ref:e,disabled:h,open:f,onOpenChange:d=>{d?s.onItemOpen(r):s.onItemClose(r)}})))}),s8="AccordionHeader",a8=Be.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=kf(Wi,n),o=Hg(s8,n);return Be.createElement(me.h3,z({"data-orientation":i.orientation,"data-state":g$(o.open),"data-disabled":o.disabled?"":void 0},r,{ref:e}))}),Gv="AccordionTrigger",l8=Be.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=kf(Wi,n),o=Hg(Gv,n),s=e8(Gv,n),a=jg(n);return Be.createElement(Vg.ItemSlot,{scope:n},Be.createElement(YI,z({"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId},a,r,{ref:e})))}),c8="AccordionContent",u8=Be.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=kf(Wi,n),o=Hg(c8,n),s=jg(n);return Be.createElement(qI,z({role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation},s,r,{ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}}))});function g$(t){return t?"open":"closed"}const f8=h$,h8=o8,d8=a8,p8=l8,m8=u8,b$="Avatar",[g8,Uq]=$t(b$),[b8,v$]=g8(b$),v8=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,o]=p.useState("idle");return p.createElement(b8,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o},p.createElement(me.span,z({},r,{ref:e})))}),x8="AvatarImage",y8=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...o}=t,s=v$(x8,n),a=C8(r),c=At(f=>{i(f),s.onImageLoadingStatusChange(f)});return dt(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?p.createElement(me.img,z({},o,{ref:e,src:r})):null}),w8="AvatarFallback",$8=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,o=v$(w8,n),[s,a]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(c)}},[r]),s&&o.imageLoadingStatus!=="loaded"?p.createElement(me.span,z({},i,{ref:e})):null});function C8(t){const[e,n]=p.useState("idle");return dt(()=>{if(!t){n("error");return}let r=!0;const i=new window.Image,o=s=>()=>{r&&n(s)};return n("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,()=>{r=!1}},[t]),e}const S8=v8,k8=y8,A8=$8,_d="rovingFocusGroup.onEntryFocus",E8={bubbles:!1,cancelable:!0},zg="RovingFocusGroup",[Np,x$,R8]=xf(zg),[T8,Ws]=$t(zg,[R8]),[P8,M8]=T8(zg),O8=p.forwardRef((t,e)=>p.createElement(Np.Provider,{scope:t.__scopeRovingFocusGroup},p.createElement(Np.Slot,{scope:t.__scopeRovingFocusGroup},p.createElement(D8,z({},t,{ref:e}))))),D8=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:f,...h}=t,d=p.useRef(null),g=$e(e,d),b=So(o),[x=null,v]=Yt({prop:s,defaultProp:a,onChange:c}),[w,$]=p.useState(!1),S=At(f),A=x$(n),R=p.useRef(!1),[T,D]=p.useState(0);return p.useEffect(()=>{const M=d.current;if(M)return M.addEventListener(_d,S),()=>M.removeEventListener(_d,S)},[S]),p.createElement(P8,{scope:n,orientation:r,dir:b,loop:i,currentTabStopId:x,onItemFocus:p.useCallback(M=>v(M),[v]),onItemShiftTab:p.useCallback(()=>$(!0),[]),onFocusableItemAdd:p.useCallback(()=>D(M=>M+1),[]),onFocusableItemRemove:p.useCallback(()=>D(M=>M-1),[])},p.createElement(me.div,z({tabIndex:w||T===0?-1:0,"data-orientation":r},h,{ref:g,style:{outline:"none",...t.style},onMouseDown:re(t.onMouseDown,()=>{R.current=!0}),onFocus:re(t.onFocus,M=>{const B=!R.current;if(M.target===M.currentTarget&&B&&!w){const N=new CustomEvent(_d,E8);if(M.currentTarget.dispatchEvent(N),!N.defaultPrevented){const W=A().filter(ne=>ne.focusable),K=W.find(ne=>ne.active),j=W.find(ne=>ne.id===x),G=[K,j,...W].filter(Boolean).map(ne=>ne.ref.current);y$(G)}}R.current=!1}),onBlur:re(t.onBlur,()=>$(!1))})))}),I8="RovingFocusGroupItem",_8=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=t,a=mn(),c=o||a,f=M8(I8,n),h=f.currentTabStopId===c,d=x$(n),{onFocusableItemAdd:g,onFocusableItemRemove:b}=f;return p.useEffect(()=>{if(r)return g(),()=>b()},[r,g,b]),p.createElement(Np.ItemSlot,{scope:n,id:c,focusable:r,active:i},p.createElement(me.span,z({tabIndex:h?0:-1,"data-orientation":f.orientation},s,{ref:e,onMouseDown:re(t.onMouseDown,x=>{r?f.onItemFocus(c):x.preventDefault()}),onFocus:re(t.onFocus,()=>f.onItemFocus(c)),onKeyDown:re(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){f.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=B8(x,f.orientation,f.dir);if(v!==void 0){x.preventDefault();let $=d().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")$.reverse();else if(v==="prev"||v==="next"){v==="prev"&&$.reverse();const S=$.indexOf(x.currentTarget);$=f.loop?F8($,S+1):$.slice(S+1)}setTimeout(()=>y$($))}})})))}),L8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function N8(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function B8(t,e,n){const r=N8(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return L8[r]}function y$(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function F8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const Ug=O8,Kg=_8;var w$=hl(),Ld=function(){},Af=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:Ld,onWheelCapture:Ld,onTouchMoveCapture:Ld}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,c=t.className,f=t.removeScrollBar,h=t.enabled,d=t.shards,g=t.sideCar,b=t.noIsolation,x=t.inert,v=t.allowPinchZoom,w=t.as,$=w===void 0?"div":w,S=Bi(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),A=g,R=fl([n,e]),T=Ke(Ke({},S),i);return p.createElement(p.Fragment,null,h&&p.createElement(A,{sideCar:w$,removeScrollBar:f,shards:d,noIsolation:b,inert:x,setCallbacks:o,allowPinchZoom:!!v,lockRef:n}),s?p.cloneElement(p.Children.only(a),Ke(Ke({},T),{ref:R})):p.createElement($,Ke({},T,{className:c,ref:R}),a))});Af.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Af.classNames={fullWidth:Ei,zeroRight:Ai};var Bp=!1;if(typeof window<"u")try{var Rc=Object.defineProperty({},"passive",{get:function(){return Bp=!0,!0}});window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,Rc)}catch{Bp=!1}var Ko=Bp?{passive:!1}:!1,W8=function(t){return t.tagName==="TEXTAREA"},$$=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!W8(t)&&n[e]==="visible")},V8=function(t){return $$(t,"overflowY")},j8=function(t){return $$(t,"overflowX")},Yv=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=C$(t,n);if(r){var i=S$(t,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},H8=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},z8=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},C$=function(t,e){return t==="v"?V8(e):j8(e)},S$=function(t,e){return t==="v"?H8(e):z8(e)},U8=function(t,e){return t==="h"&&e==="rtl"?-1:1},K8=function(t,e,n,r,i){var o=U8(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,c=e.contains(a),f=!1,h=s>0,d=0,g=0;do{var b=S$(t,a),x=b[0],v=b[1],w=b[2],$=v-w-o*x;(x||$)&&C$(t,a)&&(d+=$,g+=x),a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&d===0||!h&&g===0)&&(f=!0),f},Tc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},qv=function(t){return[t.deltaX,t.deltaY]},Xv=function(t){return t&&"current"in t?t.current:t},G8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Y8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},q8=0,Go=[];function X8(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(q8++)[0],o=p.useState(function(){return Bs()})[0],s=p.useRef(t);p.useEffect(function(){s.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=ul([t.lockRef.current],(t.shards||[]).map(Xv),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(v,w){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var $=Tc(v),S=n.current,A="deltaX"in v?v.deltaX:S[0]-$[0],R="deltaY"in v?v.deltaY:S[1]-$[1],T,D=v.target,M=Math.abs(A)>Math.abs(R)?"h":"v";if("touches"in v&&M==="h"&&D.type==="range")return!1;var B=Yv(M,D);if(!B)return!0;if(B?T=M:(T=M==="v"?"h":"v",B=Yv(M,D)),!B)return!1;if(!r.current&&"changedTouches"in v&&(A||R)&&(r.current=T),!T)return!0;var N=r.current||T;return K8(N,w,v,N==="h"?A:R)},[]),c=p.useCallback(function(v){var w=v;if(!(!Go.length||Go[Go.length-1]!==o)){var $="deltaY"in w?qv(w):Tc(w),S=e.current.filter(function(T){return T.name===w.type&&T.target===w.target&&G8(T.delta,$)})[0];if(S&&S.should){w.cancelable&&w.preventDefault();return}if(!S){var A=(s.current.shards||[]).map(Xv).filter(Boolean).filter(function(T){return T.contains(w.target)}),R=A.length>0?a(w,A[0]):!s.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),f=p.useCallback(function(v,w,$,S){var A={name:v,delta:w,target:$,should:S};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(R){return R!==A})},1)},[]),h=p.useCallback(function(v){n.current=Tc(v),r.current=void 0},[]),d=p.useCallback(function(v){f(v.type,qv(v),v.target,a(v,t.lockRef.current))},[]),g=p.useCallback(function(v){f(v.type,Tc(v),v.target,a(v,t.lockRef.current))},[]);p.useEffect(function(){return Go.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Ko),document.addEventListener("touchmove",c,Ko),document.addEventListener("touchstart",h,Ko),function(){Go=Go.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Ko),document.removeEventListener("touchmove",c,Ko),document.removeEventListener("touchstart",h,Ko)}},[]);var b=t.removeScrollBar,x=t.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:Y8(i)}):null,b?p.createElement(pl,{gapMode:"margin"}):null)}const Z8=dl(w$,X8);var k$=p.forwardRef(function(t,e){return p.createElement(Af,Ke({},t,{ref:e,sideCar:Z8}))});k$.classNames=Af.classNames;const Zv=["Enter"," "],Q8=["ArrowDown","PageUp","Home"],A$=["ArrowUp","PageDown","End"],J8=[...Q8,...A$],e_={ltr:[...Zv,"ArrowRight"],rtl:[...Zv,"ArrowLeft"]},t_={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ef="Menu",[Na,n_,r_]=xf(Ef),[ko,E$]=$t(Ef,[r_,Ni,Ws]),Gg=Ni(),R$=Ws(),[i_,Ao]=ko(Ef),[o_,Rf]=ko(Ef),s_=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:o,modal:s=!0}=t,a=Gg(e),[c,f]=p.useState(null),h=p.useRef(!1),d=At(o),g=So(i);return p.useEffect(()=>{const b=()=>{h.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>h.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),p.createElement(gf,a,p.createElement(i_,{scope:e,open:n,onOpenChange:d,content:c,onContentChange:f},p.createElement(o_,{scope:e,onClose:p.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:h,dir:g,modal:s},r)))},T$=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Gg(n);return p.createElement(sl,z({},i,r,{ref:e}))}),P$="MenuPortal",[a_,M$]=ko(P$,{forceMount:void 0}),l_=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,o=Ao(P$,e);return p.createElement(a_,{scope:e,forceMount:n},p.createElement(Ot,{present:n||o.open},p.createElement(_s,{asChild:!0,container:i},r)))},Jn="MenuContent",[c_,O$]=ko(Jn),u_=p.forwardRef((t,e)=>{const n=M$(Jn,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=Ao(Jn,t.__scopeMenu),s=Rf(Jn,t.__scopeMenu);return p.createElement(Na.Provider,{scope:t.__scopeMenu},p.createElement(Ot,{present:r||o.open},p.createElement(Na.Slot,{scope:t.__scopeMenu},s.modal?p.createElement(f_,z({},i,{ref:e})):p.createElement(h_,z({},i,{ref:e})))))}),f_=p.forwardRef((t,e)=>{const n=Ao(Jn,t.__scopeMenu),r=p.useRef(null),i=$e(e,r);return p.useEffect(()=>{const o=r.current;if(o)return cl(o)},[]),p.createElement(Yg,z({},t,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:re(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),h_=p.forwardRef((t,e)=>{const n=Ao(Jn,t.__scopeMenu);return p.createElement(Yg,z({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),Yg=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:g,onDismiss:b,disableOutsideScroll:x,...v}=t,w=Ao(Jn,n),$=Rf(Jn,n),S=Gg(n),A=R$(n),R=n_(n),[T,D]=p.useState(null),M=p.useRef(null),B=$e(e,M,w.onContentChange),N=p.useRef(0),W=p.useRef(""),K=p.useRef(0),j=p.useRef(null),Q=p.useRef("right"),G=p.useRef(0),ne=x?k$:p.Fragment,le=x?{as:kr,allowPinchZoom:!0}:void 0,ee=X=>{var de,fe;const Me=W.current+X,be=R().filter(Ae=>!Ae.disabled),Ve=document.activeElement,Le=(de=be.find(Ae=>Ae.ref.current===Ve))===null||de===void 0?void 0:de.textValue,je=be.map(Ae=>Ae.textValue),pe=k_(je,Me,Le),Re=(fe=be.find(Ae=>Ae.textValue===pe))===null||fe===void 0?void 0:fe.ref.current;(function Ae(Ce){W.current=Ce,window.clearTimeout(N.current),Ce!==""&&(N.current=window.setTimeout(()=>Ae(""),1e3))})(Me),Re&&setTimeout(()=>Re.focus())};p.useEffect(()=>()=>window.clearTimeout(N.current),[]),Ls();const ae=p.useCallback(X=>{var de,fe;return Q.current===((de=j.current)===null||de===void 0?void 0:de.side)&&E_(X,(fe=j.current)===null||fe===void 0?void 0:fe.area)},[]);return p.createElement(c_,{scope:n,searchRef:W,onItemEnter:p.useCallback(X=>{ae(X)&&X.preventDefault()},[ae]),onItemLeave:p.useCallback(X=>{var de;ae(X)||((de=M.current)===null||de===void 0||de.focus(),D(null))},[ae]),onTriggerLeave:p.useCallback(X=>{ae(X)&&X.preventDefault()},[ae]),pointerGraceTimerRef:K,onPointerGraceIntentChange:p.useCallback(X=>{j.current=X},[])},p.createElement(ne,le,p.createElement(Ns,{asChild:!0,trapped:i,onMountAutoFocus:re(o,X=>{var de;X.preventDefault(),(de=M.current)===null||de===void 0||de.focus()}),onUnmountAutoFocus:s},p.createElement(Co,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:g,onDismiss:b},p.createElement(Ug,z({asChild:!0},A,{dir:$.dir,orientation:"vertical",loop:r,currentTabStopId:T,onCurrentTabStopIdChange:D,onEntryFocus:re(c,X=>{$.isUsingKeyboardRef.current||X.preventDefault()})}),p.createElement(al,z({role:"menu","aria-orientation":"vertical","data-state":I$(w.open),"data-radix-menu-content":"",dir:$.dir},S,v,{ref:B,style:{outline:"none",...v.style},onKeyDown:re(v.onKeyDown,X=>{const fe=X.target.closest("[data-radix-menu-content]")===X.currentTarget,Me=X.ctrlKey||X.altKey||X.metaKey,be=X.key.length===1;fe&&(X.key==="Tab"&&X.preventDefault(),!Me&&be&&ee(X.key));const Ve=M.current;if(X.target!==Ve||!J8.includes(X.key))return;X.preventDefault();const je=R().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);A$.includes(X.key)&&je.reverse(),C_(je)}),onBlur:re(t.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(N.current),W.current="")}),onPointerMove:re(t.onPointerMove,Ba(X=>{const de=X.target,fe=G.current!==X.clientX;if(X.currentTarget.contains(de)&&fe){const Me=X.clientX>G.current?"right":"left";Q.current=Me,G.current=X.clientX}}))})))))))}),d_=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.createElement(me.div,z({},r,{ref:e}))}),p_="MenuItem",m_=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=t,s=O$(p_,n),a=R$(n),c=p.useRef(null),f=$e(e,c),[h,d]=p.useState(!1),[g,b]=p.useState("");return p.useEffect(()=>{const x=c.current;if(x){var v;b(((v=x.textContent)!==null&&v!==void 0?v:"").trim())}},[o.children]),p.createElement(Na.ItemSlot,{scope:n,disabled:r,textValue:i??g},p.createElement(Kg,z({asChild:!0},a,{focusable:!r}),p.createElement(me.div,z({role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},o,{ref:f,onPointerMove:re(t.onPointerMove,Ba(x=>{r?s.onItemLeave(x):(s.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus())})),onPointerLeave:re(t.onPointerLeave,Ba(x=>s.onItemLeave(x))),onFocus:re(t.onFocus,()=>d(!0)),onBlur:re(t.onBlur,()=>d(!1))}))))}),g_="MenuRadioGroup",[Kq,Gq]=ko(g_,{value:void 0,onValueChange:()=>{}}),b_="MenuItemIndicator",[Yq,qq]=ko(b_,{checked:!1}),v_=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.createElement(me.div,z({role:"separator","aria-orientation":"horizontal"},r,{ref:e}))}),x_="MenuSub",[Xq,D$]=ko(x_),Pc="MenuSubTrigger",y_=p.forwardRef((t,e)=>{const n=Ao(Pc,t.__scopeMenu),r=Rf(Pc,t.__scopeMenu),i=D$(Pc,t.__scopeMenu),o=O$(Pc,t.__scopeMenu),s=p.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,f={__scopeMenu:t.__scopeMenu},h=p.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return p.useEffect(()=>h,[h]),p.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),c(null)}},[a,c]),p.createElement(T$,z({asChild:!0},f),p.createElement(m_,z({id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":I$(n.open)},t,{ref:ff(e,i.onTriggerChange),onClick:d=>{var g;(g=t.onClick)===null||g===void 0||g.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:re(t.onPointerMove,Ba(d=>{o.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:re(t.onPointerLeave,Ba(d=>{var g;h();const b=(g=n.content)===null||g===void 0?void 0:g.getBoundingClientRect();if(b){var x;const v=(x=n.content)===null||x===void 0?void 0:x.dataset.side,w=v==="right",$=w?-5:5,S=b[w?"left":"right"],A=b[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+$,y:d.clientY},{x:S,y:b.top},{x:A,y:b.top},{x:A,y:b.bottom},{x:S,y:b.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:re(t.onKeyDown,d=>{const g=o.searchRef.current!=="";if(!(t.disabled||g&&d.key===" ")&&e_[r.dir].includes(d.key)){var b;n.onOpenChange(!0),(b=n.content)===null||b===void 0||b.focus(),d.preventDefault()}})})))}),w_="MenuSubContent",$_=p.forwardRef((t,e)=>{const n=M$(Jn,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=Ao(Jn,t.__scopeMenu),s=Rf(Jn,t.__scopeMenu),a=D$(w_,t.__scopeMenu),c=p.useRef(null),f=$e(e,c);return p.createElement(Na.Provider,{scope:t.__scopeMenu},p.createElement(Ot,{present:r||o.open},p.createElement(Na.Slot,{scope:t.__scopeMenu},p.createElement(Yg,z({id:a.contentId,"aria-labelledby":a.triggerId},i,{ref:f,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var d;s.isUsingKeyboardRef.current&&((d=c.current)===null||d===void 0||d.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:re(t.onFocusOutside,h=>{h.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:re(t.onEscapeKeyDown,h=>{s.onClose(),h.preventDefault()}),onKeyDown:re(t.onKeyDown,h=>{const d=h.currentTarget.contains(h.target),g=t_[s.dir].includes(h.key);if(d&&g){var b;o.onOpenChange(!1),(b=a.trigger)===null||b===void 0||b.focus(),h.preventDefault()}})})))))});function I$(t){return t?"open":"closed"}function C_(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function S_(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function k_(t,e,n){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=S_(t,Math.max(o,0));i.length===1&&(s=s.filter(f=>f!==n));const c=s.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function A_(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,c=e[o].y,f=e[s].x,h=e[s].y;c>r!=h>r&&n<(f-a)*(r-c)/(h-c)+a&&(i=!i)}return i}function E_(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return A_(n,e)}function Ba(t){return e=>e.pointerType==="mouse"?t(e):void 0}const R_=s_,T_=T$,P_=l_,M_=u_,O_=d_,D_=v_,I_=y_,__=$_,_$="DropdownMenu",[L_,Zq]=$t(_$,[E$]),Vi=E$(),[N_,L$]=L_(_$),B_=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:s,modal:a=!0}=t,c=Vi(e),f=p.useRef(null),[h=!1,d]=Yt({prop:i,defaultProp:o,onChange:s});return p.createElement(N_,{scope:e,triggerId:mn(),triggerRef:f,contentId:mn(),open:h,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(g=>!g),[d]),modal:a},p.createElement(R_,z({},c,{open:h,onOpenChange:d,dir:r,modal:a}),n))},F_="DropdownMenuTrigger",W_=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,o=L$(F_,n),s=Vi(n);return p.createElement(T_,z({asChild:!0},s),p.createElement(me.button,z({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},i,{ref:ff(e,o.triggerRef),onPointerDown:re(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:re(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})))}),V_=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Vi(e);return p.createElement(P_,z({},r,n))},j_="DropdownMenuContent",H_=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=L$(j_,n),o=Vi(n),s=p.useRef(!1);return p.createElement(M_,z({id:i.contentId,"aria-labelledby":i.triggerId},o,r,{ref:e,onCloseAutoFocus:re(t.onCloseAutoFocus,a=>{var c;s.current||(c=i.triggerRef.current)===null||c===void 0||c.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:re(t.onInteractOutside,a=>{const c=a.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,h=c.button===2||f;(!i.modal||h)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),z_=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Vi(n);return p.createElement(O_,z({},i,r,{ref:e}))}),U_=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Vi(n);return p.createElement(D_,z({},i,r,{ref:e}))}),K_=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Vi(n);return p.createElement(I_,z({},i,r,{ref:e}))}),G_=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Vi(n);return p.createElement(__,z({},i,r,{ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),Y_=B_,q_=W_,N$=V_,X_=H_,Z_=z_,Q_=U_,J_=K_,e9=G_,B$="Checkbox",[t9,Qq]=$t(B$),[n9,r9]=t9(B$),i9=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:c="on",onCheckedChange:f,...h}=t,[d,g]=p.useState(null),b=$e(e,A=>g(A)),x=p.useRef(!1),v=d?!!d.closest("form"):!0,[w=!1,$]=Yt({prop:i,defaultProp:o,onChange:f}),S=p.useRef(w);return p.useEffect(()=>{const A=d?.form;if(A){const R=()=>$(S.current);return A.addEventListener("reset",R),()=>A.removeEventListener("reset",R)}},[d,$]),p.createElement(n9,{scope:n,state:w,disabled:a},p.createElement(me.button,z({type:"button",role:"checkbox","aria-checked":co(w)?"mixed":w,"aria-required":s,"data-state":F$(w),"data-disabled":a?"":void 0,disabled:a,value:c},h,{ref:b,onKeyDown:re(t.onKeyDown,A=>{A.key==="Enter"&&A.preventDefault()}),onClick:re(t.onClick,A=>{$(R=>co(R)?!0:!R),v&&(x.current=A.isPropagationStopped(),x.current||A.stopPropagation())})})),v&&p.createElement(a9,{control:d,bubbles:!x.current,name:r,value:c,checked:w,required:s,disabled:a,style:{transform:"translateX(-100%)"}}))}),o9="CheckboxIndicator",s9=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,o=r9(o9,n);return p.createElement(Ot,{present:r||co(o.state)||o.state===!0},p.createElement(me.span,z({"data-state":F$(o.state),"data-disabled":o.disabled?"":void 0},i,{ref:e,style:{pointerEvents:"none",...t.style}})))}),a9=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,o=p.useRef(null),s=yf(n),a=mf(e);return p.useEffect(()=>{const c=o.current,f=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(f,"checked").set;if(s!==n&&d){const g=new Event("click",{bubbles:r});c.indeterminate=co(n),d.call(c,co(n)?!1:n),c.dispatchEvent(g)}},[s,n,r]),p.createElement("input",z({type:"checkbox","aria-hidden":!0,defaultChecked:co(n)?!1:n},i,{tabIndex:-1,ref:o,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function co(t){return t==="indeterminate"}function F$(t){return co(t)?"indeterminate":t?"checked":"unchecked"}const l9=i9,c9=s9;var W$=hl(),Nd=function(){},Tf=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:Nd,onWheelCapture:Nd,onTouchMoveCapture:Nd}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,c=t.className,f=t.removeScrollBar,h=t.enabled,d=t.shards,g=t.sideCar,b=t.noIsolation,x=t.inert,v=t.allowPinchZoom,w=t.as,$=w===void 0?"div":w,S=Bi(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),A=g,R=fl([n,e]),T=Ke(Ke({},S),i);return p.createElement(p.Fragment,null,h&&p.createElement(A,{sideCar:W$,removeScrollBar:f,shards:d,noIsolation:b,inert:x,setCallbacks:o,allowPinchZoom:!!v,lockRef:n}),s?p.cloneElement(p.Children.only(a),Ke(Ke({},T),{ref:R})):p.createElement($,Ke({},T,{className:c,ref:R}),a))});Tf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tf.classNames={fullWidth:Ei,zeroRight:Ai};var Fp=!1;if(typeof window<"u")try{var Mc=Object.defineProperty({},"passive",{get:function(){return Fp=!0,!0}});window.addEventListener("test",Mc,Mc),window.removeEventListener("test",Mc,Mc)}catch{Fp=!1}var Yo=Fp?{passive:!1}:!1,u9=function(t){return t.tagName==="TEXTAREA"},V$=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!u9(t)&&n[e]==="visible")},f9=function(t){return V$(t,"overflowY")},h9=function(t){return V$(t,"overflowX")},Qv=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=j$(t,n);if(r){var i=H$(t,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},d9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},p9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},j$=function(t,e){return t==="v"?f9(e):h9(e)},H$=function(t,e){return t==="v"?d9(e):p9(e)},m9=function(t,e){return t==="h"&&e==="rtl"?-1:1},g9=function(t,e,n,r,i){var o=m9(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,c=e.contains(a),f=!1,h=s>0,d=0,g=0;do{var b=H$(t,a),x=b[0],v=b[1],w=b[2],$=v-w-o*x;(x||$)&&j$(t,a)&&(d+=$,g+=x),a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&d===0||!h&&g===0)&&(f=!0),f},Oc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Jv=function(t){return[t.deltaX,t.deltaY]},ex=function(t){return t&&"current"in t?t.current:t},b9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},v9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},x9=0,qo=[];function y9(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(x9++)[0],o=p.useState(function(){return Bs()})[0],s=p.useRef(t);p.useEffect(function(){s.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=ul([t.lockRef.current],(t.shards||[]).map(ex),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(v,w){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var $=Oc(v),S=n.current,A="deltaX"in v?v.deltaX:S[0]-$[0],R="deltaY"in v?v.deltaY:S[1]-$[1],T,D=v.target,M=Math.abs(A)>Math.abs(R)?"h":"v";if("touches"in v&&M==="h"&&D.type==="range")return!1;var B=Qv(M,D);if(!B)return!0;if(B?T=M:(T=M==="v"?"h":"v",B=Qv(M,D)),!B)return!1;if(!r.current&&"changedTouches"in v&&(A||R)&&(r.current=T),!T)return!0;var N=r.current||T;return g9(N,w,v,N==="h"?A:R)},[]),c=p.useCallback(function(v){var w=v;if(!(!qo.length||qo[qo.length-1]!==o)){var $="deltaY"in w?Jv(w):Oc(w),S=e.current.filter(function(T){return T.name===w.type&&T.target===w.target&&b9(T.delta,$)})[0];if(S&&S.should){w.cancelable&&w.preventDefault();return}if(!S){var A=(s.current.shards||[]).map(ex).filter(Boolean).filter(function(T){return T.contains(w.target)}),R=A.length>0?a(w,A[0]):!s.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),f=p.useCallback(function(v,w,$,S){var A={name:v,delta:w,target:$,should:S};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(R){return R!==A})},1)},[]),h=p.useCallback(function(v){n.current=Oc(v),r.current=void 0},[]),d=p.useCallback(function(v){f(v.type,Jv(v),v.target,a(v,t.lockRef.current))},[]),g=p.useCallback(function(v){f(v.type,Oc(v),v.target,a(v,t.lockRef.current))},[]);p.useEffect(function(){return qo.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Yo),document.addEventListener("touchmove",c,Yo),document.addEventListener("touchstart",h,Yo),function(){qo=qo.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Yo),document.removeEventListener("touchmove",c,Yo),document.removeEventListener("touchstart",h,Yo)}},[]);var b=t.removeScrollBar,x=t.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:v9(i)}):null,b?p.createElement(pl,{gapMode:"margin"}):null)}const w9=dl(W$,y9);var z$=p.forwardRef(function(t,e){return p.createElement(Tf,Ke({},t,{ref:e,sideCar:w9}))});z$.classNames=Tf.classNames;const U$="Dialog",[K$,G$]=$t(U$),[Jq,or]=K$(U$),$9="DialogTrigger",C9=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=or($9,n),o=$e(e,i.triggerRef);return p.createElement(me.button,z({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":qg(i.open)},r,{ref:o,onClick:re(t.onClick,i.onOpenToggle)}))}),Y$="DialogPortal",[S9,q$]=K$(Y$,{forceMount:void 0}),k9=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=or(Y$,e);return p.createElement(S9,{scope:e,forceMount:n},p.Children.map(r,s=>p.createElement(Ot,{present:n||o.open},p.createElement(_s,{asChild:!0,container:i},s))))},Wp="DialogOverlay",A9=p.forwardRef((t,e)=>{const n=q$(Wp,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=or(Wp,t.__scopeDialog);return o.modal?p.createElement(Ot,{present:r||o.open},p.createElement(E9,z({},i,{ref:e}))):null}),E9=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=or(Wp,n);return p.createElement(z$,{as:kr,allowPinchZoom:!0,shards:[i.contentRef]},p.createElement(me.div,z({"data-state":qg(i.open)},r,{ref:e,style:{pointerEvents:"auto",...r.style}})))}),ys="DialogContent",R9=p.forwardRef((t,e)=>{const n=q$(ys,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=or(ys,t.__scopeDialog);return p.createElement(Ot,{present:r||o.open},o.modal?p.createElement(T9,z({},i,{ref:e})):p.createElement(P9,z({},i,{ref:e})))}),T9=p.forwardRef((t,e)=>{const n=or(ys,t.__scopeDialog),r=p.useRef(null),i=$e(e,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return cl(o)},[]),p.createElement(X$,z({},t,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:re(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:re(t.onFocusOutside,o=>o.preventDefault())}))}),P9=p.forwardRef((t,e)=>{const n=or(ys,t.__scopeDialog),r=p.useRef(!1),i=p.useRef(!1);return p.createElement(X$,z({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=t.onCloseAutoFocus)===null||s===void 0||s.call(t,o),!o.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var s,a;(s=t.onInteractOutside)===null||s===void 0||s.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),X$=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=or(ys,n),c=p.useRef(null),f=$e(e,c);return Ls(),p.createElement(p.Fragment,null,p.createElement(Ns,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},p.createElement(Co,z({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":qg(a.open)},s,{ref:f,onDismiss:()=>a.onOpenChange(!1)}))),!1)}),Z$="DialogTitle",M9=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=or(Z$,n);return p.createElement(me.h2,z({id:i.titleId},r,{ref:e}))}),O9="DialogDescription",D9=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=or(O9,n);return p.createElement(me.p,z({id:i.descriptionId},r,{ref:e}))}),I9="DialogClose",_9=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=or(I9,n);return p.createElement(me.button,z({type:"button"},r,{ref:e,onClick:re(t.onClick,()=>i.onOpenChange(!1))}))});function qg(t){return t?"open":"closed"}const L9="DialogTitleWarning",[N9,eX]=ng(L9,{contentName:ys,titleName:Z$,docsSlug:"dialog"}),Q$=C9,J$=k9,eC=A9,tC=R9,nC=M9,B9=D9,Xg=_9,F9="AlertDialog",[W9,tX]=$t(F9,[G$]),ji=G$(),V9=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ji(n);return p.createElement(Q$,z({},i,r,{ref:e}))}),j9=t=>{const{__scopeAlertDialog:e,...n}=t,r=ji(e);return p.createElement(J$,z({},r,n))},H9=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ji(n);return p.createElement(eC,z({},i,r,{ref:e}))}),rC="AlertDialogContent",[z9,U9]=W9(rC),K9=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,o=ji(n),s=p.useRef(null),a=$e(e,s),c=p.useRef(null);return p.createElement(N9,{contentName:rC,titleName:G9,docsSlug:"alert-dialog"},p.createElement(z9,{scope:n,cancelRef:c},p.createElement(tC,z({role:"alertdialog"},o,i,{ref:a,onOpenAutoFocus:re(i.onOpenAutoFocus,f=>{var h;f.preventDefault(),(h=c.current)===null||h===void 0||h.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault()}),p.createElement(rg,null,r),!1)))}),G9="AlertDialogTitle",Y9=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ji(n);return p.createElement(nC,z({},i,r,{ref:e}))}),q9=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ji(n);return p.createElement(B9,z({},i,r,{ref:e}))}),X9=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ji(n);return p.createElement(Xg,z({},i,r,{ref:e}))}),Z9="AlertDialogCancel",Q9=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=U9(Z9,n),o=ji(n),s=$e(e,i);return p.createElement(Xg,z({},o,r,{ref:s}))}),J9=V9,eL=j9,tL=H9,nL=K9,rL=X9,iL=Q9,oL=Y9,sL=q9;var iC=hl(),Bd=function(){},Pf=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:Bd,onWheelCapture:Bd,onTouchMoveCapture:Bd}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,c=t.className,f=t.removeScrollBar,h=t.enabled,d=t.shards,g=t.sideCar,b=t.noIsolation,x=t.inert,v=t.allowPinchZoom,w=t.as,$=w===void 0?"div":w,S=t.gapMode,A=Bi(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=g,T=fl([n,e]),D=Ke(Ke({},A),i);return p.createElement(p.Fragment,null,h&&p.createElement(R,{sideCar:iC,removeScrollBar:f,shards:d,noIsolation:b,inert:x,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:S}),s?p.cloneElement(p.Children.only(a),Ke(Ke({},D),{ref:T})):p.createElement($,Ke({},D,{className:c,ref:T}),a))});Pf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pf.classNames={fullWidth:Ei,zeroRight:Ai};var Vp=!1;if(typeof window<"u")try{var Dc=Object.defineProperty({},"passive",{get:function(){return Vp=!0,!0}});window.addEventListener("test",Dc,Dc),window.removeEventListener("test",Dc,Dc)}catch{Vp=!1}var Xo=Vp?{passive:!1}:!1,aL=function(t){return t.tagName==="TEXTAREA"},oC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!aL(t)&&n[e]==="visible")},lL=function(t){return oC(t,"overflowY")},cL=function(t){return oC(t,"overflowX")},tx=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=sC(t,r);if(i){var o=aC(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},uL=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},fL=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},sC=function(t,e){return t==="v"?lL(e):cL(e)},aC=function(t,e){return t==="v"?uL(e):fL(e)},hL=function(t,e){return t==="h"&&e==="rtl"?-1:1},dL=function(t,e,n,r,i){var o=hL(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,c=e.contains(a),f=!1,h=s>0,d=0,g=0;do{var b=aC(t,a),x=b[0],v=b[1],w=b[2],$=v-w-o*x;(x||$)&&sC(t,a)&&(d+=$,g+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&Math.abs(d)<1||!h&&Math.abs(g)<1)&&(f=!0),f},Ic=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},nx=function(t){return[t.deltaX,t.deltaY]},rx=function(t){return t&&"current"in t?t.current:t},pL=function(t,e){return t[0]===e[0]&&t[1]===e[1]},mL=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},gL=0,Zo=[];function bL(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(gL++)[0],o=p.useState(Bs)[0],s=p.useRef(t);p.useEffect(function(){s.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=ul([t.lockRef.current],(t.shards||[]).map(rx),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(v,w){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var $=Ic(v),S=n.current,A="deltaX"in v?v.deltaX:S[0]-$[0],R="deltaY"in v?v.deltaY:S[1]-$[1],T,D=v.target,M=Math.abs(A)>Math.abs(R)?"h":"v";if("touches"in v&&M==="h"&&D.type==="range")return!1;var B=tx(M,D);if(!B)return!0;if(B?T=M:(T=M==="v"?"h":"v",B=tx(M,D)),!B)return!1;if(!r.current&&"changedTouches"in v&&(A||R)&&(r.current=T),!T)return!0;var N=r.current||T;return dL(N,w,v,N==="h"?A:R)},[]),c=p.useCallback(function(v){var w=v;if(!(!Zo.length||Zo[Zo.length-1]!==o)){var $="deltaY"in w?nx(w):Ic(w),S=e.current.filter(function(T){return T.name===w.type&&(T.target===w.target||w.target===T.shadowParent)&&pL(T.delta,$)})[0];if(S&&S.should){w.cancelable&&w.preventDefault();return}if(!S){var A=(s.current.shards||[]).map(rx).filter(Boolean).filter(function(T){return T.contains(w.target)}),R=A.length>0?a(w,A[0]):!s.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),f=p.useCallback(function(v,w,$,S){var A={name:v,delta:w,target:$,should:S,shadowParent:vL($)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(R){return R!==A})},1)},[]),h=p.useCallback(function(v){n.current=Ic(v),r.current=void 0},[]),d=p.useCallback(function(v){f(v.type,nx(v),v.target,a(v,t.lockRef.current))},[]),g=p.useCallback(function(v){f(v.type,Ic(v),v.target,a(v,t.lockRef.current))},[]);p.useEffect(function(){return Zo.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Xo),document.addEventListener("touchmove",c,Xo),document.addEventListener("touchstart",h,Xo),function(){Zo=Zo.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Xo),document.removeEventListener("touchmove",c,Xo),document.removeEventListener("touchstart",h,Xo)}},[]);var b=t.removeScrollBar,x=t.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:mL(i)}):null,b?p.createElement(pl,{gapMode:t.gapMode}):null)}function vL(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const xL=dl(iC,bL);var lC=p.forwardRef(function(t,e){return p.createElement(Pf,Ke({},t,{ref:e,sideCar:xL}))});lC.classNames=Pf.classNames;function yL(t,e){return p.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const cC="ScrollArea",[uC,nX]=$t(cC),[wL,Pr]=uC(cC),$L=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,c]=p.useState(null),[f,h]=p.useState(null),[d,g]=p.useState(null),[b,x]=p.useState(null),[v,w]=p.useState(null),[$,S]=p.useState(0),[A,R]=p.useState(0),[T,D]=p.useState(!1),[M,B]=p.useState(!1),N=$e(e,K=>c(K)),W=So(i);return p.createElement(wL,{scope:n,type:r,dir:W,scrollHideDelay:o,scrollArea:a,viewport:f,onViewportChange:h,content:d,onContentChange:g,scrollbarX:b,onScrollbarXChange:x,scrollbarXEnabled:T,onScrollbarXEnabledChange:D,scrollbarY:v,onScrollbarYChange:w,scrollbarYEnabled:M,onScrollbarYEnabledChange:B,onCornerWidthChange:S,onCornerHeightChange:R},p.createElement(me.div,z({dir:W},s,{ref:N,style:{position:"relative","--radix-scroll-area-corner-width":$+"px","--radix-scroll-area-corner-height":A+"px",...t.style}})))}),CL="ScrollAreaViewport",SL=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,...i}=t,o=Pr(CL,n),s=p.useRef(null),a=$e(e,s,o.onViewportChange);return p.createElement(p.Fragment,null,p.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),p.createElement(me.div,z({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style}}),p.createElement("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),ai="ScrollAreaScrollbar",kL=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Pr(ai,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return p.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?p.createElement(AL,z({},r,{ref:e,forceMount:n})):i.type==="scroll"?p.createElement(EL,z({},r,{ref:e,forceMount:n})):i.type==="auto"?p.createElement(fC,z({},r,{ref:e,forceMount:n})):i.type==="always"?p.createElement(Zg,z({},r,{ref:e})):null}),AL=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Pr(ai,t.__scopeScrollArea),[o,s]=p.useState(!1);return p.useEffect(()=>{const a=i.scrollArea;let c=0;if(a){const f=()=>{window.clearTimeout(c),s(!0)},h=()=>{c=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",f),a.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",f),a.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),p.createElement(Ot,{present:n||o},p.createElement(fC,z({"data-state":o?"visible":"hidden"},r,{ref:e})))}),EL=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Pr(ai,t.__scopeScrollArea),o=t.orientation==="horizontal",s=Of(()=>c("SCROLL_END"),100),[a,c]=yL("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(a==="idle"){const f=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(f)}},[a,i.scrollHideDelay,c]),p.useEffect(()=>{const f=i.viewport,h=o?"scrollLeft":"scrollTop";if(f){let d=f[h];const g=()=>{const b=f[h];d!==b&&(c("SCROLL"),s()),d=b};return f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[i.viewport,o,c,s]),p.createElement(Ot,{present:n||a!=="hidden"},p.createElement(Zg,z({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:e,onPointerEnter:re(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:re(t.onPointerLeave,()=>c("POINTER_LEAVE"))})))}),fC=p.forwardRef((t,e)=>{const n=Pr(ai,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=p.useState(!1),a=t.orientation==="horizontal",c=Of(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?f:h)}},10);return Mu(n.viewport,c),Mu(n.content,c),p.createElement(Ot,{present:r||o},p.createElement(Zg,z({"data-state":o?"visible":"hidden"},i,{ref:e})))}),Zg=p.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Pr(ai,t.__scopeScrollArea),o=p.useRef(null),s=p.useRef(0),[a,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=pC(a.viewport,a.content),h={...r,sizes:a,onSizesChange:c,hasThumb:f>0&&f<1,onThumbChange:g=>o.current=g,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:g=>s.current=g};function d(g,b){return DL(g,s.current,a,b)}return n==="horizontal"?p.createElement(RL,z({},h,{ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const g=i.viewport.scrollLeft,b=ix(g,a,i.dir);o.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=d(g,i.dir))}})):n==="vertical"?p.createElement(TL,z({},h,{ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const g=i.viewport.scrollTop,b=ix(g,a);o.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=d(g))}})):null}),RL=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Pr(ai,t.__scopeScrollArea),[s,a]=p.useState(),c=p.useRef(null),f=$e(e,c,o.onScrollbarXChange);return p.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),p.createElement(dC,z({"data-orientation":"horizontal"},i,{ref:f,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Mf(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,d)=>{if(o.viewport){const g=o.viewport.scrollLeft+h.deltaX;t.onWheelScroll(g),gC(g,d)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Pu(s.paddingLeft),paddingEnd:Pu(s.paddingRight)}})}}))}),TL=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Pr(ai,t.__scopeScrollArea),[s,a]=p.useState(),c=p.useRef(null),f=$e(e,c,o.onScrollbarYChange);return p.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),p.createElement(dC,z({"data-orientation":"vertical"},i,{ref:f,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Mf(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,d)=>{if(o.viewport){const g=o.viewport.scrollTop+h.deltaY;t.onWheelScroll(g),gC(g,d)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Pu(s.paddingTop),paddingEnd:Pu(s.paddingBottom)}})}}))}),[PL,hC]=uC(ai),dC=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:f,onWheelScroll:h,onResize:d,...g}=t,b=Pr(ai,n),[x,v]=p.useState(null),w=$e(e,N=>v(N)),$=p.useRef(null),S=p.useRef(""),A=b.viewport,R=r.content-r.viewport,T=At(h),D=At(c),M=Of(d,10);function B(N){if($.current){const W=N.clientX-$.current.left,K=N.clientY-$.current.top;f({x:W,y:K})}}return p.useEffect(()=>{const N=W=>{const K=W.target;x?.contains(K)&&T(W,R)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[A,x,R,T]),p.useEffect(D,[r,D]),Mu(x,M),Mu(b.content,M),p.createElement(PL,{scope:n,scrollbar:x,hasThumb:i,onThumbChange:At(o),onThumbPointerUp:At(s),onThumbPositionChange:D,onThumbPointerDown:At(a)},p.createElement(me.div,z({},g,{ref:w,style:{position:"absolute",...g.style},onPointerDown:re(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),$.current=x.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),B(N))}),onPointerMove:re(t.onPointerMove,B),onPointerUp:re(t.onPointerUp,N=>{const W=N.target;W.hasPointerCapture(N.pointerId)&&W.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=S.current,b.viewport&&(b.viewport.style.scrollBehavior=""),$.current=null})})))}),jp="ScrollAreaThumb",ML=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=hC(jp,t.__scopeScrollArea);return p.createElement(Ot,{present:n||i.hasThumb},p.createElement(OL,z({ref:e},r)))}),OL=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=Pr(jp,n),s=hC(jp,n),{onThumbPositionChange:a}=s,c=$e(e,d=>s.onThumbChange(d)),f=p.useRef(),h=Of(()=>{f.current&&(f.current(),f.current=void 0)},100);return p.useEffect(()=>{const d=o.viewport;if(d){const g=()=>{if(h(),!f.current){const b=IL(d,a);f.current=b,a()}};return a(),d.addEventListener("scroll",g),()=>d.removeEventListener("scroll",g)}},[o.viewport,h,a]),p.createElement(me.div,z({"data-state":s.hasThumb?"visible":"hidden"},i,{ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:re(t.onPointerDownCapture,d=>{const b=d.target.getBoundingClientRect(),x=d.clientX-b.left,v=d.clientY-b.top;s.onThumbPointerDown({x,y:v})}),onPointerUp:re(t.onPointerUp,s.onThumbPointerUp)}))});function Pu(t){return t?parseInt(t,10):0}function pC(t,e){const n=t/e;return isNaN(n)?0:n}function Mf(t){const e=pC(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function DL(t,e,n,r="ltr"){const i=Mf(n),o=i/2,s=e||o,a=i-s,c=n.scrollbar.paddingStart+s,f=n.scrollbar.size-n.scrollbar.paddingEnd-a,h=n.content-n.viewport,d=r==="ltr"?[0,h]:[h*-1,0];return mC([c,f],d)(t)}function ix(t,e,n="ltr"){const r=Mf(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,c=n==="ltr"?[0,s]:[s*-1,0],f=Tp(t,c);return mC([0,s],[0,a])(f)}function mC(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function gC(t,e){return t>0&&t<e}const IL=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Of(t,e){const n=At(t),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Mu(t,e){const n=At(e);dt(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}const _L=$L,LL=SL,NL=kL,BL=ML,bC=1024;let FL=0,Fd=class{constructor(e,n){this.from=e,this.to=n}};class He{constructor(e={}){this.id=FL++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=gn.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}He.closedBy=new He({deserialize:t=>t.split(" ")});He.openedBy=new He({deserialize:t=>t.split(" ")});He.group=new He({deserialize:t=>t.split(" ")});He.isolate=new He({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});He.contextHash=new He({perNode:!0});He.lookAhead=new He({perNode:!0});He.mounted=new He({perNode:!0});class Ou{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[He.mounted.id]}}const WL=Object.create(null);class gn{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):WL,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new gn(e.name||"",n,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(He.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(He.group),o=-1;o<(i?i.length:0);o++){let s=n[o<0?r.name:i[o]];if(s)return s}}}}gn.none=new gn("",Object.create(null),0,8);class Qg{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let o of e){let s=o(r);s&&(i||(i=Object.assign({},r.props)),i[s[0].id]=s[1])}n.push(i?new gn(r.name,i,r.id,r.flags):r)}return new Qg(n)}}const _c=new WeakMap,ox=new WeakMap;var It;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(It||(It={}));class Et{constructor(e,n,r,i,o){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,a]of o)this.props[typeof s=="number"?s:s.id]=a}}toString(){let e=Ou.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new zp(this.topNode,e)}cursorAt(e,n=0,r=0){let i=_c.get(this)||this.topNode,o=new zp(i);return o.moveTo(e,n),_c.set(this,o._tree),o}get topNode(){return new Vn(this,0,0,null)}resolve(e,n=0){let r=Fa(_c.get(this)||this.topNode,e,n,!1);return _c.set(this,r),r}resolveInner(e,n=0){let r=Fa(ox.get(this)||this.topNode,e,n,!0);return ox.set(this,r),r}resolveStack(e,n=0){return HL(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:o=this.length}=e,s=e.mode||0,a=(s&It.IncludeAnonymous)>0;for(let c=this.cursor(s|It.IncludeAnonymous);;){let f=!1;if(c.from<=o&&c.to>=i&&(!a&&c.type.isAnonymous||n(c)!==!1)){if(c.firstChild())continue;f=!0}for(;f&&r&&(a||!c.type.isAnonymous)&&r(c),!c.nextSibling();){if(!c.parent())return;f=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:t0(gn.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Et(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new Et(gn.none,n,r,i)))}static build(e){return zL(e)}}Et.empty=new Et(gn.none,[],[],0);class Jg{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Jg(this.buffer,this.index)}}class Oi{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return gn.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,n,r,i,o){let{buffer:s}=this,a=-1;for(let c=e;c!=n&&!(vC(o,i,s[c+1],s[c+2])&&(a=c,r>0));c=s[c+3]);return a}slice(e,n,r){let i=this.buffer,o=new Uint16Array(n-e),s=0;for(let a=e,c=0;a<n;){o[c++]=i[a++],o[c++]=i[a++]-r;let f=o[c++]=i[a++]-r;o[c++]=i[a++]-e,s=Math.max(s,f)}return new Oi(o,s,this.set)}}function vC(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Fa(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let s=!r&&t instanceof Vn&&t.index<0?null:t.parent;if(!s)return t;t=s}let o=r?0:It.IgnoreOverlays;if(r)for(let s=t,a=s.parent;a;s=a,a=s.parent)s instanceof Vn&&s.index<0&&((i=a.enter(e,n,o))===null||i===void 0?void 0:i.from)!=s.from&&(t=a);for(;;){let s=t.enter(e,n,o);if(!s)return t;t=s}}class xC{cursor(e=0){return new zp(this,e)}getChild(e,n=null,r=null){let i=sx(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return sx(this,e,n,r)}resolve(e,n=0){return Fa(this,e,n,!1)}resolveInner(e,n=0){return Fa(this,e,n,!0)}matchContext(e){return Hp(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class Vn extends xC{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,o=0){for(let s=this;;){for(let{children:a,positions:c}=s._tree,f=n>0?a.length:-1;e!=f;e+=n){let h=a[e],d=c[e]+s.from;if(vC(i,r,d,d+h.length)){if(h instanceof Oi){if(o&It.ExcludeBuffers)continue;let g=h.findChild(0,h.buffer.length,n,r-d,i);if(g>-1)return new $i(new VL(s,h,e,d),null,g)}else if(o&It.IncludeAnonymous||!h.type.isAnonymous||e0(h)){let g;if(!(o&It.IgnoreMounts)&&(g=Ou.get(h))&&!g.overlay)return new Vn(g.tree,d,e,s);let b=new Vn(h,d,e,s);return o&It.IncludeAnonymous||!b.type.isAnonymous?b:b.nextChild(n<0?h.children.length-1:0,n,r,i)}}}if(o&It.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+n:e=n<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&It.IgnoreOverlays)&&(i=Ou.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:s,to:a}of i.overlay)if((n>0?s<=o:s<o)&&(n<0?a>=o:a>o))return new Vn(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function sx(t,e,n,r){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(let s=!1;!s;)if(s=i.type.is(n),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function Hp(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class VL{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class $i extends xC{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return o<0?null:new $i(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&It.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new $i(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new $i(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new $i(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let s=r.buffer[this.index+1];e.push(r.slice(i,o,s)),n.push(0)}return new Et(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function yC(t){if(!t.length)return null;let e=0,n=t[0];for(let o=1;o<t.length;o++){let s=t[o];(s.from>n.from||s.to<n.to)&&(n=s,e=o)}let r=n instanceof Vn&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new jL(i,n)}class jL{constructor(e,n){this.heads=e,this.node=n}get next(){return yC(this.heads)}}function HL(t,e,n){let r=t.resolveInner(e,n),i=null;for(let o=r instanceof Vn?r:r.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(i||(i=[r])).push(s.resolve(e,n)),o=s}else{let s=Ou.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let a=new Vn(s.tree,s.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(Fa(a,e,n,!1))}}return i?yC(i):r}class zp{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Vn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Vn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&It.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&It.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&It.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let o=n+e,s=e<0?-1:r._tree.children.length;o!=s;o+=e){let a=r._tree.children[o];if(this.mode&It.IncludeAnonymous||a instanceof Oi||!a.type.isAnonymous||e0(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;n=s,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)n=new $i(this.buffer,n,this.stack[i]);return this.bufferNode=new $i(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return Hp(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return Hp(this._tree,e,i);let s=r[n.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}function e0(t){return t.children.some(e=>e instanceof Oi||!e.type.isAnonymous||e0(e))}function zL(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=bC,reused:o=[],minRepeatType:s=r.types.length}=t,a=Array.isArray(n)?new Jg(n,n.length):n,c=r.types,f=0,h=0;function d(T,D,M,B,N,W){let{id:K,start:j,end:Q,size:G}=a,ne=h,le=f;for(;G<0;)if(a.next(),G==-1){let fe=o[K];M.push(fe),B.push(j-T);return}else if(G==-3){f=K;return}else if(G==-4){h=K;return}else throw new RangeError(`Unrecognized record size: ${G}`);let ee=c[K],ae,X,de=j-T;if(Q-j<=i&&(X=w(a.pos-D,N))){let fe=new Uint16Array(X.size-X.skip),Me=a.pos-X.size,be=fe.length;for(;a.pos>Me;)be=$(X.start,fe,be);ae=new Oi(fe,Q-X.start,r),de=X.start-T}else{let fe=a.pos-G;a.next();let Me=[],be=[],Ve=K>=s?K:-1,Le=0,je=Q;for(;a.pos>fe;)Ve>=0&&a.id==Ve&&a.size>=0?(a.end<=je-i&&(x(Me,be,j,Le,a.end,je,Ve,ne,le),Le=Me.length,je=a.end),a.next()):W>2500?g(j,fe,Me,be):d(j,fe,Me,be,Ve,W+1);if(Ve>=0&&Le>0&&Le<Me.length&&x(Me,be,j,Le,j,je,Ve,ne,le),Me.reverse(),be.reverse(),Ve>-1&&Le>0){let pe=b(ee,le);ae=t0(ee,Me,be,0,Me.length,0,Q-j,pe,pe)}else ae=v(ee,Me,be,Q-j,ne-Q,le)}M.push(ae),B.push(de)}function g(T,D,M,B){let N=[],W=0,K=-1;for(;a.pos>D;){let{id:j,start:Q,end:G,size:ne}=a;if(ne>4)a.next();else{if(K>-1&&Q<K)break;K<0&&(K=G-i),N.push(j,Q,G),W++,a.next()}}if(W){let j=new Uint16Array(W*4),Q=N[N.length-2];for(let G=N.length-3,ne=0;G>=0;G-=3)j[ne++]=N[G],j[ne++]=N[G+1]-Q,j[ne++]=N[G+2]-Q,j[ne++]=ne;M.push(new Oi(j,N[2]-Q,r)),B.push(Q-T)}}function b(T,D){return(M,B,N)=>{let W=0,K=M.length-1,j,Q;if(K>=0&&(j=M[K])instanceof Et){if(!K&&j.type==T&&j.length==N)return j;(Q=j.prop(He.lookAhead))&&(W=B[K]+j.length+Q)}return v(T,M,B,N,W,D)}}function x(T,D,M,B,N,W,K,j,Q){let G=[],ne=[];for(;T.length>B;)G.push(T.pop()),ne.push(D.pop()+M-N);T.push(v(r.types[K],G,ne,W-N,j-W,Q)),D.push(N-M)}function v(T,D,M,B,N,W,K){if(W){let j=[He.contextHash,W];K=K?[j].concat(K):[j]}if(N>25){let j=[He.lookAhead,N];K=K?[j].concat(K):[j]}return new Et(T,D,M,B,K)}function w(T,D){let M=a.fork(),B=0,N=0,W=0,K=M.end-i,j={size:0,start:0,skip:0};e:for(let Q=M.pos-T;M.pos>Q;){let G=M.size;if(M.id==D&&G>=0){j.size=B,j.start=N,j.skip=W,W+=4,B+=4,M.next();continue}let ne=M.pos-G;if(G<0||ne<Q||M.start<K)break;let le=M.id>=s?4:0,ee=M.start;for(M.next();M.pos>ne;){if(M.size<0)if(M.size==-3)le+=4;else break e;else M.id>=s&&(le+=4);M.next()}N=ee,B+=G,W+=le}return(D<0||B==T)&&(j.size=B,j.start=N,j.skip=W),j.size>4?j:void 0}function $(T,D,M){let{id:B,start:N,end:W,size:K}=a;if(a.next(),K>=0&&B<s){let j=M;if(K>4){let Q=a.pos-(K-4);for(;a.pos>Q;)M=$(T,D,M)}D[--M]=j,D[--M]=W-T,D[--M]=N-T,D[--M]=B}else K==-3?f=B:K==-4&&(h=B);return M}let S=[],A=[];for(;a.pos>0;)d(t.start||0,t.bufferStart||0,S,A,-1,0);let R=(e=t.length)!==null&&e!==void 0?e:S.length?A[0]+S[0].length:0;return new Et(c[t.topID],S.reverse(),A.reverse(),R)}const ax=new WeakMap;function uu(t,e){if(!t.isAnonymous||e instanceof Oi||e.type!=t)return 1;let n=ax.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Et)){n=1;break}n+=uu(t,r)}ax.set(e,n)}return n}function t0(t,e,n,r,i,o,s,a,c){let f=0;for(let x=r;x<i;x++)f+=uu(t,e[x]);let h=Math.ceil(f*1.5/8),d=[],g=[];function b(x,v,w,$,S){for(let A=w;A<$;){let R=A,T=v[A],D=uu(t,x[A]);for(A++;A<$;A++){let M=uu(t,x[A]);if(D+M>=h)break;D+=M}if(A==R+1){if(D>h){let M=x[R];b(M.children,M.positions,0,M.children.length,v[R]+S);continue}d.push(x[R])}else{let M=v[A-1]+x[A-1].length-T;d.push(t0(t,x,v,R,A,T,M,null,c))}g.push(T+S-o)}}return b(e,n,r,i,0),(a||c)(d,g,s)}class uo{constructor(e,n,r,i,o=!1,s=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new uo(0,e.length,e,0,!1,r)];for(let o of n)o.to>e.length&&i.push(o);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],o=1,s=e.length?e[0]:null;for(let a=0,c=0,f=0;;a++){let h=a<n.length?n[a]:null,d=h?h.fromA:1e9;if(d-c>=r)for(;s&&s.from<d;){let g=s;if(c>=g.from||d<=g.to||f){let b=Math.max(g.from,c)-f,x=Math.min(g.to,d)-f;g=b>=x?null:new uo(b,x,g.tree,g.offset+f,a>0,!!h)}if(g&&i.push(g),s.to>d)break;s=o<e.length?e[o++]:null}if(!h)break;c=h.toA,f=h.toA-h.toB}return i}}class wC{startParse(e,n,r){return typeof e=="string"&&(e=new UL(e)),r=r?r.length?r.map(i=>new Fd(i.from,i.to)):[new Fd(0,0)]:[new Fd(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let o=i.advance();if(o)return o}}}class UL{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new He({perNode:!0});var lx={};class Du{constructor(e,n,r,i,o,s,a,c,f,h=0,d){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=o,this.score=s,this.buffer=a,this.bufferBase=c,this.curContext=f,this.lookAhead=h,this.parent=d}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new Du(e,[],n,r,r,0,[],0,i?new cx(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:o}=this.p,s=this.reducePos<this.pos-25;s&&this.setLookAhead(this.pos);let a=o.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(o.getGoto(this.state,i,!0),this.reducePos),i<o.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,s?8:4,!0),this.reduceContext(i,this.reducePos);return}let c=this.stack.length-(r-1)*3-(e&262144?6:0),f=c?this.stack[c-2]:this.p.ranges[0].from,h=this.reducePos-f;h>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(f==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=f,this.p.lastBigReductionSize=h));let d=c?this.stack[c-1]:0,g=this.bufferBase+this.buffer.length-d;if(i<o.minRepeatTerm||e&131072){let b=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,f,b,g+4,!0)}if(e&262144)this.state=this.stack[c];else{let b=this.stack[c-3];this.state=o.getGoto(b,i,!0)}for(;this.stack.length>c;)this.stack.pop();this.reduceContext(i,f)}storeNode(e,n,r,i=4,o=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let s=this,a=this.buffer.length;if(a==0&&s.parent&&(a=s.bufferBase-s.parent.bufferBase,s=s.parent),a>0&&s.buffer[a-4]==0&&s.buffer[a-1]>-1){if(n==r)return;if(s.buffer[a-2]>=n){s.buffer[a-2]=r;return}}}if(!o||this.pos==r)this.buffer.push(e,n,r,i);else{let s=this.buffer.length;if(s>0&&this.buffer[s-4]!=0){let a=!1;for(let c=s;c>0&&this.buffer[c-2]>r;c-=4)if(this.buffer[c-1]>=0){a=!0;break}if(a)for(;s>0&&this.buffer[s-2]>r;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,i>4&&(i-=4)}this.buffer[s]=e,this.buffer[s+1]=n,this.buffer[s+2]=r,this.buffer[s+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4);else{let o=e,{parser:s}=this.p;(i>this.pos||n<=s.maxNode)&&(this.pos=i,s.stateFlag(o,1)||(this.reducePos=i)),this.pushState(o,r),this.shiftContext(n,r),n<=s.maxNode&&this.buffer.push(n,r,i,4)}}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new Du(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new KL(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let o=0,s;o<n.length;o+=2)(s=n[o+1])!=this.state&&this.p.parser.hasAction(s,e)&&i.push(n[o],s);if(this.stack.length<120)for(let o=0;i.length<8&&o<n.length;o+=2){let s=n[o+1];i.some((a,c)=>c&1&&a==s)||i.push(n[o],s)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let o=n[i+1];if(o==this.state)continue;let s=this.split();s.pushState(o,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(n[i],this.pos),s.reducePos=this.pos,s.score-=200,r.push(s)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,o=this.stack.length-r*3;if(o<0||e.getGoto(this.stack[o],i,!1)<0){let s=this.findForcedReduction();if(s==null)return!1;n=s}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,o)=>{if(!n.includes(i))return n.push(i),e.allActions(i,s=>{if(!(s&393216))if(s&65536){let a=(s>>19)-o;if(a>1){let c=s&65535,f=this.stack.length-a*3;if(f>=0&&e.getGoto(this.stack[f],c,!1)>=0)return a<<19|65536|c}}else{let a=r(s,o+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new cx(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class cx{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class KL{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class Iu{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Iu(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Iu(this.stack,this.pos,this.index)}}function Lc(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let o=0;for(;;){let s=t.charCodeAt(r++),a=!1;if(s==126){o=65535;break}s>=92&&s--,s>=34&&s--;let c=s-32;if(c>=46&&(c-=46,a=!0),o+=c,a)break;o*=46}n?n[i++]=o:n=new e(o)}return n}class fu{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const ux=new fu;class GL{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=ux,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,o=this.pos+e;for(;o<r.from;){if(!i)return null;let s=this.ranges[--i];o-=r.from-s.to,r=s}for(;n<0?o>r.to:o>=r.to;){if(i==this.ranges.length-1)return null;let s=this.ranges[++i];o+=s.from-r.to,r=s}return o}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let o=this.resolveOffset(e,1);if(o==null)return-1;if(r=o,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let s=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=ux,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class ls{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;YL(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}ls.prototype.contextual=ls.prototype.fallback=ls.prototype.extend=!1;ls.prototype.fallback=ls.prototype.extend=!1;function YL(t,e,n,r,i,o){let s=0,a=1<<r,{dialect:c}=n.p.parser;e:for(;a&t[s];){let f=t[s+1];for(let b=s+3;b<f;b+=2)if((t[b+1]&a)>0){let x=t[b];if(c.allows(x)&&(e.token.value==-1||e.token.value==x||qL(x,e.token.value,i,o))){e.acceptToken(x);break}}let h=e.next,d=0,g=t[s+2];if(e.next<0&&g>d&&t[f+g*3-3]==65535){s=t[f+g*3-1];continue e}for(;d<g;){let b=d+g>>1,x=f+b+(b<<1),v=t[x],w=t[x+1]||65536;if(h<v)g=b;else if(h>=w)d=b+1;else{s=t[x+2],e.advance();continue e}}break}}function fx(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function qL(t,e,n,r){let i=fx(n,r,e);return i<0||fx(n,r,t)<i}const Sn=typeof process<"u"&&lx&&/\bparse\b/.test(lx.LOG);let Wd=null;function hx(t,e,n){let r=t.cursor(It.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class XL{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?hx(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?hx(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=r.children[i],s=this.start[n]+r.positions[i];if(s>e)return this.nextStart=s,null;if(o instanceof Et){if(s==e){if(s<this.safeFrom)return null;let a=s+o.length;if(a<=this.safeTo){let c=o.prop(He.lookAhead);if(!c||a+c<this.fragment.to)return o}}this.index[n]++,s+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(s),this.index.push(0))}else this.index[n]++,this.nextStart=s+o.length}}}class ZL{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new fu)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:o}=i,s=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,c=0;for(let f=0;f<o.length;f++){if(!(1<<f&s))continue;let h=o[f],d=this.tokens[f];if(!(r&&!h.fallback)&&((h.contextual||d.start!=e.pos||d.mask!=s||d.context!=a)&&(this.updateCachedToken(d,h,e),d.mask=s,d.context=a),d.lookAhead>d.end+25&&(c=Math.max(d.lookAhead,c)),d.value!=0)){let g=n;if(d.extended>-1&&(n=this.addActions(e,d.extended,d.end,n)),n=this.addActions(e,d.value,d.end,n),!h.extend&&(r=d,n>g))break}}for(;this.actions.length>n;)this.actions.pop();return c&&e.setLookAhead(c),!r&&e.pos==this.stream.end&&(r=new fu,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new fu,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:o}=r.p;for(let s=0;s<o.specialized.length;s++)if(o.specialized[s]==e.value){let a=o.specializers[s](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let o=0;o<i;o+=3)if(this.actions[o]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:o}=e,{parser:s}=e.p,{data:a}=s;for(let c=0;c<2;c++)for(let f=s.stateSlot(o,c?2:1);;f+=3){if(a[f]==65535)if(a[f+1]==1)f=Kr(a,f+2);else{i==0&&a[f+1]==2&&(i=this.putAction(Kr(a,f+2),n,r,i));break}a[f]==n&&(i=this.putAction(Kr(a,f+1),n,r,i))}return i}}class QL{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new GL(n,i),this.tokens=new ZL(e,this.stream),this.topTerm=e.top[1];let{from:o}=i[0];this.stacks=[Du.start(this,e.top[0],o)],this.fragments=r.length&&this.stream.end-o>e.bufferLength*4?new XL(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,o;if(this.bigReductionCount>300&&e.length==1){let[s]=e;for(;s.forceReduce()&&s.stack.length&&s.stack[s.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<e.length;s++){let a=e[s];for(;;){if(this.tokens.mainToken=null,a.pos>n)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],o=[]),i.push(a);let c=this.tokens.getMainToken(a);o.push(c.value,c.end)}}break}}if(!r.length){let s=i&&eN(i);if(s)return Sn&&console.log("Finish with "+this.stackID(s)),this.stackToTree(s);if(this.parser.strict)throw Sn&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let s=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,o,r);if(s)return Sn&&console.log("Force-finish "+this.stackID(s)),this.stackToTree(s.forceAll())}if(this.recovering){let s=this.recovering==1?1:this.recovering*3;if(r.length>s)for(r.sort((a,c)=>c.score-a.score);r.length>s;)r.pop();r.some(a=>a.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let s=0;s<r.length-1;s++){let a=r[s];for(let c=s+1;c<r.length;c++){let f=r[c];if(a.sameState(f)||a.buffer.length>500&&f.buffer.length>500)if((a.score-f.score||a.buffer.length-f.buffer.length)>0)r.splice(c--,1);else{r.splice(s--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let s=1;s<r.length;s++)r[s].pos<this.minStackPos&&(this.minStackPos=r[s].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:o}=this,s=Sn?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let f=e.curContext&&e.curContext.tracker.strict,h=f?e.curContext.hash:0;for(let d=this.fragments.nodeAt(i);d;){let g=this.parser.nodeSet.types[d.type.id]==d.type?o.getGoto(e.state,d.type.id):-1;if(g>-1&&d.length&&(!f||(d.prop(He.contextHash)||0)==h))return e.useNode(d,g),Sn&&console.log(s+this.stackID(e)+` (via reuse of ${o.getName(d.type.id)})`),!0;if(!(d instanceof Et)||d.children.length==0||d.positions[0]>0)break;let b=d.children[0];if(b instanceof Et&&d.positions[0]==0)d=b;else break}}let a=o.stateSlot(e.state,4);if(a>0)return e.reduce(a),Sn&&console.log(s+this.stackID(e)+` (via always-reduce ${o.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let c=this.tokens.getActions(e);for(let f=0;f<c.length;){let h=c[f++],d=c[f++],g=c[f++],b=f==c.length||!r,x=b?e:e.split(),v=this.tokens.mainToken;if(x.apply(h,d,v?v.start:x.pos,g),Sn&&console.log(s+this.stackID(x)+` (via ${h&65536?`reduce of ${o.getName(h&65535)}`:"shift"} for ${o.getName(d)} @ ${i}${x==e?"":", split"})`),b)return!0;x.pos>i?n.push(x):r.push(x)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return dx(e,n),!0}}runRecovery(e,n,r){let i=null,o=!1;for(let s=0;s<e.length;s++){let a=e[s],c=n[s<<1],f=n[(s<<1)+1],h=Sn?this.stackID(a)+" -> ":"";if(a.deadEnd&&(o||(o=!0,a.restart(),Sn&&console.log(h+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let d=a.split(),g=h;for(let b=0;d.forceReduce()&&b<10&&(Sn&&console.log(g+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,r));b++)Sn&&(g=this.stackID(d)+" -> ");for(let b of a.recoverByInsert(c))Sn&&console.log(h+this.stackID(b)+" (via recover-insert)"),this.advanceFully(b,r);this.stream.end>a.pos?(f==a.pos&&(f++,c=0),a.recoverByDelete(c,f),Sn&&console.log(h+this.stackID(a)+` (via recover-delete ${this.parser.getName(c)})`),dx(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),Et.build({buffer:Iu.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(Wd||(Wd=new WeakMap)).get(e);return n||Wd.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function dx(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class JL{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class _u extends wC{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<n.length;a++)i.push([]);function o(a,c,f){i[a].push([c,c.deserialize(String(f))])}if(e.nodeProps)for(let a of e.nodeProps){let c=a[0];typeof c=="string"&&(c=He[c]);for(let f=1;f<a.length;){let h=a[f++];if(h>=0)o(h,c,a[f++]);else{let d=a[f+-h];for(let g=-h;g>0;g--)o(a[f++],c,d);f++}}}this.nodeSet=new Qg(n.map((a,c)=>gn.define({name:c>=this.minRepeatTerm?void 0:a,id:c,props:i[c],top:r.indexOf(c)>-1,error:c==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(c)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=bC;let s=Lc(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(px),this.states=Lc(e.states,Uint32Array),this.data=Lc(e.stateData),this.goto=Lc(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new ls(s,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new QL(this,e,n,r);for(let o of this.wrappers)i=o(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let o=i[n+1];;){let s=i[o++],a=s&1,c=i[o++];if(a&&r)return c;for(let f=o+(s>>1);o<f;o++)if(i[o]==e)return c;if(a)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let o=this.stateSlot(e,i?2:1),s;;o+=3){if((s=r[o])==65535)if(r[o+1]==1)s=r[o=Kr(r,o+2)];else{if(r[o+1]==2)return Kr(r,o+2);break}if(s==n||s==0)return Kr(r,o+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let o=this.stateSlot(e,1);i==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=Kr(this.data,o+2);else break;i=n(Kr(this.data,o+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Kr(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];n.some((o,s)=>s&1&&o==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(_u.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(o=>o.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let o=e.specializers.find(a=>a.from==r.external);if(!o)return r;let s=Object.assign(Object.assign({},r),{external:o.to});return n.specializers[i]=px(s),s})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let o of e.split(" ")){let s=n.indexOf(o);s>=0&&(r[s]=!0)}let i=null;for(let o=0;o<n.length;o++)if(!r[o])for(let s=this.dialects[n[o]],a;(a=this.data[s++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new JL(e,r,i)}static deserialize(e){return new _u(e)}}function Kr(t,e){return t[e]|t[e+1]<<16}function eN(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function px(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}let tN=0,Gr=class Up{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=tN++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof Up&&(n=e),n?.base)throw new Error("Can not derive from a modified tag");let i=new Up(r,[],null,[]);if(i.set.push(i),n)for(let o of n.set)i.set.push(o);return i}static defineModifier(e){let n=new Lu(e);return r=>r.modified.indexOf(n)>-1?r:Lu.get(r.base||r,r.modified.concat(n).sort((i,o)=>i.id-o.id))}},nN=0;class Lu{constructor(e){this.name=e,this.instances=[],this.id=nN++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&rN(n,a.modified));if(r)return r;let i=[],o=new Gr(e.name,i,e,n);for(let a of n)a.instances.push(o);let s=iN(n);for(let a of e.set)if(!a.modified.length)for(let c of s)i.push(Lu.get(a,c));return o}}function rN(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function iN(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function $C(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let o=[],s=2,a=i;for(let d=0;;){if(a=="..."&&d>0&&d+3==i.length){s=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!g)throw new RangeError("Invalid path: "+i);if(o.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),d+=g[0].length,d==i.length)break;let b=i[d++];if(d==i.length&&b=="!"){s=0;break}if(b!="/")throw new RangeError("Invalid path: "+i);a=i.slice(d)}let c=o.length-1,f=o[c];if(!f)throw new RangeError("Invalid path: "+i);let h=new Nu(r,s,c>0?o.slice(0,c):null);e[f]=h.sort(e[f])}}return CC.add(e)}const CC=new He;class Nu{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Nu.empty=new Nu([],2,null);function SC(t,e){let n=Object.create(null);for(let o of t)if(!Array.isArray(o.tag))n[o.tag.id]=o.class;else for(let s of o.tag)n[s.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let s=i;for(let a of o)for(let c of a.set){let f=n[c.id];if(f){s=s?s+" "+f:f;break}}return s},scope:r}}function oN(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function sN(t,e,n,r=0,i=t.length){let o=new aN(r,Array.isArray(e)?e:[e],n);o.highlightRange(t.cursor(),r,i,"",o.highlighters),o.flush(i)}class aN{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,o){let{type:s,from:a,to:c}=e;if(a>=r||c<=n)return;s.isTop&&(o=this.highlighters.filter(b=>!b.scope||b.scope(s)));let f=i,h=lN(e)||Nu.empty,d=oN(o,h.tags);if(d&&(f&&(f+=" "),f+=d,h.mode==1&&(i+=(i?" ":"")+d)),this.startSpan(Math.max(n,a),f),h.opaque)return;let g=e.tree&&e.tree.prop(He.mounted);if(g&&g.overlay){let b=e.node.enter(g.overlay[0].from+a,1),x=this.highlighters.filter(w=>!w.scope||w.scope(g.tree.type)),v=e.firstChild();for(let w=0,$=a;;w++){let S=w<g.overlay.length?g.overlay[w]:null,A=S?S.from+a:c,R=Math.max(n,$),T=Math.min(r,A);if(R<T&&v)for(;e.from<T&&(this.highlightRange(e,R,T,i,o),this.startSpan(Math.min(T,e.to),f),!(e.to>=A||!e.nextSibling())););if(!S||A>r)break;$=S.to+a,$>n&&(this.highlightRange(b.cursor(),Math.max(n,S.from+a),Math.min(r,$),"",x),this.startSpan(Math.min(r,$),f))}v&&e.parent()}else if(e.firstChild()){g&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,o),this.startSpan(Math.min(r,e.to),f)}while(e.nextSibling());e.parent()}}}function lN(t){let e=t.type.prop(CC);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const ie=Gr.define,Nc=ie(),xi=ie(),mx=ie(xi),gx=ie(xi),yi=ie(),Bc=ie(yi),Vd=ie(yi),gr=ie(),no=ie(gr),dr=ie(),pr=ie(),Kp=ie(),ha=ie(Kp),Fc=ie(),H={comment:Nc,lineComment:ie(Nc),blockComment:ie(Nc),docComment:ie(Nc),name:xi,variableName:ie(xi),typeName:mx,tagName:ie(mx),propertyName:gx,attributeName:ie(gx),className:ie(xi),labelName:ie(xi),namespace:ie(xi),macroName:ie(xi),literal:yi,string:Bc,docString:ie(Bc),character:ie(Bc),attributeValue:ie(Bc),number:Vd,integer:ie(Vd),float:ie(Vd),bool:ie(yi),regexp:ie(yi),escape:ie(yi),color:ie(yi),url:ie(yi),keyword:dr,self:ie(dr),null:ie(dr),atom:ie(dr),unit:ie(dr),modifier:ie(dr),operatorKeyword:ie(dr),controlKeyword:ie(dr),definitionKeyword:ie(dr),moduleKeyword:ie(dr),operator:pr,derefOperator:ie(pr),arithmeticOperator:ie(pr),logicOperator:ie(pr),bitwiseOperator:ie(pr),compareOperator:ie(pr),updateOperator:ie(pr),definitionOperator:ie(pr),typeOperator:ie(pr),controlOperator:ie(pr),punctuation:Kp,separator:ie(Kp),bracket:ha,angleBracket:ie(ha),squareBracket:ie(ha),paren:ie(ha),brace:ie(ha),content:gr,heading:no,heading1:ie(no),heading2:ie(no),heading3:ie(no),heading4:ie(no),heading5:ie(no),heading6:ie(no),contentSeparator:ie(gr),list:ie(gr),quote:ie(gr),emphasis:ie(gr),strong:ie(gr),link:ie(gr),monospace:ie(gr),strikethrough:ie(gr),inserted:ie(),deleted:ie(),changed:ie(),invalid:ie(),meta:Fc,documentMeta:ie(Fc),annotation:ie(Fc),processingInstruction:ie(Fc),definition:Gr.defineModifier("definition"),constant:Gr.defineModifier("constant"),function:Gr.defineModifier("function"),standard:Gr.defineModifier("standard"),local:Gr.defineModifier("local"),special:Gr.defineModifier("special")};for(let t in H){let e=H[t];e instanceof Gr&&(e.name=t)}SC([{tag:H.link,class:"tok-link"},{tag:H.heading,class:"tok-heading"},{tag:H.emphasis,class:"tok-emphasis"},{tag:H.strong,class:"tok-strong"},{tag:H.keyword,class:"tok-keyword"},{tag:H.atom,class:"tok-atom"},{tag:H.bool,class:"tok-bool"},{tag:H.url,class:"tok-url"},{tag:H.labelName,class:"tok-labelName"},{tag:H.inserted,class:"tok-inserted"},{tag:H.deleted,class:"tok-deleted"},{tag:H.literal,class:"tok-literal"},{tag:H.string,class:"tok-string"},{tag:H.number,class:"tok-number"},{tag:[H.regexp,H.escape,H.special(H.string)],class:"tok-string2"},{tag:H.variableName,class:"tok-variableName"},{tag:H.local(H.variableName),class:"tok-variableName tok-local"},{tag:H.definition(H.variableName),class:"tok-variableName tok-definition"},{tag:H.special(H.variableName),class:"tok-variableName2"},{tag:H.definition(H.propertyName),class:"tok-propertyName tok-definition"},{tag:H.typeName,class:"tok-typeName"},{tag:H.namespace,class:"tok-namespace"},{tag:H.className,class:"tok-className"},{tag:H.macroName,class:"tok-macroName"},{tag:H.propertyName,class:"tok-propertyName"},{tag:H.operator,class:"tok-operator"},{tag:H.comment,class:"tok-comment"},{tag:H.meta,class:"tok-meta"},{tag:H.invalid,class:"tok-invalid"},{tag:H.punctuation,class:"tok-punctuation"}]);const cN=$C({String:H.string,Number:H.number,"True False":H.bool,PropertyName:H.propertyName,Null:H.null,", :":H.separator,"[ ]":H.squareBracket,"{ }":H.brace}),uN=_u.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[cN],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0});let Gp=[],kC=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?kC:Gp).push(n=n+t[e])})();function fN(t){if(t<768)return!1;for(let e=0,n=Gp.length;;){let r=e+n>>1;if(t<Gp[r])n=r;else if(t>=kC[r])e=r+1;else return!0;if(e==n)return!1}}function bx(t){return t>=127462&&t<=127487}const vx=8205;function hN(t,e,n=!0,r=!0){return(n?AC:dN)(t,e,r)}function AC(t,e,n){if(e==t.length)return e;e&&EC(t.charCodeAt(e))&&RC(t.charCodeAt(e-1))&&e--;let r=jd(t,e);for(e+=xx(r);e<t.length;){let i=jd(t,e);if(r==vx||i==vx||n&&fN(i))e+=xx(i),r=i;else if(bx(i)){let o=0,s=e-2;for(;s>=0&&bx(jd(t,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function dN(t,e,n){for(;e>0;){let r=AC(t,e-2,n);if(r<e)return r;e--}return 0}function jd(t,e){let n=t.charCodeAt(e);if(!RC(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return EC(r)?(n-55296<<10)+(r-56320)+65536:n}function EC(t){return t>=56320&&t<57344}function RC(t){return t>=55296&&t<56320}function xx(t){return t<65536?1:2}class Ze{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=ws(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),br.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=ws(this,e,n);let r=[];return this.decompose(e,n,r,0),br.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Ea(this),o=new Ea(e);for(let s=n,a=n;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new Ea(this,e)}iterRange(e,n=this.length){return new TC(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new PC(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Ze.empty:e.length<=32?new xt(e):br.from(xt.split(e,[]))}}class xt extends Ze{constructor(e,n=pN(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.text[o],a=i+s.length;if((n?r:a)>=e)return new mN(i,a,r,s);i=a+1,r++}}decompose(e,n,r,i){let o=e<=0&&n>=this.length?this:new xt(yx(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let s=r.pop(),a=hu(o.text,s.text.slice(),0,o.length);if(a.length<=32)r.push(new xt(a,s.length+o.length));else{let c=a.length>>1;r.push(new xt(a.slice(0,c)),new xt(a.slice(c)))}}else r.push(o)}replace(e,n,r){if(!(r instanceof xt))return super.replace(e,n,r);[e,n]=ws(this,e,n);let i=hu(this.text,hu(r.text,yx(this.text,0,e)),n),o=this.length+r.length-(n-e);return i.length<=32?new xt(i,o):br.from(xt.split(i,[]),o)}sliceString(e,n=this.length,r=`
`){[e,n]=ws(this,e,n);let i="";for(let o=0,s=0;o<=n&&s<this.text.length;s++){let a=this.text[s],c=o+a.length;o>e&&s&&(i+=r),e<c&&n>o&&(i+=a.slice(Math.max(0,e-o),n-o)),o=c+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(n.push(new xt(r,i)),r=[],i=-1);return i>-1&&n.push(new xt(r,i)),n}}class br extends Ze{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.children[o],a=i+s.length,c=r+s.lines-1;if((n?c:a)>=e)return s.lineInner(e,n,r,i);i=a+1,r=c+1}}decompose(e,n,r,i){for(let o=0,s=0;s<=n&&o<this.children.length;o++){let a=this.children[o],c=s+a.length;if(e<=c&&n>=s){let f=i&((s<=e?1:0)|(c>=n?2:0));s>=e&&c<=n&&!f?r.push(a):a.decompose(e-s,n-s,r,f)}s=c+1}}replace(e,n,r){if([e,n]=ws(this,e,n),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(e>=o&&n<=a){let c=s.replace(e-o,n-o,r),f=this.lines-s.lines+c.lines;if(c.lines<f>>4&&c.lines>f>>6){let h=this.children.slice();return h[i]=c,new br(h,this.length-(n-e)+r.length)}return super.replace(o,a,c)}o=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=ws(this,e,n);let i="";for(let o=0,s=0;o<this.children.length&&s<=n;o++){let a=this.children[o],c=s+a.length;s>e&&o&&(i+=r),e<c&&n>s&&(i+=a.sliceString(e-s,n-s,r)),s=c+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof br))return 0;let r=0,[i,o,s,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,o+=n){if(i==s||o==a)return r;let c=this.children[i],f=e.children[o];if(c!=f)return r+c.scanIdentical(f,n);r+=c.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let b of e)r+=b.lines;if(r<32){let b=[];for(let x of e)x.flatten(b);return new xt(b,n)}let i=Math.max(32,r>>5),o=i<<1,s=i>>1,a=[],c=0,f=-1,h=[];function d(b){let x;if(b.lines>o&&b instanceof br)for(let v of b.children)d(v);else b.lines>s&&(c>s||!c)?(g(),a.push(b)):b instanceof xt&&c&&(x=h[h.length-1])instanceof xt&&b.lines+x.lines<=32?(c+=b.lines,f+=b.length+1,h[h.length-1]=new xt(x.text.concat(b.text),x.length+1+b.length)):(c+b.lines>i&&g(),c+=b.lines,f+=b.length+1,h.push(b))}function g(){c!=0&&(a.push(h.length==1?h[0]:br.from(h,f)),f=-1,c=h.length=0)}for(let b of e)d(b);return g(),a.length==1?a[0]:new br(a,n)}}Ze.empty=new xt([""],0);function pN(t){let e=-1;for(let n of t)e+=n.length+1;return e}function hu(t,e,n=0,r=1e9){for(let i=0,o=0,s=!0;o<t.length&&i<=r;o++){let a=t[o],c=i+a.length;c>=n&&(c>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),s?(e[e.length-1]+=a,s=!1):e.push(a)),i=c+1}return e}function yx(t,e,n){return hu(t,[""],e,n)}class Ea{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof xt?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,a=i instanceof xt?i.text.length:i.children.length;if(s==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof xt){let c=i.text[s+(n<0?-1:0)];if(this.offsets[r]+=n,c.length>Math.max(0,e))return this.value=e==0?c:n>0?c.slice(e):c.slice(0,c.length-e),this;e-=c.length}else{let c=i.children[s+(n<0?-1:0)];e>c.length?(e-=c.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(c),this.offsets.push(n>0?1:(c instanceof xt?c.text.length:c.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class TC{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new Ea(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class PC{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Ze.prototype[Symbol.iterator]=function(){return this.iter()},Ea.prototype[Symbol.iterator]=TC.prototype[Symbol.iterator]=PC.prototype[Symbol.iterator]=function(){return this});class mN{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function ws(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function Vt(t,e,n=!0,r=!0){return hN(t,e,n,r)}function gN(t){return t>=56320&&t<57344}function bN(t){return t>=55296&&t<56320}function un(t,e){let n=t.charCodeAt(e);if(!bN(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return gN(r)?(n-55296<<10)+(r-56320)+65536:n}function n0(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function vr(t){return t<65536?1:2}const Yp=/\r\n?|\n/;var tn=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(tn||(tn={}));class Cr{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let o=this.sections[n++],s=this.sections[n++];s<0?(e(r,i,o),i+=o):i+=s,r+=o}}iterChangedRanges(e,n=!1){qp(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new Cr(e)}composeDesc(e){return this.empty?e:e.empty?this:MC(this,e)}mapDesc(e,n=!1){return e.empty?this:Xp(this,e,n)}mapPos(e,n=-1,r=tn.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],c=this.sections[s++],f=i+a;if(c<0){if(f>e)return o+(e-i);o+=a}else{if(r!=tn.Simple&&f>=e&&(r==tn.TrackDel&&i<e&&f>e||r==tn.TrackBefore&&i<e||r==tn.TrackAfter&&f>e))return null;if(f>e||f==e&&n<0&&!a)return e==i||n<0?o:o+c;o+=c}i=f}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let o=this.sections[r++],s=this.sections[r++],a=i+o;if(s>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Cr(e)}static create(e){return new Cr(e)}}class Pt extends Cr{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return qp(this,(n,r,i,o,s)=>e=e.replace(i,i+(r-n),s),!1),e}mapDesc(e,n=!1){return Xp(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,o=0;i<n.length;i+=2){let s=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=s;let c=i>>1;for(;r.length<c;)r.push(Ze.empty);r.push(s?e.slice(o,o+s):Ze.empty)}o+=s}return new Pt(n,r)}compose(e){return this.empty?e:e.empty?this:MC(this,e,!0)}map(e,n=!1){return e.empty?this:Xp(this,e,n,!0)}iterChanges(e,n=!1){qp(this,e,n)}get desc(){return Cr.create(this.sections)}filter(e){let n=[],r=[],i=[],o=new Wa(this);e:for(let s=0,a=0;;){let c=s==e.length?1e9:e[s++];for(;a<c||a==c&&o.len==0;){if(o.done)break e;let h=Math.min(o.len,c-a);Kt(i,h,-1);let d=o.ins==-1?-1:o.off==0?o.ins:0;Kt(n,h,d),d>0&&Ci(r,n,o.text),o.forward(h),a+=h}let f=e[s++];for(;a<f;){if(o.done)break e;let h=Math.min(o.len,f-a);Kt(n,h,-1),Kt(i,h,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(h),a+=h}}return{changes:new Pt(n,r),filtered:Cr.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],o=[],s=0,a=null;function c(h=!1){if(!h&&!i.length)return;s<n&&Kt(i,n-s,-1);let d=new Pt(i,o);a=a?a.compose(d.map(a)):d,i=[],o=[],s=0}function f(h){if(Array.isArray(h))for(let d of h)f(d);else if(h instanceof Pt){if(h.length!=n)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${n})`);c(),a=a?a.compose(h.map(a)):h}else{let{from:d,to:g=d,insert:b}=h;if(d>g||d<0||g>n)throw new RangeError(`Invalid change range ${d} to ${g} (in doc of length ${n})`);let x=b?typeof b=="string"?Ze.of(b.split(r||Yp)):b:Ze.empty,v=x.length;if(d==g&&v==0)return;d<s&&c(),d>s&&Kt(i,d-s,-1),Kt(i,g-d,v),Ci(o,i,x),s=g}}return f(e),c(!a),a}static empty(e){return new Pt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")n.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,a)=>a&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)n.push(o[0],0);else{for(;r.length<i;)r.push(Ze.empty);r[i]=Ze.of(o.slice(1)),n.push(o[0],r[i].length)}}}return new Pt(n,r)}static createSet(e,n){return new Pt(e,n)}}function Kt(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function Ci(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Ze.empty);t.push(n)}}function qp(t,e,n){let r=t.inserted;for(let i=0,o=0,s=0;s<t.sections.length;){let a=t.sections[s++],c=t.sections[s++];if(c<0)i+=a,o+=a;else{let f=i,h=o,d=Ze.empty;for(;f+=a,h+=c,c&&r&&(d=d.append(r[s-2>>1])),!(n||s==t.sections.length||t.sections[s+1]<0);)a=t.sections[s++],c=t.sections[s++];e(i,f,o,h,d),i=f,o=h}}}function Xp(t,e,n,r=!1){let i=[],o=r?[]:null,s=new Wa(t),a=new Wa(e);for(let c=-1;;){if(s.done&&a.len||a.done&&s.len)throw new Error("Mismatched change set lengths");if(s.ins==-1&&a.ins==-1){let f=Math.min(s.len,a.len);Kt(i,f,-1),s.forward(f),a.forward(f)}else if(a.ins>=0&&(s.ins<0||c==s.i||s.off==0&&(a.len<s.len||a.len==s.len&&!n))){let f=a.len;for(Kt(i,a.ins,-1);f;){let h=Math.min(s.len,f);s.ins>=0&&c<s.i&&s.len<=h&&(Kt(i,0,s.ins),o&&Ci(o,i,s.text),c=s.i),s.forward(h),f-=h}a.next()}else if(s.ins>=0){let f=0,h=s.len;for(;h;)if(a.ins==-1){let d=Math.min(h,a.len);f+=d,h-=d,a.forward(d)}else if(a.ins==0&&a.len<h)h-=a.len,a.next();else break;Kt(i,f,c<s.i?s.ins:0),o&&c<s.i&&Ci(o,i,s.text),c=s.i,s.forward(s.len-h)}else{if(s.done&&a.done)return o?Pt.createSet(i,o):Cr.create(i);throw new Error("Mismatched change set lengths")}}}function MC(t,e,n=!1){let r=[],i=n?[]:null,o=new Wa(t),s=new Wa(e);for(let a=!1;;){if(o.done&&s.done)return i?Pt.createSet(r,i):Cr.create(r);if(o.ins==0)Kt(r,o.len,0,a),o.next();else if(s.len==0&&!s.done)Kt(r,0,s.ins,a),i&&Ci(i,r,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let c=Math.min(o.len2,s.len),f=r.length;if(o.ins==-1){let h=s.ins==-1?-1:s.off?0:s.ins;Kt(r,c,h,a),i&&h&&Ci(i,r,s.text)}else s.ins==-1?(Kt(r,o.off?0:o.len,c,a),i&&Ci(i,r,o.textBit(c))):(Kt(r,o.off?0:o.len,s.off?0:s.ins,a),i&&!s.off&&Ci(i,r,s.text));a=(o.ins>c||s.ins>=0&&s.len>c)&&(a||r.length>f),o.forward2(c),s.forward(c)}}}}class Wa{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Ze.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Ze.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class so{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new so(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return Z.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Z.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Z.range(e.anchor,e.head)}static create(e,n,r){return new so(e,n,r)}}class Z{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:Z.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Z([this.main],0)}addRange(e,n=!0){return Z.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,Z.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Z(e.ranges.map(n=>so.fromJSON(n)),e.main)}static single(e,n=e){return new Z([Z.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return Z.normalized(e.slice(),n);r=o.to}return new Z(e,n)}static cursor(e,n=0,r,i){return so.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?so.create(n,e,48|o):so.create(e,n,(n>e?8:0)|o)}static normalized(e,n=0){let r=e[n];e.sort((i,o)=>i.from-o.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],s=e[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let a=s.from,c=Math.max(o.to,s.to);i<=n&&n--,e.splice(--i,2,o.anchor>o.head?Z.range(c,a):Z.range(a,c))}}return new Z(e,n)}}function OC(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let r0=0;class ue{constructor(e,n,r,i,o){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=r0++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new ue(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:i0),!!e.static,e.enables)}of(e){return new du([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new du(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new du(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function i0(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class du{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=r0++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,o=this.id,s=e[o]>>1,a=this.type==2,c=!1,f=!1,h=[];for(let d of this.dependencies)d=="doc"?c=!0:d=="selection"?f=!0:((n=e[d.id])!==null&&n!==void 0?n:1)&1||h.push(e[d.id]);return{create(d){return d.values[s]=r(d),1},update(d,g){if(c&&g.docChanged||f&&(g.docChanged||g.selection)||Zp(d,h)){let b=r(d);if(a?!wx(b,d.values[s],i):!i(b,d.values[s]))return d.values[s]=b,1}return 0},reconfigure:(d,g)=>{let b,x=g.config.address[o];if(x!=null){let v=Fu(g,x);if(this.dependencies.every(w=>w instanceof ue?g.facet(w)===d.facet(w):w instanceof Lt?g.field(w,!1)==d.field(w,!1):!0)||(a?wx(b=r(d),v,i):i(b=r(d),v)))return d.values[s]=v,0}else b=r(d);return d.values[s]=b,1}}}}function wx(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function Zp(t,e){let n=!1;for(let r of e)Ra(t,r)&1&&(n=!0);return n}function vN(t,e,n){let r=n.map(c=>t[c.id]),i=n.map(c=>c.type),o=r.filter(c=>!(c&1)),s=t[e.id]>>1;function a(c){let f=[];for(let h=0;h<r.length;h++){let d=Fu(c,r[h]);if(i[h]==2)for(let g of d)f.push(g);else f.push(d)}return e.combine(f)}return{create(c){for(let f of r)Ra(c,f);return c.values[s]=a(c),1},update(c,f){if(!Zp(c,o))return 0;let h=a(c);return e.compare(h,c.values[s])?0:(c.values[s]=h,1)},reconfigure(c,f){let h=Zp(c,r),d=f.config.facets[e.id],g=f.facet(e);if(d&&!h&&i0(n,d))return c.values[s]=g,0;let b=a(c);return e.compare(b,g)?(c.values[s]=g,0):(c.values[s]=b,1)}}}const Wc=ue.define({static:!0});class Lt{constructor(e,n,r,i,o){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let n=new Lt(r0++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(Wc).find(r=>r.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let o=r.values[n],s=this.updateF(o,i);return this.compareF(o,s)?0:(r.values[n]=s,1)},reconfigure:(r,i)=>{let o=r.facet(Wc),s=i.facet(Wc),a;return(a=o.find(c=>c.field==this))&&a!=s.find(c=>c.field==this)?(r.values[n]=a.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,Wc.of({field:this,create:e})]}get extension(){return this}}const io={lowest:4,low:3,default:2,high:1,highest:0};function da(t){return e=>new DC(e,t)}const Eo={highest:da(io.highest),high:da(io.high),default:da(io.default),low:da(io.low),lowest:da(io.lowest)};class DC{constructor(e,n){this.inner=e,this.prec=n}}class Df{of(e){return new Qp(this,e)}reconfigure(e){return Df.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Qp{constructor(e,n){this.compartment=e,this.inner=n}}class Bu{constructor(e,n,r,i,o,s){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],o=Object.create(null),s=new Map;for(let g of xN(e,n,s))g instanceof Lt?i.push(g):(o[g.facet.id]||(o[g.facet.id]=[])).push(g);let a=Object.create(null),c=[],f=[];for(let g of i)a[g.id]=f.length<<1,f.push(b=>g.slot(b));let h=r?.config.facets;for(let g in o){let b=o[g],x=b[0].facet,v=h&&h[g]||[];if(b.every(w=>w.type==0))if(a[x.id]=c.length<<1|1,i0(v,b))c.push(r.facet(x));else{let w=x.combine(b.map($=>$.value));c.push(r&&x.compare(w,r.facet(x))?r.facet(x):w)}else{for(let w of b)w.type==0?(a[w.id]=c.length<<1|1,c.push(w.value)):(a[w.id]=f.length<<1,f.push($=>w.dynamicSlot($)));a[x.id]=f.length<<1,f.push(w=>vN(w,x,b))}}let d=f.map(g=>g(a));return new Bu(e,s,d,a,c,o)}}function xN(t,e,n){let r=[[],[],[],[],[]],i=new Map;function o(s,a){let c=i.get(s);if(c!=null){if(c<=a)return;let f=r[c].indexOf(s);f>-1&&r[c].splice(f,1),s instanceof Qp&&n.delete(s.compartment)}if(i.set(s,a),Array.isArray(s))for(let f of s)o(f,a);else if(s instanceof Qp){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=e.get(s.compartment)||s.inner;n.set(s.compartment,f),o(f,a)}else if(s instanceof DC)o(s.inner,s.prec);else if(s instanceof Lt)r[a].push(s),s.provides&&o(s.provides,a);else if(s instanceof du)r[a].push(s),s.facet.extensions&&o(s.facet.extensions,io.default);else{let f=s.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(f,a)}}return o(t,io.default),r.reduce((s,a)=>s.concat(a))}function Ra(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function Fu(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const IC=ue.define(),Jp=ue.define({combine:t=>t.some(e=>e),static:!0}),_C=ue.define({combine:t=>t.length?t[0]:void 0,static:!0}),LC=ue.define(),NC=ue.define(),BC=ue.define(),FC=ue.define({combine:t=>t.length?t[0]:!1});class Mr{constructor(e,n){this.type=e,this.value=n}static define(){return new yN}}class yN{of(e){return new Mr(this,e)}}class wN{constructor(e){this.map=e}of(e){return new Pe(this,e)}}class Pe{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Pe(this.type,n)}is(e){return this.type==e}static define(e={}){return new wN(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(n);o&&r.push(o)}return r}}Pe.reconfigure=Pe.define();Pe.appendConfig=Pe.define();class Mt{constructor(e,n,r,i,o,s){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&OC(r,n.newLength),o.some(a=>a.type==Mt.time)||(this.annotations=o.concat(Mt.time.of(Date.now())))}static create(e,n,r,i,o,s){return new Mt(e,n,r,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Mt.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Mt.time=Mr.define();Mt.userEvent=Mr.define();Mt.addToHistory=Mr.define();Mt.remote=Mr.define();function $N(t,e){let n=[];for(let r=0,i=0;;){let o,s;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],s=t[r++];else if(i<e.length)o=e[i++],s=e[i++];else return n;!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function WC(t,e,n){var r;let i,o,s;return n?(i=e.changes,o=Pt.empty(e.changes.length),s=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Pe.mapEffects(t.effects,i).concat(Pe.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function em(t,e,n){let r=e.selection,i=cs(e.annotations);return e.userEvent&&(i=i.concat(Mt.userEvent.of(e.userEvent))),{changes:e.changes instanceof Pt?e.changes:Pt.of(e.changes||[],n,t.facet(_C)),selection:r&&(r instanceof Z?r:Z.single(r.anchor,r.head)),effects:cs(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function VC(t,e,n){let r=em(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(n=!1);let s=!!e[o].sequential;r=WC(r,em(t,e[o],s?r.changes.newLength:t.doc.length),s)}let i=Mt.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return SN(n?CN(i):i)}function CN(t){let e=t.startState,n=!0;for(let i of e.facet(LC)){let o=i(t);if(o===!1){n=!1;break}Array.isArray(o)&&(n=n===!0?o:$N(n,o))}if(n!==!0){let i,o;if(n===!1)o=t.changes.invertedDesc,i=Pt.empty(e.doc.length);else{let s=t.changes.filter(n);i=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}t=Mt.create(e,i,t.selection&&t.selection.map(o),Pe.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let r=e.facet(NC);for(let i=r.length-1;i>=0;i--){let o=r[i](t);o instanceof Mt?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Mt?t=o[0]:t=VC(e,cs(o),!1)}return t}function SN(t){let e=t.startState,n=e.facet(BC),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=WC(r,em(e,o,t.changes.newLength),!0))}return r==t?t:Mt.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const kN=[];function cs(t){return t==null?kN:Array.isArray(t)?t:[t]}var ft=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(ft||(ft={}));const AN=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let tm;try{tm=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function EN(t){if(tm)return tm.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||AN.test(n)))return!0}return!1}function RN(t){return e=>{if(!/\S/.test(e))return ft.Space;if(EN(e))return ft.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return ft.Word;return ft.Other}}class Ye{constructor(e,n,r,i,o,s){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Ra(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Ra(this,r),Fu(this,r)}update(...e){return VC(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let a of e.effects)a.is(Df.reconfigure)?(n&&(i=new Map,n.compartments.forEach((c,f)=>i.set(f,c)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(Pe.reconfigure)?(n=null,r=a.value):a.is(Pe.appendConfig)&&(n=null,r=cs(r).concat(a.value));let o;n?o=e.startState.values.slice():(n=Bu.resolve(r,i,this),o=new Ye(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(c,f)=>f.reconfigure(c,this),null).values);let s=e.startState.facet(Jp)?e.newSelection:e.newSelection.asSingle();new Ye(n,e.newDoc,s,o,(a,c)=>c.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:Z.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),o=[r.range],s=cs(r.effects);for(let a=1;a<n.ranges.length;a++){let c=e(n.ranges[a]),f=this.changes(c.changes),h=f.map(i);for(let g=0;g<a;g++)o[g]=o[g].map(h);let d=i.mapDesc(f,!0);o.push(c.range.map(d)),i=i.compose(h),s=Pe.mapEffects(s,h).concat(Pe.mapEffects(cs(c.effects),d))}return{changes:i,selection:Z.create(o,n.mainIndex),effects:s}}changes(e=[]){return e instanceof Pt?e:Pt.of(e,this.doc.length,this.facet(Ye.lineSeparator))}toText(e){return Ze.of(e.split(this.facet(Ye.lineSeparator)||Yp))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Ra(this,n),Fu(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Lt&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let s=r[o],a=e[o];i.push(s.init(c=>s.spec.fromJSON(a,c)))}}return Ye.create({doc:e.doc,selection:Z.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=Bu.resolve(e.extensions||[],new Map),r=e.doc instanceof Ze?e.doc:Ze.of((e.doc||"").split(n.staticFacet(Ye.lineSeparator)||Yp)),i=e.selection?e.selection instanceof Z?e.selection:Z.single(e.selection.anchor,e.selection.head):Z.single(0);return OC(i,r.length),n.staticFacet(Jp)||(i=i.asSingle()),new Ye(n,r,i,n.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(Ye.tabSize)}get lineBreak(){return this.facet(Ye.lineSeparator)||`
`}get readOnly(){return this.facet(FC)}phrase(e,...n){for(let r of this.facet(Ye.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>n.length?r:n[o-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let o of this.facet(IC))for(let s of o(this,n,r))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){return RN(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-r,a=e-r;for(;s>0;){let c=Vt(n,s,!1);if(o(n.slice(c,s))!=ft.Word)break;s=c}for(;a<i;){let c=Vt(n,a);if(o(n.slice(a,c))!=ft.Word)break;a=c}return s==a?null:Z.range(s+r,a+r)}}Ye.allowMultipleSelections=Jp;Ye.tabSize=ue.define({combine:t=>t.length?t[0]:4});Ye.lineSeparator=_C;Ye.readOnly=FC;Ye.phrases=ue.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});Ye.languageData=IC;Ye.changeFilter=LC;Ye.transactionFilter=NC;Ye.transactionExtender=BC;Df.reconfigure=Pe.define();function Or(t,e,n={}){let r={};for(let i of t)for(let o of Object.keys(i)){let s=i[o],a=r[o];if(a===void 0)r[o]=s;else if(!(a===s||s===void 0))if(Object.hasOwnProperty.call(n,o))r[o]=n[o](a,s);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class vo{eq(e){return this==e}range(e,n=e){return Va.create(e,n,this)}}vo.prototype.startSide=vo.prototype.endSide=0;vo.prototype.point=!1;vo.prototype.mapMode=tn.TrackDel;class Va{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new Va(e,n,r)}}function nm(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class o0{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let o=r?this.to:this.from;for(let s=i,a=o.length;;){if(s==a)return s;let c=s+a>>1,f=o[c]-e||(r?this.value[c].endSide:this.value[c].startSide)-n;if(c==s)return f>=0?s:a;f>=0?a=c:s=c+1}}between(e,n,r,i){for(let o=this.findIndex(n,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,n){let r=[],i=[],o=[],s=-1,a=-1;for(let c=0;c<this.value.length;c++){let f=this.value[c],h=this.from[c]+e,d=this.to[c]+e,g,b;if(h==d){let x=n.mapPos(h,f.startSide,f.mapMode);if(x==null||(g=b=x,f.startSide!=f.endSide&&(b=n.mapPos(h,f.endSide),b<g)))continue}else if(g=n.mapPos(h,f.startSide),b=n.mapPos(d,f.endSide),g>b||g==b&&f.startSide>0&&f.endSide<=0)continue;(b-g||f.endSide-f.startSide)<0||(s<0&&(s=g),f.point&&(a=Math.max(a,b-g)),r.push(f),i.push(g-s),o.push(b-s))}return{mapped:r.length?new o0(i,o,r,a):null,pos:s}}}class Xe{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new Xe(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,s=e.filter;if(n.length==0&&!s)return this;if(r&&(n=n.slice().sort(nm)),this.isEmpty)return n.length?Xe.of(n):this;let a=new jC(this,null,-1).goto(0),c=0,f=[],h=new ni;for(;a.value||c<n.length;)if(c<n.length&&(a.from-n[c].from||a.startSide-n[c].value.startSide)>=0){let d=n[c++];h.addInner(d.from,d.to,d.value)||f.push(d)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(c==n.length||this.chunkEnd(a.chunkIndex)<n[c].from)&&(!s||i>this.chunkEnd(a.chunkIndex)||o<this.chunkPos[a.chunkIndex])&&h.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!s||i>a.to||o<a.from||s(a.from,a.to,a.value))&&(h.addInner(a.from,a.to,a.value)||f.push(Va.create(a.from,a.to,a.value))),a.next());return h.finishInner(this.nextLayer.isEmpty&&!f.length?Xe.empty:this.nextLayer.update({add:f,filter:s,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],c=this.chunk[s],f=e.touchesRange(a,a+c.length);if(f===!1)i=Math.max(i,c.maxPoint),n.push(c),r.push(e.mapPos(a));else if(f===!0){let{mapped:h,pos:d}=c.map(a,e);h&&(i=Math.max(i,h.maxPoint),n.push(h),r.push(d))}}let o=this.nextLayer.map(e);return n.length==0?o:new Xe(r,n,o||Xe.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(n>=o&&e<=o+s.length&&s.between(o,e-o,n-o,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return ja.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return ja.from(e).goto(n)}static compare(e,n,r,i,o=-1){let s=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=o),a=n.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=o),c=$x(s,a,r),f=new pa(s,c,o),h=new pa(a,c,o);r.iterGaps((d,g,b)=>Cx(f,d,h,g,b,i)),r.empty&&r.length==0&&Cx(f,0,h,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let o=e.filter(h=>!h.isEmpty&&n.indexOf(h)<0),s=n.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let a=$x(o,s),c=new pa(o,a,0).goto(r),f=new pa(s,a,0).goto(r);for(;;){if(c.to!=f.to||!rm(c.active,f.active)||c.point&&(!f.point||!c.point.eq(f.point)))return!1;if(c.to>i)return!0;c.next(),f.next()}}static spans(e,n,r,i,o=-1){let s=new pa(e,null,o).goto(n),a=n,c=s.openStart;for(;;){let f=Math.min(s.to,r);if(s.point){let h=s.activeForPoint(s.to),d=s.pointFrom<n?h.length+1:s.point.startSide<0?h.length:Math.min(h.length,c);i.point(a,f,s.point,h,d,s.pointRank),c=Math.min(s.openEnd(f),h.length)}else f>a&&(i.span(a,f,s.active,c),c=s.openEnd(f));if(s.to>r)return c+(s.point&&s.to>r?1:0);a=s.to,s.next()}}static of(e,n=!1){let r=new ni;for(let i of e instanceof Va?[e]:n?TN(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return Xe.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=Xe.empty;i=i.nextLayer)n=new Xe(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}Xe.empty=new Xe([],[],null,-1);function TN(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(nm(e,r)>0)return t.slice().sort(nm);e=r}return t}Xe.empty.nextLayer=Xe.empty;class ni{finishChunk(e){this.chunks.push(new o0(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new ni)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(Xe.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=Xe.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function $x(t,e,n){let r=new Map;for(let o of t)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&r.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let a=r.get(o.chunk[s]);a!=null&&(n?n.mapPos(a):a)==o.chunkPos[s]&&!n?.touchesRange(a,a+o.chunk[s].length)&&i.add(o.chunk[s])}return i}class jC{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class ja{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new jC(s,n,r,o));return i.length==1?i[0]:new ja(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)Hd(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)Hd(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Hd(this.heap,0)}}}function Hd(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class pa{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=ja.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Vc(this.active,e),Vc(this.activeTo,e),Vc(this.activeRank,e),this.minActive=Sx(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:o}=this.cursor;for(;n<this.activeRank.length&&(o-this.activeRank[n]||i-this.activeTo[n])>0;)n++;jc(this.active,n,r),jc(this.activeTo,n,i),jc(this.activeRank,n,o),e&&jc(e,n,this.cursor.from),this.minActive=Sx(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Vc(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function Cx(t,e,n,r,i,o){t.goto(e),n.goto(r);let s=r+i,a=r,c=r-e;for(;;){let f=t.to+c-n.to,h=f||t.endSide-n.endSide,d=h<0?t.to+c:n.to,g=Math.min(d,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&rm(t.activeForPoint(t.to),n.activeForPoint(n.to))||o.comparePoint(a,g,t.point,n.point):g>a&&!rm(t.active,n.active)&&o.compareRange(a,g,t.active,n.active),d>s)break;(f||t.openEnd!=n.openEnd)&&o.boundChange&&o.boundChange(d),a=d,h<=0&&t.next(),h>=0&&n.next()}}function rm(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Vc(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function jc(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function Sx(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function Vs(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Vt(t,i));return r}function im(t,e,n,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==t.length)break;o+=t.charCodeAt(i)==9?n-o%n:1,i=Vt(t,i)}return r===!0?-1:t.length}const om="ͼ",kx=typeof Symbol>"u"?"__"+om:Symbol.for(om),sm=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Ax=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Di{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,a,c,f){let h=[],d=/^@(\w+)\b/.exec(s[0]),g=d&&d[1]=="keyframes";if(d&&a==null)return c.push(s[0]+";");for(let b in a){let x=a[b];if(/&/.test(b))o(b.split(/,\s*/).map(v=>s.map(w=>v.replace(/&/,w))).reduce((v,w)=>v.concat(w)),x,c);else if(x&&typeof x=="object"){if(!d)throw new RangeError("The value of a property ("+b+") should be a primitive value.");o(i(b),x,h,g)}else x!=null&&h.push(b.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+x+";")}(h.length||g)&&c.push((r&&!d&&!f?s.map(r):s).join(", ")+" {"+h.join(" ")+"}")}for(let s in e)o(i(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Ax[kx]||1;return Ax[kx]=e+1,om+e.toString(36)}static mount(e,n,r){let i=e[sm],o=r&&r.nonce;i?o&&i.setNonce(o):i=new PN(e,o),i.mount(Array.isArray(n)?n:[n],e)}}let Ex=new Map;class PN{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=Ex.get(r);if(o)return e[sm]=o;this.sheet=new i.CSSStyleSheet,Ex.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[sm]=this}mount(e,n){let r=this.sheet,i=0,o=0;for(let s=0;s<e.length;s++){let a=e[s],c=this.modules.indexOf(a);if(c<o&&c>-1&&(this.modules.splice(c,1),o--,c=-1),c==-1){if(this.modules.splice(o++,0,a),r)for(let f=0;f<a.rules.length;f++)r.insertRule(a.rules[f],i++)}else{for(;o<c;)i+=this.modules[o++].rules.length;i+=a.rules.length,o++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let s="";for(let c=0;c<this.modules.length;c++)s+=this.modules[c].getRules()+`
`;this.styleTag.textContent=s;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Ii={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ha={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},MN=typeof navigator<"u"&&/Mac/.test(navigator.platform),ON=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Wt=0;Wt<10;Wt++)Ii[48+Wt]=Ii[96+Wt]=String(Wt);for(var Wt=1;Wt<=24;Wt++)Ii[Wt+111]="F"+Wt;for(var Wt=65;Wt<=90;Wt++)Ii[Wt]=String.fromCharCode(Wt+32),Ha[Wt]=String.fromCharCode(Wt);for(var zd in Ii)Ha.hasOwnProperty(zd)||(Ha[zd]=Ii[zd]);function DN(t){var e=MN&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||ON&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Ha:Ii)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function za(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function am(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function pu(t,e){if(!e.anchorNode)return!1;try{return am(t,e.anchorNode)}catch{return!1}}function $s(t){return t.nodeType==3?yo(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Ta(t,e,n,r){return n?Rx(t,e,n,r,-1)||Rx(t,e,n,r,1):!1}function xo(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Wu(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function Rx(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Er(t))){if(t.nodeName=="DIV")return!1;let o=t.parentNode;if(!o||o.nodeType!=1)return!1;e=xo(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Er(t):0}else return!1}}function Er(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function vl(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function IN(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function HC(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function _N(t,e,n,r,i,o,s,a){let c=t.ownerDocument,f=c.defaultView||window;for(let h=t,d=!1;h&&!d;)if(h.nodeType==1){let g,b=h==c.body,x=1,v=1;if(b)g=IN(f);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(d=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let S=h.getBoundingClientRect();({scaleX:x,scaleY:v}=HC(h,S)),g={left:S.left,right:S.left+h.clientWidth*x,top:S.top,bottom:S.top+h.clientHeight*v}}let w=0,$=0;if(i=="nearest")e.top<g.top?($=e.top-(g.top+s),n>0&&e.bottom>g.bottom+$&&($=e.bottom-g.bottom+s)):e.bottom>g.bottom&&($=e.bottom-g.bottom+s,n<0&&e.top-$<g.top&&($=e.top-(g.top+s)));else{let S=e.bottom-e.top,A=g.bottom-g.top;$=(i=="center"&&S<=A?e.top+S/2-A/2:i=="start"||i=="center"&&n<0?e.top-s:e.bottom-A+s)-g.top}if(r=="nearest"?e.left<g.left?(w=e.left-(g.left+o),n>0&&e.right>g.right+w&&(w=e.right-g.right+o)):e.right>g.right&&(w=e.right-g.right+o,n<0&&e.left<g.left+w&&(w=e.left-(g.left+o))):w=(r=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:r=="start"==a?e.left-o:e.right-(g.right-g.left)+o)-g.left,w||$)if(b)f.scrollBy(w,$);else{let S=0,A=0;if($){let R=h.scrollTop;h.scrollTop+=$/v,A=(h.scrollTop-R)*v}if(w){let R=h.scrollLeft;h.scrollLeft+=w/x,S=(h.scrollLeft-R)*x}e={left:e.left-S,top:e.top-A,right:e.right-S,bottom:e.bottom-A},S&&Math.abs(S-w)<1&&(r="nearest"),A&&Math.abs(A-$)<1&&(i="nearest")}if(b)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function LN(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class NN{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?Er(n):0),r,Math.min(e.focusOffset,r?Er(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let Qo=null;function zC(t){if(t.setActive)return t.setActive();if(Qo)return t.focus(Qo);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Qo==null?{get preventScroll(){return Qo={preventScroll:!0},!0}}:void 0),!Qo){Qo=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],o=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let Tx;function yo(t,e,n=e){let r=Tx||(Tx=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function us(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,t.dispatchEvent(o);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,t.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function BN(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function UC(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function FN(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,Er(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=Er(n))}else{if(n==t)return!0;r=xo(n),n=n.parentNode}}function KC(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function GC(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=Er(n)}else if(n.parentNode&&!Wu(n))r=xo(n),n=n.parentNode;else return null}}function YC(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!Wu(n))r=xo(n)+1,n=n.parentNode;else return null}}class Gt{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Gt(e.parentNode,xo(e),n)}static after(e,n){return new Gt(e.parentNode,xo(e)+1,n)}}const s0=[];class ot{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,o;for(let s of this.children){if(s.flags&7){if(!s.dom&&(o=i?i.nextSibling:r.firstChild)){let a=ot.get(o);(!a||!a.parent&&a.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(e,n),s.flags&=-8}if(o=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&o!=s.dom&&(n.written=!0),s.dom.parentNode==r)for(;o&&o!=s.dom;)o=Px(o);else r.insertBefore(s.dom,o);i=s.dom}for(o=i?i.nextSibling:r.firstChild,o&&n&&n.node==r&&(n.written=!0);o;)o=Px(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=Er(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!ot.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==r)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,o=-1,s=-1,a=-1;for(let c=0,f=r,h=r;c<this.children.length;c++){let d=this.children[c],g=f+d.length;if(f<e&&g>n)return d.domBoundsAround(e,n,f);if(g>=e&&i==-1&&(i=c,o=f),f>n&&d.dom.parentNode==this.dom){s=c,a=h;break}h=g,f=g+d.breakAfter}return{from:o,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=s0){this.markDirty();for(let i=e;i<n;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new qC(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}ot.prototype.breakAfter=0;function Px(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class qC{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function XC(t,e,n,r,i,o,s,a,c){let{children:f}=t,h=f.length?f[e]:null,d=o.length?o[o.length-1]:null,g=d?d.breakAfter:s;if(!(e==r&&h&&!s&&!g&&o.length<2&&h.merge(n,i,o.length?d:null,n==0,a,c))){if(r<f.length){let b=f[r];b&&(i<b.length||b.breakAfter&&d?.breakAfter)?(e==r&&(b=b.split(i),i=0),!g&&d&&b.merge(0,i,d,!0,0,c)?o[o.length-1]=b:((i||b.children.length&&!b.children[0].length)&&b.merge(0,i,null,!1,0,c),o.push(b))):b?.breakAfter&&(d?d.breakAfter=1:s=1),r++}for(h&&(h.breakAfter=s,n>0&&(!s&&o.length&&h.merge(n,h.length,o[0],!1,a,0)?h.breakAfter=o.shift().breakAfter:(n<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(n,h.length,null,!1,a,0),e++));e<r&&o.length;)if(f[r-1].become(o[o.length-1]))r--,o.pop(),c=o.length?0:a;else if(f[e].become(o[0]))e++,o.shift(),a=o.length?0:c;else break;!o.length&&e&&r<f.length&&!f[e-1].breakAfter&&f[r].merge(0,0,f[e-1],!1,a,c)&&e--,(e<r||o.length)&&t.replaceChildren(e,r,o)}}function ZC(t,e,n,r,i,o){let s=t.childCursor(),{i:a,off:c}=s.findPos(n,1),{i:f,off:h}=s.findPos(e,-1),d=e-n;for(let g of r)d+=g.length;t.length+=d,XC(t,f,h,a,c,r,0,i,o)}let fn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},lm=typeof document<"u"?document:{documentElement:{style:{}}};const cm=/Edge\/(\d+)/.exec(fn.userAgent),QC=/MSIE \d/.test(fn.userAgent),um=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fn.userAgent),If=!!(QC||um||cm),Mx=!If&&/gecko\/(\d+)/i.test(fn.userAgent),Ud=!If&&/Chrome\/(\d+)/.exec(fn.userAgent),Ox="webkitFontSmoothing"in lm.documentElement.style,JC=!If&&/Apple Computer/.test(fn.vendor),Dx=JC&&(/Mobile\/\w+/.test(fn.userAgent)||fn.maxTouchPoints>2);var ce={mac:Dx||/Mac/.test(fn.platform),windows:/Win/.test(fn.platform),linux:/Linux|X11/.test(fn.platform),ie:If,ie_version:QC?lm.documentMode||6:um?+um[1]:cm?+cm[1]:0,gecko:Mx,gecko_version:Mx?+(/Firefox\/(\d+)/.exec(fn.userAgent)||[0,0])[1]:0,chrome:!!Ud,chrome_version:Ud?+Ud[1]:0,ios:Dx,android:/Android\b/.test(fn.userAgent),webkit:Ox,safari:JC,webkit_version:Ox?+(/\bAppleWebKit\/(\d+)/.exec(fn.userAgent)||[0,0])[1]:0,tabSize:lm.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const WN=256;class nr extends ot{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof nr)||this.length-(n-e)+r.length>WN||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new nr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Gt(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return VN(this.dom,e,n)}}class ri extends ot{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(UC(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,o,s){return r&&(!(r instanceof ri&&r.mark.eq(this.mark))||e&&o<=0||n<this.length&&s<=0)?!1:(ZC(this,e,n,r?r.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,o=0;for(let a of this.children){let c=r+a.length;c>e&&n.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=o),r=c,o++}let s=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new ri(this.mark,n,s)}domAtPos(e){return eS(this,e)}coordsAt(e,n){return nS(this,e,n)}}function VN(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,o=e,s=0;e==0&&n<0||e==r&&n>=0?ce.chrome||ce.gecko||(e?(i--,s=1):o<r&&(o++,s=-1)):n<0?i--:o<r&&o++;let a=yo(t,i,o).getClientRects();if(!a.length)return null;let c=a[(s?s<0:n>=0)?0:a.length-1];return ce.safari&&!s&&c.width==0&&(c=Array.prototype.find.call(a,f=>f.width)||c),s?vl(c,s<0):c||null}class Si extends ot{static create(e,n,r){return new Si(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=Si.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,o,s){return r&&(!(r instanceof Si)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof Si&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Ze.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Ze.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Gt.before(this.dom):Gt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let s=this.side?this.side<0:e>0;for(let a=s?i.length-1:0;o=i[a],!(e>0?a==0:a==i.length-1||o.top<o.bottom);a+=s?-1:1);return vl(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Cs extends ot{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Cs&&e.side==this.side}split(){return new Cs(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Gt.before(this.dom):Gt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Ze.empty}get isHidden(){return!0}}nr.prototype.children=Si.prototype.children=Cs.prototype.children=s0;function eS(t,e){let n=t.dom,{children:r}=t,i=0;for(let o=0;i<r.length;i++){let s=r[i],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(e>o&&e<a&&s.dom.parentNode==n)return s.domAtPos(e-o);if(e<=o)break;o=a}}for(let o=i;o>0;o--){let s=r[o-1];if(s.dom.parentNode==n)return s.domAtPos(s.length)}for(let o=i;o<r.length;o++){let s=r[o];if(s.dom.parentNode==n)return s.domAtPos(0)}return new Gt(n,0)}function tS(t,e,n){let r,{children:i}=t;n>0&&e instanceof ri&&i.length&&(r=i[i.length-1])instanceof ri&&r.mark.eq(e.mark)?tS(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function nS(t,e,n){let r=null,i=-1,o=null,s=-1;function a(f,h){for(let d=0,g=0;d<f.children.length&&g<=h;d++){let b=f.children[d],x=g+b.length;x>=h&&(b.children.length?a(b,h-g):(!o||o.isHidden&&n>0)&&(x>h||g==x&&b.getSide()>0)?(o=b,s=h-g):(g<h||g==x&&b.getSide()<0&&!b.isHidden)&&(r=b,i=h-g)),g=x}}a(t,e);let c=(n<0?r:o)||r||o;return c?c.coordsAt(Math.max(0,c==r?i:s),n):jN(t)}function jN(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=$s(e);return n[n.length-1]||null}function fm(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const Ix=Object.create(null);function Vu(t,e,n){if(t==e)return!0;t||(t=Ix),e||(e=Ix);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let o of r)if(o!=n&&(i.indexOf(o)==-1||t[o]!==e[o]))return!1;return!0}function hm(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function HN(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class li{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var nn=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(nn||(nn={}));class ye extends vo{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new xl(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new _i(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:s}=rS(e,n);r=(o?n?-3e8:-1:5e8)-1,i=(s?n?2e8:1:-6e8)+1}return new _i(e,r,i,n,e.widget||null,!0)}static line(e){return new yl(e)}static set(e,n=!1){return Xe.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ye.none=Xe.empty;class xl extends ye{constructor(e){let{start:n,end:r}=rS(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof xl&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&Vu(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}xl.prototype.point=!1;class yl extends ye{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof yl&&this.spec.class==e.spec.class&&Vu(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}yl.prototype.mapMode=tn.TrackBefore;yl.prototype.point=!0;class _i extends ye{constructor(e,n,r,i,o,s){super(n,r,o,e),this.block=i,this.isReplace=s,this.mapMode=i?n<=0?tn.TrackBefore:tn.TrackAfter:tn.TrackDel}get type(){return this.startSide!=this.endSide?nn.WidgetRange:this.startSide<=0?nn.WidgetBefore:nn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof _i&&zN(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}_i.prototype.point=!0;function rS(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function zN(t,e){return t==e||!!(t&&e&&t.compare(e))}function mu(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class kt extends ot{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,o,s){if(r){if(!(r instanceof kt))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),ZC(this,e,n,r?r.children.slice():[],o,s),!0}split(e){let n=new kt;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)n.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Vu(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){tS(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=fm(n,this.attrs||{})),r&&(this.attrs=fm({class:r},this.attrs||{}))}domAtPos(e){return eS(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(UC(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(hm(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&ot.get(i)instanceof ri;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=ot.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!ce.ios||!this.children.some(o=>o instanceof nr))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof nr)||/[^ -~]/.test(r.text))return null;let i=$s(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=nS(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return e instanceof kt&&this.children.length==0&&e.children.length==0&&Vu(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],s=i+o.length;if(s>=n){if(o instanceof kt)return o;if(s>n)break}i=s+o.breakAfter}return null}}class Qr extends ot{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,o,s){return r&&(!(r instanceof Qr)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Gt.before(this.dom):Gt.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new Qr(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return s0}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Ze.empty}domBoundsAround(){return null}become(e){return e instanceof Qr&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof dm?null:vl(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class dm extends li{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Pa{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Qr&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new kt),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Hc(new Cs(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Qr)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(Hc(new nr(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof _i){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(r instanceof _i)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Qr(r.widget||Ss.block,a,r));else{let c=Si.create(r.widget||Ss.inline,a,a?0:r.startSide),f=this.atCursorPos&&!c.isEditable&&o<=i.length&&(e<n||r.startSide>0),h=!c.isEditable&&(e<n||o>i.length||r.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!f&&!c.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),f&&(d.append(Hc(new Cs(1),i),o),o=i.length+Math.max(0,o-i.length)),d.append(Hc(c,i),o),this.atCursorPos=h,this.pendingBuffer=h?e<n||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=o)}static build(e,n,r,i,o){let s=new Pa(e,n,r,o);return s.openEnd=Xe.spans(i,n,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function Hc(t,e){for(let n of e)t=new ri(n,[t],t.length);return t}class Ss extends li{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Ss.inline=new Ss("span");Ss.block=new Ss("div");var ct=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(ct||(ct={}));const wo=ct.LTR,a0=ct.RTL;function iS(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const UN=iS("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),KN=iS("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),pm=Object.create(null),mr=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);pm[e]=n,pm[n]=-e}function oS(t){return t<=247?UN[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?KN[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const GN=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class ki{get dir(){return this.level%2?a0:wo}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let o=-1;for(let s=0;s<e.length;s++){let a=e[s];if(a.from<=n&&a.to>=n){if(a.level==r)return s;(o<0||(i!=0?i<0?a.from<n:a.to>n:e[o].level>a.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}function sS(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!sS(r.inner,i.inner))return!1}return!0}const it=[];function YN(t,e,n,r,i){for(let o=0;o<=r.length;o++){let s=o?r[o-1].to:e,a=o<r.length?r[o].from:n,c=o?256:i;for(let f=s,h=c,d=c;f<a;f++){let g=oS(t.charCodeAt(f));g==512?g=h:g==8&&d==4&&(g=16),it[f]=g==4?2:g,g&7&&(d=g),h=g}for(let f=s,h=c,d=c;f<a;f++){let g=it[f];if(g==128)f<a-1&&h==it[f+1]&&h&24?g=it[f]=h:it[f]=256;else if(g==64){let b=f+1;for(;b<a&&it[b]==64;)b++;let x=f&&h==8||b<n&&it[b]==8?d==1?1:8:256;for(let v=f;v<b;v++)it[v]=x;f=b-1}else g==8&&d==1&&(it[f]=1);h=g,g&7&&(d=g)}}}function qN(t,e,n,r,i){let o=i==1?2:1;for(let s=0,a=0,c=0;s<=r.length;s++){let f=s?r[s-1].to:e,h=s<r.length?r[s].from:n;for(let d=f,g,b,x;d<h;d++)if(b=pm[g=t.charCodeAt(d)])if(b<0){for(let v=a-3;v>=0;v-=3)if(mr[v+1]==-b){let w=mr[v+2],$=w&2?i:w&4?w&1?o:i:0;$&&(it[d]=it[mr[v]]=$),a=v;break}}else{if(mr.length==189)break;mr[a++]=d,mr[a++]=g,mr[a++]=c}else if((x=it[d])==2||x==1){let v=x==i;c=v?0:1;for(let w=a-3;w>=0;w-=3){let $=mr[w+2];if($&2)break;if(v)mr[w+2]|=2;else{if($&4)break;mr[w+2]|=4}}}}}function XN(t,e,n,r){for(let i=0,o=r;i<=n.length;i++){let s=i?n[i-1].to:t,a=i<n.length?n[i].from:e;for(let c=s;c<a;){let f=it[c];if(f==256){let h=c+1;for(;;)if(h==a){if(i==n.length)break;h=n[i++].to,a=i<n.length?n[i].from:e}else if(it[h]==256)h++;else break;let d=o==1,g=(h<e?it[h]:r)==1,b=d==g?d?1:2:r;for(let x=h,v=i,w=v?n[v-1].to:t;x>c;)x==w&&(x=n[--v].from,w=v?n[v-1].to:t),it[--x]=b;c=h}else o=f,c++}}}function mm(t,e,n,r,i,o,s){let a=r%2?2:1;if(r%2==i%2)for(let c=e,f=0;c<n;){let h=!0,d=!1;if(f==o.length||c<o[f].from){let v=it[c];v!=a&&(h=!1,d=v==16)}let g=!h&&a==1?[]:null,b=h?r:r+1,x=c;e:for(;;)if(f<o.length&&x==o[f].from){if(d)break e;let v=o[f];if(!h)for(let w=v.to,$=f+1;;){if(w==n)break e;if($<o.length&&o[$].from==w)w=o[$++].to;else{if(it[w]==a)break e;break}}if(f++,g)g.push(v);else{v.from>c&&s.push(new ki(c,v.from,b));let w=v.direction==wo!=!(b%2);gm(t,w?r+1:r,i,v.inner,v.from,v.to,s),c=v.to}x=v.to}else{if(x==n||(h?it[x]!=a:it[x]==a))break;x++}g?mm(t,c,x,r+1,i,g,s):c<x&&s.push(new ki(c,x,b)),c=x}else for(let c=n,f=o.length;c>e;){let h=!0,d=!1;if(!f||c>o[f-1].to){let v=it[c-1];v!=a&&(h=!1,d=v==16)}let g=!h&&a==1?[]:null,b=h?r:r+1,x=c;e:for(;;)if(f&&x==o[f-1].to){if(d)break e;let v=o[--f];if(!h)for(let w=v.from,$=f;;){if(w==e)break e;if($&&o[$-1].to==w)w=o[--$].from;else{if(it[w-1]==a)break e;break}}if(g)g.push(v);else{v.to<c&&s.push(new ki(v.to,c,b));let w=v.direction==wo!=!(b%2);gm(t,w?r+1:r,i,v.inner,v.from,v.to,s),c=v.from}x=v.from}else{if(x==e||(h?it[x-1]!=a:it[x-1]==a))break;x--}g?mm(t,x,c,r+1,i,g,s):x<c&&s.push(new ki(x,c,b)),c=x}}function gm(t,e,n,r,i,o,s){let a=e%2?2:1;YN(t,i,o,r,a),qN(t,i,o,r,a),XN(i,o,r,a),mm(t,i,o,e,n,r,s)}function ZN(t,e,n){if(!t)return[new ki(0,0,e==a0?1:0)];if(e==wo&&!n.length&&!GN.test(t))return aS(t.length);if(n.length)for(;t.length>it.length;)it[it.length]=256;let r=[],i=e==wo?0:1;return gm(t,i,i,n,0,t.length,r),r}function aS(t){return[new ki(0,t,0)]}let lS="";function QN(t,e,n,r,i){var o;let s=r.head-t.from,a=ki.find(e,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),c=e[a],f=c.side(i,n);if(s==f){let g=a+=i?1:-1;if(g<0||g>=e.length)return null;c=e[a=g],s=c.side(!i,n),f=c.side(i,n)}let h=Vt(t.text,s,c.forward(i,n));(h<c.from||h>c.to)&&(h=f),lS=t.text.slice(Math.min(s,h),Math.max(s,h));let d=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return d&&h==f&&d.level+(i?0:1)<c.level?Z.cursor(d.side(!i,n)+t.from,d.forward(i,n)?1:-1,d.level):Z.cursor(h+t.from,c.forward(i,n)?-1:1,c.level)}function JN(t,e,n){for(let r=e;r<n;r++){let i=oS(t.charCodeAt(r));if(i==1)return wo;if(i==2||i==4)return a0}return wo}const cS=ue.define(),uS=ue.define(),fS=ue.define(),hS=ue.define(),bm=ue.define(),dS=ue.define(),pS=ue.define(),l0=ue.define(),c0=ue.define(),mS=ue.define({combine:t=>t.some(e=>e)}),gS=ue.define({combine:t=>t.some(e=>e)}),bS=ue.define();class fs{constructor(e,n="nearest",r="nearest",i=5,o=5,s=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=s}map(e){return e.empty?this:new fs(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new fs(Z.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const zc=Pe.define({map:(t,e)=>t.map(e)}),vS=Pe.define();function dn(t,e,n){let r=t.facet(hS);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const qr=ue.define({combine:t=>t.length?t[0]:!0});let eB=0;const wa=ue.define();class wt{constructor(e,n,r,i,o){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.extension=o(this)}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:o,decorations:s}=n||{};return new wt(eB++,e,r,i,a=>{let c=[wa.of(a)];return s&&c.push(Ua.of(f=>{let h=f.plugin(a);return h?s(h):ye.none})),o&&c.push(o(a)),c})}static fromClass(e,n){return wt.define(r=>new e(r),n)}}class Kd{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(dn(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){dn(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){dn(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const xS=ue.define(),u0=ue.define(),Ua=ue.define(),yS=ue.define(),f0=ue.define(),wS=ue.define();function _x(t,e){let n=t.state.facet(wS);if(!n.length)return n;let r=n.map(o=>o instanceof Function?o(t):o),i=[];return Xe.spans(r,e.from,e.to,{point(){},span(o,s,a,c){let f=o-e.from,h=s-e.from,d=i;for(let g=a.length-1;g>=0;g--,c--){let b=a[g].spec.bidiIsolate,x;if(b==null&&(b=JN(e.text,f,h)),c>0&&d.length&&(x=d[d.length-1]).to==f&&x.direction==b)x.to=h,d=x.inner;else{let v={from:f,to:h,direction:b,inner:[]};d.push(v),d=v.inner}}}}),i}const $S=ue.define();function h0(t){let e=0,n=0,r=0,i=0;for(let o of t.state.facet($S)){let s=o(t);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(n=Math.max(n,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:e,right:n,top:r,bottom:i}}const $a=ue.define();class jn{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new jn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,o=0,s=0,a=0;;i++){let c=i==e.length?null:e[i],f=s-a,h=c?c.fromB:1e9;for(;o<n.length&&n[o]<h;){let d=n[o],g=n[o+1],b=Math.max(a,d),x=Math.min(h,g);if(b<=x&&new jn(b+f,x+f,b,x).addToSet(r),g>h)break;o+=2}if(!c)return r;new jn(c.fromA,c.toA,c.fromB,c.toB).addToSet(r),s=c.toA,a=c.toB}}}class ju{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Pt.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,a,c)=>i.push(new jn(o,s,a,c))),this.changedRanges=i}static create(e,n,r){return new ju(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class Lx extends ot{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=ye.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new kt],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new jn(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:f,toA:h})=>h<this.minWidthFrom||f>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!aB(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?nB(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:f,to:h}=this.hasComposition;r=new jn(f,h,e.changes.mapPos(f,-1),e.changes.mapPos(h,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(ce.ie||ce.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,a=this.updateDeco(),c=oB(s,a,e.changes);return r=jn.extendWithRanges(r,c),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=ce.chrome||ce.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof Qr&&s.widget instanceof dm&&o.push(s.dom);i.updateGaps(o)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(n);for(let s=i.length-1;;s--){let a=s>=0?i[s]:null;if(!a)break;let{fromA:c,toA:f,fromB:h,toB:d}=a,g,b,x,v;if(r&&r.range.fromB<d&&r.range.toB>h){let R=Pa.build(this.view.state.doc,h,r.range.fromB,this.decorations,this.dynamicDecorationMap),T=Pa.build(this.view.state.doc,r.range.toB,d,this.decorations,this.dynamicDecorationMap);b=R.breakAtStart,x=R.openStart,v=T.openEnd;let D=this.compositionView(r);T.breakAtStart?D.breakAfter=1:T.content.length&&D.merge(D.length,D.length,T.content[0],!1,T.openStart,0)&&(D.breakAfter=T.content[0].breakAfter,T.content.shift()),R.content.length&&D.merge(0,0,R.content[R.content.length-1],!0,0,R.openEnd)&&R.content.pop(),g=R.content.concat(D).concat(T.content)}else({content:g,breakAtStart:b,openStart:x,openEnd:v}=Pa.build(this.view.state.doc,h,d,this.decorations,this.dynamicDecorationMap));let{i:w,off:$}=o.findPos(f,1),{i:S,off:A}=o.findPos(c,-1);XC(this,S,A,w,$,g,b,x,v)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(vS)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new nr(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new ri(i,[n],n.length);let r=new kt;return r.append(n,0),r}fixCompositionDOM(e){let n=(o,s)=>{s.flags|=8|(s.children.some(c=>c.flags&7)?1:0),this.markedForComposition.add(s);let a=ot.get(o);a&&a!=s&&(a.dom=null),s.setDOM(o)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],n(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&!(this.view.state.facet(qr)||this.dom.tabIndex>-1)&&pu(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||o))return;let s=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,c=this.moveToLine(this.domAtPos(a.anchor)),f=a.empty?c:this.moveToLine(this.domAtPos(a.head));if(ce.gecko&&a.empty&&!this.hasComposition&&tB(c)){let d=document.createTextNode("");this.view.observer.ignore(()=>c.node.insertBefore(d,c.node.childNodes[c.offset]||null)),c=f=new Gt(d,0),s=!0}let h=this.view.observer.selectionRange;(s||!h.focusNode||(!Ta(c.node,c.offset,h.anchorNode,h.anchorOffset)||!Ta(f.node,f.offset,h.focusNode,h.focusOffset))&&!this.suppressWidgetCursorChange(h,a))&&(this.view.observer.ignore(()=>{ce.android&&ce.chrome&&this.dom.contains(h.focusNode)&&sB(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=za(this.view.root);if(d)if(a.empty){if(ce.gecko){let g=rB(c.node,c.offset);if(g&&g!=3){let b=(g==1?GC:YC)(c.node,c.offset);b&&(c=new Gt(b.node,b.offset))}}d.collapse(c.node,c.offset),a.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=a.bidiLevel)}else if(d.extend){d.collapse(c.node,c.offset);try{d.extend(f.node,f.offset)}catch{}}else{let g=document.createRange();a.anchor>a.head&&([c,f]=[f,c]),g.setEnd(f.node,f.offset),g.setStart(c.node,c.offset),d.removeAllRanges(),d.addRange(g)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(c,f)),this.impreciseAnchor=c.precise?null:new Gt(h.anchorNode,h.anchorOffset),this.impreciseHead=f.precise?null:new Gt(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Ta(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=za(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let s=kt.find(this,n.head);if(!s)return;let a=s.posAtStart;if(n.head==a||n.head==a+s.length)return;let c=this.coordsAt(n.head,-1),f=this.coordsAt(n.head,1);if(!c||!f||c.bottom>f.top)return;let h=this.domAtPos(n.head+n.assoc);r.collapse(h.node,h.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=n.from&&r.collapse(i,o)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let o=ot.get(n.childNodes[i]);o instanceof kt&&(r=o.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let o=ot.get(n.childNodes[i]);o instanceof kt&&(r=o.domAtPos(o.length))}return r?new Gt(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=ot.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof kt)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let a=this.children[s],c=o-a.breakAfter,f=c-a.length;if(c<e)break;if(f<=e&&(f<e||a.covers(-1))&&(c>e||a.covers(1))&&(!r||a instanceof kt&&!(r instanceof kt&&n>=0)))r=a,i=f;else if(r&&f==e&&c==e&&a instanceof Qr&&Math.abs(n)<2){if(a.deco.startSide<0)break;s&&(r=null)}o=f}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof kt))return null;for(;i.children.length;){let{i:a,off:c}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=c}if(!(i instanceof nr))return null;let o=Vt(i.text,r);if(o==r)return null;let s=yo(i.dom,r,o).getClientRects();for(let a=0;a<s.length;a++){let c=s[a];if(a==s.length-1||c.top<c.bottom&&c.left<c.right)return c}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,c=this.view.textDirection==ct.LTR;for(let f=0,h=0;h<this.children.length;h++){let d=this.children[h],g=f+d.length;if(g>i)break;if(f>=r){let b=d.dom.getBoundingClientRect();if(n.push(b.height),s){let x=d.dom.lastChild,v=x?$s(x):[];if(v.length){let w=v[v.length-1],$=c?w.right-b.left:b.right-w.left;$>a&&(a=$,this.minWidth=o,this.minWidthFrom=f,this.minWidthTo=g)}}}f=g+d.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?ct.RTL:ct.LTR}measureTextSize(){for(let o of this.children)if(o instanceof kt){let s=o.measureTextSize();if(s)return s}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=$s(e.firstChild)[0];n=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new qC(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let o=i==n.viewports.length?null:n.viewports[i],s=o?o.from-1:this.length;if(s>r){let a=(n.lineBlockAt(s).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(ye.replace({widget:new dm(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!o)break;r=o.to+1}return ye.set(e)}updateDeco(){let e=1,n=this.view.state.facet(Ua).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),r=!1,i=this.view.state.facet(yS).map((o,s)=>{let a=typeof o=="function";return a&&(r=!0),a?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(Xe.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let f=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=f.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let f of this.view.state.facet(bS))try{if(f(this.view,e.range,e))return!0}catch(h){dn(this.view.state,h,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=h0(this.view),s={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:a,offsetHeight:c}=this.view.scrollDOM;_N(this.view.scrollDOM,s,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,c),-c),this.view.textDirection==ct.LTR)}}function tB(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function CS(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=GC(n.focusNode,n.focusOffset),i=YC(n.focusNode,n.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let a=ot.get(i.node);if(!a||a instanceof nr&&a.text!=i.node.nodeValue)o=i;else if(t.docView.lastCompositionAfterCursor){let c=ot.get(r.node);!c||c instanceof nr&&c.text!=r.node.nodeValue||(o=i)}}if(t.docView.lastCompositionAfterCursor=o!=r,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}function nB(t,e,n){let r=CS(t,n);if(!r)return null;let{node:i,from:o,to:s}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(r.from,r.to)!=a)return null;let c=e.invertedDesc,f=new jn(c.mapPos(o),c.mapPos(s),o,s),h=[];for(let d=i.parentNode;;d=d.parentNode){let g=ot.get(d);if(g instanceof ri)h.push({node:d,deco:g.mark});else{if(g instanceof kt||d.nodeName=="DIV"&&d.parentNode==t.contentDOM)return{range:f,text:i,marks:h,line:d};if(d!=t.contentDOM)h.push({node:d,deco:new xl({inclusive:!0,attributes:HN(d),tagName:d.tagName.toLowerCase()})});else return null}}}function rB(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let iB=class{constructor(){this.changes=[]}compareRange(e,n){mu(e,n,this.changes)}comparePoint(e,n){mu(e,n,this.changes)}boundChange(e){mu(e,e,this.changes)}};function oB(t,e,n){let r=new iB;return Xe.compare(t,e,n,r),r.changes}function sB(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function aB(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function lB(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),o=e-i.from;if(i.length==0)return Z.cursor(e);o==0?n=1:o==i.length&&(n=-1);let s=o,a=o;n<0?s=Vt(i.text,o,!1):a=Vt(i.text,o);let c=r(i.text.slice(s,a));for(;s>0;){let f=Vt(i.text,s,!1);if(r(i.text.slice(f,s))!=c)break;s=f}for(;a<i.length;){let f=Vt(i.text,a);if(r(i.text.slice(a,f))!=c)break;a=f}return Z.range(s+i.from,a+i.from)}function cB(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function uB(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function Gd(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function Nx(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function Bx(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function vm(t,e,n){let r,i,o,s,a=!1,c,f,h,d;for(let x=t.firstChild;x;x=x.nextSibling){let v=$s(x);for(let w=0;w<v.length;w++){let $=v[w];i&&Gd(i,$)&&($=Nx(Bx($,i.bottom),i.top));let S=cB(e,$),A=uB(n,$);if(S==0&&A==0)return x.nodeType==3?Fx(x,e,n):vm(x,e,n);if(!r||s>A||s==A&&o>S){r=x,i=$,o=S,s=A;let R=A?n<$.top?-1:1:S?e<$.left?-1:1:0;a=!R||(R>0?w<v.length-1:w>0)}S==0?n>$.bottom&&(!h||h.bottom<$.bottom)?(c=x,h=$):n<$.top&&(!d||d.top>$.top)&&(f=x,d=$):h&&Gd(h,$)?h=Bx(h,$.bottom):d&&Gd(d,$)&&(d=Nx(d,$.top))}}if(h&&h.bottom>=n?(r=c,i=h):d&&d.top<=n&&(r=f,i=d),!r)return{node:t,offset:0};let g=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return Fx(r,g,n);if(a&&r.contentEditable!="false")return vm(r,g,n);let b=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:b}}function Fx(t,e,n){let r=t.nodeValue.length,i=-1,o=1e9,s=0;for(let a=0;a<r;a++){let c=yo(t,a,a+1).getClientRects();for(let f=0;f<c.length;f++){let h=c[f];if(h.top==h.bottom)continue;s||(s=e-h.left);let d=(h.top>n?h.top-n:n-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&d<o){let g=e>=(h.left+h.right)/2,b=g;if((ce.chrome||ce.gecko)&&yo(t,a).getBoundingClientRect().left==h.right&&(b=!g),d<=0)return{node:t,offset:a+(b?1:0)};i=a+(b?1:0),o=d}}}return{node:t,offset:i>-1?i:s>0?t.nodeValue.length:0}}function SS(t,e,n,r=-1){var i,o;let s=t.contentDOM.getBoundingClientRect(),a=s.top+t.viewState.paddingTop,c,{docHeight:f}=t.viewState,{x:h,y:d}=e,g=d-a;if(g<0)return 0;if(g>f)return t.state.doc.length;for(let R=t.viewState.heightOracle.textHeight/2,T=!1;c=t.elementAtHeight(g),c.type!=nn.Text;)for(;g=r>0?c.bottom+R:c.top-R,!(g>=0&&g<=f);){if(T)return n?null:0;T=!0,r=-r}d=a+g;let b=c.from;if(b<t.viewport.from)return t.viewport.from==0?0:n?null:Wx(t,s,c,h,d);if(b>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:Wx(t,s,c,h,d);let x=t.dom.ownerDocument,v=t.root.elementFromPoint?t.root:x,w=v.elementFromPoint(h,d);w&&!t.contentDOM.contains(w)&&(w=null),w||(h=Math.max(s.left+1,Math.min(s.right-1,h)),w=v.elementFromPoint(h,d),w&&!t.contentDOM.contains(w)&&(w=null));let $,S=-1;if(w&&((i=t.docView.nearest(w))===null||i===void 0?void 0:i.isEditable)!=!1){if(x.caretPositionFromPoint){let R=x.caretPositionFromPoint(h,d);R&&({offsetNode:$,offset:S}=R)}else if(x.caretRangeFromPoint){let R=x.caretRangeFromPoint(h,d);R&&({startContainer:$,startOffset:S}=R,(!t.contentDOM.contains($)||ce.safari&&fB($,S,h)||ce.chrome&&hB($,S,h))&&($=void 0))}$&&(S=Math.min(Er($),S))}if(!$||!t.docView.dom.contains($)){let R=kt.find(t.docView,b);if(!R)return g>c.top+c.height/2?c.to:c.from;({node:$,offset:S}=vm(R.dom,h,d))}let A=t.docView.nearest($);if(!A)return null;if(A.isWidget&&((o=A.dom)===null||o===void 0?void 0:o.nodeType)==1){let R=A.dom.getBoundingClientRect();return e.y<R.top||e.y<=R.bottom&&e.x<=(R.left+R.right)/2?A.posAtStart:A.posAtEnd}else return A.localPosFromDOM($,S)+A.posAtStart}function Wx(t,e,n,r,i){let o=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,c=Math.floor((i-n.top-(t.defaultLineHeight-a)*.5)/a);o+=c*t.viewState.heightOracle.lineLength}let s=t.state.sliceDoc(n.from,n.to);return n.from+im(s,o,t.state.tabSize)}function fB(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return yo(t,r-1,r).getBoundingClientRect().left>n}function hB(t,e,n){if(e!=0)return!1;for(let i=t;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=t.nodeType==1?t.getBoundingClientRect():yo(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function xm(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let r of n.type)if(r.to>e||r.to==e&&(r.to==n.to||r.type==nn.Text))return r}return n}function dB(t,e,n,r){let i=xm(t,e.head),o=!r||i.type!=nn.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let s=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),c=t.posAtCoords({x:n==(a==ct.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(c!=null)return Z.cursor(c,n?-1:1)}return Z.cursor(n?i.to:i.from,n?-1:1)}function Vx(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),s=t.textDirectionAt(i.from);for(let a=e,c=null;;){let f=QN(i,o,s,a,n),h=lS;if(!f){if(i.number==(n?t.state.doc.lines:1))return a;h=`
`,i=t.state.doc.line(i.number+(n?1:-1)),o=t.bidiSpans(i),f=t.visualLineSide(i,!n)}if(c){if(!c(h))return a}else{if(!r)return f;c=r(h)}a=f}}function pB(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return o=>{let s=r(o);return i==ft.Space&&(i=s),i==s}}function mB(t,e,n,r){let i=e.head,o=n?1:-1;if(i==(n?t.state.doc.length:0))return Z.cursor(i,e.assoc);let s=e.goalColumn,a,c=t.contentDOM.getBoundingClientRect(),f=t.coordsAtPos(i,e.assoc||-1),h=t.documentTop;if(f)s==null&&(s=f.left-c.left),a=o<0?f.top:f.bottom;else{let b=t.viewState.lineBlockAt(i);s==null&&(s=Math.min(c.right-c.left,t.defaultCharacterWidth*(i-b.from))),a=(o<0?b.top:b.bottom)+h}let d=c.left+s,g=r??t.viewState.heightOracle.textHeight>>1;for(let b=0;;b+=10){let x=a+(g+b)*o,v=SS(t,{x:d,y:x},!1,o);if(x<c.top||x>c.bottom||(o<0?v<i:v>i)){let w=t.docView.coordsForChar(v),$=!w||x<w.top?-1:1;return Z.cursor(v,$,void 0,s)}}}function gu(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(o,s,a)=>{if(e>o&&e<s){let c=r||n||(e-o<s-e?-1:1);e=c<0?o:s,r=c}});if(!r)return e}}function Yd(t,e,n){let r=gu(t.state.facet(f0).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:Z.cursor(r,r<n.from?1:-1)}const Ca="￿";class gB{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(Ye.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ca}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==n)break;let a=ot.get(i),c=ot.get(s);(a&&c?a.breakAfter:(a?a.breakAfter:Wu(i))||Wu(s)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=s}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,a;if(this.lineSeparator?(o=n.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(a=i.exec(n))&&(o=a.index,s=a[0].length),this.append(n.slice(r,o<0?n.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let c of this.points)c.node==e&&c.pos>this.text.length&&(c.pos-=s-1);r=o+s}}readNode(e){if(e.cmIgnore)return;let n=ot.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(bB(e,r.node,r.offset)?n:0))}}function bB(t,e,n){for(;;){if(!e||n<Er(e))return!1;if(e==t)return!0;n=xo(e)+1,e=e.parentNode}}class jx{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class vB{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let a=o||s?[]:wB(e),c=new gB(a,e.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=$B(a,this.bounds.from)}else{let a=e.observer.selectionRange,c=o&&o.node==a.focusNode&&o.offset==a.focusOffset||!am(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),f=s&&s.node==a.anchorNode&&s.offset==a.anchorOffset||!am(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),h=e.viewport;if((ce.ios||ce.chrome)&&e.state.selection.main.empty&&c!=f&&(h.from>0||h.to<e.state.doc.length)){let d=Math.min(c,f),g=Math.max(c,f),b=h.from-d,x=h.to-g;(b==0||b==1||d==0)&&(x==0||x==-1||g==e.state.doc.length)&&(c=0,f=e.state.doc.length)}this.newSel=Z.single(f,c)}}}function kS(t,e){let n,{newSel:r}=e,i=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:a}=e.bounds,c=i.from,f=null;(o===8||ce.android&&e.text.length<a-s)&&(c=i.to,f="end");let h=yB(t.state.doc.sliceString(s,a,Ca),e.text,c-s,f);h&&(ce.chrome&&o==13&&h.toB==h.from+2&&e.text.slice(h.from,h.toB)==Ca+Ca&&h.toB--,n={from:s+h.from,to:s+h.toA,insert:Ze.of(e.text.slice(h.from,h.toB).split(Ca))})}else r&&(!t.hasFocus&&t.state.facet(qr)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(ce.mac||ce.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Z.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:Ze.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:ce.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=Z.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Ze.of([" "])}),n)return d0(t,n,r,o);if(r&&!r.main.eq(i)){let s=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(s=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:s,userEvent:a}),!0}else return!1}function d0(t,e,n,r=-1){if(ce.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(ce.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&us(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&us(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&us(t.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let s,a=()=>s||(s=xB(t,e,n));return t.state.facet(dS).some(c=>c(t,e.from,e.to,o,a))||t.dispatch(a()),!0}function xB(t,e,n){let r,i=t.state,o=i.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let a=o.from<e.from?i.sliceDoc(o.from,e.from):"",c=o.to>e.to?i.sliceDoc(e.to,o.to):"";r=i.replaceSelection(t.state.toText(a+e.insert.sliceString(0,void 0,t.state.lineBreak)+c))}else{let a=i.changes(e),c=n&&n.main.to<=a.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let f=t.state.sliceDoc(e.from,e.to),h,d=n&&CS(t,n.main.head);if(d){let x=e.insert.length-(e.to-e.from);h={from:d.from,to:d.to-x}}else h=t.state.doc.lineAt(o.head);let g=o.to-e.to,b=o.to-o.from;r=i.changeByRange(x=>{if(x.from==o.from&&x.to==o.to)return{changes:a,range:c||x.map(a)};let v=x.to-g,w=v-f.length;if(x.to-x.from!=b||t.state.sliceDoc(w,v)!=f||x.to>=h.from&&x.from<=h.to)return{range:x};let $=i.changes({from:w,to:v,insert:e.insert}),S=x.to-o.to;return{changes:$,range:c?Z.range(Math.max(0,c.anchor+S),Math.max(0,c.head+S)):x.map($)}})}else r={changes:a,selection:c&&i.selection.replaceRange(c)}}let s="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,s+=".compose",t.inputState.compositionFirstChange&&(s+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:s,scrollIntoView:!0})}function yB(t,e,n,r){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let s=t.length,a=e.length;for(;s>0&&a>0&&t.charCodeAt(s-1)==e.charCodeAt(a-1);)s--,a--;if(r=="end"){let c=Math.max(0,o-Math.min(s,a));n-=s+c-o}if(s<o&&t.length<e.length){let c=n<=o&&n>=s?o-n:0;o-=c,a=o+(a-s),s=o}else if(a<o){let c=n<=o&&n>=a?o-n:0;o-=c,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}function wB(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=t.observer.selectionRange;return n&&(e.push(new jx(n,r)),(i!=n||o!=r)&&e.push(new jx(i,o))),e}function $B(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?Z.single(n+e,r+e):null}class CB{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ce.safari&&e.contentDOM.addEventListener("input",()=>null),ce.gecko&&FB(e.contentDOM.ownerDocument)}handleEvent(e){!MB(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=SB(e),r=this.handlers,i=this.view.contentDOM;for(let o in n)if(o!="scroll"){let s=!n[o].handlers.length,a=r[o];a&&s!=!a.handlers.length&&(i.removeEventListener(o,this.handleEvent),a=null),a||i.addEventListener(o,this.handleEvent,{passive:s})}for(let o in r)o!="scroll"&&!n[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&ES.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ce.android&&ce.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return ce.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=AS.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||kB.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,us(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ce.safari&&!ce.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Hx(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){dn(n.state,i)}}}function SB(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec;if(i&&i.domEventHandlers)for(let o in i.domEventHandlers){let s=i.domEventHandlers[o];s&&n(o).handlers.push(Hx(r.value,s))}if(i&&i.domEventObservers)for(let o in i.domEventObservers){let s=i.domEventObservers[o];s&&n(o).observers.push(Hx(r.value,s))}}for(let r in rr)n(r).handlers.push(rr[r]);for(let r in Hn)n(r).observers.push(Hn[r]);return e}const AS=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],kB="dthko",ES=[16,17,18,20,91,92,224,225],Uc=6;function Kc(t){return Math.max(0,t)*.7+8}function AB(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class EB{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=LN(e.contentDOM),this.atoms=e.state.facet(f0).map(s=>s(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(Ye.allowMultipleSelections)&&RB(e,n),this.dragging=PB(e,n)&&PS(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&AB(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,o=0,s=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:a}=this.scrollParents.y.getBoundingClientRect());let c=h0(this.view);e.clientX-c.left<=i+Uc?n=-Kc(i-e.clientX):e.clientX+c.right>=s-Uc&&(n=Kc(e.clientX-s)),e.clientY-c.top<=o+Uc?r=-Kc(o-e.clientY):e.clientY+c.bottom>=a-Uc&&(r=Kc(e.clientY-a)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let s=gu(this.atoms,i.from,0);s!=i.from&&(o=Z.cursor(s,-1))}else{let s=gu(this.atoms,i.from,-1),a=gu(this.atoms,i.to,1);(s!=i.from||a!=i.to)&&(o=Z.range(i.from==i.anchor?s:a,i.from==i.head?s:a))}o&&(n||(n=e.ranges.slice()),n[r]=o)}return n?Z.create(n,e.mainIndex):e}select(e){let{view:n}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function RB(t,e){let n=t.state.facet(cS);return n.length?n[0](e):ce.mac?e.metaKey:e.ctrlKey}function TB(t,e){let n=t.state.facet(uS);return n.length?n[0](e):ce.mac?!e.altKey:!e.ctrlKey}function PB(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=za(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let s=i[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function MB(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=ot.get(n))&&r.ignoreEvent(e))return!1;return!0}const rr=Object.create(null),Hn=Object.create(null),RS=ce.ie&&ce.ie_version<15||ce.ios&&ce.webkit_version<604;function OB(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),TS(t,n.value)},50)}function _f(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function TS(t,e){e=_f(t.state,l0,e);let{state:n}=t,r,i=1,o=n.toText(e),s=o.lines==n.selection.ranges.length;if(ym!=null&&n.selection.ranges.every(c=>c.empty)&&ym==o.toString()){let c=-1;r=n.changeByRange(f=>{let h=n.doc.lineAt(f.from);if(h.from==c)return{range:f};c=h.from;let d=n.toText((s?o.line(i++).text:e)+n.lineBreak);return{changes:{from:h.from,insert:d},range:Z.cursor(f.from+d.length)}})}else s?r=n.changeByRange(c=>{let f=o.line(i++);return{changes:{from:c.from,to:c.to,insert:f.text},range:Z.cursor(c.from+f.length)}}):r=n.replaceSelection(o);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Hn.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};rr.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Hn.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Hn.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};rr.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(fS))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=_B(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new EB(t,e,n,r)),r&&t.observer.ignore(()=>{zC(t.contentDOM);let o=t.root.activeElement;o&&!o.contains(t.contentDOM)&&o.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function zx(t,e,n,r){if(r==1)return Z.cursor(e,n);if(r==2)return lB(t.state,e,n);{let i=kt.find(t.docView,e),o=t.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,a=i?i.posAtEnd:o.to;return a<t.state.doc.length&&a==o.to&&a++,Z.range(s,a)}}let Ux=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function DB(t,e,n,r){let i=kt.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&Ux(n,r,s))return-1;let a=i.coordsAt(o,1);return a&&Ux(n,r,a)?1:s&&s.bottom>=r?-1:1}function Kx(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:DB(t,n,e.clientX,e.clientY)}}const IB=ce.ie&&ce.ie_version<=11;let Gx=null,Yx=0,qx=0;function PS(t){if(!IB)return t.detail;let e=Gx,n=qx;return Gx=t,qx=Date.now(),Yx=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Yx+1)%3:1}function _B(t,e){let n=Kx(t,e),r=PS(e),i=t.state.selection;return{update(o){o.docChanged&&(n.pos=o.changes.mapPos(n.pos),i=i.map(o.changes))},get(o,s,a){let c=Kx(t,o),f,h=zx(t,c.pos,c.bias,r);if(n.pos!=c.pos&&!s){let d=zx(t,n.pos,n.bias,r),g=Math.min(d.from,h.from),b=Math.max(d.to,h.to);h=g<h.from?Z.range(g,b):Z.range(b,g)}return s?i.replaceRange(i.main.extend(h.from,h.to)):a&&r==1&&i.ranges.length>1&&(f=LB(i,c.pos))?f:a?i.addRange(h):Z.create([h])}}}function LB(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return Z.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}rr.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,s=o+i.length;(o>=n.to||s<=n.from)&&(n=Z.range(o,s))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",_f(t.state,c0,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};rr.dragend=t=>(t.inputState.draggedContent=null,!1);function Xx(t,e,n,r){if(n=_f(t.state,l0,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=t.inputState,s=r&&o&&TB(t,e)?{from:o.from,to:o.to}:null,a={from:i,insert:n},c=t.state.changes(s?[s,a]:a);t.focus(),t.dispatch({changes:c,selection:{anchor:c.mapPos(i,-1),head:c.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),t.inputState.draggedContent=null}rr.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,o=()=>{++i==n.length&&Xx(t,e,r.filter(s=>s!=null).join(t.state.lineBreak),!1)};for(let s=0;s<n.length;s++){let a=new FileReader;a.onerror=o,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[s]=a.result),o()},a.readAsText(n[s])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return Xx(t,e,r,!0),!0}return!1};rr.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=RS?null:e.clipboardData;return n?(TS(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(OB(t),!1)};function NB(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function BB(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:o}of t.selection.ranges){let s=t.doc.lineAt(o);s.number>i&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),i=s.number}r=!0}return{text:_f(t,c0,e.join(t.lineBreak)),ranges:n,linewise:r}}let ym=null;rr.copy=rr.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=BB(t.state);if(!n&&!i)return!1;ym=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=RS?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",n),!0):(NB(t,n),!1)};const MS=Mr.define();function OS(t,e){let n=[];for(let r of t.facet(pS)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:MS.of(!0)}):null}function DS(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=OS(t.state,e);n?t.dispatch(n):t.update([])}},10)}Hn.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),DS(t)};Hn.blur=t=>{t.observer.clearSelectionRange(),DS(t)};Hn.compositionstart=Hn.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Hn.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,ce.chrome&&ce.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Hn.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};rr.beforeinput=(t,e)=>{var n,r;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let o=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),s=e.getTargetRanges();if(o&&s.length){let a=s[0],c=t.posAtDOM(a.startContainer,a.startOffset),f=t.posAtDOM(a.endContainer,a.endOffset);return d0(t,{from:c,to:f,insert:t.state.toText(o)},null),!0}}let i;if(ce.chrome&&ce.android&&(i=AS.find(o=>o.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>o+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return ce.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),ce.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Hn.compositionend(t,e),20),!1};const Zx=new Set;function FB(t){Zx.has(t)||(Zx.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const Qx=["pre-wrap","normal","pre-line","break-spaces"];let ks=!1;function Jx(){ks=!1}class WB{constructor(e){this.lineWrapping=e,this.doc=Ze.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Qx.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,o,s){let a=Qx.indexOf(e)>-1,c=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=o,c){this.heightSamples={};for(let f=0;f<s.length;f++){let h=s[f];h<0?f++:this.heightSamples[Math.floor(h*10)]=!0}}return c}}class VB{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class xr{constructor(e,n,r,i,o){this.from=e,this.length=n,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?nn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof _i?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new xr(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var lt=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(lt||(lt={}));const bu=.001;class rn{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>bu&&(ks=!0),this.height=e)}replace(e,n,r){return rn.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let o=this,s=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:c,toA:f,fromB:h,toB:d}=i[a],g=o.lineAt(c,lt.ByPosNoHeight,r.setDoc(n),0,0),b=g.to>=f?g:o.lineAt(f,lt.ByPosNoHeight,r,0,0);for(d+=b.to-f,f=b.to;a>0&&g.from<=i[a-1].toA;)c=i[a-1].fromA,h=i[a-1].fromB,a--,c<g.from&&(g=o.lineAt(c,lt.ByPosNoHeight,r,0,0));h+=g.from-c,c=g.from;let x=p0.build(r.setDoc(s),e,h,d);o=Hu(o,o.replace(c,f,x))}return o.updateHeight(r,0)}static empty(){return new An(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,o=0;for(;;)if(n==r)if(i>o*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(o>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,o-=a.size}else break;else if(i<o){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(o+=a.size)}let s=0;return e[n-1]==null?(s=1,n--):e[n]==null&&(s=1,r++),new jB(rn.of(e.slice(0,n)),s,rn.of(e.slice(r)))}}function Hu(t,e){return t==e?t:(t.constructor!=e.constructor&&(ks=!0),e)}rn.prototype.size=1;class IS extends rn{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new xr(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,n,r,i,o,s){e<=o+this.length&&n>=o&&s(this.blockAt(0,r,i,o))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class An extends IS{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new xr(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof An||i instanceof Ft&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Ft?i=new An(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):rn.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Ft extends rn{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,o=i-r+1,s,a=0;if(e.lineWrapping){let c=Math.min(this.height,e.lineHeight*o);s=c/o,this.length>o+1&&(a=(this.height-c)/(this.length-o-1))}else s=this.height/o;return{firstLine:r,lastLine:i,perLine:s,perChar:a}}blockAt(e,n,r,i){let{firstLine:o,lastLine:s,perLine:a,perChar:c}=this.heightMetrics(n,i);if(n.lineWrapping){let f=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),h=n.doc.lineAt(f),d=a+h.length*c,g=Math.max(r,e-d/2);return new xr(h.from,h.length,g,d,0)}else{let f=Math.max(0,Math.min(s-o,Math.floor((e-r)/a))),{from:h,length:d}=n.doc.line(o+f);return new xr(h,d,r+a*f,a,0)}}lineAt(e,n,r,i,o){if(n==lt.ByHeight)return this.blockAt(e,r,i,o);if(n==lt.ByPosNoHeight){let{from:b,to:x}=r.doc.lineAt(e);return new xr(b,x-b,0,0,0)}let{firstLine:s,perLine:a,perChar:c}=this.heightMetrics(r,o),f=r.doc.lineAt(e),h=a+f.length*c,d=f.number-s,g=i+a*d+c*(f.from-o-d);return new xr(f.from,f.length,Math.max(i,Math.min(g,i+this.height-h)),h,0)}forEachLine(e,n,r,i,o,s){e=Math.max(e,o),n=Math.min(n,o+this.length);let{firstLine:a,perLine:c,perChar:f}=this.heightMetrics(r,o);for(let h=e,d=i;h<=n;){let g=r.doc.lineAt(h);if(h==e){let x=g.number-a;d+=c*x+f*(e-o-x)}let b=c+f*g.length;s(new xr(g.from,g.length,d,b,0)),d+=b,h=g.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let o=r[r.length-1];o instanceof Ft?r[r.length-1]=new Ft(o.length+i):r.push(null,new Ft(i-1))}if(e>0){let o=r[0];o instanceof Ft?r[0]=new Ft(e+o.length):r.unshift(new Ft(e-1),null)}return rn.of(r)}decomposeLeft(e,n){n.push(new Ft(e-1),null)}decomposeRight(e,n){n.push(null,new Ft(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let o=n+this.length;if(i&&i.from<=n+this.length&&i.more){let s=[],a=Math.max(n,i.from),c=-1;for(i.from>n&&s.push(new Ft(i.from-n-1).updateHeight(e,n));a<=o&&i.more;){let h=e.doc.lineAt(a).length;s.length&&s.push(null);let d=i.heights[i.index++];c==-1?c=d:Math.abs(d-c)>=bu&&(c=-2);let g=new An(h,d);g.outdated=!1,s.push(g),a+=h+1}a<=o&&s.push(null,new Ft(o-a).updateHeight(e,a));let f=rn.of(s);return(c<0||Math.abs(f.height-this.height)>=bu||Math.abs(c-this.heightMetrics(e,n).perLine)>=bu)&&(ks=!0),Hu(this,f)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class jB extends rn{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,o,i+this.left.length+this.break)}lineAt(e,n,r,i,o){let s=i+this.left.height,a=o+this.left.length+this.break,c=n==lt.ByHeight?e<s:e<a,f=c?this.left.lineAt(e,n,r,i,o):this.right.lineAt(e,n,r,s,a);if(this.break||(c?f.to<a:f.from>a))return f;let h=n==lt.ByPosNoHeight?lt.ByPosNoHeight:lt.ByPos;return c?f.join(this.right.lineAt(a,h,r,s,a)):this.left.lineAt(a,h,r,i,o).join(f)}forEachLine(e,n,r,i,o,s){let a=i+this.left.height,c=o+this.left.length+this.break;if(this.break)e<c&&this.left.forEachLine(e,n,r,i,o,s),n>=c&&this.right.forEachLine(e,n,r,a,c,s);else{let f=this.lineAt(c,lt.ByPos,r,i,o);e<f.from&&this.left.forEachLine(e,f.from-1,r,i,o,s),f.to>=e&&f.from<=n&&s(f),n>f.to&&this.right.forEachLine(f.to+1,n,r,a,c,s)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let a of r)o.push(a);if(e>0&&ey(o,s-1),n<this.length){let a=o.length;this.decomposeRight(n,o),ey(o,a)}return rn.of(o)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?rn.of(this.break?[e,null,n]:[e,n]):(this.left=Hu(this.left,e),this.right=Hu(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:o,right:s}=this,a=n+o.length+this.break,c=null;return i&&i.from<=n+o.length&&i.more?c=o=o.updateHeight(e,n,r,i):o.updateHeight(e,n,r),i&&i.from<=a+s.length&&i.more?c=s=s.updateHeight(e,a,r,i):s.updateHeight(e,a,r),c?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function ey(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof Ft&&(r=t[e+1])instanceof Ft&&t.splice(e-1,3,new Ft(n.length+1+r.length))}const HB=5;class p0{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof An?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new An(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=n-e;r.block?this.addBlock(new IS(s,i,r)):(s||o||i>=HB)&&this.addLineDeco(i,o,s)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new An(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new Ft(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof An)return e;let n=new An(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof An)&&!this.isCovered?this.nodes.push(new An(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof An&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let o=new p0(r,e);return Xe.spans(n,r,i,o,0),o.finish(r)}}function zB(t,e,n){let r=new UB;return Xe.compare(t,e,n,r,0),r.changes}class UB{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&mu(e,n,this.changes,5)}}function KB(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),c=Math.min(i.innerHeight,n.bottom);for(let f=t.parentNode;f&&f!=r.body;)if(f.nodeType==1){let h=f,d=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&d.overflow!="visible"){let g=h.getBoundingClientRect();o=Math.max(o,g.left),s=Math.min(s,g.right),a=Math.max(a,g.top),c=Math.min(f==t.parentNode?i.innerHeight:c,g.bottom)}f=d.position=="absolute"||d.position=="fixed"?h.offsetParent:h.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:o-n.left,right:Math.max(o,s)-n.left,top:a-(n.top+e),bottom:Math.max(a,c)-(n.top+e)}}function GB(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function YB(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class qd{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,n){return ye.replace({widget:new qB(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class qB extends li{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ty{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=ny,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ct.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(u0).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new WB(n),this.stateDeco=e.facet(Ua).filter(r=>typeof r!="function"),this.heightMap=rn.empty().applyChanges(this.stateDeco,Ze.empty,this.heightOracle.setDoc(e.doc),[new jn(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ye.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);e.push(new Gc(o,s))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?ny:new m0(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Sa(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Ua).filter(h=>typeof h!="function");let i=e.changedRanges,o=jn.extendWithRanges(i,zB(r,this.stateDeco,e?e.changes:Pt.empty(this.state.doc.length))),s=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Jx(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=s||ks)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let c=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<c.from||n.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,n));let f=c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,e.flags|=this.updateForViewport(),(f||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(gS)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?ct.RTL:ct.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),a=n.getBoundingClientRect(),c=s||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let f=0,h=0;if(a.width&&a.height){let{scaleX:R,scaleY:T}=HC(n,a);(R>.005&&Math.abs(this.scaleX-R)>.005||T>.005&&Math.abs(this.scaleY-T)>.005)&&(this.scaleX=R,this.scaleY=T,f|=16,s=c=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,g=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=g)&&(this.paddingTop=d,this.paddingBottom=g,f|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(c=!0),this.editorWidth=e.scrollDOM.clientWidth,f|=16);let b=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=b&&(this.scrollAnchorHeight=-1,this.scrollTop=b),this.scrolledToBottom=KC(e.scrollDOM);let x=(this.printing?YB:KB)(n,this.paddingTop),v=x.top-this.pixelViewport.top,w=x.bottom-this.pixelViewport.bottom;this.pixelViewport=x;let $=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if($!=this.inView&&(this.inView=$,$&&(c=!0)),!this.inView&&!this.scrollTarget&&!GB(e.dom))return 0;let S=a.width;if((this.contentDOMWidth!=S||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,f|=16),c){let R=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(R)&&(s=!0),s||i.lineWrapping&&Math.abs(S-this.contentDOMWidth)>i.charWidth){let{lineHeight:T,charWidth:D,textHeight:M}=e.docView.measureTextSize();s=T>0&&i.refresh(o,T,D,M,S/D,R),s&&(e.docView.minWidth=0,f|=16)}v>0&&w>0?h=Math.max(v,w):v<0&&w<0&&(h=Math.min(v,w)),Jx();for(let T of this.viewports){let D=T.from==this.viewport.from?R:e.docView.measureVisibleLineHeights(T);this.heightMap=(s?rn.empty().applyChanges(this.stateDeco,Ze.empty,this.heightOracle,[new jn(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new VB(T.from,D))}ks&&(f|=2)}let A=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return A&&(f&2&&(f|=this.updateScaler()),this.viewport=this.getViewport(h,this.scrollTarget),f|=this.updateForViewport()),(f&2||A)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:a}=this,c=new Gc(i.lineAt(s-r*1e3,lt.ByHeight,o,0,0).from,i.lineAt(a+(1-r)*1e3,lt.ByHeight,o,0,0).to);if(n){let{head:f}=n.range;if(f<c.from||f>c.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(f,lt.ByPos,o,0,0),g;n.y=="center"?g=(d.top+d.bottom)/2-h/2:n.y=="start"||n.y=="nearest"&&f<c.from?g=d.top:g=d.bottom-h,c=new Gc(i.lineAt(g-1e3/2,lt.ByHeight,o,0,0).from,i.lineAt(g+h+1e3/2,lt.ByHeight,o,0,0).to)}}return c}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new Gc(this.heightMap.lineAt(r,lt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,lt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,lt.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(n,lt.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(e==0||i<=s-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||o>=a+Math.max(10,Math.min(r,250)))&&i>s-2*1e3&&o<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new qd(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=ct.LTR&&!r)return[];let a=[],c=(h,d,g,b)=>{if(d-h<o)return;let x=this.state.selection.main,v=[x.from];x.empty||v.push(x.to);for(let $ of v)if($>h&&$<d){c(h,$-10,g,b),c($+10,d,g,b);return}let w=ZB(e,$=>$.from>=g.from&&$.to<=g.to&&Math.abs($.from-h)<o&&Math.abs($.to-d)<o&&!v.some(S=>$.from<S&&$.to>S));if(!w){if(d<g.to&&n&&r&&n.visibleRanges.some(A=>A.from<=d&&A.to>=d)){let A=n.moveToLineBoundary(Z.cursor(d),!1,!0).head;A>h&&(d=A)}let $=this.gapSize(g,h,d,b),S=r||$<2e6?$:2e6;w=new qd(h,d,$,S)}a.push(w)},f=h=>{if(h.length<s||h.type!=nn.Text)return;let d=XB(h.from,h.to,this.stateDeco);if(d.total<s)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,b,x;if(r){let v=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,w,$;if(g!=null){let S=qc(d,g),A=((this.visibleBottom-this.visibleTop)/2+v)/h.height;w=S-A,$=S+A}else w=(this.visibleTop-h.top-v)/h.height,$=(this.visibleBottom-h.top+v)/h.height;b=Yc(d,w),x=Yc(d,$)}else{let v=d.total*this.heightOracle.charWidth,w=i*this.heightOracle.charWidth,$=0;if(v>2e6)for(let D of e)D.from>=h.from&&D.from<h.to&&D.size!=D.displaySize&&D.from*this.heightOracle.charWidth+$<this.pixelViewport.left&&($=D.size-D.displaySize);let S=this.pixelViewport.left+$,A=this.pixelViewport.right+$,R,T;if(g!=null){let D=qc(d,g),M=((A-S)/2+w)/v;R=D-M,T=D+M}else R=(S-w)/v,T=(A+w)/v;b=Yc(d,R),x=Yc(d,T)}b>h.from&&c(h.from,b,h,d),x<h.to&&c(x,h.to,h,d)};for(let h of this.viewportLines)Array.isArray(h.type)?h.type.forEach(f):f(h);return a}gapSize(e,n,r,i){let o=qc(i,r)-qc(i,n);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){qd.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ye.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];Xe.spans(n,this.viewport.from,this.viewport.to,{span(o,s){r.push({from:o,to:s})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let o=0;o<r.length&&!(i&8);o++){let s=this.visibleRanges[o],a=r[o];(s.from!=a.from||s.to!=a.to)&&(i|=4,e&&e.mapPos(s.from,-1)==a.from&&e.mapPos(s.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Sa(this.heightMap.lineAt(e,lt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||Sa(this.heightMap.lineAt(this.scaler.fromDOM(e),lt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return Sa(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let Gc=class{constructor(e,n){this.from=e,this.to=n}};function XB(t,e,n){let r=[],i=t,o=0;return Xe.spans(n,t,e,{span(){},point(s,a){s>i&&(r.push({from:i,to:s}),o+=s-i),i=a}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function Yc({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:o,to:s}=e[i],a=s-o;if(r<=a)return o+r;r-=a}}function qc(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function ZB(t,e){for(let n of t)if(e(n))return n}const ny={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class m0{constructor(e,n,r){let i=0,o=0,s=0;this.viewports=r.map(({from:a,to:c})=>{let f=n.lineAt(a,lt.ByPos,e,0,0).top,h=n.lineAt(c,lt.ByPos,e,0,0).bottom;return i+=h-f,{from:a,to:c,top:f,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=s+(a.top-o)*this.scale,s=a.domBottom=a.domTop+(a.bottom-a.top),o=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}eq(e){return e instanceof m0?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function Sa(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new xr(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>Sa(i,e)):t._content)}const Xc=ue.define({combine:t=>t.join(" ")}),wm=ue.define({combine:t=>t.indexOf(!0)>-1}),$m=Di.newName(),_S=Di.newName(),LS=Di.newName(),NS={"&light":"."+_S,"&dark":"."+LS};function Cm(t,e,n){return new Di(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const QB=Cm("."+$m,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},NS),JB={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Xd=ce.ie&&ce.ie_version<=11;class eF{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new NN,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(ce.ie&&ce.ie_version<=11||ce.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(ce.chrome&&ce.chrome_version<126)&&(this.editContext=new nF(e),e.state.facet(qr)&&(e.contentDOM.editContext=this.editContext.editContext)),Xd&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(qr)?r.root.activeElement!=this.dom:!pu(this.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(ce.ie&&ce.ie_version<=11||ce.android&&ce.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Ta(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=za(e.root);if(!n)return!1;let r=ce.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&tF(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=pu(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&FN(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,JB),Xd&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Xd&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&us(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),n==-1?{from:n,to:r}=s:(n=Math.min(s.from,n),r=Math.max(s.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&pu(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new vB(this.view,e,n,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=kS(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=ry(n,e.previousSibling||e.target.previousSibling,-1),i=ry(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(qr)!=e.state.facet(qr)&&(e.view.contentDOM.editContext=e.state.facet(qr)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function ry(t,e,n){for(;e;){let r=ot.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function iy(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.docView.domAtPos(t.state.selection.main.anchor);return Ta(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function tF(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return iy(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?iy(t,n):null}class nF{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:o,head:s}=i,a=this.toEditorPos(r.updateRangeStart),c=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let f={from:a,to:c,insert:Ze.of(r.text.split(`
`))};if(f.from==this.from&&o<this.from?f.from=o:f.to==this.to&&o>this.to&&(f.to=o),f.from==f.to&&!f.insert.length){let h=Z.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));h.main.eq(i)||e.dispatch({selection:h,userEvent:"select"});return}if((ce.mac||ce.android)&&f.from==s-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(f={from:a,to:c,insert:Ze.of([r.text.replace("."," ")])}),this.pendingContextChange=f,!e.state.readOnly){let h=this.to-this.from+(f.to-f.from+f.insert.length);d0(e,f,Z.single(this.toEditorPos(r.selectionStart,h),this.toEditorPos(r.selectionEnd,h)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let i=[],o=null;for(let s=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);s<a;s++){let c=e.coordsForChar(s);o=c&&new DOMRect(c.left,c.top,c.right-c.left,c.bottom-c.top)||o||new DOMRect,i.push(o)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let o of r.getTextFormats()){let s=o.underlineStyle,a=o.underlineThickness;if(s!="None"&&a!="None"){let c=this.toEditorPos(o.rangeStart),f=this.toEditorPos(o.rangeEnd);if(c<f){let h=`text-decoration: underline ${s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;i.push(ye.mark({attributes:{style:h}}).range(c,f))}}}e.dispatch({effects:vS.of(ye.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=za(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,s,a,c,f)=>{if(r)return;let h=f.length-(s-o);if(i&&s>=i.to)if(i.from==o&&i.to==s&&i.insert.eq(f)){i=this.pendingContextChange=null,n+=h,this.to+=h;return}else i=null,this.revertPending(e.state);if(o+=n,s+=n,s<=this.from)this.from+=h,this.to+=h;else if(o<this.to){if(o<this.from||s>this.to||this.to-this.from+f.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(s),f.toString()),this.to+=h}n+=h}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class se{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(o=>r(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||BN(e.parent)||document,this.viewState=new ty(e.state||Ye.create(e)),e.scrollTo&&e.scrollTo.is(zc)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(wa).map(i=>new Kd(i));for(let i of this.plugins)i.update(this);this.observer=new eF(this),this.inputState=new CB(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Lx(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof Mt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,o=this.state;for(let g of e){if(g.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=g.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,a=0,c=null;e.some(g=>g.annotation(MS))?(this.inputState.notifiedFocused=s,a=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,c=OS(o,s),c||(a=1));let f=this.observer.delayedAndroidKey,h=null;if(f?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(h=null)):this.observer.clear(),o.facet(Ye.phrases)!=this.state.facet(Ye.phrases))return this.setState(o);i=ju.create(this,o,e),i.flags|=a;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(d&&(d=d.map(g.changes)),g.scrollIntoView){let{main:b}=g.state.selection;d=new fs(b.empty?b:Z.cursor(b.head,b.head>b.anchor?-1:1))}for(let b of g.effects)b.is(zc)&&(d=b.value.clip(this.state))}this.viewState.update(i,d),this.bidiCache=zu.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet($a)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Xc)!=i.state.facet(Xc)&&(this.viewState.mustMeasureContent=!0),(n||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let g of this.state.facet(bm))try{g(i)}catch(b){dn(this.state,b,"update listener")}(c||h)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),h&&!kS(this,h)&&f.force&&us(this.contentDOM,f.key,f.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new ty(e),this.plugins=e.facet(wa).map(r=>new Kd(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new Lx(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(wa),r=e.state.facet(wa);if(n!=r){let i=[];for(let o of r){let s=n.indexOf(o);if(s<0)i.push(new Kd(o));else{let a=this.plugins[s];a.mustUpdate=e,i.push(a)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){dn(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(s<0)if(KC(r))o=-1,s=this.viewState.heightMap.height;else{let b=this.viewState.scrollAnchorAt(i);o=b.from,s=b.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];c&4||([this.measureRequests,f]=[f,this.measureRequests]);let h=f.map(b=>{try{return b.read(this)}catch(x){return dn(this.state,x),oy}}),d=ju.create(this,this.state,[]),g=!1;d.flags|=c,n?n.flags|=c:n=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),g=this.docView.update(d),g&&this.docViewUpdate());for(let b=0;b<f.length;b++)if(h[b]!=oy)try{let x=f[b];x.write&&x.write(h[b],this)}catch(x){dn(this.state,x)}if(g&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let x=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(x>1||x<-1){i=i+x,r.scrollTop=i/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(bm))a(n)}get themeClasses(){return $m+" "+(this.state.facet(wm)?LS:_S)+" "+this.state.facet(Xc)}updateAttrs(){let e=sy(this,xS,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(qr)?"true":"false",class:"cm-content",style:`${ce.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),sy(this,u0,n);let r=this.observer.ignore(()=>{let i=hm(this.contentDOM,this.contentAttrs,n),o=hm(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(se.announce)){n&&(this.announceDOM.textContent=""),n=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet($a);let e=this.state.facet(se.cspNonce);Di.mount(this.root,this.styleModules.concat(QB).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return Yd(this,e,Vx(this,e,n,r))}moveByGroup(e,n){return Yd(this,e,Vx(this,e,n,r=>pB(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[n?r.length-1:0];return Z.cursor(o.side(n,i)+e.from,o.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return dB(this,e,n,r)}moveVertically(e,n,r){return Yd(this,e,mB(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),SS(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),s=o[ki.find(o,e-i.from,-1,n)];return vl(r,s.dir==ct.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(mS)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>rF)return aS(e.length);let n=this.textDirectionAt(e.from),r;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==n&&(o.fresh||sS(o.isolates,r=_x(this,e))))return o.order;r||(r=_x(this,e));let i=ZN(e.text,n,r);return this.bidiCache.push(new zu(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ce.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{zC(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return zc.of(new fs(typeof e=="number"?Z.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return zc.of(new fs(Z.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return wt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return wt.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=Di.newName(),i=[Xc.of(r),$a.of(Cm(`.${r}`,e))];return n&&n.dark&&i.push(wm.of(!0)),i}static baseTheme(e){return Eo.lowest($a.of(Cm("."+$m,e,NS)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&ot.get(r)||ot.get(e);return((n=i?.rootView)===null||n===void 0?void 0:n.view)||null}}se.styleModule=$a;se.inputHandler=dS;se.clipboardInputFilter=l0;se.clipboardOutputFilter=c0;se.scrollHandler=bS;se.focusChangeEffect=pS;se.perLineTextDirection=mS;se.exceptionSink=hS;se.updateListener=bm;se.editable=qr;se.mouseSelectionStyle=fS;se.dragMovesSelection=uS;se.clickAddsSelectionRange=cS;se.decorations=Ua;se.outerDecorations=yS;se.atomicRanges=f0;se.bidiIsolatedRanges=wS;se.scrollMargins=$S;se.darkTheme=wm;se.cspNonce=ue.define({combine:t=>t.length?t[0]:""});se.contentAttributes=u0;se.editorAttributes=xS;se.lineWrapping=se.contentAttributes.of({class:"cm-lineWrapping"});se.announce=Pe.define();const rF=4096,oy={};class zu{constructor(e,n,r,i,o,s){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=o,this.order=s}static update(e,n){if(n.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:ct.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==i&&!n.touchesRange(s.from,s.to)&&r.push(new zu(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function sy(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],s=typeof o=="function"?o(t):o;s&&fm(s,n)}return n}const iF=ce.mac?"mac":ce.windows?"win":ce.linux?"linux":"key";function oF(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,o,s,a;for(let c=0;c<n.length-1;++c){const f=n[c];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))o=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))e=="mac"?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+f)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),a&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function Zc(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const sF=Eo.default(se.domEventHandlers({keydown(t,e){return FS(BS(e.state),t,e,"editor")}})),Lf=ue.define({enables:sF}),ay=new WeakMap;function BS(t){let e=t.facet(Lf),n=ay.get(e);return n||ay.set(e,n=cF(e.reduce((r,i)=>r.concat(i),[]))),n}function aF(t,e,n){return FS(BS(t.state),e,t,n)}let wi=null;const lF=4e3;function cF(t,e=iF){let n=Object.create(null),r=Object.create(null),i=(s,a)=>{let c=r[s];if(c==null)r[s]=a;else if(c!=a)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,a,c,f,h)=>{var d,g;let b=n[s]||(n[s]=Object.create(null)),x=a.split(/ (?!$)/).map($=>oF($,e));for(let $=1;$<x.length;$++){let S=x.slice(0,$).join(" ");i(S,!0),b[S]||(b[S]={preventDefault:!0,stopPropagation:!1,run:[A=>{let R=wi={view:A,prefix:S,scope:s};return setTimeout(()=>{wi==R&&(wi=null)},lF),!0}]})}let v=x.join(" ");i(v,!1);let w=b[v]||(b[v]={preventDefault:!1,stopPropagation:!1,run:((g=(d=b._any)===null||d===void 0?void 0:d.run)===null||g===void 0?void 0:g.slice())||[]});c&&w.run.push(c),f&&(w.preventDefault=!0),h&&(w.stopPropagation=!0)};for(let s of t){let a=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let f of a){let h=n[f]||(n[f]=Object.create(null));h._any||(h._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=s;for(let g in h)h[g].run.push(b=>d(b,Sm))}let c=s[e]||s.key;if(c)for(let f of a)o(f,c,s.run,s.preventDefault,s.stopPropagation),s.shift&&o(f,"Shift-"+c,s.shift,s.preventDefault,s.stopPropagation)}return n}let Sm=null;function FS(t,e,n,r){Sm=e;let i=DN(e),o=un(i,0),s=vr(o)==i.length&&i!=" ",a="",c=!1,f=!1,h=!1;wi&&wi.view==n&&wi.scope==r&&(a=wi.prefix+" ",ES.indexOf(e.keyCode)<0&&(f=!0,wi=null));let d=new Set,g=w=>{if(w){for(let $ of w.run)if(!d.has($)&&(d.add($),$(n)))return w.stopPropagation&&(h=!0),!0;w.preventDefault&&(w.stopPropagation&&(h=!0),f=!0)}return!1},b=t[r],x,v;return b&&(g(b[a+Zc(i,e,!s)])?c=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ce.windows&&e.ctrlKey&&e.altKey)&&(x=Ii[e.keyCode])&&x!=i?(g(b[a+Zc(x,e,!0)])||e.shiftKey&&(v=Ha[e.keyCode])!=i&&v!=x&&g(b[a+Zc(v,e,!1)]))&&(c=!0):s&&e.shiftKey&&g(b[a+Zc(i,e,!0)])&&(c=!0),!c&&g(b._any)&&(c=!0)),f&&(c=!0),c&&h&&e.stopPropagation(),Sm=null,c}class wl{constructor(e,n,r,i,o){this.className=e,this.left=n,this.top=r,this.width=i,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=WS(e);return[new wl(n,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}else return uF(e,n,r)}}function WS(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==ct.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function ly(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let o=t.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,a=t.posAtCoords({x:o.left+1,y:s}),c=t.posAtCoords({x:o.right-1,y:s});return a==null||c==null?r:{from:Math.max(r.from,Math.min(a,c)),to:Math.min(r.to,Math.max(a,c))}}function uF(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),o=t.textDirection==ct.LTR,s=t.contentDOM,a=s.getBoundingClientRect(),c=WS(t),f=s.querySelector(".cm-line"),h=f&&window.getComputedStyle(f),d=a.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),g=a.right-(h?parseInt(h.paddingRight):0),b=xm(t,r),x=xm(t,i),v=b.type==nn.Text?b:null,w=x.type==nn.Text?x:null;if(v&&(t.lineWrapping||b.widgetLineBreaks)&&(v=ly(t,r,1,v)),w&&(t.lineWrapping||x.widgetLineBreaks)&&(w=ly(t,i,-1,w)),v&&w&&v.from==w.from&&v.to==w.to)return S(A(n.from,n.to,v));{let T=v?A(n.from,null,v):R(b,!1),D=w?A(null,n.to,w):R(x,!0),M=[];return(v||b).to<(w||x).from-(v&&w?1:0)||b.widgetLineBreaks>1&&T.bottom+t.defaultLineHeight/2<D.top?M.push($(d,T.bottom,g,D.top)):T.bottom<D.top&&t.elementAtHeight((T.bottom+D.top)/2).type==nn.Text&&(T.bottom=D.top=(T.bottom+D.top)/2),S(T).concat(M).concat(S(D))}function $(T,D,M,B){return new wl(e,T-c.left,D-c.top,M-T,B-D)}function S({top:T,bottom:D,horizontal:M}){let B=[];for(let N=0;N<M.length;N+=2)B.push($(M[N],T,M[N+1],D));return B}function A(T,D,M){let B=1e9,N=-1e9,W=[];function K(G,ne,le,ee,ae){let X=t.coordsAtPos(G,G==M.to?-2:2),de=t.coordsAtPos(le,le==M.from?2:-2);!X||!de||(B=Math.min(X.top,de.top,B),N=Math.max(X.bottom,de.bottom,N),ae==ct.LTR?W.push(o&&ne?d:X.left,o&&ee?g:de.right):W.push(!o&&ee?d:de.left,!o&&ne?g:X.right))}let j=T??M.from,Q=D??M.to;for(let G of t.visibleRanges)if(G.to>j&&G.from<Q)for(let ne=Math.max(G.from,j),le=Math.min(G.to,Q);;){let ee=t.state.doc.lineAt(ne);for(let ae of t.bidiSpans(ee)){let X=ae.from+ee.from,de=ae.to+ee.from;if(X>=le)break;de>ne&&K(Math.max(X,ne),T==null&&X<=j,Math.min(de,le),D==null&&de>=Q,ae.dir)}if(ne=ee.to+1,ne>=le)break}return W.length==0&&K(j,T==null,Q,D==null,t.textDirection),{top:B,bottom:N,horizontal:W}}function R(T,D){let M=a.top+(D?T.top:T.bottom);return{top:M,bottom:M,horizontal:[]}}}function fF(t,e){return t.constructor==e.constructor&&t.eq(e)}class hF{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(vu)!=e.state.facet(vu)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(vu);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!fF(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const vu=ue.define();function VS(t){return[wt.define(e=>new hF(e,t)),vu.of(t)]}const jS=!(ce.ios&&ce.webkit&&ce.webkit_version<534),Ka=ue.define({combine(t){return Or(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function dF(t={}){return[Ka.of(t),pF,mF,gF,gS.of(!0)]}function HS(t){return t.startState.facet(Ka)!=t.state.facet(Ka)}const pF=VS({above:!0,markers(t){let{state:e}=t,n=e.facet(Ka),r=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty?!o||jS:n.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:Z.cursor(i.head,i.head>i.anchor?-1:1);for(let c of wl.forRange(t,s,a))r.push(c)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=HS(t);return n&&cy(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){cy(e.state,t)},class:"cm-cursorLayer"});function cy(t,e){e.style.animationDuration=t.facet(Ka).cursorBlinkRate+"ms"}const mF=VS({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:wl.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||HS(t)},class:"cm-selectionLayer"}),km={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};jS&&(km[".cm-line"].caretColor=km[".cm-content"].caretColor="transparent !important");const gF=Eo.highest(se.theme(km)),zS=Pe.define({map(t,e){return t==null?null:e.mapPos(t)}}),ka=Lt.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(zS)?r.value:n,t)}}),bF=wt.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(ka);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(ka)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(ka),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(ka)!=t&&this.view.dispatch({effects:zS.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function vF(){return[ka,bF]}function uy(t,e,n,r,i){e.lastIndex=0;for(let o=t.iterRange(n,r),s=n,a;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;a=e.exec(o.value);)i(s+a.index,a)}function xF(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:o}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),o=Math.min(t.state.doc.lineAt(o).to,o+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}class yF{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:o,maxLength:s=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,c,f,h)=>i(h,f,f+a[0].length,a,c);else if(typeof r=="function")this.addMatch=(a,c,f,h)=>{let d=r(a,c,f);d&&h(f,f+a[0].length,d)};else if(r)this.addMatch=(a,c,f,h)=>h(f,f+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=s}createDeco(e){let n=new ni,r=n.add.bind(n);for(let{from:i,to:o}of xF(e,this.maxLength))uy(e.state.doc,this.regexp,i,o,(s,a)=>this.addMatch(a,e,s,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((o,s,a,c)=>{c>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(c,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let o of e.visibleRanges){let s=Math.max(o.from,r),a=Math.min(o.to,i);if(a>s){let c=e.state.doc.lineAt(s),f=c.to<a?e.state.doc.lineAt(a):c,h=Math.max(o.from,c.from),d=Math.min(o.to,f.to);if(this.boundary){for(;s>c.from;s--)if(this.boundary.test(c.text[s-1-c.from])){h=s;break}for(;a<f.to;a++)if(this.boundary.test(f.text[a-f.from])){d=a;break}}let g=[],b,x=(v,w,$)=>g.push($.range(v,w));if(c==f)for(this.regexp.lastIndex=h-c.from;(b=this.regexp.exec(c.text))&&b.index<d-c.from;)this.addMatch(b,e,b.index+c.from,x);else uy(e.state.doc,this.regexp,h,d,(v,w)=>this.addMatch(w,e,v,x));n=n.update({filterFrom:h,filterTo:d,filter:(v,w)=>v<h||w>d,add:g})}}return n}}const Am=/x/.unicode!=null?"gu":"g",wF=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,Am),$F={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Zd=null;function CF(){var t;if(Zd==null&&typeof document<"u"&&document.body){let e=document.body.style;Zd=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return Zd||!1}const xu=ue.define({combine(t){let e=Or(t,{render:null,specialChars:wF,addSpecialChars:null});return(e.replaceTabs=!CF())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Am)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Am)),e}});function SF(t={}){return[xu.of(t),kF()]}let fy=null;function kF(){return fy||(fy=wt.fromClass(class{constructor(t){this.view=t,this.decorations=ye.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(xu)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new yF({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,o=un(e[0],0);if(o==9){let s=i.lineAt(r),a=n.state.tabSize,c=Vs(s.text,a,r-s.from);return ye.replace({widget:new TF((a-c%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=ye.replace({widget:new RF(t,o)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(xu);t.startState.facet(xu)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const AF="•";function EF(t){return t>=32?AF:t==10?"␤":String.fromCharCode(9216+t)}class RF extends li{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=EF(this.code),r=e.state.phrase("Control character")+" "+($F[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let o=document.createElement("span");return o.textContent=n,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class TF extends li{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function PF(){return OF}const MF=ye.line({class:"cm-activeLine"}),OF=wt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(MF.range(i.from)),e=i.from)}return ye.set(n)}},{decorations:t=>t.decorations});class DF extends li{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),typeof this.content=="string"?n.setAttribute("aria-label","placeholder "+this.content):n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?$s(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=vl(n[0],r.direction!="rtl"),o=parseInt(r.lineHeight);return i.bottom-i.top>o*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+o}:i}ignoreEvent(){return!1}}function IF(t){return wt.fromClass(class{constructor(e){this.view=e,this.placeholder=t?ye.set([ye.widget({widget:new DF(t),side:1}).range(0)]):ye.none}get decorations(){return this.view.state.doc.length?ye.none:this.placeholder}},{decorations:e=>e.decorations})}const Em=2e3;function _F(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),o=[];if(e.off>Em||n.off>Em||e.col<0||n.col<0){let s=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let c=r;c<=i;c++){let f=t.doc.line(c);f.length<=a&&o.push(Z.range(f.from+s,f.to+a))}}else{let s=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let c=r;c<=i;c++){let f=t.doc.line(c),h=im(f.text,s,t.tabSize,!0);if(h<0)o.push(Z.cursor(f.to));else{let d=im(f.text,a,t.tabSize);o.push(Z.range(f.from+h,f.from+d))}}}return o}function LF(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function hy(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,o=i>Em?-1:i==r.length?LF(t,e.clientX):Vs(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function NF(t,e){let n=hy(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(n.line).from),s=i.state.doc.lineAt(o);n={line:s.number,col:n.col,off:Math.min(n.off,s.length)},r=r.map(i.changes)}},get(i,o,s){let a=hy(t,i);if(!a)return r;let c=_F(t.state,n,a);return c.length?s?Z.create(c.concat(r.ranges)):Z.create(c):r}}:null}function BF(t){let e=n=>n.altKey&&n.button==0;return se.mouseSelectionStyle.of((n,r)=>e(r)?NF(n,r):null)}const FF={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},WF={style:"cursor: crosshair"};function VF(t={}){let[e,n]=FF[t.key||"Alt"],r=wt.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,se.contentAttributes.of(i=>{var o;return!((o=i.plugin(r))===null||o===void 0)&&o.isDown?WF:null})]}const ma="-10000px";class US{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(s=>s);let o=null;this.tooltipViews=this.tooltips.map(s=>o=r(s,o))}update(e,n){var r;let i=e.state.facet(this.facet),o=i.filter(c=>c);if(i===this.input){for(let c of this.tooltipViews)c.update&&c.update(e);return!1}let s=[],a=n?[]:null;for(let c=0;c<o.length;c++){let f=o[c],h=-1;if(f){for(let d=0;d<this.tooltips.length;d++){let g=this.tooltips[d];g&&g.create==f.create&&(h=d)}if(h<0)s[c]=this.createTooltipView(f,c?s[c-1]:null),a&&(a[c]=!!f.above);else{let d=s[c]=this.tooltipViews[h];a&&(a[c]=n[h]),d.update&&d.update(e)}}}for(let c of this.tooltipViews)s.indexOf(c)<0&&(this.removeTooltipView(c),(r=c.destroy)===null||r===void 0||r.call(c));return n&&(a.forEach((c,f)=>n[f]=c),n.length=a.length),this.input=i,this.tooltips=o,this.tooltipViews=s,!0}}function jF(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const Qd=ue.define({combine:t=>{var e,n,r;return{position:ce.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||jF}}}),dy=new WeakMap,g0=wt.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(Qd);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new US(t,b0,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(Qd);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=ma,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:o}=this.manager.tooltipViews[0];if(ce.gecko)n=o.offsetParent!=this.container.ownerDocument.body;else if(o.style.top==ma&&o.style.left=="0px"){let s=o.getBoundingClientRect();n=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(n||this.position=="absolute")if(this.parent){let o=this.parent.getBoundingClientRect();o.width&&o.height&&(t=o.width/this.parent.offsetWidth,e=o.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=h0(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((o,s)=>{let a=this.manager.tooltipViews[s];return a.getCoords?a.getCoords(o.pos):this.view.coordsAtPos(o.pos)}),size:this.manager.tooltipViews.map(({dom:o})=>o.getBoundingClientRect()),space:this.view.state.facet(Qd).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:o}=t,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let c=this.manager.tooltips[a],f=this.manager.tooltipViews[a],{dom:h}=f,d=t.pos[a],g=t.size[a];if(!d||c.clip!==!1&&(d.bottom<=Math.max(n.top,r.top)||d.top>=Math.min(n.bottom,r.bottom)||d.right<Math.max(n.left,r.left)-.1||d.left>Math.min(n.right,r.right)+.1)){h.style.top=ma;continue}let b=c.arrow?f.dom.querySelector(".cm-tooltip-arrow"):null,x=b?7:0,v=g.right-g.left,w=(e=dy.get(f))!==null&&e!==void 0?e:g.bottom-g.top,$=f.offset||zF,S=this.view.textDirection==ct.LTR,A=g.width>r.right-r.left?S?r.left:r.right-g.width:S?Math.max(r.left,Math.min(d.left-(b?14:0)+$.x,r.right-v)):Math.min(Math.max(r.left,d.left-v+(b?14:0)-$.x),r.right-v),R=this.above[a];!c.strictSide&&(R?d.top-w-x-$.y<r.top:d.bottom+w+x+$.y>r.bottom)&&R==r.bottom-d.bottom>d.top-r.top&&(R=this.above[a]=!R);let T=(R?d.top-r.top:r.bottom-d.bottom)-x;if(T<w&&f.resize!==!1){if(T<this.view.defaultLineHeight){h.style.top=ma;continue}dy.set(f,w),h.style.height=(w=T)/o+"px"}else h.style.height&&(h.style.height="");let D=R?d.top-w-x-$.y:d.bottom+x+$.y,M=A+v;if(f.overlap!==!0)for(let B of s)B.left<M&&B.right>A&&B.top<D+w&&B.bottom>D&&(D=R?B.top-w-2-x:B.bottom+x+2);if(this.position=="absolute"?(h.style.top=(D-t.parent.top)/o+"px",py(h,(A-t.parent.left)/i)):(h.style.top=D/o+"px",py(h,A/i)),b){let B=d.left+(S?$.x:-$.x)-(A+14-7);b.style.left=B/i+"px"}f.overlap!==!0&&s.push({left:A,top:D,right:M,bottom:D+w}),h.classList.toggle("cm-tooltip-above",R),h.classList.toggle("cm-tooltip-below",!R),f.positioned&&f.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=ma}},{eventObservers:{scroll(){this.maybeMeasure()}}});function py(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const HF=se.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),zF={x:0,y:0},b0=ue.define({enables:[g0,HF]}),Uu=ue.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class Nf{static create(e){return new Nf(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new US(e,Uu,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const UF=b0.compute([Uu],t=>{let e=t.facet(Uu);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:Nf.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class KF{constructor(e,n,r,i,o){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let i,o=1;if(r instanceof Si)i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let a=e.coordsAtPos(i);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-e.defaultCharacterWidth||n.x>a.right+e.defaultCharacterWidth)return;let c=e.bidiSpans(e.state.doc.lineAt(i)).find(h=>h.from<=i&&h.to>=i),f=c&&c.dir==ct.RTL?-1:1;o=n.x<a.left?-f:f}let s=this.source(e,i,o);if(s?.then){let a=this.pending={pos:i};s.then(c=>{this.pending==a&&(this.pending=null,c&&!(Array.isArray(c)&&!c.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(c)?c:[c])}))},c=>dn(e.state,c,"hover tooltip"))}else s&&!(Array.isArray(s)&&!s.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let e=this.view.plugin(g0),n=e?e.manager.tooltips.findIndex(r=>r.create==Nf.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!GF(o.dom,e)||this.pending){let{pos:s}=i[0]||this.pending,a=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:s;(s==a?this.view.posAtCoords(this.lastMove)!=s:!YF(this.view,s,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Qc=4;function GF(t,e){let{left:n,right:r,top:i,bottom:o}=t.getBoundingClientRect(),s;if(s=t.querySelector(".cm-tooltip-arrow")){let a=s.getBoundingClientRect();i=Math.min(a.top,i),o=Math.max(a.bottom,o)}return e.clientX>=n-Qc&&e.clientX<=r+Qc&&e.clientY>=i-Qc&&e.clientY<=o+Qc}function YF(t,e,n,r,i,o){let s=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(s.left>r||s.right<r||s.top>i||Math.min(s.bottom,a)<i)return!1;let c=t.posAtCoords({x:r,y:i},!1);return c>=e&&c<=n}function qF(t,e={}){let n=Pe.define(),r=Lt.define({create(){return[]},update(i,o){if(i.length&&(e.hideOnChange&&(o.docChanged||o.selection)?i=[]:e.hideOn&&(i=i.filter(s=>!e.hideOn(o,s))),o.docChanged)){let s=[];for(let a of i){let c=o.changes.mapPos(a.pos,-1,tn.TrackDel);if(c!=null){let f=Object.assign(Object.create(null),a);f.pos=c,f.end!=null&&(f.end=o.changes.mapPos(f.end)),s.push(f)}}i=s}for(let s of o.effects)s.is(n)&&(i=s.value),s.is(XF)&&(i=[]);return i},provide:i=>Uu.from(i)});return{active:r,extension:[r,wt.define(i=>new KF(i,t,r,n,e.hoverTime||300)),UF]}}function KS(t,e){let n=t.plugin(g0);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const XF=Pe.define(),my=ue.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function Ga(t,e){let n=t.plugin(GS),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const GS=wt.fromClass(class{constructor(t){this.input=t.state.facet(Ya),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(my);this.top=new Jc(t,!0,e.topContainer),this.bottom=new Jc(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(my);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Jc(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Jc(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Ya);if(n!=this.input){let r=n.filter(c=>c),i=[],o=[],s=[],a=[];for(let c of r){let f=this.specs.indexOf(c),h;f<0?(h=c(t.view),a.push(h)):(h=this.panels[f],h.update&&h.update(t)),i.push(h),(h.top?o:s).push(h)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(s);for(let c of a)c.dom.classList.add("cm-panel"),c.mount&&c.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>se.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Jc{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=gy(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=gy(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function gy(t){let e=t.nextSibling;return t.remove(),e}const Ya=ue.define({enables:GS});class ii extends vo{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ii.prototype.elementClass="";ii.prototype.toDOM=void 0;ii.prototype.mapMode=tn.TrackBefore;ii.prototype.startSide=ii.prototype.endSide=-1;ii.prototype.point=!0;const yu=ue.define(),ZF=ue.define(),QF={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Xe.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Ma=ue.define();function JF(t){return[YS(),Ma.of(Object.assign(Object.assign({},QF),t))]}const by=ue.define({combine:t=>t.some(e=>e)});function YS(t){return[eW]}const eW=wt.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Ma).map(e=>new xy(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(by),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(by)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=Xe.iter(this.view.state.facet(yu),this.view.viewport.from),r=[],i=this.gutters.map(o=>new tW(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let s=!0;for(let a of o.type)if(a.type==nn.Text&&s){Rm(n,r,a.from);for(let c of i)c.line(this.view,a,r);s=!1}else if(a.widget)for(let c of i)c.widget(this.view,a)}else if(o.type==nn.Text){Rm(n,r,o.from);for(let s of i)s.line(this.view,o,r)}else if(o.widget)for(let s of i)s.widget(this.view,o);for(let o of i)o.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Ma),n=t.state.facet(Ma),r=t.docChanged||t.heightChanged||t.viewportChanged||!Xe.eq(t.startState.facet(yu),t.state.facet(yu),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let o of n){let s=e.indexOf(o);s<0?i.push(new xy(this.view,o)):(this.gutters[s].update(t),i.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>se.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==ct.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}})});function vy(t){return Array.isArray(t)?t:[t]}function Rm(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class tW{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Xe.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,o=(n.top-this.height)/e.scaleY,s=n.height/e.scaleY;if(this.i==i.elements.length){let a=new qS(e,s,o,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,s,o,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];Rm(this.cursor,i,n.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,n,i);o&&i.unshift(o);let s=this.gutter;i.length==0&&!s.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let o of e.state.facet(ZF)){let s=o(e,n.widget,n);s&&(i||(i=[])).push(s)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class xy{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let c=o.getBoundingClientRect();s=(c.top+c.bottom)/2}else s=i.clientY;let a=e.lineBlockAtHeight(s-e.documentTop);n.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=vy(n.markers(e)),n.initialSpacer&&(this.spacer=new qS(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=vy(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Xe.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class qS{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),nW(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,s=0;;){let a=s,c=o<n.length?n[o++]:null,f=!1;if(c){let h=c.elementClass;h&&(r+=" "+h);for(let d=s;d<this.markers.length;d++)if(this.markers[d].compare(c)){a=d,f=!0;break}}else a=this.markers.length;for(;s<a;){let h=this.markers[s++];if(h.toDOM){h.destroy(i);let d=i.nextSibling;i.remove(),i=d}}if(!c)break;c.toDOM&&(f?i=i.nextSibling:this.dom.insertBefore(c.toDOM(e),i)),f&&s++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function nW(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const rW=ue.define(),iW=ue.define(),rs=ue.define({combine(t){return Or(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let o=r[i],s=n[i];r[i]=o?(a,c,f)=>o(a,c,f)||s(a,c,f):s}return r}})}});class Jd extends ii{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function ep(t,e){return t.state.facet(rs).formatNumber(e,t.state)}const oW=Ma.compute([rs],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(rW)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new Jd(ep(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(iW)){let o=i(e,n,r);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(rs)!=e.state.facet(rs),initialSpacer(e){return new Jd(ep(e,yy(e.state.doc.lines)))},updateSpacer(e,n){let r=ep(n.view,yy(n.view.state.doc.lines));return r==e.number?e:new Jd(r)},domEventHandlers:t.facet(rs).domEventHandlers}));function sW(t={}){return[rs.of(t),YS(),oW]}function yy(t){let e=9;for(;e<t;)e=e*10+9;return e}const aW=new class extends ii{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},lW=yu.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(aW.range(i)))}return Xe.of(e)});function cW(){return lW}var tp;const is=new He;function uW(t){return ue.define({combine:t?e=>e.concat(t):void 0})}const fW=new He;class Qn{constructor(e,n,r=[],i=""){this.data=e,this.name=i,Ye.prototype.hasOwnProperty("tree")||Object.defineProperty(Ye.prototype,"tree",{get(){return qt(this)}}),this.parser=n,this.extension=[Li.of(this),Ye.languageData.of((o,s,a)=>{let c=wy(o,s,a),f=c.type.prop(is);if(!f)return[];let h=o.facet(f),d=c.type.prop(fW);if(d){let g=c.resolve(s-c.from,a);for(let b of d)if(b.test(g,o)){let x=o.facet(b.facet);return b.type=="replace"?x:x.concat(h)}}return h})].concat(r)}isActiveAt(e,n,r=-1){return wy(e,n,r).type.prop(is)==this.data}findRegions(e){let n=e.facet(Li);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(o,s)=>{if(o.prop(is)==this.data){r.push({from:s,to:s+o.length});return}let a=o.prop(He.mounted);if(a){if(a.tree.prop(is)==this.data){if(a.overlay)for(let c of a.overlay)r.push({from:c.from+s,to:c.to+s});else r.push({from:s,to:s+o.length});return}else if(a.overlay){let c=r.length;if(i(a.tree,a.overlay[0].from+s),r.length>c)return}}for(let c=0;c<o.children.length;c++){let f=o.children[c];f instanceof Et&&i(f,o.positions[c]+s)}};return i(qt(e),0),r}get allowsNesting(){return!0}}Qn.setState=Pe.define();function wy(t,e,n){let r=t.facet(Li),i=qt(t).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,n,It.ExcludeBuffers))o.type.isTop&&(i=o);return i}class Ku extends Qn{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=uW(e.languageData);return new Ku(n,e.parser.configure({props:[is.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new Ku(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function qt(t){let e=t.field(Qn.state,!1);return e?e.tree:Et.empty}class hW{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let ga=null;class Gu{constructor(e,n,r=[],i,o,s,a,c){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=c,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new Gu(e,n,[],Et.empty,0,r,[],null)}startParse(){return this.parser.startParse(new hW(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Et.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(uo.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(uo.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=ga;ga=this;try{return e()}finally{ga=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=$y(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:o,viewport:s,skipped:a}=this;if(this.takeTree(),!e.empty){let c=[];if(e.iterChangedRanges((f,h,d,g)=>c.push({fromA:f,toA:h,fromB:d,toB:g})),r=uo.applyChanges(r,c),i=Et.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){a=[];for(let f of this.skipped){let h=e.mapPos(f.from,1),d=e.mapPos(f.to,-1);h<d&&a.push({from:h,to:d})}}}return new Gu(this.parser,n,r,i,o,s,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=$y(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends wC{createParse(n,r,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let c=ga;if(c){for(let f of i)c.tempSkipped.push(f);e&&(c.scheduleOn=c.scheduleOn?Promise.all([c.scheduleOn,e]):e)}return this.parsedPos=s,new Et(gn.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return ga}}function $y(t,e,n){return uo.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class As{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new As(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=Gu.create(e.facet(Li).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new As(r)}}Qn.state=Lt.define({create:As.init,update(t,e){for(let n of e.effects)if(n.is(Qn.setState))return n.value;return e.startState.facet(Li)!=e.state.facet(Li)?As.init(e.state):t.apply(e)}});let XS=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(XS=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const np=typeof navigator<"u"&&(!((tp=navigator.scheduling)===null||tp===void 0)&&tp.isInputPending)?()=>navigator.scheduling.isInputPending():null,dW=wt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Qn.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Qn.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=XS(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(Qn.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!np?Math.max(25,e.timeRemaining()-5):1e9),a=o.context.treeLen<i&&r.doc.length>i+1e3,c=o.context.work(()=>np&&np()||Date.now()>s,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(c||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Qn.setState.of(new As(o.context))})),this.chunkBudget>0&&!(c&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>dn(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Li=ue.define({combine(t){return t.length?t[0]:null},enables:t=>[Qn.state,dW,se.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class pW{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const mW=ue.define(),Bf=ue.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Yu(t){let e=t.facet(Bf);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function qa(t,e){let n="",r=t.tabSize,i=t.facet(Bf)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let o=0;o<e;o++)n+=i;return n}function v0(t,e){t instanceof Ye&&(t=new Ff(t));for(let r of t.state.facet(mW)){let i=r(t,e);if(i!==void 0)return i}let n=qt(t.state);return n.length>=e?gW(t,n,e):null}class Ff{constructor(e,n={}){this.state=e,this.options=n,this.unit=Yu(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,n=e.length){return Vs(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const ZS=new He;function gW(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let o=[];for(let s=i;s&&!(s.from==r.node.from&&s.type==r.node.type);s=s.parent)o.push(s);for(let s=o.length-1;s>=0;s--)r={node:o[s],next:r}}return QS(r,t,n)}function QS(t,e,n){for(let r=t;r;r=r.next){let i=vW(r.node);if(i)return i(x0.create(e,n,r))}return 0}function bW(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function vW(t){let e=t.type.prop(ZS);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(He.closedBy))){let i=t.lastChild,o=i&&r.indexOf(i.name)>-1;return s=>$W(s,!0,1,void 0,o&&!bW(s)?i.from:void 0)}return t.parent==null?xW:null}function xW(){return 0}class x0 extends Ff{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new x0(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(yW(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return QS(this.context.next,this.base,this.pos)}}function yW(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function wW(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(n.from),s=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let a=n.to;;){let c=e.childAfter(a);if(!c||c==r)return null;if(!c.type.isSkipped){if(c.from>=s)return null;let f=/^ */.exec(o.text.slice(n.to-o.from))[0].length;return{from:n.from,to:n.to+f}}a=c.to}}function $W(t,e,n,r,i){let o=t.textAfter,s=o.match(/^\s*/)[0].length,a=r&&o.slice(s,s+r.length)==r||i==t.pos+s,c=wW(t);return c?a?t.column(c.from):t.column(c.to):t.baseIndent+(a?0:t.unit*n)}function Cy({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const CW=200;function SW(){return Ye.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+CW)return t;let o=n.sliceString(i.from,r);if(!e.some(f=>f.test(o)))return t;let{state:s}=t,a=-1,c=[];for(let{head:f}of s.selection.ranges){let h=s.doc.lineAt(f);if(h.from==a)continue;a=h.from;let d=v0(s,h.from);if(d==null)continue;let g=/^\s*/.exec(h.text)[0],b=qa(s,d);g!=b&&c.push({from:h.from,to:h.from+g.length,insert:b})}return c.length?[t,{changes:c,sequential:!0}]:t})}const kW=ue.define(),JS=new He;function AW(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function EW(t,e,n){let r=qt(t);if(r.length<n)return null;let i=r.resolveStack(n,1),o=null;for(let s=i;s;s=s.next){let a=s.node;if(a.to<=n||a.from>n)continue;if(o&&a.from<e)break;let c=a.type.prop(JS);if(c&&(a.to<r.length-50||r.length==t.doc.length||!RW(a))){let f=c(a,t);f&&f.from<=n&&f.from>=e&&f.to>n&&(o=f)}}return o}function RW(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function qu(t,e,n){for(let r of t.facet(kW)){let i=r(t,e,n);if(i)return i}return EW(t,e,n)}function ek(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const Wf=Pe.define({map:ek}),$l=Pe.define({map:ek});function tk(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const $o=Lt.define({create(){return ye.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(Wf)&&!TW(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(ik),i=r?ye.replace({widget:new LW(r(e.state,n.value))}):Sy;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is($l)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,(i,o)=>{i<r&&o>r&&(n=!0)}),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(i,o)=>o<=r||i>=r}))}return t},provide:t=>se.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(Sy.range(r,i))}return ye.set(e,!0)}});function Xu(t,e,n){var r;let i=null;return(r=t.field($o,!1))===null||r===void 0||r.between(e,n,(o,s)=>{(!i||i.from>o)&&(i={from:o,to:s})}),i}function TW(t,e,n){let r=!1;return t.between(e,e,(i,o)=>{i==e&&o==n&&(r=!0)}),r}function nk(t,e){return t.field($o,!1)?e:e.concat(Pe.appendConfig.of(ok()))}const PW=t=>{for(let e of tk(t)){let n=qu(t.state,e.from,e.to);if(n)return t.dispatch({effects:nk(t.state,[Wf.of(n),rk(t,n)])}),!0}return!1},MW=t=>{if(!t.state.field($o,!1))return!1;let e=[];for(let n of tk(t)){let r=Xu(t.state,n.from,n.to);r&&e.push($l.of(r),rk(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function rk(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return se.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const OW=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),o=qu(e,i.from,i.to);o&&n.push(Wf.of(o)),r=(o?t.lineBlockAt(o.to):i).to+1}return n.length&&t.dispatch({effects:nk(t.state,n)}),!!n.length},DW=t=>{let e=t.state.field($o,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push($l.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},IW=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:PW},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:MW},{key:"Ctrl-Alt-[",run:OW},{key:"Ctrl-Alt-]",run:DW}],_W={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},ik=ue.define({combine(t){return Or(t,_W)}});function ok(t){return[$o,FW]}function sk(t,e){let{state:n}=t,r=n.facet(ik),i=s=>{let a=t.lineBlockAt(t.posAtDOM(s.target)),c=Xu(t.state,a.from,a.to);c&&t.dispatch({effects:$l.of(c)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",n.phrase("folded code")),o.title=n.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}const Sy=ye.replace({widget:new class extends li{toDOM(t){return sk(t,null)}}});class LW extends li{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return sk(e,this.value)}}const NW={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class rp extends ii{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function BW(t={}){let e=Object.assign(Object.assign({},NW),t),n=new rp(e,!0),r=new rp(e,!1),i=wt.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(Li)!=s.state.facet(Li)||s.startState.field($o,!1)!=s.state.field($o,!1)||qt(s.startState)!=qt(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let a=new ni;for(let c of s.viewportLineBlocks){let f=Xu(s.state,c.from,c.to)?r:qu(s.state,c.from,c.to)?n:null;f&&a.add(c.from,c.from,f)}return a.finish()}}),{domEventHandlers:o}=e;return[i,JF({class:"cm-foldGutter",markers(s){var a;return((a=s.plugin(i))===null||a===void 0?void 0:a.markers)||Xe.empty},initialSpacer(){return new rp(e,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(s,a,c)=>{if(o.click&&o.click(s,a,c))return!0;let f=Xu(s.state,a.from,a.to);if(f)return s.dispatch({effects:$l.of(f)}),!0;let h=qu(s.state,a.from,a.to);return h?(s.dispatch({effects:Wf.of(h)}),!0):!1}})}),ok()]}const FW=se.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Cl{constructor(e,n){this.specs=e;let r;function i(a){let c=Di.newName();return(r||(r=Object.create(null)))["."+c]=a,c}const o=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,s=n.scope;this.scope=s instanceof Qn?a=>a.prop(is)==s.data:s?a=>a==s:void 0,this.style=SC(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:o}).style,this.module=r?new Di(r):null,this.themeType=n.themeType}static define(e,n){return new Cl(e,n||{})}}const Tm=ue.define(),ak=ue.define({combine(t){return t.length?[t[0]]:null}});function ip(t){let e=t.facet(Tm);return e.length?e:t.facet(ak)}function lk(t,e){let n=[VW],r;return t instanceof Cl&&(t.module&&n.push(se.styleModule.of(t.module)),r=t.themeType),e?.fallback?n.push(ak.of(t)):r?n.push(Tm.computeN([se.darkTheme],i=>i.facet(se.darkTheme)==(r=="dark")?[t]:[])):n.push(Tm.of(t)),n}class WW{constructor(e){this.markCache=Object.create(null),this.tree=qt(e.state),this.decorations=this.buildDeco(e,ip(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=qt(e.state),r=ip(e.state),i=r!=ip(e.startState),{viewport:o}=e.view,s=e.changes.mapPos(this.decoratedTo,1);n.length<o.to&&!i&&n.type==this.tree.type&&s>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=o.to)}buildDeco(e,n){if(!n||!this.tree.length)return ye.none;let r=new ni;for(let{from:i,to:o}of e.visibleRanges)sN(this.tree,n,(s,a,c)=>{r.add(s,a,this.markCache[c]||(this.markCache[c]=ye.mark({class:c})))},i,o);return r.finish()}}const VW=Eo.high(wt.fromClass(WW,{decorations:t=>t.decorations})),jW=Cl.define([{tag:H.meta,color:"#404740"},{tag:H.link,textDecoration:"underline"},{tag:H.heading,textDecoration:"underline",fontWeight:"bold"},{tag:H.emphasis,fontStyle:"italic"},{tag:H.strong,fontWeight:"bold"},{tag:H.strikethrough,textDecoration:"line-through"},{tag:H.keyword,color:"#708"},{tag:[H.atom,H.bool,H.url,H.contentSeparator,H.labelName],color:"#219"},{tag:[H.literal,H.inserted],color:"#164"},{tag:[H.string,H.deleted],color:"#a11"},{tag:[H.regexp,H.escape,H.special(H.string)],color:"#e40"},{tag:H.definition(H.variableName),color:"#00f"},{tag:H.local(H.variableName),color:"#30a"},{tag:[H.typeName,H.namespace],color:"#085"},{tag:H.className,color:"#167"},{tag:[H.special(H.variableName),H.macroName],color:"#256"},{tag:H.definition(H.propertyName),color:"#00c"},{tag:H.comment,color:"#940"},{tag:H.invalid,color:"#f00"}]),HW=se.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),ck=1e4,uk="()[]{}",fk=ue.define({combine(t){return Or(t,{afterCursor:!0,brackets:uk,maxScanDistance:ck,renderMatch:KW})}}),zW=ye.mark({class:"cm-matchingBracket"}),UW=ye.mark({class:"cm-nonmatchingBracket"});function KW(t){let e=[],n=t.matched?zW:UW;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const GW=Lt.define({create(){return ye.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(fk);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=yr(e.state,i.head,-1,r)||i.head>0&&yr(e.state,i.head-1,1,r)||r.afterCursor&&(yr(e.state,i.head,1,r)||i.head<e.state.doc.length&&yr(e.state,i.head+1,-1,r));o&&(n=n.concat(r.renderMatch(o,e.state)))}return ye.set(n,!0)},provide:t=>se.decorations.from(t)}),YW=[GW,HW];function qW(t={}){return[fk.of(t),YW]}const XW=new He;function Pm(t,e,n){let r=t.prop(e<0?He.openedBy:He.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function Mm(t){let e=t.type.prop(XW);return e?e(t.node):t}function yr(t,e,n,r={}){let i=r.maxScanDistance||ck,o=r.brackets||uk,s=qt(t),a=s.resolveInner(e,n);for(let c=a;c;c=c.parent){let f=Pm(c.type,n,o);if(f&&c.from<c.to){let h=Mm(c);if(h&&(n>0?e>=h.from&&e<h.to:e>h.from&&e<=h.to))return ZW(t,e,n,c,h,f,o)}}return QW(t,e,n,s,a.type,i,o)}function ZW(t,e,n,r,i,o,s){let a=r.parent,c={from:i.from,to:i.to},f=0,h=a?.cursor();if(h&&(n<0?h.childBefore(r.from):h.childAfter(r.to)))do if(n<0?h.to<=r.from:h.from>=r.to){if(f==0&&o.indexOf(h.type.name)>-1&&h.from<h.to){let d=Mm(h);return{start:c,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(Pm(h.type,n,s))f++;else if(Pm(h.type,-n,s)){if(f==0){let d=Mm(h);return{start:c,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}f--}}while(n<0?h.prevSibling():h.nextSibling());return{start:c,matched:!1}}function QW(t,e,n,r,i,o,s){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),c=s.indexOf(a);if(c<0||c%2==0!=n>0)return null;let f={from:n<0?e-1:e,to:n>0?e+1:e},h=t.doc.iterRange(e,n>0?t.doc.length:0),d=0;for(let g=0;!h.next().done&&g<=o;){let b=h.value;n<0&&(g+=b.length);let x=e+g*n;for(let v=n>0?0:b.length-1,w=n>0?b.length:-1;v!=w;v+=n){let $=s.indexOf(b[v]);if(!($<0||r.resolveInner(x+v,1).type!=i))if($%2==0==n>0)d++;else{if(d==1)return{start:f,end:{from:x+v,to:x+v+1},matched:$>>1==c>>1};d--}}n>0&&(g+=b.length)}return h.done?{start:f,matched:!1}:null}const JW=Object.create(null),ky=[gn.none],Ay=[],Ey=Object.create(null),eV=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])eV[t]=tV(JW,e);function op(t,e){Ay.indexOf(t)>-1||(Ay.push(t),console.warn(e))}function tV(t,e){let n=[];for(let a of e.split(" ")){let c=[];for(let f of a.split(".")){let h=t[f]||H[f];h?typeof h=="function"?c.length?c=c.map(h):op(f,`Modifier ${f} used at start of tag`):c.length?op(f,`Tag ${f} used as modifier`):c=Array.isArray(h)?h:[h]:op(f,`Unknown highlighting tag ${f}`)}for(let f of c)n.push(f)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(a=>a.id),o=Ey[i];if(o)return o.id;let s=Ey[i]=gn.define({id:ky.length,name:r,props:[$C({[r]:n})]});return ky.push(s),s.id}ct.RTL,ct.LTR;const nV=()=>t=>{try{JSON.parse(t.state.doc.toString())}catch(e){if(!(e instanceof SyntaxError))throw e;const n=rV(e,t.state.doc);return[{from:n,message:e.message,severity:"error",to:n}]}return[]};function rV(t,e){let n;return(n=t.message.match(/at position (\d+)/))?Math.min(+n[1],e.length):(n=t.message.match(/at line (\d+) column (\d+)/))?Math.min(e.line(+n[1]).from+ +n[2]-1,e.length):0}const iV=Ku.define({name:"json",parser:uN.configure({props:[ZS.add({Object:Cy({except:/^\s*\}/}),Array:Cy({except:/^\s*\]/})}),JS.add({"Object Array":AW})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function oV(){return new pW(iV)}function sV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}const aV=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=w0(t.state,n.from);return r.line?lV(t):r.block?uV(t):!1};function y0(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const lV=y0(dV,0),cV=y0(hk,0),uV=y0((t,e)=>hk(t,e,hV(e)),0);function w0(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const ba=50;function fV(t,{open:e,close:n},r,i){let o=t.sliceDoc(r-ba,r),s=t.sliceDoc(i,i+ba),a=/\s*$/.exec(o)[0].length,c=/^\s*/.exec(s)[0].length,f=o.length-a;if(o.slice(f-e.length,f)==e&&s.slice(c,c+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+c,margin:c&&1}};let h,d;i-r<=2*ba?h=d=t.sliceDoc(r,i):(h=t.sliceDoc(r,r+ba),d=t.sliceDoc(i-ba,i));let g=/^\s*/.exec(h)[0].length,b=/\s*$/.exec(d)[0].length,x=d.length-b-n.length;return h.slice(g,g+e.length)==e&&d.slice(x,x+n.length)==n?{open:{pos:r+g+e.length,margin:/\s/.test(h.charAt(g+e.length))?1:0},close:{pos:i-b-n.length,margin:/\s/.test(d.charAt(x-1))?1:0}}:null}function hV(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function hk(t,e,n=e.selection.ranges){let r=n.map(o=>w0(e,o.from).block);if(!r.every(o=>o))return null;let i=n.map((o,s)=>fV(e,r[s],o.from,o.to));if(t!=2&&!i.every(o=>o))return{changes:e.changes(n.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+" "},{from:o.to,insert:" "+r[s].close}]))};if(t!=1&&i.some(o=>o)){let o=[];for(let s=0,a;s<i.length;s++)if(a=i[s]){let c=r[s],{open:f,close:h}=a;o.push({from:f.pos-c.open.length,to:f.pos+f.margin},{from:h.pos-h.margin,to:h.pos+c.close.length})}return{changes:o}}return null}function dV(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of n){let a=r.length,c=1e9,f=w0(e,o).line;if(f){for(let h=o;h<=s;){let d=e.doc.lineAt(h);if(d.from>i&&(o==s||s>d.from)){i=d.from;let g=/^\s*/.exec(d.text)[0].length,b=g==d.length,x=d.text.slice(g,g+f.length)==f?g:-1;g<d.text.length&&g<c&&(c=g),r.push({line:d,comment:x,token:f,indent:g,empty:b,single:!1})}h=d.to+1}if(c<1e9)for(let h=a;h<r.length;h++)r[h].indent<r[h].line.text.length&&(r[h].indent=c);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:a,token:c,indent:f,empty:h,single:d}of r)(d||!h)&&o.push({from:a.from+f,insert:c+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(t!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:a,token:c}of r)if(a>=0){let f=s.from+a,h=f+c.length;s.text[h-s.from]==" "&&h++,o.push({from:f,to:h})}return{changes:o}}return null}const Om=Mr.define(),pV=Mr.define(),mV=ue.define(),dk=ue.define({combine(t){return Or(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),pk=Lt.define({create(){return wr.empty},update(t,e){let n=e.state.facet(dk),r=e.annotation(Om);if(r){let c=pn.fromTransaction(e,r.selection),f=r.side,h=f==0?t.undone:t.done;return c?h=Zu(h,h.length,n.minDepth,c):h=bk(h,e.startState.selection),new wr(f==0?r.rest:h,f==0?h:r.rest)}let i=e.annotation(pV);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Mt.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let o=pn.fromTransaction(e),s=e.annotation(Mt.time),a=e.annotation(Mt.userEvent);return o?t=t.addChanges(o,s,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,s,a,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new wr(t.done.map(pn.fromJSON),t.undone.map(pn.fromJSON))}});function gV(t={}){return[pk,dk.of(t),se.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?mk:e.inputType=="historyRedo"?Dm:null;return r?(e.preventDefault(),r(n)):!1}})]}function Vf(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(pk,!1);if(!i)return!1;let o=i.pop(t,n,e);return o?(r(o),!0):!1}}const mk=Vf(0,!1),Dm=Vf(1,!1),bV=Vf(0,!0),vV=Vf(1,!0);class pn{constructor(e,n,r,i,o){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new pn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new pn(e.changes&&Pt.fromJSON(e.changes),[],e.mapped&&Cr.fromJSON(e.mapped),e.startSelection&&Z.fromJSON(e.startSelection),e.selectionsAfter.map(Z.fromJSON))}static fromTransaction(e,n){let r=Fn;for(let i of e.startState.facet(mV)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new pn(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,Fn)}static selection(e){return new pn(void 0,Fn,void 0,void 0,e)}}function Zu(t,e,n,r){let i=e+1>n+20?e-n-1:0,o=t.slice(i,e);return o.push(r),o}function xV(t,e){let n=[],r=!1;return t.iterChangedRanges((i,o)=>n.push(i,o)),e.iterChangedRanges((i,o,s,a)=>{for(let c=0;c<n.length;){let f=n[c++],h=n[c++];a>=f&&s<=h&&(r=!0)}}),r}function yV(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function gk(t,e){return t.length?e.length?t.concat(e):t:e}const Fn=[],wV=200;function bk(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-wV));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),Zu(t,t.length-1,1e9,n.setSelAfter(r)))}else return[pn.selection([e])]}function $V(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function sp(t,e){if(!t.length)return t;let n=t.length,r=Fn;for(;n;){let i=CV(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=t.slice(0,n);return o[n-1]=i,o}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[pn.selection(r)]:Fn}function CV(t,e,n){let r=gk(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):Fn,n);if(!t.changes)return pn.selection(r);let i=t.changes.map(e),o=e.mapDesc(t.changes,!0),s=t.mapped?t.mapped.composeDesc(o):o;return new pn(i,Pe.mapEffects(t.effects,e),s,t.startSelection.map(o),r)}const SV=/^(input\.type|delete)($|\.)/;class wr{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new wr(this.done,this.undone):this}addChanges(e,n,r,i,o){let s=this.done,a=s[s.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||SV.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,xV(a.changes,e.changes))||r=="input.type.compose")?s=Zu(s,s.length-1,i.minDepth,new pn(e.changes.compose(a.changes),gk(Pe.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,Fn)):s=Zu(s,s.length,i.minDepth,e),new wr(s,Fn,n,r)}addSelection(e,n,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:Fn;return o.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&yV(o[o.length-1],e)?this:new wr(bk(this.done,e),this.undone,n,r)}addMapping(e){return new wr(sp(this.done,e),sp(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1],s=o.selectionsAfter[0]||n.selection;if(r&&o.selectionsAfter.length)return n.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:Om.of({side:e,rest:$V(i),selection:s}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let a=i.length==1?Fn:i.slice(0,i.length-1);return o.mapped&&(a=sp(a,o.mapped)),n.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:Om.of({side:e,rest:a,selection:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}wr.empty=new wr(Fn,Fn);const kV=[{key:"Mod-z",run:mk,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Dm,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Dm,preventDefault:!0},{key:"Mod-u",run:bV,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:vV,preventDefault:!0}];function js(t,e){return Z.create(t.ranges.map(e),t.mainIndex)}function Dr(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function sr({state:t,dispatch:e},n){let r=js(t.selection,n);return r.eq(t.selection,!0)?!1:(e(Dr(t,r)),!0)}function jf(t,e){return Z.cursor(e?t.to:t.from)}function vk(t,e){return sr(t,n=>n.empty?t.moveByChar(n,e):jf(n,e))}function Xt(t){return t.textDirectionAt(t.state.selection.main.head)==ct.LTR}const xk=t=>vk(t,!Xt(t)),yk=t=>vk(t,Xt(t));function wk(t,e){return sr(t,n=>n.empty?t.moveByGroup(n,e):jf(n,e))}const AV=t=>wk(t,!Xt(t)),EV=t=>wk(t,Xt(t));function RV(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Hf(t,e,n){let r=qt(t).resolveInner(e.head),i=n?He.closedBy:He.openedBy;for(let c=e.head;;){let f=n?r.childAfter(c):r.childBefore(c);if(!f)break;RV(t,f,i)?r=f:c=n?f.to:f.from}let o=r.type.prop(i),s,a;return o&&(s=n?yr(t,r.from,1):yr(t,r.to,-1))&&s.matched?a=n?s.end.to:s.end.from:a=n?r.to:r.from,Z.cursor(a,n?-1:1)}const TV=t=>sr(t,e=>Hf(t.state,e,!Xt(t))),PV=t=>sr(t,e=>Hf(t.state,e,Xt(t)));function $k(t,e){return sr(t,n=>{if(!n.empty)return jf(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const Ck=t=>$k(t,!1),Sk=t=>$k(t,!0);function kk(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let o of t.state.facet(se.scrollMargins)){let s=o(t);s?.top&&(n=Math.max(s?.top,n)),s?.bottom&&(r=Math.max(s?.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function Ak(t,e){let n=kk(t),{state:r}=t,i=js(r.selection,s=>s.empty?t.moveVertically(s,e,n.height):jf(s,e));if(i.eq(r.selection))return!1;let o;if(n.selfScroll){let s=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),c=a.top+n.marginTop,f=a.bottom-n.marginBottom;s&&s.top>c&&s.bottom<f&&(o=se.scrollIntoView(i.main.head,{y:"start",yMargin:s.top-c}))}return t.dispatch(Dr(r,i),{effects:o}),!0}const Ry=t=>Ak(t,!1),Im=t=>Ak(t,!0);function Hi(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let o=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=Z.cursor(r.from+o))}return i}const MV=t=>sr(t,e=>Hi(t,e,!0)),OV=t=>sr(t,e=>Hi(t,e,!1)),DV=t=>sr(t,e=>Hi(t,e,!Xt(t))),IV=t=>sr(t,e=>Hi(t,e,Xt(t))),_V=t=>sr(t,e=>Z.cursor(t.lineBlockAt(e.head).from,1)),LV=t=>sr(t,e=>Z.cursor(t.lineBlockAt(e.head).to,-1));function NV(t,e,n){let r=!1,i=js(t.selection,o=>{let s=yr(t,o.head,-1)||yr(t,o.head,1)||o.head>0&&yr(t,o.head-1,1)||o.head<t.doc.length&&yr(t,o.head+1,-1);if(!s||!s.end)return o;r=!0;let a=s.start.from==o.head?s.end.to:s.end.from;return Z.cursor(a)});return r?(e(Dr(t,i)),!0):!1}const BV=({state:t,dispatch:e})=>NV(t,e);function zn(t,e){let n=js(t.state.selection,r=>{let i=e(r);return Z.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Dr(t.state,n)),!0)}function Ek(t,e){return zn(t,n=>t.moveByChar(n,e))}const Rk=t=>Ek(t,!Xt(t)),Tk=t=>Ek(t,Xt(t));function Pk(t,e){return zn(t,n=>t.moveByGroup(n,e))}const FV=t=>Pk(t,!Xt(t)),WV=t=>Pk(t,Xt(t)),VV=t=>zn(t,e=>Hf(t.state,e,!Xt(t))),jV=t=>zn(t,e=>Hf(t.state,e,Xt(t)));function Mk(t,e){return zn(t,n=>t.moveVertically(n,e))}const Ok=t=>Mk(t,!1),Dk=t=>Mk(t,!0);function Ik(t,e){return zn(t,n=>t.moveVertically(n,e,kk(t).height))}const Ty=t=>Ik(t,!1),Py=t=>Ik(t,!0),HV=t=>zn(t,e=>Hi(t,e,!0)),zV=t=>zn(t,e=>Hi(t,e,!1)),UV=t=>zn(t,e=>Hi(t,e,!Xt(t))),KV=t=>zn(t,e=>Hi(t,e,Xt(t))),GV=t=>zn(t,e=>Z.cursor(t.lineBlockAt(e.head).from)),YV=t=>zn(t,e=>Z.cursor(t.lineBlockAt(e.head).to)),My=({state:t,dispatch:e})=>(e(Dr(t,{anchor:0})),!0),Oy=({state:t,dispatch:e})=>(e(Dr(t,{anchor:t.doc.length})),!0),Dy=({state:t,dispatch:e})=>(e(Dr(t,{anchor:t.selection.main.anchor,head:0})),!0),Iy=({state:t,dispatch:e})=>(e(Dr(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),qV=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),XV=({state:t,dispatch:e})=>{let n=zf(t).map(({from:r,to:i})=>Z.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:Z.create(n),userEvent:"select"})),!0},ZV=({state:t,dispatch:e})=>{let n=js(t.selection,r=>{let i=qt(t),o=i.resolveStack(r.from,1);if(r.empty){let s=i.resolveStack(r.from,-1);s.node.from>=o.node.from&&s.node.to<=o.node.to&&(o=s)}for(let s=o;s;s=s.next){let{node:a}=s;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&s.next)return Z.range(a.to,a.from)}return r});return n.eq(t.selection)?!1:(e(Dr(t,n)),!0)},QV=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=Z.create([n.main]):n.main.empty||(r=Z.create([Z.cursor(n.main.head)])),r?(e(Dr(t,r)),!0):!1};function Sl(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(o=>{let{from:s,to:a}=o;if(s==a){let c=e(o);c<s?(n="delete.backward",c=eu(t,c,!1)):c>s&&(n="delete.forward",c=eu(t,c,!0)),s=Math.min(s,c),a=Math.max(a,c)}else s=eu(t,s,!1),a=eu(t,a,!0);return s==a?{range:o}:{changes:{from:s,to:a},range:Z.cursor(s,s<o.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?se.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function eu(t,e,n){if(t instanceof se)for(let r of t.state.facet(se.atomicRanges).map(i=>i(t)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=n?o:i)});return e}const _k=(t,e,n)=>Sl(t,r=>{let i=r.from,{state:o}=t,s=o.doc.lineAt(i),a,c;if(n&&!e&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(a=s.text.slice(0,i-s.from))){if(a[a.length-1]=="	")return i-1;let f=Vs(a,o.tabSize),h=f%Yu(o)||Yu(o);for(let d=0;d<h&&a[a.length-1-d]==" ";d++)i--;c=i}else c=Vt(s.text,i-s.from,e,e)+s.from,c==i&&s.number!=(e?o.doc.lines:1)?c+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(c-s.from,i-s.from))&&(c=Vt(s.text,c-s.from,!1,!1)+s.from);return c}),_m=t=>_k(t,!1,!0),Lk=t=>_k(t,!0,!1),Nk=(t,e)=>Sl(t,n=>{let r=n.head,{state:i}=t,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let a=null;;){if(r==(e?o.to:o.from)){r==n.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let c=Vt(o.text,r-o.from,e)+o.from,f=o.text.slice(Math.min(r,c)-o.from,Math.max(r,c)-o.from),h=s(f);if(a!=null&&h!=a)break;(f!=" "||r!=n.head)&&(a=h),r=c}return r}),Bk=t=>Nk(t,!1),JV=t=>Nk(t,!0),ej=t=>Sl(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),tj=t=>Sl(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),nj=t=>Sl(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),rj=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Ze.of(["",""])},range:Z.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},ij=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,o=t.doc.lineAt(i),s=i==o.from?i-1:Vt(o.text,i-o.from,!1)+o.from,a=i==o.to?i+1:Vt(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(s,i))},range:Z.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function zf(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),o=t.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=t.doc.lineAt(r.to-1)),n>=i.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return e}function Fk(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let o of zf(t)){if(n?o.to==t.doc.length:o.from==0)continue;let s=t.doc.lineAt(n?o.to+1:o.from-1),a=s.length+1;if(n){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+t.lineBreak});for(let c of o.ranges)i.push(Z.range(Math.min(t.doc.length,c.anchor+a),Math.min(t.doc.length,c.head+a)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:t.lineBreak+s.text});for(let c of o.ranges)i.push(Z.range(c.anchor-a,c.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:Z.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const oj=({state:t,dispatch:e})=>Fk(t,e,!1),sj=({state:t,dispatch:e})=>Fk(t,e,!0);function Wk(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of zf(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const aj=({state:t,dispatch:e})=>Wk(t,e,!1),lj=({state:t,dispatch:e})=>Wk(t,e,!0),cj=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(zf(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=js(e.selection,i=>{let o;if(t.lineWrapping){let s=t.lineBlockAt(i.head),a=t.coordsAtPos(i.head,i.assoc||1);a&&(o=s.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,o)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function uj(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=qt(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(He.closedBy))&&o.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const _y=Vk(!1),fj=Vk(!0);function Vk(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:s}=i,a=e.doc.lineAt(o),c=!t&&o==s&&uj(e,o);t&&(o=s=(s<=a.to?a:e.doc.lineAt(s)).to);let f=new Ff(e,{simulateBreak:o,simulateDoubleBreak:!!c}),h=v0(f,o);for(h==null&&(h=Vs(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));s<a.to&&/\s/.test(a.text[s-a.from]);)s++;c?{from:o,to:s}=c:o>a.from&&o<a.from+100&&!/\S/.test(a.text.slice(0,o))&&(o=a.from);let d=["",qa(e,h)];return c&&d.push(qa(e,f.lineIndent(a.from,-1))),{changes:{from:o,to:s,insert:Ze.of(d)},range:Z.cursor(o+1+d[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function $0(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let a=t.doc.lineAt(s);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),s=a.to+1}let o=t.changes(i);return{changes:i,range:Z.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const hj=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Ff(t,{overrideIndentation:o=>{let s=n[o];return s??-1}}),i=$0(t,(o,s,a)=>{let c=v0(r,o.from);if(c==null)return;/\S/.test(o.text)||(c=0);let f=/^\s*/.exec(o.text)[0],h=qa(t,c);(f!=h||a.from<o.from+f.length)&&(n[o.from]=c,s.push({from:o.from,to:o.from+f.length,insert:h}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},jk=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update($0(t,(n,r)=>{r.push({from:n.from,insert:t.facet(Bf)})}),{userEvent:"input.indent"})),!0),Hk=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update($0(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let o=Vs(i,t.tabSize),s=0,a=qa(t,Math.max(0,o-Yu(t)));for(;s<i.length&&s<a.length&&i.charCodeAt(s)==a.charCodeAt(s);)s++;r.push({from:n.from+s,to:n.from+i.length,insert:a.slice(s)})}),{userEvent:"delete.dedent"})),!0),dj=t=>(t.setTabFocusMode(),!0),pj=[{key:"Ctrl-b",run:xk,shift:Rk,preventDefault:!0},{key:"Ctrl-f",run:yk,shift:Tk},{key:"Ctrl-p",run:Ck,shift:Ok},{key:"Ctrl-n",run:Sk,shift:Dk},{key:"Ctrl-a",run:_V,shift:GV},{key:"Ctrl-e",run:LV,shift:YV},{key:"Ctrl-d",run:Lk},{key:"Ctrl-h",run:_m},{key:"Ctrl-k",run:ej},{key:"Ctrl-Alt-h",run:Bk},{key:"Ctrl-o",run:rj},{key:"Ctrl-t",run:ij},{key:"Ctrl-v",run:Im}],mj=[{key:"ArrowLeft",run:xk,shift:Rk,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:AV,shift:FV,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:DV,shift:UV,preventDefault:!0},{key:"ArrowRight",run:yk,shift:Tk,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:EV,shift:WV,preventDefault:!0},{mac:"Cmd-ArrowRight",run:IV,shift:KV,preventDefault:!0},{key:"ArrowUp",run:Ck,shift:Ok,preventDefault:!0},{mac:"Cmd-ArrowUp",run:My,shift:Dy},{mac:"Ctrl-ArrowUp",run:Ry,shift:Ty},{key:"ArrowDown",run:Sk,shift:Dk,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Oy,shift:Iy},{mac:"Ctrl-ArrowDown",run:Im,shift:Py},{key:"PageUp",run:Ry,shift:Ty},{key:"PageDown",run:Im,shift:Py},{key:"Home",run:OV,shift:zV,preventDefault:!0},{key:"Mod-Home",run:My,shift:Dy},{key:"End",run:MV,shift:HV,preventDefault:!0},{key:"Mod-End",run:Oy,shift:Iy},{key:"Enter",run:_y,shift:_y},{key:"Mod-a",run:qV},{key:"Backspace",run:_m,shift:_m},{key:"Delete",run:Lk},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Bk},{key:"Mod-Delete",mac:"Alt-Delete",run:JV},{mac:"Mod-Backspace",run:tj},{mac:"Mod-Delete",run:nj}].concat(pj.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),gj=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:TV,shift:VV},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:PV,shift:jV},{key:"Alt-ArrowUp",run:oj},{key:"Shift-Alt-ArrowUp",run:aj},{key:"Alt-ArrowDown",run:sj},{key:"Shift-Alt-ArrowDown",run:lj},{key:"Escape",run:QV},{key:"Mod-Enter",run:fj},{key:"Alt-l",mac:"Ctrl-l",run:XV},{key:"Mod-i",run:ZV,preventDefault:!0},{key:"Mod-[",run:Hk},{key:"Mod-]",run:jk},{key:"Mod-Alt-\\",run:hj},{key:"Shift-Mod-k",run:cj},{key:"Shift-Mod-\\",run:BV},{key:"Mod-/",run:aV},{key:"Alt-A",run:cV},{key:"Ctrl-m",mac:"Shift-Alt-m",run:dj}].concat(mj),bj={key:"Tab",run:jk,shift:Hk};function rt(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)zk(t,arguments[e]);return t}function zk(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)zk(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const Ly=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Es{constructor(e,n,r=0,i=e.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?a=>o(Ly(a)):Ly,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return un(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=n0(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=vr(e);let i=this.normalize(n);if(i.length)for(let o=0,s=r;;o++){let a=i.charCodeAt(o),c=this.match(a,s,this.bufferPos+this.bufferStart);if(o==i.length-1){if(c)return this.value=c,this;break}s==r&&o<n.length&&n.charCodeAt(o)==a&&s++}}}match(e,n,r){let i=null;for(let o=0;o<this.matches.length;o+=2){let s=this.matches[o],a=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[o+1],to:r}:(this.matches[o]++,a=!0)),a||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Es.prototype[Symbol.iterator]=function(){return this});const Uk={from:-1,to:-1,match:/.*/.exec("")},C0="gm"+(/x/.unicode==null?"":"u");class Kk{constructor(e,n,r,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=Uk,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new Gk(e,n,r,i,o);this.re=new RegExp(n,C0+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let s=e.lineAt(i);this.curLineStart=s.from,this.matchPos=Qu(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=Qu(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const ap=new WeakMap;class hs{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=ap.get(e);if(!i||i.from>=r||i.to<=n){let a=new hs(n,e.sliceString(n,r));return ap.set(e,a),a}if(i.from==n&&i.to==r)return i;let{text:o,from:s}=i;return s>n&&(o=e.sliceString(n,s)+o,s=n),i.to<r&&(o+=e.sliceString(i.to,r)),ap.set(e,new hs(s,o)),new hs(n,o.slice(n-s,r-s))}}class Gk{constructor(e,n,r,i,o){this.text=e,this.to=o,this.done=!1,this.value=Uk,this.matchPos=Qu(e,i),this.re=new RegExp(n,C0+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=hs.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=Qu(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=hs.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Kk.prototype[Symbol.iterator]=Gk.prototype[Symbol.iterator]=function(){return this});function vj(t){try{return new RegExp(t,C0),!0}catch{return!1}}function Qu(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function Lm(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=rt("input",{class:"cm-textfield",name:"line",value:e}),r=rt("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),t.dispatch({effects:Oa.of(!1)}),t.focus()):o.keyCode==13&&(o.preventDefault(),i())},onsubmit:o=>{o.preventDefault(),i()}},rt("label",t.state.phrase("Go to line"),": ",n)," ",rt("button",{class:"cm-button",type:"submit"},t.state.phrase("go")),rt("button",{name:"close",onclick:()=>{t.dispatch({effects:Oa.of(!1)}),t.focus()},"aria-label":t.state.phrase("close"),type:"button"},["×"]));function i(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!o)return;let{state:s}=t,a=s.doc.lineAt(s.selection.main.head),[,c,f,h,d]=o,g=h?+h.slice(1):0,b=f?+f:a.number;if(f&&d){let w=b/100;c&&(w=w*(c=="-"?-1:1)+a.number/s.doc.lines),b=Math.round(s.doc.lines*w)}else f&&c&&(b=b*(c=="-"?-1:1)+a.number);let x=s.doc.line(Math.max(1,Math.min(s.doc.lines,b))),v=Z.cursor(x.from+Math.max(0,Math.min(g,x.length)));t.dispatch({effects:[Oa.of(!1),se.scrollIntoView(v.from,{y:"center"})],selection:v}),t.focus()}return{dom:r}}const Oa=Pe.define(),Ny=Lt.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(Oa)&&(t=n.value);return t},provide:t=>Ya.from(t,e=>e?Lm:null)}),xj=t=>{let e=Ga(t,Lm);if(!e){let n=[Oa.of(!0)];t.state.field(Ny,!1)==null&&n.push(Pe.appendConfig.of([Ny,yj])),t.dispatch({effects:n}),e=Ga(t,Lm)}return e&&e.dom.querySelector("input").select(),!0},yj=se.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),wj={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},$j=ue.define({combine(t){return Or(t,wj,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function Cj(t){return[Rj,Ej]}const Sj=ye.mark({class:"cm-selectionMatch"}),kj=ye.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function By(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=ft.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=ft.Word)}function Aj(t,e,n,r){return t(e.sliceDoc(n,n+1))==ft.Word&&t(e.sliceDoc(r-1,r))==ft.Word}const Ej=wt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet($j),{state:n}=t,r=n.selection;if(r.ranges.length>1)return ye.none;let i=r.main,o,s=null;if(i.empty){if(!e.highlightWordAroundCursor)return ye.none;let c=n.wordAt(i.head);if(!c)return ye.none;s=n.charCategorizer(i.head),o=n.sliceDoc(c.from,c.to)}else{let c=i.to-i.from;if(c<e.minSelectionLength||c>200)return ye.none;if(e.wholeWords){if(o=n.sliceDoc(i.from,i.to),s=n.charCategorizer(i.head),!(By(s,n,i.from,i.to)&&Aj(s,n,i.from,i.to)))return ye.none}else if(o=n.sliceDoc(i.from,i.to),!o)return ye.none}let a=[];for(let c of t.visibleRanges){let f=new Es(n.doc,o,c.from,c.to);for(;!f.next().done;){let{from:h,to:d}=f.value;if((!s||By(s,n,h,d))&&(i.empty&&h<=i.from&&d>=i.to?a.push(kj.range(h,d)):(h>=i.to||d<=i.from)&&a.push(Sj.range(h,d)),a.length>e.maxMatches))return ye.none}}return ye.set(a)}},{decorations:t=>t.decorations}),Rj=se.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Tj=({state:t,dispatch:e})=>{let{selection:n}=t,r=Z.create(n.ranges.map(i=>t.wordAt(i.head)||Z.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function Pj(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),o=i&&i.from==n.from&&i.to==n.to;for(let s=!1,a=new Es(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(s)return null;a=new Es(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),s=!0}else{if(s&&r.some(c=>c.from==a.value.from))continue;if(o){let c=t.wordAt(a.value.from);if(!c||c.from!=a.value.from||c.to!=a.value.to)continue}return a.value}}const Mj=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(o=>o.from===o.to))return Tj({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(o=>t.sliceDoc(o.from,o.to)!=r))return!1;let i=Pj(t,r);return i?(e(t.update({selection:t.selection.addRange(Z.range(i.from,i.to),!1),effects:se.scrollIntoView(i.to)})),!0):!1},Hs=ue.define({combine(t){return Or(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Hj(e),scrollToMatch:e=>se.scrollIntoView(e)})}});class Yk{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||vj(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new _j(this):new Dj(this)}getCursor(e,n=0,r){let i=e.doc?e:Ye.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?ns(this,i,n,r):ts(this,i,n,r)}}class qk{constructor(e){this.spec=e}}function ts(t,e,n,r){return new Es(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?Oj(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function Oj(t,e){return(n,r,i,o)=>((o>n||o+i.length<r)&&(o=Math.max(0,n-2),i=t.sliceString(o,Math.min(t.length,r+2))),(e(Ju(i,n-o))!=ft.Word||e(ef(i,n-o))!=ft.Word)&&(e(ef(i,r-o))!=ft.Word||e(Ju(i,r-o))!=ft.Word))}class Dj extends qk{constructor(e){super(e)}nextMatch(e,n,r){let i=ts(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let o=Math.min(e.doc.length,n+this.spec.unquoted.length);i=ts(this.spec,e,0,o).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let o=Math.max(n,i-1e4-this.spec.unquoted.length),s=ts(this.spec,e,o,i),a=null;for(;!s.nextOverlapping().done;)a=s.value;if(a)return a;if(o==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=ts(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let o=ts(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}function ns(t,e,n,r){return new Kk(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?Ij(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function Ju(t,e){return t.slice(Vt(t,e,!1),e)}function ef(t,e){return t.slice(e,Vt(t,e))}function Ij(t){return(e,n,r)=>!r[0].length||(t(Ju(r.input,r.index))!=ft.Word||t(ef(r.input,r.index))!=ft.Word)&&(t(ef(r.input,r.index+r[0].length))!=ft.Word||t(Ju(r.input,r.index+r[0].length))!=ft.Word)}class _j extends qk{nextMatch(e,n,r){let i=ns(this.spec,e,r,e.doc.length).next();return i.done&&(i=ns(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let o=Math.max(n,r-i*1e4),s=ns(this.spec,e,o,r),a=null;for(;!s.next().done;)a=s.value;if(a&&(o==n||a.from>o+10))return a;if(o==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let o=+r.slice(0,i);if(o>0&&o<e.match.length)return e.match[o]+r.slice(i)}return n})}matchAll(e,n){let r=ns(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let o=ns(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}const Xa=Pe.define(),S0=Pe.define(),Ri=Lt.define({create(t){return new lp(Nm(t).create(),null)},update(t,e){for(let n of e.effects)n.is(Xa)?t=new lp(n.value.create(),t.panel):n.is(S0)&&(t=new lp(t.query,n.value?k0:null));return t},provide:t=>Ya.from(t,e=>e.panel)});class lp{constructor(e,n){this.query=e,this.panel=n}}const Lj=ye.mark({class:"cm-searchMatch"}),Nj=ye.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Bj=wt.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Ri))}update(t){let e=t.state.field(Ri);(e!=t.startState.field(Ri)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return ye.none;let{view:n}=this,r=new ni;for(let i=0,o=n.visibleRanges,s=o.length;i<s;i++){let{from:a,to:c}=o[i];for(;i<s-1&&c>o[i+1].from-2*250;)c=o[++i].to;t.highlight(n.state,a,c,(f,h)=>{let d=n.state.selection.ranges.some(g=>g.from==f&&g.to==h);r.add(f,h,d?Nj:Lj)})}return r.finish()}},{decorations:t=>t.decorations});function kl(t){return e=>{let n=e.state.field(Ri,!1);return n&&n.query.spec.valid?t(e,n):Qk(e)}}const tf=kl((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=Z.single(r.from,r.to),o=t.state.facet(Hs);return t.dispatch({selection:i,effects:[A0(t,r),o.scrollToMatch(i.main,t)],userEvent:"select.search"}),Zk(t),!0}),nf=kl((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let o=Z.single(i.from,i.to),s=t.state.facet(Hs);return t.dispatch({selection:o,effects:[A0(t,i),s.scrollToMatch(o.main,t)],userEvent:"select.search"}),Zk(t),!0}),Fj=kl((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:Z.create(n.map(r=>Z.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),Wj=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,o=[],s=0;for(let a=new Es(t.doc,t.sliceDoc(r,i));!a.next().done;){if(o.length>1e3)return!1;a.value.from==r&&(s=o.length),o.push(Z.range(a.value.from,a.value.to))}return e(t.update({selection:Z.create(o,s),userEvent:"select.search.matches"})),!0},Fy=kl((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let o=e.nextMatch(n,r,r);if(!o)return!1;let s=o,a=[],c,f,h=[];if(s.from==r&&s.to==i&&(f=n.toText(e.getReplacement(s)),a.push({from:s.from,to:s.to,insert:f}),s=e.nextMatch(n,s.from,s.to),h.push(se.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),s){let d=a.length==0||a[0].from>=o.to?0:o.to-o.from-f.length;c=Z.single(s.from-d,s.to-d),h.push(A0(t,s)),h.push(n.facet(Hs).scrollToMatch(c.main,t))}return t.dispatch({changes:a,selection:c,effects:h,userEvent:"input.replace"}),!0}),Vj=kl((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:o,to:s}=i;return{from:o,to:s,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:se.announce.of(r),userEvent:"input.replace.all"}),!0});function k0(t){return t.state.facet(Hs).createPanel(t)}function Nm(t,e){var n,r,i,o,s;let a=t.selection.main,c=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!c)return e;let f=t.facet(Hs);return new Yk({search:((n=e?.literal)!==null&&n!==void 0?n:f.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:f.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:f.literal,regexp:(o=e?.regexp)!==null&&o!==void 0?o:f.regexp,wholeWord:(s=e?.wholeWord)!==null&&s!==void 0?s:f.wholeWord})}function Xk(t){let e=Ga(t,k0);return e&&e.dom.querySelector("[main-field]")}function Zk(t){let e=Xk(t);e&&e==t.root.activeElement&&e.select()}const Qk=t=>{let e=t.state.field(Ri,!1);if(e&&e.panel){let n=Xk(t);if(n&&n!=t.root.activeElement){let r=Nm(t.state,e.query.spec);r.valid&&t.dispatch({effects:Xa.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[S0.of(!0),e?Xa.of(Nm(t.state,e.query.spec)):Pe.appendConfig.of(Uj)]});return!0},Jk=t=>{let e=t.state.field(Ri,!1);if(!e||!e.panel)return!1;let n=Ga(t,k0);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:S0.of(!1)}),!0},jj=[{key:"Mod-f",run:Qk,scope:"editor search-panel"},{key:"F3",run:tf,shift:nf,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:tf,shift:nf,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Jk,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Wj},{key:"Mod-Alt-g",run:xj},{key:"Mod-d",run:Mj,preventDefault:!0}];class Hj{constructor(e){this.view=e;let n=this.query=e.state.field(Ri).query.spec;this.commit=this.commit.bind(this),this.searchField=rt("input",{value:n.search,placeholder:kn(e,"Find"),"aria-label":kn(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=rt("input",{value:n.replace,placeholder:kn(e,"Replace"),"aria-label":kn(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=rt("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=rt("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=rt("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,o,s){return rt("button",{class:"cm-button",name:i,onclick:o,type:"button"},s)}this.dom=rt("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>tf(e),[kn(e,"next")]),r("prev",()=>nf(e),[kn(e,"previous")]),r("select",()=>Fj(e),[kn(e,"all")]),rt("label",null,[this.caseField,kn(e,"match case")]),rt("label",null,[this.reField,kn(e,"regexp")]),rt("label",null,[this.wordField,kn(e,"by word")]),...e.state.readOnly?[]:[rt("br"),this.replaceField,r("replace",()=>Fy(e),[kn(e,"replace")]),r("replaceAll",()=>Vj(e),[kn(e,"replace all")])],rt("button",{name:"close",onclick:()=>Jk(e),"aria-label":kn(e,"close"),type:"button"},["×"])])}commit(){let e=new Yk({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Xa.of(e)}))}keydown(e){aF(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?nf:tf)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Fy(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(Xa)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Hs).top}}function kn(t,e){return t.state.phrase(e)}const tu=30,nu=/[\s\.,:;?!]/;function A0(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,o=Math.max(r.from,e-tu),s=Math.min(i,n+tu),a=t.state.sliceDoc(o,s);if(o!=r.from){for(let c=0;c<tu;c++)if(!nu.test(a[c+1])&&nu.test(a[c])){a=a.slice(c);break}}if(s!=i){for(let c=a.length-1;c>a.length-tu;c--)if(!nu.test(a[c-1])&&nu.test(a[c])){a=a.slice(0,c);break}}return se.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}const zj=se.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Uj=[Ri,Eo.low(Bj),zj];class eA{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=qt(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),o=i.search(tA(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function Wy(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Kj(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let o=1;o<i.length;o++)n[i[o]]=!0}let r=Wy(e)+Wy(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Gj(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Kj(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:n}:null}}let Vy=class{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}};function fo(t){return t.selection.main.from}function tA(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?t:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const nA=Mr.define();function Yj(t,e,n,r){let{main:i}=t.selection,o=n-i.from,s=r-i.from;return Object.assign(Object.assign({},t.changeByRange(a=>{if(a!=i&&n!=r&&t.sliceDoc(a.from+o,a.from+s)!=t.sliceDoc(n,r))return{range:a};let c=t.toText(e);return{changes:{from:a.from+o,to:r==i.from?a.to:a.from+s,insert:c},range:Z.cursor(a.from+o+c.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const jy=new WeakMap;function qj(t){if(!Array.isArray(t))return t;let e=jy.get(t);return e||jy.set(t,e=Gj(t)),e}const rf=Pe.define(),Za=Pe.define();class Xj{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=un(e,n),i=vr(r);this.chars.push(r);let o=e.slice(n,n+i),s=o.toUpperCase();this.folded.push(un(s==o?o.toLowerCase():s,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:o,byWord:s}=this;if(n.length==1){let S=un(e,0),A=vr(S),R=A==e.length?0:-100;if(S!=n[0])if(S==r[0])R+=-200;else return null;return this.ret(R,[0,A])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let c=n.length,f=0;if(a<0){for(let S=0,A=Math.min(e.length,200);S<A&&f<c;){let R=un(e,S);(R==n[f]||R==r[f])&&(i[f++]=S),S+=vr(R)}if(f<c)return null}let h=0,d=0,g=!1,b=0,x=-1,v=-1,w=/[a-z]/.test(e),$=!0;for(let S=0,A=Math.min(e.length,200),R=0;S<A&&d<c;){let T=un(e,S);a<0&&(h<c&&T==n[h]&&(o[h++]=S),b<c&&(T==n[b]||T==r[b]?(b==0&&(x=S),v=S+1,b++):b=0));let D,M=T<255?T>=48&&T<=57||T>=97&&T<=122?2:T>=65&&T<=90?1:0:(D=n0(T))!=D.toLowerCase()?1:D!=D.toUpperCase()?2:0;(!S||M==1&&w||R==0&&M!=0)&&(n[d]==T||r[d]==T&&(g=!0)?s[d++]=S:s.length&&($=!1)),R=M,S+=vr(T)}return d==c&&s[0]==0&&$?this.result(-100+(g?-200:0),s,e):b==c&&x==0?this.ret(-200-e.length+(v==e.length?0:-100),[0,v]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):b==c?this.ret(-900-e.length,[x,v]):d==c?this.result(-100+(g?-200:0)+-700+($?0:-1100),s,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],o=0;for(let s of n){let a=s+(this.astral?vr(un(r,s)):1);o&&i[o-1]==s?i[o-1]=a:(i[o++]=s,i[o++]=a)}return this.ret(e-r.length,i)}}class Zj{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const _t=ue.define({combine(t){return Or(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Qj,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>Hy(e(r),n(r)),optionClass:(e,n)=>r=>Hy(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function Hy(t,e){return t?e?t+" "+e:t:e}function Qj(t,e,n,r,i,o){let s=t.textDirection==ct.RTL,a=s,c=!1,f="top",h,d,g=e.left-i.left,b=i.right-e.right,x=r.right-r.left,v=r.bottom-r.top;if(a&&g<Math.min(x,b)?a=!1:!a&&b<Math.min(x,g)&&(a=!0),x<=(a?g:b))h=Math.max(i.top,Math.min(n.top,i.bottom-v))-e.top,d=Math.min(400,a?g:b);else{c=!0,d=Math.min(400,(s?e.right:i.right-e.left)-30);let S=i.bottom-e.bottom;S>=v||S>e.top?h=n.bottom-e.top:(f="bottom",h=e.bottom-n.top)}let w=(e.bottom-e.top)/o.offsetHeight,$=(e.right-e.left)/o.offsetWidth;return{style:`${f}: ${h/w}px; max-width: ${d/$}px`,class:"cm-completionInfo-"+(c?s?"left-narrow":"right-narrow":a?"left":"right")}}function Jj(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,o){let s=document.createElement("span");s.className="cm-completionLabel";let a=n.displayLabel||n.label,c=0;for(let f=0;f<o.length;){let h=o[f++],d=o[f++];h>c&&s.appendChild(document.createTextNode(a.slice(c,h)));let g=s.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(a.slice(h,d))),g.className="cm-completionMatchedText",c=d}return c<a.length&&s.appendChild(document.createTextNode(a.slice(c))),s},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function cp(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class eH{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:c=>this.placeInfo(c),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:o,selected:s}=i.open,a=e.state.facet(_t);this.optionContent=Jj(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=cp(o.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",c=>{let{options:f}=e.state.field(n).open;for(let h=c.target,d;h&&h!=this.dom;h=h.parentNode)if(h.nodeName=="LI"&&(d=/-(\d+)$/.exec(h.id))&&+d[1]<f.length){this.applyCompletion(e,f[+d[1]]),c.preventDefault();return}}),this.dom.addEventListener("focusout",c=>{let f=e.state.field(this.stateField,!1);f&&f.tooltip&&e.state.facet(_t).closeOnBlur&&c.relatedTarget!=e.contentDOM&&e.dispatch({effects:Za.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:s,disabled:a}=r.open;(!i.open||i.open.options!=o)&&(this.range=cp(o.length,s,e.state.facet(_t).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),a!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=cp(n.options.length,n.selected,this.view.state.facet(_t).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s,r)}).catch(s=>dn(this.view.state,s,"completion info")):this.addInfoPane(o,r)}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&nH(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.documentElement;o={left:0,top:0,right:s.clientWidth,bottom:s.clientHeight}}return i.top>Math.min(o.bottom,n.bottom)-10||i.bottom<Math.max(o.top,n.top)+10?null:this.view.state.facet(_t).positionInfo(this.view,n,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",s=>{s.target==i&&s.preventDefault()});let o=null;for(let s=r.from;s<r.to;s++){let{completion:a,match:c}=e[s],{section:f}=a;if(f){let g=typeof f=="string"?f:f.name;if(g!=o&&(s>r.from||r.from==0))if(o=g,typeof f!="string"&&f.header)i.appendChild(f.header(f));else{let b=i.appendChild(document.createElement("completion-section"));b.textContent=g}}const h=i.appendChild(document.createElement("li"));h.id=n+"-"+s,h.setAttribute("role","option");let d=this.optionClass(a);d&&(h.className=d);for(let g of this.optionContent){let b=g(a,this.view.state,this.view,c);b&&h.appendChild(b)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function tH(t,e){return n=>new eH(n,t,e)}function nH(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function zy(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function rH(t,e){let n=[],r=null,i=f=>{n.push(f);let{section:h}=f.completion;if(h){r||(r=[]);let d=typeof h=="string"?h:h.name;r.some(g=>g.name==d)||r.push(typeof h=="string"?{name:d}:h)}},o=e.facet(_t);for(let f of t)if(f.hasResult()){let h=f.result.getMatch;if(f.result.filter===!1)for(let d of f.result.options)i(new Vy(d,f.source,h?h(d):[],1e9-n.length));else{let d=e.sliceDoc(f.from,f.to),g,b=o.filterStrict?new Zj(d):new Xj(d);for(let x of f.result.options)if(g=b.match(x.label)){let v=x.displayLabel?h?h(x,g.matched):[]:g.matched;i(new Vy(x,f.source,v,g.score+(x.boost||0)))}}}if(r){let f=Object.create(null),h=0,d=(g,b)=>{var x,v;return((x=g.rank)!==null&&x!==void 0?x:1e9)-((v=b.rank)!==null&&v!==void 0?v:1e9)||(g.name<b.name?-1:1)};for(let g of r.sort(d))h-=1e5,f[g.name]=h;for(let g of n){let{section:b}=g.completion;b&&(g.score+=f[typeof b=="string"?b:b.name])}}let s=[],a=null,c=o.compareCompletions;for(let f of n.sort((h,d)=>d.score-h.score||c(h.completion,d.completion))){let h=f.completion;!a||a.label!=h.label||a.detail!=h.detail||a.type!=null&&h.type!=null&&a.type!=h.type||a.apply!=h.apply||a.boost!=h.boost?s.push(f):zy(f.completion)>zy(a)&&(s[s.length-1]=f),a=f.completion}return s}class os{constructor(e,n,r,i,o,s){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=s}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new os(this.options,Uy(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,o,s){if(i&&!s&&e.some(f=>f.isPending))return i.setDisabled();let a=rH(e,n);if(!a.length)return i&&e.some(f=>f.isPending)?i.setDisabled():null;let c=n.facet(_t).selectOnOpen?0:-1;if(i&&i.selected!=c&&i.selected!=-1){let f=i.options[i.selected].completion;for(let h=0;h<a.length;h++)if(a[h].completion==f){c=h;break}}return new os(a,Uy(r,c),{pos:e.reduce((f,h)=>h.hasResult()?Math.min(f,h.from):f,1e8),create:cH,above:o.aboveCursor},i?i.timestamp:Date.now(),c,!1)}map(e){return new os(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new os(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class of{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new of(aH,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(_t),o=(r.override||n.languageDataAt("autocomplete",fo(n)).map(qj)).map(c=>(this.active.find(h=>h.source==c)||new Wn(c,this.active.some(h=>h.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((c,f)=>c==this.active[f])&&(o=this.active);let s=this.open,a=e.effects.some(c=>c.is(E0));s&&e.docChanged&&(s=s.map(e.changes)),e.selection||o.some(c=>c.hasResult()&&e.changes.touchesRange(c.from,c.to))||!iH(o,this.active)||a?s=os.build(o,n,this.id,s,r,a):s&&s.disabled&&!o.some(c=>c.isPending)&&(s=null),!s&&o.every(c=>!c.isPending)&&o.some(c=>c.hasResult())&&(o=o.map(c=>c.hasResult()?new Wn(c.source,0):c));for(let c of e.effects)c.is(iA)&&(s=s&&s.setSelected(c.value,this.id));return o==this.active&&s==this.open?this:new of(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?oH:sH}}function iH(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,o=r==e.length;if(i||o)return i==o;if(t[n++].result!=e[r++].result)return!1}}const oH={"aria-autocomplete":"list"},sH={};function Uy(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const aH=[];function rA(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(nA);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Wn{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=rA(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new Wn(i.source,0)),r&4&&i.state==0&&(i=new Wn(this.source,1)),i=i.updateFor(e,r);for(let o of e.effects)if(o.is(rf))i=new Wn(i.source,1,o.value);else if(o.is(Za))i=new Wn(i.source,0);else if(o.is(E0))for(let s of o.value)s.source==i.source&&(i=s);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(fo(e.state))}}class ds extends Wn{constructor(e,n,r,i,o,s){super(e,3,n),this.limit=r,this.result=i,this.from=o,this.to=s}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),a=fo(e.state);if(a>s||!i||n&2&&(fo(e.startState)==this.from||a<this.limit))return new Wn(this.source,n&4?1:0);let c=e.changes.mapPos(this.limit);return lH(i.validFor,e.state,o,s)?new ds(this.source,this.explicit,c,i,o,s):i.update&&(i=i.update(i,o,s,new eA(e.state,a,!1)))?new ds(this.source,this.explicit,c,i,i.from,(r=i.to)!==null&&r!==void 0?r:fo(e.state)):new Wn(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new ds(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Wn(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function lH(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):tA(t,!0).test(i)}const E0=Pe.define({map(t,e){return t.map(n=>n.map(e))}}),iA=Pe.define(),hn=Lt.define({create(){return of.start()},update(t,e){return t.update(e)},provide:t=>[b0.from(t,e=>e.tooltip),se.contentAttributes.from(t,e=>e.attrs)]});function R0(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(hn).active.find(i=>i.source==e.source);return r instanceof ds?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},Yj(t.state,n,r.from,r.to)),{annotations:nA.of(e.completion)})):n(t,e.completion,r.from,r.to),!0):!1}const cH=tH(hn,R0);function ru(t,e="option"){return n=>{let r=n.state.field(hn,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(_t).interactionDelay)return!1;let i=1,o;e=="page"&&(o=KS(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:s-1;return a<0?a=e=="page"?0:s-1:a>=s&&(a=e=="page"?s-1:0),n.dispatch({effects:iA.of(a)}),!0}}const uH=t=>{let e=t.state.field(hn,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(_t).interactionDelay?!1:R0(t,e.open.options[e.open.selected])},Ky=t=>t.state.field(hn,!1)?(t.dispatch({effects:rf.of(!0)}),!0):!1,fH=t=>{let e=t.state.field(hn,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Za.of(null)}),!0)};class hH{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const dH=50,pH=1e3,mH=wt.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(hn).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(hn),n=t.state.facet(_t);if(!t.selectionSet&&!t.docChanged&&t.startState.field(hn)==e)return;let r=t.transactions.some(o=>{let s=rA(o,n);return s&8||(o.selection||o.docChanged)&&!(s&3)});for(let o=0;o<this.running.length;o++){let s=this.running[o];if(r||s.context.abortOnDocChange&&t.docChanged||s.updates.length+t.transactions.length>dH&&Date.now()-s.time>pH){for(let a of s.context.abortListeners)try{a()}catch(c){dn(this.view.state,c)}s.context.abortListeners=null,this.running.splice(o--,1)}else s.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(o=>o.effects.some(s=>s.is(rf)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.isPending&&!this.running.some(s=>s.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of t.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(hn);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(_t).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=fo(e),r=new eA(e,n,t.explicit,this.view),i=new hH(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:Za.of(null)}),dn(this.view.state,o)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(_t).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(_t),r=this.view.state.field(hn);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(o.done===void 0)continue;if(this.running.splice(i--,1),o.done){let a=fo(o.updates.length?o.updates[0].startState:this.view.state),c=Math.min(a,o.done.from+(o.active.explicit?0:1)),f=new ds(o.active.source,o.active.explicit,c,o.done,o.done.from,(t=o.done.to)!==null&&t!==void 0?t:a);for(let h of o.updates)f=f.update(h,n);if(f.hasResult()){e.push(f);continue}}let s=r.active.find(a=>a.source==o.active.source);if(s&&s.isPending)if(o.done==null){let a=new Wn(o.active.source,0);for(let c of o.updates)a=a.update(c,n);a.isPending||e.push(a)}else this.startQuery(s)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:E0.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(hn,!1);if(e&&e.tooltip&&this.view.state.facet(_t).closeOnBlur){let n=e.open&&KS(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Za.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:rf.of(!1)}),20),this.composing=0}}}),gH=typeof navigator=="object"&&/Win/.test(navigator.platform),bH=Eo.highest(se.domEventHandlers({keydown(t,e){let n=e.state.field(hn,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(gH&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(s=>s.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(t.key)>-1&&R0(e,r),!1}})),vH=se.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Qa={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},ao=Pe.define({map(t,e){let n=e.mapPos(t,-1,tn.TrackAfter);return n??void 0}}),T0=new class extends vo{};T0.startSide=1;T0.endSide=-1;const oA=Lt.define({create(){return Xe.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(ao)&&(t=t.update({add:[T0.range(n.value,n.value+1)]}));return t}});function xH(){return[wH,oA]}const up="()[]{}<>«»»«［］｛｝";function sA(t){for(let e=0;e<up.length;e+=2)if(up.charCodeAt(e)==t)return up.charAt(e+1);return n0(t<128?t:t+1)}function aA(t,e){return t.languageDataAt("closeBrackets",e)[0]||Qa}const yH=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),wH=se.inputHandler.of((t,e,n,r)=>{if((yH?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&vr(un(r,0))==1||e!=i.from||n!=i.to)return!1;let o=SH(t.state,r);return o?(t.dispatch(o),!0):!1}),$H=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=aA(t,t.selection.main.head).brackets||Qa.brackets,i=null,o=t.changeByRange(s=>{if(s.empty){let a=kH(t.doc,s.head);for(let c of r)if(c==a&&Uf(t.doc,s.head)==sA(un(c,0)))return{changes:{from:s.head-c.length,to:s.head+c.length},range:Z.cursor(s.head-c.length)}}return{range:i=s}});return i||e(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},CH=[{key:"Backspace",run:$H}];function SH(t,e){let n=aA(t,t.selection.main.head),r=n.brackets||Qa.brackets;for(let i of r){let o=sA(un(i,0));if(e==i)return o==i?RH(t,i,r.indexOf(i+i+i)>-1,n):AH(t,i,o,n.before||Qa.before);if(e==o&&lA(t,t.selection.main.from))return EH(t,i,o)}return null}function lA(t,e){let n=!1;return t.field(oA).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function Uf(t,e){let n=t.sliceString(e,e+2);return n.slice(0,vr(un(n,0)))}function kH(t,e){let n=t.sliceString(e-2,e);return vr(un(n,0))==n.length?n:n.slice(1)}function AH(t,e,n,r){let i=null,o=t.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:ao.of(s.to+e.length),range:Z.range(s.anchor+e.length,s.head+e.length)};let a=Uf(t.doc,s.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:s.head},effects:ao.of(s.head+e.length),range:Z.cursor(s.head+e.length)}:{range:i=s}});return i?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function EH(t,e,n){let r=null,i=t.changeByRange(o=>o.empty&&Uf(t.doc,o.head)==n?{changes:{from:o.head,to:o.head+n.length,insert:n},range:Z.cursor(o.head+n.length)}:r={range:o});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function RH(t,e,n,r){let i=r.stringPrefixes||Qa.stringPrefixes,o=null,s=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:ao.of(a.to+e.length),range:Z.range(a.anchor+e.length,a.head+e.length)};let c=a.head,f=Uf(t.doc,c),h;if(f==e){if(Gy(t,c))return{changes:{insert:e+e,from:c},effects:ao.of(c+e.length),range:Z.cursor(c+e.length)};if(lA(t,c)){let g=n&&t.sliceDoc(c,c+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:c,to:c+g.length,insert:g},range:Z.cursor(c+g.length)}}}else{if(n&&t.sliceDoc(c-2*e.length,c)==e+e&&(h=Yy(t,c-2*e.length,i))>-1&&Gy(t,h))return{changes:{insert:e+e+e+e,from:c},effects:ao.of(c+e.length),range:Z.cursor(c+e.length)};if(t.charCategorizer(c)(f)!=ft.Word&&Yy(t,c,i)>-1&&!TH(t,c,e,i))return{changes:{insert:e+e,from:c},effects:ao.of(c+e.length),range:Z.cursor(c+e.length)}}return{range:o=a}});return o?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Gy(t,e){let n=qt(t).resolveInner(e+1);return n.parent&&n.from==e}function TH(t,e,n,r){let i=qt(t).resolveInner(e,-1),o=r.reduce((s,a)=>Math.max(s,a.length),0);for(let s=0;s<5;s++){let a=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),c=a.indexOf(n);if(!c||c>-1&&r.indexOf(a.slice(0,c))>-1){let h=i.firstChild;for(;h&&h.from==i.from&&h.to-h.from>n.length+c;){if(t.sliceDoc(h.to-n.length,h.to)==n)return!1;h=h.firstChild}return!0}let f=i.to==e&&i.parent;if(!f)break;i=f}return!1}function Yy(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=ft.Word)return e;for(let i of n){let o=e-i.length;if(t.sliceDoc(o,e)==i&&r(t.sliceDoc(o-1,o))!=ft.Word)return o}return-1}function PH(t={}){return[bH,hn,_t.of(t),mH,MH,vH]}const cA=[{key:"Ctrl-Space",run:Ky},{mac:"Alt-`",run:Ky},{key:"Escape",run:fH},{key:"ArrowDown",run:ru(!0)},{key:"ArrowUp",run:ru(!1)},{key:"PageDown",run:ru(!0,"page")},{key:"PageUp",run:ru(!1,"page")},{key:"Enter",run:uH}],MH=Eo.highest(Lf.computeN([_t],t=>t.facet(_t).defaultKeymap?[cA]:[]));class qy{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class oo{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=e,o=r.facet(Ja).markerFilter;o&&(i=o(i,r));let s=e.slice().sort((d,g)=>d.from-g.from||d.to-g.to),a=new ni,c=[],f=0;for(let d=0;;){let g=d==s.length?null:s[d];if(!g&&!c.length)break;let b,x;for(c.length?(b=f,x=c.reduce((w,$)=>Math.min(w,$.to),g&&g.from>b?g.from:1e8)):(b=g.from,x=g.to,c.push(g),d++);d<s.length;){let w=s[d];if(w.from==b&&(w.to>w.from||w.to==b))c.push(w),d++,x=Math.min(w.to,x);else{x=Math.min(w.from,x);break}}let v=zH(c);if(c.some(w=>w.from==w.to||w.from==w.to-1&&r.doc.lineAt(w.from).to==w.from))a.add(b,b,ye.widget({widget:new WH(v),diagnostics:c.slice()}));else{let w=c.reduce(($,S)=>S.markClass?$+" "+S.markClass:$,"");a.add(b,x,ye.mark({class:"cm-lintRange cm-lintRange-"+v+w,diagnostics:c.slice(),inclusiveEnd:c.some($=>$.to>x)}))}f=x;for(let w=0;w<c.length;w++)c[w].to<=f&&c.splice(w--,1)}let h=a.finish();return new oo(h,n,Rs(h))}}function Rs(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,o,{spec:s})=>{if(!(e&&s.diagnostics.indexOf(e)<0))if(!r)r=new qy(i,o,e||s.diagnostics[0]);else{if(s.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new qy(r.from,o,r.diagnostic)}}),r}function OH(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(Ja).hideOn(t,n,r);if(i!=null)return i;let o=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(s=>s.is(uA))||t.changes.touchesRange(o.from,Math.max(o.to,r)))}function DH(t,e){return t.field(Rn,!1)?e:e.concat(Pe.appendConfig.of(UH))}const uA=Pe.define(),P0=Pe.define(),fA=Pe.define(),Rn=Lt.define({create(){return new oo(ye.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let o=e.changes.mapPos(t.selected.from,1);r=Rs(n,t.selected.diagnostic,o)||Rs(n,null,o)}!n.size&&i&&e.state.facet(Ja).autoPanel&&(i=null),t=new oo(n,i,r)}for(let n of e.effects)if(n.is(uA)){let r=e.state.facet(Ja).autoPanel?n.value.length?el.open:null:t.panel;t=oo.init(n.value,r,e.state)}else n.is(P0)?t=new oo(t.diagnostics,n.value?el.open:null,t.selected):n.is(fA)&&(t=new oo(t.diagnostics,t.panel,n.value));return t},provide:t=>[Ya.from(t,e=>e.panel),se.decorations.from(t,e=>e.diagnostics)]}),IH=ye.mark({class:"cm-lintRange cm-lintRange-active"});function _H(t,e,n){let{diagnostics:r}=t.state.field(Rn),i,o=-1,s=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(c,f,{spec:h})=>{if(e>=c&&e<=f&&(c==f||(e>c||n>0)&&(e<f||n<0)))return i=h.diagnostics,o=c,s=f,!1});let a=t.state.facet(Ja).tooltipFilter;return i&&a&&(i=a(i,t.state)),i?{pos:o,end:s,above:t.state.doc.lineAt(o).to<s,create(){return{dom:LH(t,i)}}}:null}function LH(t,e){return rt("ul",{class:"cm-tooltip-lint"},e.map(n=>dA(t,n,!1)))}const NH=t=>{let e=t.state.field(Rn,!1);(!e||!e.panel)&&t.dispatch({effects:DH(t.state,[P0.of(!0)])});let n=Ga(t,el.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},Xy=t=>{let e=t.state.field(Rn,!1);return!e||!e.panel?!1:(t.dispatch({effects:P0.of(!1)}),!0)},BH=t=>{let e=t.state.field(Rn,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},FH=[{key:"Mod-Shift-m",run:NH,preventDefault:!0},{key:"F8",run:BH}],Ja=ue.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},Or(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))}});function hA(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function dA(t,e,n){var r;let i=n?hA(e.actions):[];return rt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},rt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,s)=>{let a=!1,c=g=>{if(g.preventDefault(),a)return;a=!0;let b=Rs(t.state.field(Rn).diagnostics,e);b&&o.apply(t,b.from,b.to)},{name:f}=o,h=i[s]?f.indexOf(i[s]):-1,d=h<0?f:[f.slice(0,h),rt("u",f.slice(h,h+1)),f.slice(h+1)];return rt("button",{type:"button",class:"cm-diagnosticAction",onclick:c,onmousedown:c,"aria-label":` Action: ${f}${h<0?"":` (access key "${i[s]})"`}.`},d)}),e.source&&rt("div",{class:"cm-diagnosticSource"},e.source))}class WH extends li{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return rt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class Zy{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=dA(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class el{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)Xy(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=hA(o.actions);for(let a=0;a<s.length;a++)if(s[a].toUpperCase().charCodeAt(0)==i.keyCode){let c=Rs(this.view.state.field(Rn).diagnostics,o);c&&o.actions[a].apply(e,c.from,c.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=rt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=rt("div",{class:"cm-panel-lint"},this.list,rt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Xy(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(Rn).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Rn),r=0,i=!1,o=null,s=new Set;for(e.between(0,this.view.state.doc.length,(a,c,{spec:f})=>{for(let h of f.diagnostics){if(s.has(h))continue;s.add(h);let d=-1,g;for(let b=r;b<this.items.length;b++)if(this.items[b].diagnostic==h){d=b;break}d<0?(g=new Zy(this.view,h),this.items.splice(r,0,g),i=!0):(g=this.items[d],d>r&&(this.items.splice(r,d-r),i=!0)),n&&g.diagnostic==n.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),o=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new Zy(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:c})=>{let f=c.height/this.list.offsetHeight;a.top<c.top?this.list.scrollTop-=(c.top-a.top)/f:a.bottom>c.bottom&&(this.list.scrollTop+=(a.bottom-c.bottom)/f)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Rn),r=Rs(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:fA.of(r)})}static open(e){return new el(e)}}function VH(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function iu(t){return VH(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const jH=se.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:iu("#d11")},".cm-lintRange-warning":{backgroundImage:iu("orange")},".cm-lintRange-info":{backgroundImage:iu("#999")},".cm-lintRange-hint":{backgroundImage:iu("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function HH(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function zH(t){let e="hint",n=1;for(let r of t){let i=HH(r.severity);i>n&&(n=i,e=r.severity)}return e}const UH=[Rn,se.decorations.compute([Rn],t=>{let{selected:e,panel:n}=t.field(Rn);return!e||!n||e.from==e.to?ye.none:ye.set([IH.range(e.from,e.to)])}),qF(_H,{hideOn:OH}),jH];var Qy=function(e){e===void 0&&(e={});var{crosshairCursor:n=!1}=e,r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(CH)),e.defaultKeymap!==!1&&(r=r.concat(gj)),e.searchKeymap!==!1&&(r=r.concat(jj)),e.historyKeymap!==!1&&(r=r.concat(kV)),e.foldKeymap!==!1&&(r=r.concat(IW)),e.completionKeymap!==!1&&(r=r.concat(cA)),e.lintKeymap!==!1&&(r=r.concat(FH));var i=[];return e.lineNumbers!==!1&&i.push(sW()),e.highlightActiveLineGutter!==!1&&i.push(cW()),e.highlightSpecialChars!==!1&&i.push(SF()),e.history!==!1&&i.push(gV()),e.foldGutter!==!1&&i.push(BW()),e.drawSelection!==!1&&i.push(dF()),e.dropCursor!==!1&&i.push(vF()),e.allowMultipleSelections!==!1&&i.push(Ye.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(SW()),e.syntaxHighlighting!==!1&&i.push(lk(jW,{fallback:!0})),e.bracketMatching!==!1&&i.push(qW()),e.closeBrackets!==!1&&i.push(xH()),e.autocompletion!==!1&&i.push(PH()),e.rectangularSelection!==!1&&i.push(BF()),n!==!1&&i.push(VF()),e.highlightActiveLine!==!1&&i.push(PF()),e.highlightSelectionMatches!==!1&&i.push(Cj()),e.tabSize&&typeof e.tabSize=="number"&&i.push(Bf.of(" ".repeat(e.tabSize))),i.concat([Lf.of(r.flat())]).filter(Boolean)};const KH="#e5c07b",Jy="#e06c75",GH="#56b6c2",YH="#ffffff",wu="#abb2bf",Bm="#7d8799",qH="#61afef",XH="#98c379",ew="#d19a66",ZH="#c678dd",QH="#21252b",tw="#2c313a",nw="#282c34",fp="#353a42",JH="#3E4451",rw="#528bff",ez=se.theme({"&":{color:wu,backgroundColor:nw},".cm-content":{caretColor:rw},".cm-cursor, .cm-dropCursor":{borderLeftColor:rw},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:JH},".cm-panels":{backgroundColor:QH,color:wu},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:nw,color:Bm,border:"none"},".cm-activeLineGutter":{backgroundColor:tw},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:fp},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:fp,borderBottomColor:fp},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:tw,color:wu}}},{dark:!0}),tz=Cl.define([{tag:H.keyword,color:ZH},{tag:[H.name,H.deleted,H.character,H.propertyName,H.macroName],color:Jy},{tag:[H.function(H.variableName),H.labelName],color:qH},{tag:[H.color,H.constant(H.name),H.standard(H.name)],color:ew},{tag:[H.definition(H.name),H.separator],color:wu},{tag:[H.typeName,H.className,H.number,H.changed,H.annotation,H.modifier,H.self,H.namespace],color:KH},{tag:[H.operator,H.operatorKeyword,H.url,H.escape,H.regexp,H.link,H.special(H.string)],color:GH},{tag:[H.meta,H.comment],color:Bm},{tag:H.strong,fontWeight:"bold"},{tag:H.emphasis,fontStyle:"italic"},{tag:H.strikethrough,textDecoration:"line-through"},{tag:H.link,color:Bm,textDecoration:"underline"},{tag:H.heading,fontWeight:"bold",color:Jy},{tag:[H.atom,H.bool,H.special(H.variableName)],color:ew},{tag:[H.processingInstruction,H.string,H.inserted],color:XH},{tag:H.invalid,color:YH}]),nz=[ez,lk(tz)];var rz=se.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),iz=function(e){e===void 0&&(e={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:o="light",placeholder:s="",basicSetup:a=!0}=e,c=[];switch(n&&c.unshift(Lf.of([bj])),a&&(typeof a=="boolean"?c.unshift(Qy()):c.unshift(Qy(a))),s&&c.unshift(IF(s)),o){case"light":c.push(rz);break;case"dark":c.push(nz);break;case"none":break;default:c.push(o);break}return r===!1&&c.push(se.editable.of(!1)),i&&c.push(Ye.readOnly.of(!0)),[...c]},oz=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)}),iw=Mr.define(),sz=[];function pA(t){var{value:e,selection:n,onChange:r,onStatistics:i,onCreateEditor:o,onUpdate:s,extensions:a=sz,autoFocus:c,theme:f="light",height:h=null,minHeight:d=null,maxHeight:g=null,width:b=null,minWidth:x=null,maxWidth:v=null,placeholder:w="",editable:$=!0,readOnly:S=!1,indentWithTab:A=!0,basicSetup:R=!0,root:T,initialState:D}=t,[M,B]=p.useState(),[N,W]=p.useState(),[K,j]=p.useState(),Q=se.theme({"&":{height:h,minHeight:d,maxHeight:g,width:b,minWidth:x,maxWidth:v},"& .cm-scroller":{height:"100% !important"}}),G=se.updateListener.of(ee=>{if(ee.docChanged&&typeof r=="function"&&!ee.transactions.some(de=>de.annotation(iw))){var ae=ee.state.doc,X=ae.toString();r(X,ee)}i&&i(oz(ee))}),ne=iz({theme:f,editable:$,readOnly:S,placeholder:w,indentWithTab:A,basicSetup:R}),le=[G,Q,...ne];return s&&typeof s=="function"&&le.push(se.updateListener.of(s)),le=le.concat(a),p.useEffect(()=>{if(M&&!K){var ee={doc:e,selection:n,extensions:le},ae=D?Ye.fromJSON(D.json,ee,D.fields):Ye.create(ee);if(j(ae),!N){var X=new se({state:ae,parent:M,root:T});W(X),o&&o(X,ae)}}return()=>{N&&(j(void 0),W(void 0))}},[M,K]),p.useEffect(()=>B(t.container),[t.container]),p.useEffect(()=>()=>{N&&(N.destroy(),W(void 0))},[N]),p.useEffect(()=>{c&&N&&N.focus()},[c,N]),p.useEffect(()=>{N&&N.dispatch({effects:Pe.reconfigure.of(le)})},[f,a,h,d,g,b,x,v,w,$,S,A,R,r,s]),p.useEffect(()=>{if(e!==void 0){var ee=N?N.state.doc.toString():"";N&&e!==ee&&N.dispatch({changes:{from:0,to:ee.length,insert:e||""},annotations:[iw.of(!0)]})}},[e,N]),{state:K,setState:j,view:N,setView:W,container:M,setContainer:B}}var az=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],lz=p.forwardRef((t,e)=>{var{className:n,value:r="",selection:i,extensions:o=[],onChange:s,onStatistics:a,onCreateEditor:c,onUpdate:f,autoFocus:h,theme:d="light",height:g,minHeight:b,maxHeight:x,width:v,minWidth:w,maxWidth:$,basicSetup:S,placeholder:A,indentWithTab:R,editable:T,readOnly:D,root:M,initialState:B}=t,N=sV(t,az),W=p.useRef(null),{state:K,view:j,container:Q}=pA({container:W.current,root:M,value:r,autoFocus:h,theme:d,height:g,minHeight:b,maxHeight:x,width:v,minWidth:w,maxWidth:$,basicSetup:S,placeholder:A,indentWithTab:R,editable:T,readOnly:D,selection:i,onChange:s,onStatistics:a,onCreateEditor:c,onUpdate:f,extensions:o,initialState:B});if(p.useImperativeHandle(e,()=>({editor:W.current,state:K,view:j}),[W,Q,K,j]),typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var G=typeof d=="string"?"cm-theme-"+d:"cm-theme";return C.jsx("div",z({ref:W,className:""+G+(n?" "+n:"")},N))});lz.displayName="CodeMirror";let hp=new Map,Fm=!1;try{Fm=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let sf=!1;try{sf=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const mA={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class gA{format(e){let n="";if(!Fm&&this.options.signDisplay!=null?n=uz(this.numberFormatter,this.options.signDisplay,e):n=this.numberFormatter.format(e),this.options.style==="unit"&&!sf){var r;let{unit:i,unitDisplay:o="short",locale:s}=this.resolvedOptions();if(!i)return n;let a=(r=mA[i])===null||r===void 0?void 0:r[o];n+=a[s]||a.default}return n}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,n);if(n<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(n)}`}formatRangeToParts(e,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,n);if(n<e)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(e),i=this.numberFormatter.formatToParts(n);return[...r.map(o=>({...o,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...i.map(o=>({...o,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!Fm&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!sf&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,n={}){this.numberFormatter=cz(e,n),this.options=n}}function cz(t,e={}){let{numberingSystem:n}=e;if(n&&t.includes("-nu-")&&(t.includes("-u-")||(t+="-u-"),t+=`-nu-${n}`),e.style==="unit"&&!sf){var r;let{unit:s,unitDisplay:a="short"}=e;if(!s)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=mA[s])===null||r===void 0)&&r[a]))throw new Error(`Unsupported unit ${s} with unitDisplay = ${a}`);e={...e,style:"decimal"}}let i=t+(e?Object.entries(e).sort((s,a)=>s[0]<a[0]?-1:1).join():"");if(hp.has(i))return hp.get(i);let o=new Intl.NumberFormat(t,e);return hp.set(i,o),o}function uz(t,e,n){if(e==="auto")return t.format(n);if(e==="never")return t.format(Math.abs(n));{let r=!1;if(e==="always"?r=n>0||Object.is(n,0):e==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):r=n>0),r){let i=t.format(-n),o=t.format(n),s=i.replace(o,"").replace(/\u200e|\u061C/,"");return[...s].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),i.replace(o,"!!!").replace(s,"+").replace("!!!",o)}else return t.format(n)}}const fz=new RegExp("^.*\\(.*\\).*$"),hz=["latn","arab","hanidec"];class bA{parse(e){return dp(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,n,r){return dp(this.locale,this.options,e).isValidPartialNumber(e,n,r)}getNumberingSystem(e){return dp(this.locale,this.options,e).options.numberingSystem}constructor(e,n={}){this.locale=e,this.options=n}}const ow=new Map;function dp(t,e,n){let r=sw(t,e);if(!t.includes("-nu-")&&!r.isValidPartialNumber(n)){for(let i of hz)if(i!==r.options.numberingSystem){let o=sw(t+(t.includes("-u-")?"-nu-":"-u-nu-")+i,e);if(o.isValidPartialNumber(n))return o}}return r}function sw(t,e){let n=t+(e?Object.entries(e).sort((i,o)=>i[0]<o[0]?-1:1).join():""),r=ow.get(n);return r||(r=new dz(t,e),ow.set(n,r)),r}class dz{parse(e){let n=this.sanitize(e);if(this.symbols.group&&(n=ou(n,this.symbols.group,"")),this.symbols.decimal&&(n=n.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(n=n.replace(this.symbols.minusSign,"-")),n=n.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let s=n.indexOf("-");n=n.replace("-","");let a=n.indexOf(".");a===-1&&(a=n.length),n=n.replace(".",""),a-2===0?n=`0.${n}`:a-2===-1?n=`0.0${n}`:a-2===-2?n="0.00":n=`${n.slice(0,a-2)}.${n.slice(a-2)}`,s>-1&&(n=`-${n}`)}let r=n?+n:NaN;if(isNaN(r))return NaN;if(this.options.style==="percent"){var i,o;let s={...this.options,style:"decimal",minimumFractionDigits:Math.min(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)+2,20),maximumFractionDigits:Math.min(((o=this.options.maximumFractionDigits)!==null&&o!==void 0?o:0)+2,20)};return new bA(this.locale,s).parse(new gA(this.locale,s).format(r))}return this.options.currencySign==="accounting"&&fz.test(e)&&(r=-1*r),r}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("،",this.symbols.decimal)),this.symbols.group&&(e=ou(e,".",this.symbols.group))),this.options.locale==="fr-FR"&&(e=ou(e,"."," ")),e}isValidPartialNumber(e,n=-1/0,r=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&n<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&r>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=ou(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,n={}){this.locale=e,this.formatter=new Intl.NumberFormat(e,n),this.options=this.formatter.resolvedOptions(),this.symbols=mz(e,this.formatter,this.options,n);var r,i;this.options.style==="percent"&&(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)>18||((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const aw=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),pz=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function mz(t,e,n,r){var i,o,s,a;let c=new Intl.NumberFormat(t,{...n,minimumSignificantDigits:1,maximumSignificantDigits:21}),f=c.formatToParts(-10000.111),h=c.formatToParts(10000.111),d=pz.map(W=>c.formatToParts(W));var g;let b=(g=(i=f.find(W=>W.type==="minusSign"))===null||i===void 0?void 0:i.value)!==null&&g!==void 0?g:"-",x=(o=h.find(W=>W.type==="plusSign"))===null||o===void 0?void 0:o.value;!x&&(r?.signDisplay==="exceptZero"||r?.signDisplay==="always")&&(x="+");let w=(s=new Intl.NumberFormat(t,{...n,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(W=>W.type==="decimal"))===null||s===void 0?void 0:s.value,$=(a=f.find(W=>W.type==="group"))===null||a===void 0?void 0:a.value,S=f.filter(W=>!aw.has(W.type)).map(W=>lw(W.value)),A=d.flatMap(W=>W.filter(K=>!aw.has(K.type)).map(K=>lw(K.value))),R=[...new Set([...S,...A])].sort((W,K)=>K.length-W.length),T=R.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${R.join("|")}|[\\p{White_Space}]`,"gu"),D=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),M=new Map(D.map((W,K)=>[W,K])),B=new RegExp(`[${D.join("")}]`,"g");return{minusSign:b,plusSign:x,decimal:w,group:$,literals:T,numeral:B,index:W=>String(M.get(W))}}function ou(t,e,n){return t.replaceAll?t.replaceAll(e,n):t.split(e).join(n)}function lw(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var vA=hl(),pp=function(){},Kf=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:pp,onWheelCapture:pp,onTouchMoveCapture:pp}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,c=t.className,f=t.removeScrollBar,h=t.enabled,d=t.shards,g=t.sideCar,b=t.noIsolation,x=t.inert,v=t.allowPinchZoom,w=t.as,$=w===void 0?"div":w,S=Bi(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),A=g,R=fl([n,e]),T=Ke(Ke({},S),i);return p.createElement(p.Fragment,null,h&&p.createElement(A,{sideCar:vA,removeScrollBar:f,shards:d,noIsolation:b,inert:x,setCallbacks:o,allowPinchZoom:!!v,lockRef:n}),s?p.cloneElement(p.Children.only(a),Ke(Ke({},T),{ref:R})):p.createElement($,Ke({},T,{className:c,ref:R}),a))});Kf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kf.classNames={fullWidth:Ei,zeroRight:Ai};var Wm=!1;if(typeof window<"u")try{var su=Object.defineProperty({},"passive",{get:function(){return Wm=!0,!0}});window.addEventListener("test",su,su),window.removeEventListener("test",su,su)}catch{Wm=!1}var Jo=Wm?{passive:!1}:!1,gz=function(t){return t.tagName==="TEXTAREA"},xA=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!gz(t)&&n[e]==="visible")},bz=function(t){return xA(t,"overflowY")},vz=function(t){return xA(t,"overflowX")},cw=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=yA(t,n);if(r){var i=wA(t,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},xz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},yz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},yA=function(t,e){return t==="v"?bz(e):vz(e)},wA=function(t,e){return t==="v"?xz(e):yz(e)},wz=function(t,e){return t==="h"&&e==="rtl"?-1:1},$z=function(t,e,n,r,i){var o=wz(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,c=e.contains(a),f=!1,h=s>0,d=0,g=0;do{var b=wA(t,a),x=b[0],v=b[1],w=b[2],$=v-w-o*x;(x||$)&&yA(t,a)&&(d+=$,g+=x),a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&d===0||!h&&g===0)&&(f=!0),f},au=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},uw=function(t){return[t.deltaX,t.deltaY]},fw=function(t){return t&&"current"in t?t.current:t},Cz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Sz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},kz=0,es=[];function Az(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(kz++)[0],o=p.useState(function(){return Bs()})[0],s=p.useRef(t);p.useEffect(function(){s.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=ul([t.lockRef.current],(t.shards||[]).map(fw),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(v,w){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var $=au(v),S=n.current,A="deltaX"in v?v.deltaX:S[0]-$[0],R="deltaY"in v?v.deltaY:S[1]-$[1],T,D=v.target,M=Math.abs(A)>Math.abs(R)?"h":"v";if("touches"in v&&M==="h"&&D.type==="range")return!1;var B=cw(M,D);if(!B)return!0;if(B?T=M:(T=M==="v"?"h":"v",B=cw(M,D)),!B)return!1;if(!r.current&&"changedTouches"in v&&(A||R)&&(r.current=T),!T)return!0;var N=r.current||T;return $z(N,w,v,N==="h"?A:R)},[]),c=p.useCallback(function(v){var w=v;if(!(!es.length||es[es.length-1]!==o)){var $="deltaY"in w?uw(w):au(w),S=e.current.filter(function(T){return T.name===w.type&&T.target===w.target&&Cz(T.delta,$)})[0];if(S&&S.should){w.cancelable&&w.preventDefault();return}if(!S){var A=(s.current.shards||[]).map(fw).filter(Boolean).filter(function(T){return T.contains(w.target)}),R=A.length>0?a(w,A[0]):!s.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),f=p.useCallback(function(v,w,$,S){var A={name:v,delta:w,target:$,should:S};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(R){return R!==A})},1)},[]),h=p.useCallback(function(v){n.current=au(v),r.current=void 0},[]),d=p.useCallback(function(v){f(v.type,uw(v),v.target,a(v,t.lockRef.current))},[]),g=p.useCallback(function(v){f(v.type,au(v),v.target,a(v,t.lockRef.current))},[]);p.useEffect(function(){return es.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Jo),document.addEventListener("touchmove",c,Jo),document.addEventListener("touchstart",h,Jo),function(){es=es.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Jo),document.removeEventListener("touchmove",c,Jo),document.removeEventListener("touchstart",h,Jo)}},[]);var b=t.removeScrollBar,x=t.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:Sz(i)}):null,b?p.createElement(pl,{gapMode:"margin"}):null)}const Ez=dl(vA,Az);var $A=p.forwardRef(function(t,e){return p.createElement(Kf,Ke({},t,{ref:e,sideCar:Ez}))});$A.classNames=Kf.classNames;const CA="Popover",[SA,lX]=$t(CA,[Ni]),kA=Ni(),[cX,zs]=SA(CA),Rz="PopoverTrigger",Tz=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=zs(Rz,n),o=kA(n),s=$e(e,i.triggerRef),a=p.createElement(me.button,z({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":RA(i.open)},r,{ref:s,onClick:re(t.onClick,i.onOpenToggle)}));return i.hasCustomAnchor?a:p.createElement(sl,z({asChild:!0},o),a)}),AA="PopoverPortal",[Pz,Mz]=SA(AA,{forceMount:void 0}),Oz=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,o=zs(AA,e);return p.createElement(Pz,{scope:e,forceMount:n},p.createElement(Ot,{present:n||o.open},p.createElement(_s,{asChild:!0,container:i},r)))},tl="PopoverContent",Dz=p.forwardRef((t,e)=>{const n=Mz(tl,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,o=zs(tl,t.__scopePopover);return p.createElement(Ot,{present:r||o.open},o.modal?p.createElement(Iz,z({},i,{ref:e})):p.createElement(_z,z({},i,{ref:e})))}),Iz=p.forwardRef((t,e)=>{const n=zs(tl,t.__scopePopover),r=p.useRef(null),i=$e(e,r),o=p.useRef(!1);return p.useEffect(()=>{const s=r.current;if(s)return cl(s)},[]),p.createElement($A,{as:kr,allowPinchZoom:!0},p.createElement(EA,z({},t,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=n.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:re(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,f=a.button===2||c;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:re(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})))}),_z=p.forwardRef((t,e)=>{const n=zs(tl,t.__scopePopover),r=p.useRef(!1),i=p.useRef(!1);return p.createElement(EA,z({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=t.onCloseAutoFocus)===null||s===void 0||s.call(t,o),!o.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var s,a;(s=t.onInteractOutside)===null||s===void 0||s.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),EA=p.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:f,onInteractOutside:h,...d}=t,g=zs(tl,n),b=kA(n);return Ls(),p.createElement(Ns,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},p.createElement(Co,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1)},p.createElement(al,z({"data-state":RA(g.open),role:"dialog",id:g.contentId},b,d,{ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function RA(t){return t?"open":"closed"}const Lz=Tz,Nz=Oz,Bz=Dz,TA="Progress",Gf=100,[Fz,uX]=$t(TA),[Wz,Vz]=Fz(TA),PA=p.forwardRef((t,e)=>{const{__scopeProgress:n,value:r,max:i,getValueLabel:o=zz,...s}=t,a=Vm(i)?i:Gf,c=OA(r,a)?r:null,f=af(c)?o(c,a):void 0;return p.createElement(Wz,{scope:n,value:c,max:a},p.createElement(me.div,z({"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":af(c)?c:void 0,"aria-valuetext":f,role:"progressbar","data-state":MA(c,a),"data-value":c??void 0,"data-max":a},s,{ref:e})))});PA.propTypes={max(t,e,n){const r=t[e],i=String(r);return r&&!Vm(r)?new Error(Uz(i,n)):null},value(t,e,n){const r=t[e],i=String(r),o=Vm(t.max)?t.max:Gf;return r!=null&&!OA(r,o)?new Error(Kz(i,n)):null}};const jz="ProgressIndicator",Hz=p.forwardRef((t,e)=>{var n;const{__scopeProgress:r,...i}=t,o=Vz(jz,r);return p.createElement(me.div,z({"data-state":MA(o.value,o.max),"data-value":(n=o.value)!==null&&n!==void 0?n:void 0,"data-max":o.max},i,{ref:e}))});function zz(t,e){return`${Math.round(t/e*100)}%`}function MA(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function af(t){return typeof t=="number"}function Vm(t){return af(t)&&!isNaN(t)&&t>0}function OA(t,e){return af(t)&&!isNaN(t)&&t<=e&&t>=0}function Uz(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Gf}\`.`}function Kz(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Gf} if no \`max\` prop is set)
  - \`null\` if the progress is indeterminate.

Defaulting to \`null\`.`}const Gz=PA,Yz=Hz,DA="Radio",[qz,IA]=$t(DA),[Xz,Zz]=qz(DA),Qz=p.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:o,disabled:s,value:a="on",onCheck:c,...f}=t,[h,d]=p.useState(null),g=$e(e,v=>d(v)),b=p.useRef(!1),x=h?!!h.closest("form"):!0;return p.createElement(Xz,{scope:n,checked:i,disabled:s},p.createElement(me.button,z({type:"button",role:"radio","aria-checked":i,"data-state":_A(i),"data-disabled":s?"":void 0,disabled:s,value:a},f,{ref:g,onClick:re(t.onClick,v=>{i||c?.(),x&&(b.current=v.isPropagationStopped(),b.current||v.stopPropagation())})})),x&&p.createElement(tU,{control:h,bubbles:!b.current,name:r,value:a,checked:i,required:o,disabled:s,style:{transform:"translateX(-100%)"}}))}),Jz="RadioIndicator",eU=p.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,o=Zz(Jz,n);return p.createElement(Ot,{present:r||o.checked},p.createElement(me.span,z({"data-state":_A(o.checked),"data-disabled":o.disabled?"":void 0},i,{ref:e})))}),tU=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,o=p.useRef(null),s=yf(n),a=mf(e);return p.useEffect(()=>{const c=o.current,f=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(f,"checked").set;if(s!==n&&d){const g=new Event("click",{bubbles:r});d.call(c,n),c.dispatchEvent(g)}},[s,n,r]),p.createElement("input",z({type:"radio","aria-hidden":!0,defaultChecked:n},i,{tabIndex:-1,ref:o,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function _A(t){return t?"checked":"unchecked"}const nU=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],LA="RadioGroup",[rU,fX]=$t(LA,[Ws,IA]),NA=Ws(),BA=IA(),[iU,oU]=rU(LA),sU=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:o,required:s=!1,disabled:a=!1,orientation:c,dir:f,loop:h=!0,onValueChange:d,...g}=t,b=NA(n),x=So(f),[v,w]=Yt({prop:o,defaultProp:i,onChange:d});return p.createElement(iU,{scope:n,name:r,required:s,disabled:a,value:v,onValueChange:w},p.createElement(Ug,z({asChild:!0},b,{orientation:c,dir:x,loop:h}),p.createElement(me.div,z({role:"radiogroup","aria-required":s,"aria-orientation":c,"data-disabled":a?"":void 0,dir:x},g,{ref:e}))))}),aU="RadioGroupItem",lU=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,o=oU(aU,n),s=o.disabled||r,a=NA(n),c=BA(n),f=p.useRef(null),h=$e(e,f),d=o.value===i.value,g=p.useRef(!1);return p.useEffect(()=>{const b=v=>{nU.includes(v.key)&&(g.current=!0)},x=()=>g.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",x)}},[]),p.createElement(Kg,z({asChild:!0},a,{focusable:!s,active:d}),p.createElement(Qz,z({disabled:s,required:o.required,checked:d},c,i,{name:o.name,ref:h,onCheck:()=>o.onValueChange(i.value),onKeyDown:re(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:re(i.onFocus,()=>{var b;g.current&&((b=f.current)===null||b===void 0||b.click())})})))}),cU=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=BA(n);return p.createElement(eU,z({},i,r,{ref:e}))}),uU=sU,fU=lU,hU=cU,FA="Switch",[dU,hX]=$t(FA),[pU,mU]=dU(FA),gU=p.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:c="on",onCheckedChange:f,...h}=t,[d,g]=p.useState(null),b=$e(e,S=>g(S)),x=p.useRef(!1),v=d?!!d.closest("form"):!0,[w=!1,$]=Yt({prop:i,defaultProp:o,onChange:f});return p.createElement(pU,{scope:n,checked:w,disabled:a},p.createElement(me.button,z({type:"button",role:"switch","aria-checked":w,"aria-required":s,"data-state":WA(w),"data-disabled":a?"":void 0,disabled:a,value:c},h,{ref:b,onClick:re(t.onClick,S=>{$(A=>!A),v&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})})),v&&p.createElement(xU,{control:d,bubbles:!x.current,name:r,value:c,checked:w,required:s,disabled:a,style:{transform:"translateX(-100%)"}}))}),bU="SwitchThumb",vU=p.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=mU(bU,n);return p.createElement(me.span,z({"data-state":WA(i.checked),"data-disabled":i.disabled?"":void 0},r,{ref:e}))}),xU=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,o=p.useRef(null),s=yf(n),a=mf(e);return p.useEffect(()=>{const c=o.current,f=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(f,"checked").set;if(s!==n&&d){const g=new Event("click",{bubbles:r});d.call(c,n),c.dispatchEvent(g)}},[s,n,r]),p.createElement("input",z({type:"checkbox","aria-hidden":!0,defaultChecked:n},i,{tabIndex:-1,ref:o,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function WA(t){return t?"checked":"unchecked"}const yU=gU,wU=vU,VA="Tabs",[$U,dX]=$t(VA,[Ws]),jA=Ws(),[CU,M0]=$U(VA),SU=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:c="automatic",...f}=t,h=So(a),[d,g]=Yt({prop:r,onChange:i,defaultProp:o});return p.createElement(CU,{scope:n,baseId:mn(),value:d,onValueChange:g,orientation:s,dir:h,activationMode:c},p.createElement(me.div,z({dir:h,"data-orientation":s},f,{ref:e})))}),kU="TabsList",AU=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=M0(kU,n),s=jA(n);return p.createElement(Ug,z({asChild:!0},s,{orientation:o.orientation,dir:o.dir,loop:r}),p.createElement(me.div,z({role:"tablist","aria-orientation":o.orientation},i,{ref:e})))}),EU="TabsTrigger",RU=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,s=M0(EU,n),a=jA(n),c=HA(s.baseId,r),f=zA(s.baseId,r),h=r===s.value;return p.createElement(Kg,z({asChild:!0},a,{focusable:!i,active:h}),p.createElement(me.button,z({type:"button",role:"tab","aria-selected":h,"aria-controls":f,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c},o,{ref:e,onMouseDown:re(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?s.onValueChange(r):d.preventDefault()}),onKeyDown:re(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&s.onValueChange(r)}),onFocus:re(t.onFocus,()=>{const d=s.activationMode!=="manual";!h&&!i&&d&&s.onValueChange(r)})})))}),TU="TabsContent",PU=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...s}=t,a=M0(TU,n),c=HA(a.baseId,r),f=zA(a.baseId,r),h=r===a.value,d=p.useRef(h);return p.useEffect(()=>{const g=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(g)},[]),p.createElement(Ot,{present:i||h},({present:g})=>p.createElement(me.div,z({"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:f,tabIndex:0},s,{ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0}}),g&&o))});function HA(t,e){return`${t}-trigger-${e}`}function zA(t,e){return`${t}-content-${e}`}const MU=SU,OU=AU,DU=RU,IU=PU;var lf={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lf.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,h="__lodash_placeholder__",d=1,g=2,b=4,x=1,v=2,w=1,$=2,S=4,A=8,R=16,T=32,D=64,M=128,B=256,N=512,W=30,K="...",j=800,Q=16,G=1,ne=2,le=3,ee=1/0,ae=9007199254740991,X=17976931348623157e292,de=NaN,fe=4294967295,Me=fe-1,be=fe>>>1,Ve=[["ary",M],["bind",w],["bindKey",$],["curry",A],["curryRight",R],["flip",N],["partial",T],["partialRight",D],["rearg",B]],Le="[object Arguments]",je="[object Array]",pe="[object AsyncFunction]",Re="[object Boolean]",Ae="[object Date]",Ce="[object DOMException]",De="[object Error]",te="[object Function]",pt="[object GeneratorFunction]",qe="[object Map]",Fe="[object Number]",Zt="[object Null]",gt="[object Object]",Ui="[object Promise]",Gs="[object Proxy]",lr="[object RegExp]",Ct="[object Set]",cr="[object String]",Ro="[object Symbol]",Ys="[object Undefined]",Ki="[object WeakMap]",Jf="[object WeakSet]",Ir="[object ArrayBuffer]",St="[object DataView]",eh="[object Float32Array]",th="[object Float64Array]",nh="[object Int8Array]",rh="[object Int16Array]",ih="[object Int32Array]",oh="[object Uint8Array]",sh="[object Uint8ClampedArray]",ah="[object Uint16Array]",lh="[object Uint32Array]",_E=/\b__p \+= '';/g,LE=/\b(__p \+=) '' \+/g,NE=/(__e\(.*?\)|\b__t\)) \+\n'';/g,z0=/&(?:amp|lt|gt|quot|#39);/g,U0=/[&<>"']/g,BE=RegExp(z0.source),FE=RegExp(U0.source),WE=/<%-([\s\S]+?)%>/g,VE=/<%([\s\S]+?)%>/g,K0=/<%=([\s\S]+?)%>/g,jE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,HE=/^\w*$/,zE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ch=/[\\^$.*+?()[\]{}|]/g,UE=RegExp(ch.source),uh=/^\s+/,KE=/\s/,GE=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,YE=/\{\n\/\* \[wrapped with (.+)\] \*/,qE=/,? & /,XE=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ZE=/[()=,{}\[\]\/\s]/,QE=/\\(\\)?/g,JE=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,G0=/\w*$/,eR=/^[-+]0x[0-9a-f]+$/i,tR=/^0b[01]+$/i,nR=/^\[object .+?Constructor\]$/,rR=/^0o[0-7]+$/i,iR=/^(?:0|[1-9]\d*)$/,oR=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ol=/($^)/,sR=/['\n\r\u2028\u2029\\]/g,Dl="\\ud800-\\udfff",aR="\\u0300-\\u036f",lR="\\ufe20-\\ufe2f",cR="\\u20d0-\\u20ff",Y0=aR+lR+cR,q0="\\u2700-\\u27bf",X0="a-z\\xdf-\\xf6\\xf8-\\xff",uR="\\xac\\xb1\\xd7\\xf7",fR="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",hR="\\u2000-\\u206f",dR=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Z0="A-Z\\xc0-\\xd6\\xd8-\\xde",Q0="\\ufe0e\\ufe0f",J0=uR+fR+hR+dR,fh="['’]",pR="["+Dl+"]",eb="["+J0+"]",Il="["+Y0+"]",tb="\\d+",mR="["+q0+"]",nb="["+X0+"]",rb="[^"+Dl+J0+tb+q0+X0+Z0+"]",hh="\\ud83c[\\udffb-\\udfff]",gR="(?:"+Il+"|"+hh+")",ib="[^"+Dl+"]",dh="(?:\\ud83c[\\udde6-\\uddff]){2}",ph="[\\ud800-\\udbff][\\udc00-\\udfff]",To="["+Z0+"]",ob="\\u200d",sb="(?:"+nb+"|"+rb+")",bR="(?:"+To+"|"+rb+")",ab="(?:"+fh+"(?:d|ll|m|re|s|t|ve))?",lb="(?:"+fh+"(?:D|LL|M|RE|S|T|VE))?",cb=gR+"?",ub="["+Q0+"]?",vR="(?:"+ob+"(?:"+[ib,dh,ph].join("|")+")"+ub+cb+")*",xR="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",yR="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fb=ub+cb+vR,wR="(?:"+[mR,dh,ph].join("|")+")"+fb,$R="(?:"+[ib+Il+"?",Il,dh,ph,pR].join("|")+")",CR=RegExp(fh,"g"),SR=RegExp(Il,"g"),mh=RegExp(hh+"(?="+hh+")|"+$R+fb,"g"),kR=RegExp([To+"?"+nb+"+"+ab+"(?="+[eb,To,"$"].join("|")+")",bR+"+"+lb+"(?="+[eb,To+sb,"$"].join("|")+")",To+"?"+sb+"+"+ab,To+"+"+lb,yR,xR,tb,wR].join("|"),"g"),AR=RegExp("["+ob+Dl+Y0+Q0+"]"),ER=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,RR=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],TR=-1,at={};at[eh]=at[th]=at[nh]=at[rh]=at[ih]=at[oh]=at[sh]=at[ah]=at[lh]=!0,at[Le]=at[je]=at[Ir]=at[Re]=at[St]=at[Ae]=at[De]=at[te]=at[qe]=at[Fe]=at[gt]=at[lr]=at[Ct]=at[cr]=at[Ki]=!1;var st={};st[Le]=st[je]=st[Ir]=st[St]=st[Re]=st[Ae]=st[eh]=st[th]=st[nh]=st[rh]=st[ih]=st[qe]=st[Fe]=st[gt]=st[lr]=st[Ct]=st[cr]=st[Ro]=st[oh]=st[sh]=st[ah]=st[lh]=!0,st[De]=st[te]=st[Ki]=!1;var PR={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},MR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},OR={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},DR={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},IR=parseFloat,_R=parseInt,hb=typeof ua=="object"&&ua&&ua.Object===Object&&ua,LR=typeof self=="object"&&self&&self.Object===Object&&self,Nt=hb||LR||Function("return this")(),gh=e&&!e.nodeType&&e,Gi=gh&&!0&&t&&!t.nodeType&&t,db=Gi&&Gi.exports===gh,bh=db&&hb.process,Mn=function(){try{var _=Gi&&Gi.require&&Gi.require("util").types;return _||bh&&bh.binding&&bh.binding("util")}catch{}}(),pb=Mn&&Mn.isArrayBuffer,mb=Mn&&Mn.isDate,gb=Mn&&Mn.isMap,bb=Mn&&Mn.isRegExp,vb=Mn&&Mn.isSet,xb=Mn&&Mn.isTypedArray;function vn(_,U,V){switch(V.length){case 0:return _.call(U);case 1:return _.call(U,V[0]);case 2:return _.call(U,V[0],V[1]);case 3:return _.call(U,V[0],V[1],V[2])}return _.apply(U,V)}function NR(_,U,V,he){for(var Te=-1,Qe=_==null?0:_.length;++Te<Qe;){var Rt=_[Te];U(he,Rt,V(Rt),_)}return he}function On(_,U){for(var V=-1,he=_==null?0:_.length;++V<he&&U(_[V],V,_)!==!1;);return _}function BR(_,U){for(var V=_==null?0:_.length;V--&&U(_[V],V,_)!==!1;);return _}function yb(_,U){for(var V=-1,he=_==null?0:_.length;++V<he;)if(!U(_[V],V,_))return!1;return!0}function ci(_,U){for(var V=-1,he=_==null?0:_.length,Te=0,Qe=[];++V<he;){var Rt=_[V];U(Rt,V,_)&&(Qe[Te++]=Rt)}return Qe}function _l(_,U){var V=_==null?0:_.length;return!!V&&Po(_,U,0)>-1}function vh(_,U,V){for(var he=-1,Te=_==null?0:_.length;++he<Te;)if(V(U,_[he]))return!0;return!1}function ut(_,U){for(var V=-1,he=_==null?0:_.length,Te=Array(he);++V<he;)Te[V]=U(_[V],V,_);return Te}function ui(_,U){for(var V=-1,he=U.length,Te=_.length;++V<he;)_[Te+V]=U[V];return _}function xh(_,U,V,he){var Te=-1,Qe=_==null?0:_.length;for(he&&Qe&&(V=_[++Te]);++Te<Qe;)V=U(V,_[Te],Te,_);return V}function FR(_,U,V,he){var Te=_==null?0:_.length;for(he&&Te&&(V=_[--Te]);Te--;)V=U(V,_[Te],Te,_);return V}function yh(_,U){for(var V=-1,he=_==null?0:_.length;++V<he;)if(U(_[V],V,_))return!0;return!1}var WR=wh("length");function VR(_){return _.split("")}function jR(_){return _.match(XE)||[]}function wb(_,U,V){var he;return V(_,function(Te,Qe,Rt){if(U(Te,Qe,Rt))return he=Qe,!1}),he}function Ll(_,U,V,he){for(var Te=_.length,Qe=V+(he?1:-1);he?Qe--:++Qe<Te;)if(U(_[Qe],Qe,_))return Qe;return-1}function Po(_,U,V){return U===U?eT(_,U,V):Ll(_,$b,V)}function HR(_,U,V,he){for(var Te=V-1,Qe=_.length;++Te<Qe;)if(he(_[Te],U))return Te;return-1}function $b(_){return _!==_}function Cb(_,U){var V=_==null?0:_.length;return V?Ch(_,U)/V:de}function wh(_){return function(U){return U==null?n:U[_]}}function $h(_){return function(U){return _==null?n:_[U]}}function Sb(_,U,V,he,Te){return Te(_,function(Qe,Rt,nt){V=he?(he=!1,Qe):U(V,Qe,Rt,nt)}),V}function zR(_,U){var V=_.length;for(_.sort(U);V--;)_[V]=_[V].value;return _}function Ch(_,U){for(var V,he=-1,Te=_.length;++he<Te;){var Qe=U(_[he]);Qe!==n&&(V=V===n?Qe:V+Qe)}return V}function Sh(_,U){for(var V=-1,he=Array(_);++V<_;)he[V]=U(V);return he}function UR(_,U){return ut(U,function(V){return[V,_[V]]})}function kb(_){return _&&_.slice(0,Tb(_)+1).replace(uh,"")}function xn(_){return function(U){return _(U)}}function kh(_,U){return ut(U,function(V){return _[V]})}function qs(_,U){return _.has(U)}function Ab(_,U){for(var V=-1,he=_.length;++V<he&&Po(U,_[V],0)>-1;);return V}function Eb(_,U){for(var V=_.length;V--&&Po(U,_[V],0)>-1;);return V}function KR(_,U){for(var V=_.length,he=0;V--;)_[V]===U&&++he;return he}var GR=$h(PR),YR=$h(MR);function qR(_){return"\\"+DR[_]}function XR(_,U){return _==null?n:_[U]}function Mo(_){return AR.test(_)}function ZR(_){return ER.test(_)}function QR(_){for(var U,V=[];!(U=_.next()).done;)V.push(U.value);return V}function Ah(_){var U=-1,V=Array(_.size);return _.forEach(function(he,Te){V[++U]=[Te,he]}),V}function Rb(_,U){return function(V){return _(U(V))}}function fi(_,U){for(var V=-1,he=_.length,Te=0,Qe=[];++V<he;){var Rt=_[V];(Rt===U||Rt===h)&&(_[V]=h,Qe[Te++]=V)}return Qe}function Nl(_){var U=-1,V=Array(_.size);return _.forEach(function(he){V[++U]=he}),V}function JR(_){var U=-1,V=Array(_.size);return _.forEach(function(he){V[++U]=[he,he]}),V}function eT(_,U,V){for(var he=V-1,Te=_.length;++he<Te;)if(_[he]===U)return he;return-1}function tT(_,U,V){for(var he=V+1;he--;)if(_[he]===U)return he;return he}function Oo(_){return Mo(_)?rT(_):WR(_)}function Un(_){return Mo(_)?iT(_):VR(_)}function Tb(_){for(var U=_.length;U--&&KE.test(_.charAt(U)););return U}var nT=$h(OR);function rT(_){for(var U=mh.lastIndex=0;mh.test(_);)++U;return U}function iT(_){return _.match(mh)||[]}function oT(_){return _.match(kR)||[]}var sT=function _(U){U=U==null?Nt:Do.defaults(Nt.Object(),U,Do.pick(Nt,RR));var V=U.Array,he=U.Date,Te=U.Error,Qe=U.Function,Rt=U.Math,nt=U.Object,Eh=U.RegExp,aT=U.String,Dn=U.TypeError,Bl=V.prototype,lT=Qe.prototype,Io=nt.prototype,Fl=U["__core-js_shared__"],Wl=lT.toString,et=Io.hasOwnProperty,cT=0,Pb=function(){var l=/[^.]+$/.exec(Fl&&Fl.keys&&Fl.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Vl=Io.toString,uT=Wl.call(nt),fT=Nt._,hT=Eh("^"+Wl.call(et).replace(ch,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jl=db?U.Buffer:n,hi=U.Symbol,Hl=U.Uint8Array,Mb=jl?jl.allocUnsafe:n,zl=Rb(nt.getPrototypeOf,nt),Ob=nt.create,Db=Io.propertyIsEnumerable,Ul=Bl.splice,Ib=hi?hi.isConcatSpreadable:n,Xs=hi?hi.iterator:n,Yi=hi?hi.toStringTag:n,Kl=function(){try{var l=Ji(nt,"defineProperty");return l({},"",{}),l}catch{}}(),dT=U.clearTimeout!==Nt.clearTimeout&&U.clearTimeout,pT=he&&he.now!==Nt.Date.now&&he.now,mT=U.setTimeout!==Nt.setTimeout&&U.setTimeout,Gl=Rt.ceil,Yl=Rt.floor,Rh=nt.getOwnPropertySymbols,gT=jl?jl.isBuffer:n,_b=U.isFinite,bT=Bl.join,vT=Rb(nt.keys,nt),Tt=Rt.max,jt=Rt.min,xT=he.now,yT=U.parseInt,Lb=Rt.random,wT=Bl.reverse,Th=Ji(U,"DataView"),Zs=Ji(U,"Map"),Ph=Ji(U,"Promise"),_o=Ji(U,"Set"),Qs=Ji(U,"WeakMap"),Js=Ji(nt,"create"),ql=Qs&&new Qs,Lo={},$T=eo(Th),CT=eo(Zs),ST=eo(Ph),kT=eo(_o),AT=eo(Qs),Xl=hi?hi.prototype:n,ea=Xl?Xl.valueOf:n,Nb=Xl?Xl.toString:n;function E(l){if(mt(l)&&!Oe(l)&&!(l instanceof Ue)){if(l instanceof In)return l;if(et.call(l,"__wrapped__"))return B1(l)}return new In(l)}var No=function(){function l(){}return function(u){if(!ht(u))return{};if(Ob)return Ob(u);l.prototype=u;var m=new l;return l.prototype=n,m}}();function Zl(){}function In(l,u){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}E.templateSettings={escape:WE,evaluate:VE,interpolate:K0,variable:"",imports:{_:E}},E.prototype=Zl.prototype,E.prototype.constructor=E,In.prototype=No(Zl.prototype),In.prototype.constructor=In;function Ue(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=fe,this.__views__=[]}function ET(){var l=new Ue(this.__wrapped__);return l.__actions__=sn(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=sn(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=sn(this.__views__),l}function RT(){if(this.__filtered__){var l=new Ue(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function TT(){var l=this.__wrapped__.value(),u=this.__dir__,m=Oe(l),y=u<0,k=m?l.length:0,P=V3(0,k,this.__views__),O=P.start,I=P.end,L=I-O,Y=y?I:O-1,q=this.__iteratees__,J=q.length,oe=0,ge=jt(L,this.__takeCount__);if(!m||!y&&k==L&&ge==L)return a1(l,this.__actions__);var Se=[];e:for(;L--&&oe<ge;){Y+=u;for(var Ne=-1,ke=l[Y];++Ne<J;){var ze=q[Ne],Ge=ze.iteratee,$n=ze.type,en=Ge(ke);if($n==ne)ke=en;else if(!en){if($n==G)continue e;break e}}Se[oe++]=ke}return Se}Ue.prototype=No(Zl.prototype),Ue.prototype.constructor=Ue;function qi(l){var u=-1,m=l==null?0:l.length;for(this.clear();++u<m;){var y=l[u];this.set(y[0],y[1])}}function PT(){this.__data__=Js?Js(null):{},this.size=0}function MT(l){var u=this.has(l)&&delete this.__data__[l];return this.size-=u?1:0,u}function OT(l){var u=this.__data__;if(Js){var m=u[l];return m===c?n:m}return et.call(u,l)?u[l]:n}function DT(l){var u=this.__data__;return Js?u[l]!==n:et.call(u,l)}function IT(l,u){var m=this.__data__;return this.size+=this.has(l)?0:1,m[l]=Js&&u===n?c:u,this}qi.prototype.clear=PT,qi.prototype.delete=MT,qi.prototype.get=OT,qi.prototype.has=DT,qi.prototype.set=IT;function _r(l){var u=-1,m=l==null?0:l.length;for(this.clear();++u<m;){var y=l[u];this.set(y[0],y[1])}}function _T(){this.__data__=[],this.size=0}function LT(l){var u=this.__data__,m=Ql(u,l);if(m<0)return!1;var y=u.length-1;return m==y?u.pop():Ul.call(u,m,1),--this.size,!0}function NT(l){var u=this.__data__,m=Ql(u,l);return m<0?n:u[m][1]}function BT(l){return Ql(this.__data__,l)>-1}function FT(l,u){var m=this.__data__,y=Ql(m,l);return y<0?(++this.size,m.push([l,u])):m[y][1]=u,this}_r.prototype.clear=_T,_r.prototype.delete=LT,_r.prototype.get=NT,_r.prototype.has=BT,_r.prototype.set=FT;function Lr(l){var u=-1,m=l==null?0:l.length;for(this.clear();++u<m;){var y=l[u];this.set(y[0],y[1])}}function WT(){this.size=0,this.__data__={hash:new qi,map:new(Zs||_r),string:new qi}}function VT(l){var u=uc(this,l).delete(l);return this.size-=u?1:0,u}function jT(l){return uc(this,l).get(l)}function HT(l){return uc(this,l).has(l)}function zT(l,u){var m=uc(this,l),y=m.size;return m.set(l,u),this.size+=m.size==y?0:1,this}Lr.prototype.clear=WT,Lr.prototype.delete=VT,Lr.prototype.get=jT,Lr.prototype.has=HT,Lr.prototype.set=zT;function Xi(l){var u=-1,m=l==null?0:l.length;for(this.__data__=new Lr;++u<m;)this.add(l[u])}function UT(l){return this.__data__.set(l,c),this}function KT(l){return this.__data__.has(l)}Xi.prototype.add=Xi.prototype.push=UT,Xi.prototype.has=KT;function Kn(l){var u=this.__data__=new _r(l);this.size=u.size}function GT(){this.__data__=new _r,this.size=0}function YT(l){var u=this.__data__,m=u.delete(l);return this.size=u.size,m}function qT(l){return this.__data__.get(l)}function XT(l){return this.__data__.has(l)}function ZT(l,u){var m=this.__data__;if(m instanceof _r){var y=m.__data__;if(!Zs||y.length<i-1)return y.push([l,u]),this.size=++m.size,this;m=this.__data__=new Lr(y)}return m.set(l,u),this.size=m.size,this}Kn.prototype.clear=GT,Kn.prototype.delete=YT,Kn.prototype.get=qT,Kn.prototype.has=XT,Kn.prototype.set=ZT;function Bb(l,u){var m=Oe(l),y=!m&&to(l),k=!m&&!y&&bi(l),P=!m&&!y&&!k&&Vo(l),O=m||y||k||P,I=O?Sh(l.length,aT):[],L=I.length;for(var Y in l)(u||et.call(l,Y))&&!(O&&(Y=="length"||k&&(Y=="offset"||Y=="parent")||P&&(Y=="buffer"||Y=="byteLength"||Y=="byteOffset")||Wr(Y,L)))&&I.push(Y);return I}function Fb(l){var u=l.length;return u?l[Vh(0,u-1)]:n}function QT(l,u){return fc(sn(l),Zi(u,0,l.length))}function JT(l){return fc(sn(l))}function Mh(l,u,m){(m!==n&&!Gn(l[u],m)||m===n&&!(u in l))&&Nr(l,u,m)}function ta(l,u,m){var y=l[u];(!(et.call(l,u)&&Gn(y,m))||m===n&&!(u in l))&&Nr(l,u,m)}function Ql(l,u){for(var m=l.length;m--;)if(Gn(l[m][0],u))return m;return-1}function e3(l,u,m,y){return di(l,function(k,P,O){u(y,k,m(k),O)}),y}function Wb(l,u){return l&&fr(u,Dt(u),l)}function t3(l,u){return l&&fr(u,ln(u),l)}function Nr(l,u,m){u=="__proto__"&&Kl?Kl(l,u,{configurable:!0,enumerable:!0,value:m,writable:!0}):l[u]=m}function Oh(l,u){for(var m=-1,y=u.length,k=V(y),P=l==null;++m<y;)k[m]=P?n:hd(l,u[m]);return k}function Zi(l,u,m){return l===l&&(m!==n&&(l=l<=m?l:m),u!==n&&(l=l>=u?l:u)),l}function _n(l,u,m,y,k,P){var O,I=u&d,L=u&g,Y=u&b;if(m&&(O=k?m(l,y,k,P):m(l)),O!==n)return O;if(!ht(l))return l;var q=Oe(l);if(q){if(O=H3(l),!I)return sn(l,O)}else{var J=Ht(l),oe=J==te||J==pt;if(bi(l))return u1(l,I);if(J==gt||J==Le||oe&&!k){if(O=L||oe?{}:T1(l),!I)return L?O3(l,t3(O,l)):M3(l,Wb(O,l))}else{if(!st[J])return k?l:{};O=z3(l,J,I)}}P||(P=new Kn);var ge=P.get(l);if(ge)return ge;P.set(l,O),iv(l)?l.forEach(function(ke){O.add(_n(ke,u,m,ke,l,P))}):nv(l)&&l.forEach(function(ke,ze){O.set(ze,_n(ke,u,m,ze,l,P))});var Se=Y?L?Qh:Zh:L?ln:Dt,Ne=q?n:Se(l);return On(Ne||l,function(ke,ze){Ne&&(ze=ke,ke=l[ze]),ta(O,ze,_n(ke,u,m,ze,l,P))}),O}function n3(l){var u=Dt(l);return function(m){return Vb(m,l,u)}}function Vb(l,u,m){var y=m.length;if(l==null)return!y;for(l=nt(l);y--;){var k=m[y],P=u[k],O=l[k];if(O===n&&!(k in l)||!P(O))return!1}return!0}function jb(l,u,m){if(typeof l!="function")throw new Dn(s);return la(function(){l.apply(n,m)},u)}function na(l,u,m,y){var k=-1,P=_l,O=!0,I=l.length,L=[],Y=u.length;if(!I)return L;m&&(u=ut(u,xn(m))),y?(P=vh,O=!1):u.length>=i&&(P=qs,O=!1,u=new Xi(u));e:for(;++k<I;){var q=l[k],J=m==null?q:m(q);if(q=y||q!==0?q:0,O&&J===J){for(var oe=Y;oe--;)if(u[oe]===J)continue e;L.push(q)}else P(u,J,y)||L.push(q)}return L}var di=m1(ur),Hb=m1(Ih,!0);function r3(l,u){var m=!0;return di(l,function(y,k,P){return m=!!u(y,k,P),m}),m}function Jl(l,u,m){for(var y=-1,k=l.length;++y<k;){var P=l[y],O=u(P);if(O!=null&&(I===n?O===O&&!wn(O):m(O,I)))var I=O,L=P}return L}function i3(l,u,m,y){var k=l.length;for(m=Ie(m),m<0&&(m=-m>k?0:k+m),y=y===n||y>k?k:Ie(y),y<0&&(y+=k),y=m>y?0:sv(y);m<y;)l[m++]=u;return l}function zb(l,u){var m=[];return di(l,function(y,k,P){u(y,k,P)&&m.push(y)}),m}function Bt(l,u,m,y,k){var P=-1,O=l.length;for(m||(m=K3),k||(k=[]);++P<O;){var I=l[P];u>0&&m(I)?u>1?Bt(I,u-1,m,y,k):ui(k,I):y||(k[k.length]=I)}return k}var Dh=g1(),Ub=g1(!0);function ur(l,u){return l&&Dh(l,u,Dt)}function Ih(l,u){return l&&Ub(l,u,Dt)}function ec(l,u){return ci(u,function(m){return Vr(l[m])})}function Qi(l,u){u=mi(u,l);for(var m=0,y=u.length;l!=null&&m<y;)l=l[hr(u[m++])];return m&&m==y?l:n}function Kb(l,u,m){var y=u(l);return Oe(l)?y:ui(y,m(l))}function Qt(l){return l==null?l===n?Ys:Zt:Yi&&Yi in nt(l)?W3(l):J3(l)}function _h(l,u){return l>u}function o3(l,u){return l!=null&&et.call(l,u)}function s3(l,u){return l!=null&&u in nt(l)}function a3(l,u,m){return l>=jt(u,m)&&l<Tt(u,m)}function Lh(l,u,m){for(var y=m?vh:_l,k=l[0].length,P=l.length,O=P,I=V(P),L=1/0,Y=[];O--;){var q=l[O];O&&u&&(q=ut(q,xn(u))),L=jt(q.length,L),I[O]=!m&&(u||k>=120&&q.length>=120)?new Xi(O&&q):n}q=l[0];var J=-1,oe=I[0];e:for(;++J<k&&Y.length<L;){var ge=q[J],Se=u?u(ge):ge;if(ge=m||ge!==0?ge:0,!(oe?qs(oe,Se):y(Y,Se,m))){for(O=P;--O;){var Ne=I[O];if(!(Ne?qs(Ne,Se):y(l[O],Se,m)))continue e}oe&&oe.push(Se),Y.push(ge)}}return Y}function l3(l,u,m,y){return ur(l,function(k,P,O){u(y,m(k),P,O)}),y}function ra(l,u,m){u=mi(u,l),l=D1(l,u);var y=l==null?l:l[hr(Nn(u))];return y==null?n:vn(y,l,m)}function Gb(l){return mt(l)&&Qt(l)==Le}function c3(l){return mt(l)&&Qt(l)==Ir}function u3(l){return mt(l)&&Qt(l)==Ae}function ia(l,u,m,y,k){return l===u?!0:l==null||u==null||!mt(l)&&!mt(u)?l!==l&&u!==u:f3(l,u,m,y,ia,k)}function f3(l,u,m,y,k,P){var O=Oe(l),I=Oe(u),L=O?je:Ht(l),Y=I?je:Ht(u);L=L==Le?gt:L,Y=Y==Le?gt:Y;var q=L==gt,J=Y==gt,oe=L==Y;if(oe&&bi(l)){if(!bi(u))return!1;O=!0,q=!1}if(oe&&!q)return P||(P=new Kn),O||Vo(l)?A1(l,u,m,y,k,P):B3(l,u,L,m,y,k,P);if(!(m&x)){var ge=q&&et.call(l,"__wrapped__"),Se=J&&et.call(u,"__wrapped__");if(ge||Se){var Ne=ge?l.value():l,ke=Se?u.value():u;return P||(P=new Kn),k(Ne,ke,m,y,P)}}return oe?(P||(P=new Kn),F3(l,u,m,y,k,P)):!1}function h3(l){return mt(l)&&Ht(l)==qe}function Nh(l,u,m,y){var k=m.length,P=k,O=!y;if(l==null)return!P;for(l=nt(l);k--;){var I=m[k];if(O&&I[2]?I[1]!==l[I[0]]:!(I[0]in l))return!1}for(;++k<P;){I=m[k];var L=I[0],Y=l[L],q=I[1];if(O&&I[2]){if(Y===n&&!(L in l))return!1}else{var J=new Kn;if(y)var oe=y(Y,q,L,l,u,J);if(!(oe===n?ia(q,Y,x|v,y,J):oe))return!1}}return!0}function Yb(l){if(!ht(l)||Y3(l))return!1;var u=Vr(l)?hT:nR;return u.test(eo(l))}function d3(l){return mt(l)&&Qt(l)==lr}function p3(l){return mt(l)&&Ht(l)==Ct}function m3(l){return mt(l)&&bc(l.length)&&!!at[Qt(l)]}function qb(l){return typeof l=="function"?l:l==null?cn:typeof l=="object"?Oe(l)?Qb(l[0],l[1]):Zb(l):bv(l)}function Bh(l){if(!aa(l))return vT(l);var u=[];for(var m in nt(l))et.call(l,m)&&m!="constructor"&&u.push(m);return u}function g3(l){if(!ht(l))return Q3(l);var u=aa(l),m=[];for(var y in l)y=="constructor"&&(u||!et.call(l,y))||m.push(y);return m}function Fh(l,u){return l<u}function Xb(l,u){var m=-1,y=an(l)?V(l.length):[];return di(l,function(k,P,O){y[++m]=u(k,P,O)}),y}function Zb(l){var u=ed(l);return u.length==1&&u[0][2]?M1(u[0][0],u[0][1]):function(m){return m===l||Nh(m,l,u)}}function Qb(l,u){return nd(l)&&P1(u)?M1(hr(l),u):function(m){var y=hd(m,l);return y===n&&y===u?dd(m,l):ia(u,y,x|v)}}function tc(l,u,m,y,k){l!==u&&Dh(u,function(P,O){if(k||(k=new Kn),ht(P))b3(l,u,O,m,tc,y,k);else{var I=y?y(id(l,O),P,O+"",l,u,k):n;I===n&&(I=P),Mh(l,O,I)}},ln)}function b3(l,u,m,y,k,P,O){var I=id(l,m),L=id(u,m),Y=O.get(L);if(Y){Mh(l,m,Y);return}var q=P?P(I,L,m+"",l,u,O):n,J=q===n;if(J){var oe=Oe(L),ge=!oe&&bi(L),Se=!oe&&!ge&&Vo(L);q=L,oe||ge||Se?Oe(I)?q=I:bt(I)?q=sn(I):ge?(J=!1,q=u1(L,!0)):Se?(J=!1,q=f1(L,!0)):q=[]:ca(L)||to(L)?(q=I,to(I)?q=av(I):(!ht(I)||Vr(I))&&(q=T1(L))):J=!1}J&&(O.set(L,q),k(q,L,y,P,O),O.delete(L)),Mh(l,m,q)}function Jb(l,u){var m=l.length;if(m)return u+=u<0?m:0,Wr(u,m)?l[u]:n}function e1(l,u,m){u.length?u=ut(u,function(P){return Oe(P)?function(O){return Qi(O,P.length===1?P[0]:P)}:P}):u=[cn];var y=-1;u=ut(u,xn(we()));var k=Xb(l,function(P,O,I){var L=ut(u,function(Y){return Y(P)});return{criteria:L,index:++y,value:P}});return zR(k,function(P,O){return P3(P,O,m)})}function v3(l,u){return t1(l,u,function(m,y){return dd(l,y)})}function t1(l,u,m){for(var y=-1,k=u.length,P={};++y<k;){var O=u[y],I=Qi(l,O);m(I,O)&&oa(P,mi(O,l),I)}return P}function x3(l){return function(u){return Qi(u,l)}}function Wh(l,u,m,y){var k=y?HR:Po,P=-1,O=u.length,I=l;for(l===u&&(u=sn(u)),m&&(I=ut(l,xn(m)));++P<O;)for(var L=0,Y=u[P],q=m?m(Y):Y;(L=k(I,q,L,y))>-1;)I!==l&&Ul.call(I,L,1),Ul.call(l,L,1);return l}function n1(l,u){for(var m=l?u.length:0,y=m-1;m--;){var k=u[m];if(m==y||k!==P){var P=k;Wr(k)?Ul.call(l,k,1):zh(l,k)}}return l}function Vh(l,u){return l+Yl(Lb()*(u-l+1))}function y3(l,u,m,y){for(var k=-1,P=Tt(Gl((u-l)/(m||1)),0),O=V(P);P--;)O[y?P:++k]=l,l+=m;return O}function jh(l,u){var m="";if(!l||u<1||u>ae)return m;do u%2&&(m+=l),u=Yl(u/2),u&&(l+=l);while(u);return m}function We(l,u){return od(O1(l,u,cn),l+"")}function w3(l){return Fb(jo(l))}function $3(l,u){var m=jo(l);return fc(m,Zi(u,0,m.length))}function oa(l,u,m,y){if(!ht(l))return l;u=mi(u,l);for(var k=-1,P=u.length,O=P-1,I=l;I!=null&&++k<P;){var L=hr(u[k]),Y=m;if(L==="__proto__"||L==="constructor"||L==="prototype")return l;if(k!=O){var q=I[L];Y=y?y(q,L,I):n,Y===n&&(Y=ht(q)?q:Wr(u[k+1])?[]:{})}ta(I,L,Y),I=I[L]}return l}var r1=ql?function(l,u){return ql.set(l,u),l}:cn,C3=Kl?function(l,u){return Kl(l,"toString",{configurable:!0,enumerable:!1,value:md(u),writable:!0})}:cn;function S3(l){return fc(jo(l))}function Ln(l,u,m){var y=-1,k=l.length;u<0&&(u=-u>k?0:k+u),m=m>k?k:m,m<0&&(m+=k),k=u>m?0:m-u>>>0,u>>>=0;for(var P=V(k);++y<k;)P[y]=l[y+u];return P}function k3(l,u){var m;return di(l,function(y,k,P){return m=u(y,k,P),!m}),!!m}function nc(l,u,m){var y=0,k=l==null?y:l.length;if(typeof u=="number"&&u===u&&k<=be){for(;y<k;){var P=y+k>>>1,O=l[P];O!==null&&!wn(O)&&(m?O<=u:O<u)?y=P+1:k=P}return k}return Hh(l,u,cn,m)}function Hh(l,u,m,y){var k=0,P=l==null?0:l.length;if(P===0)return 0;u=m(u);for(var O=u!==u,I=u===null,L=wn(u),Y=u===n;k<P;){var q=Yl((k+P)/2),J=m(l[q]),oe=J!==n,ge=J===null,Se=J===J,Ne=wn(J);if(O)var ke=y||Se;else Y?ke=Se&&(y||oe):I?ke=Se&&oe&&(y||!ge):L?ke=Se&&oe&&!ge&&(y||!Ne):ge||Ne?ke=!1:ke=y?J<=u:J<u;ke?k=q+1:P=q}return jt(P,Me)}function i1(l,u){for(var m=-1,y=l.length,k=0,P=[];++m<y;){var O=l[m],I=u?u(O):O;if(!m||!Gn(I,L)){var L=I;P[k++]=O===0?0:O}}return P}function o1(l){return typeof l=="number"?l:wn(l)?de:+l}function yn(l){if(typeof l=="string")return l;if(Oe(l))return ut(l,yn)+"";if(wn(l))return Nb?Nb.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}function pi(l,u,m){var y=-1,k=_l,P=l.length,O=!0,I=[],L=I;if(m)O=!1,k=vh;else if(P>=i){var Y=u?null:L3(l);if(Y)return Nl(Y);O=!1,k=qs,L=new Xi}else L=u?[]:I;e:for(;++y<P;){var q=l[y],J=u?u(q):q;if(q=m||q!==0?q:0,O&&J===J){for(var oe=L.length;oe--;)if(L[oe]===J)continue e;u&&L.push(J),I.push(q)}else k(L,J,m)||(L!==I&&L.push(J),I.push(q))}return I}function zh(l,u){return u=mi(u,l),l=D1(l,u),l==null||delete l[hr(Nn(u))]}function s1(l,u,m,y){return oa(l,u,m(Qi(l,u)),y)}function rc(l,u,m,y){for(var k=l.length,P=y?k:-1;(y?P--:++P<k)&&u(l[P],P,l););return m?Ln(l,y?0:P,y?P+1:k):Ln(l,y?P+1:0,y?k:P)}function a1(l,u){var m=l;return m instanceof Ue&&(m=m.value()),xh(u,function(y,k){return k.func.apply(k.thisArg,ui([y],k.args))},m)}function Uh(l,u,m){var y=l.length;if(y<2)return y?pi(l[0]):[];for(var k=-1,P=V(y);++k<y;)for(var O=l[k],I=-1;++I<y;)I!=k&&(P[k]=na(P[k]||O,l[I],u,m));return pi(Bt(P,1),u,m)}function l1(l,u,m){for(var y=-1,k=l.length,P=u.length,O={};++y<k;){var I=y<P?u[y]:n;m(O,l[y],I)}return O}function Kh(l){return bt(l)?l:[]}function Gh(l){return typeof l=="function"?l:cn}function mi(l,u){return Oe(l)?l:nd(l,u)?[l]:N1(Je(l))}var A3=We;function gi(l,u,m){var y=l.length;return m=m===n?y:m,!u&&m>=y?l:Ln(l,u,m)}var c1=dT||function(l){return Nt.clearTimeout(l)};function u1(l,u){if(u)return l.slice();var m=l.length,y=Mb?Mb(m):new l.constructor(m);return l.copy(y),y}function Yh(l){var u=new l.constructor(l.byteLength);return new Hl(u).set(new Hl(l)),u}function E3(l,u){var m=u?Yh(l.buffer):l.buffer;return new l.constructor(m,l.byteOffset,l.byteLength)}function R3(l){var u=new l.constructor(l.source,G0.exec(l));return u.lastIndex=l.lastIndex,u}function T3(l){return ea?nt(ea.call(l)):{}}function f1(l,u){var m=u?Yh(l.buffer):l.buffer;return new l.constructor(m,l.byteOffset,l.length)}function h1(l,u){if(l!==u){var m=l!==n,y=l===null,k=l===l,P=wn(l),O=u!==n,I=u===null,L=u===u,Y=wn(u);if(!I&&!Y&&!P&&l>u||P&&O&&L&&!I&&!Y||y&&O&&L||!m&&L||!k)return 1;if(!y&&!P&&!Y&&l<u||Y&&m&&k&&!y&&!P||I&&m&&k||!O&&k||!L)return-1}return 0}function P3(l,u,m){for(var y=-1,k=l.criteria,P=u.criteria,O=k.length,I=m.length;++y<O;){var L=h1(k[y],P[y]);if(L){if(y>=I)return L;var Y=m[y];return L*(Y=="desc"?-1:1)}}return l.index-u.index}function d1(l,u,m,y){for(var k=-1,P=l.length,O=m.length,I=-1,L=u.length,Y=Tt(P-O,0),q=V(L+Y),J=!y;++I<L;)q[I]=u[I];for(;++k<O;)(J||k<P)&&(q[m[k]]=l[k]);for(;Y--;)q[I++]=l[k++];return q}function p1(l,u,m,y){for(var k=-1,P=l.length,O=-1,I=m.length,L=-1,Y=u.length,q=Tt(P-I,0),J=V(q+Y),oe=!y;++k<q;)J[k]=l[k];for(var ge=k;++L<Y;)J[ge+L]=u[L];for(;++O<I;)(oe||k<P)&&(J[ge+m[O]]=l[k++]);return J}function sn(l,u){var m=-1,y=l.length;for(u||(u=V(y));++m<y;)u[m]=l[m];return u}function fr(l,u,m,y){var k=!m;m||(m={});for(var P=-1,O=u.length;++P<O;){var I=u[P],L=y?y(m[I],l[I],I,m,l):n;L===n&&(L=l[I]),k?Nr(m,I,L):ta(m,I,L)}return m}function M3(l,u){return fr(l,td(l),u)}function O3(l,u){return fr(l,E1(l),u)}function ic(l,u){return function(m,y){var k=Oe(m)?NR:e3,P=u?u():{};return k(m,l,we(y,2),P)}}function Bo(l){return We(function(u,m){var y=-1,k=m.length,P=k>1?m[k-1]:n,O=k>2?m[2]:n;for(P=l.length>3&&typeof P=="function"?(k--,P):n,O&&Jt(m[0],m[1],O)&&(P=k<3?n:P,k=1),u=nt(u);++y<k;){var I=m[y];I&&l(u,I,y,P)}return u})}function m1(l,u){return function(m,y){if(m==null)return m;if(!an(m))return l(m,y);for(var k=m.length,P=u?k:-1,O=nt(m);(u?P--:++P<k)&&y(O[P],P,O)!==!1;);return m}}function g1(l){return function(u,m,y){for(var k=-1,P=nt(u),O=y(u),I=O.length;I--;){var L=O[l?I:++k];if(m(P[L],L,P)===!1)break}return u}}function D3(l,u,m){var y=u&w,k=sa(l);function P(){var O=this&&this!==Nt&&this instanceof P?k:l;return O.apply(y?m:this,arguments)}return P}function b1(l){return function(u){u=Je(u);var m=Mo(u)?Un(u):n,y=m?m[0]:u.charAt(0),k=m?gi(m,1).join(""):u.slice(1);return y[l]()+k}}function Fo(l){return function(u){return xh(mv(pv(u).replace(CR,"")),l,"")}}function sa(l){return function(){var u=arguments;switch(u.length){case 0:return new l;case 1:return new l(u[0]);case 2:return new l(u[0],u[1]);case 3:return new l(u[0],u[1],u[2]);case 4:return new l(u[0],u[1],u[2],u[3]);case 5:return new l(u[0],u[1],u[2],u[3],u[4]);case 6:return new l(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new l(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var m=No(l.prototype),y=l.apply(m,u);return ht(y)?y:m}}function I3(l,u,m){var y=sa(l);function k(){for(var P=arguments.length,O=V(P),I=P,L=Wo(k);I--;)O[I]=arguments[I];var Y=P<3&&O[0]!==L&&O[P-1]!==L?[]:fi(O,L);if(P-=Y.length,P<m)return $1(l,u,oc,k.placeholder,n,O,Y,n,n,m-P);var q=this&&this!==Nt&&this instanceof k?y:l;return vn(q,this,O)}return k}function v1(l){return function(u,m,y){var k=nt(u);if(!an(u)){var P=we(m,3);u=Dt(u),m=function(I){return P(k[I],I,k)}}var O=l(u,m,y);return O>-1?k[P?u[O]:O]:n}}function x1(l){return Fr(function(u){var m=u.length,y=m,k=In.prototype.thru;for(l&&u.reverse();y--;){var P=u[y];if(typeof P!="function")throw new Dn(s);if(k&&!O&&cc(P)=="wrapper")var O=new In([],!0)}for(y=O?y:m;++y<m;){P=u[y];var I=cc(P),L=I=="wrapper"?Jh(P):n;L&&rd(L[0])&&L[1]==(M|A|T|B)&&!L[4].length&&L[9]==1?O=O[cc(L[0])].apply(O,L[3]):O=P.length==1&&rd(P)?O[I]():O.thru(P)}return function(){var Y=arguments,q=Y[0];if(O&&Y.length==1&&Oe(q))return O.plant(q).value();for(var J=0,oe=m?u[J].apply(this,Y):q;++J<m;)oe=u[J].call(this,oe);return oe}})}function oc(l,u,m,y,k,P,O,I,L,Y){var q=u&M,J=u&w,oe=u&$,ge=u&(A|R),Se=u&N,Ne=oe?n:sa(l);function ke(){for(var ze=arguments.length,Ge=V(ze),$n=ze;$n--;)Ge[$n]=arguments[$n];if(ge)var en=Wo(ke),Cn=KR(Ge,en);if(y&&(Ge=d1(Ge,y,k,ge)),P&&(Ge=p1(Ge,P,O,ge)),ze-=Cn,ge&&ze<Y){var vt=fi(Ge,en);return $1(l,u,oc,ke.placeholder,m,Ge,vt,I,L,Y-ze)}var Yn=J?m:this,Hr=oe?Yn[l]:l;return ze=Ge.length,I?Ge=e5(Ge,I):Se&&ze>1&&Ge.reverse(),q&&L<ze&&(Ge.length=L),this&&this!==Nt&&this instanceof ke&&(Hr=Ne||sa(Hr)),Hr.apply(Yn,Ge)}return ke}function y1(l,u){return function(m,y){return l3(m,l,u(y),{})}}function sc(l,u){return function(m,y){var k;if(m===n&&y===n)return u;if(m!==n&&(k=m),y!==n){if(k===n)return y;typeof m=="string"||typeof y=="string"?(m=yn(m),y=yn(y)):(m=o1(m),y=o1(y)),k=l(m,y)}return k}}function qh(l){return Fr(function(u){return u=ut(u,xn(we())),We(function(m){var y=this;return l(u,function(k){return vn(k,y,m)})})})}function ac(l,u){u=u===n?" ":yn(u);var m=u.length;if(m<2)return m?jh(u,l):u;var y=jh(u,Gl(l/Oo(u)));return Mo(u)?gi(Un(y),0,l).join(""):y.slice(0,l)}function _3(l,u,m,y){var k=u&w,P=sa(l);function O(){for(var I=-1,L=arguments.length,Y=-1,q=y.length,J=V(q+L),oe=this&&this!==Nt&&this instanceof O?P:l;++Y<q;)J[Y]=y[Y];for(;L--;)J[Y++]=arguments[++I];return vn(oe,k?m:this,J)}return O}function w1(l){return function(u,m,y){return y&&typeof y!="number"&&Jt(u,m,y)&&(m=y=n),u=jr(u),m===n?(m=u,u=0):m=jr(m),y=y===n?u<m?1:-1:jr(y),y3(u,m,y,l)}}function lc(l){return function(u,m){return typeof u=="string"&&typeof m=="string"||(u=Bn(u),m=Bn(m)),l(u,m)}}function $1(l,u,m,y,k,P,O,I,L,Y){var q=u&A,J=q?O:n,oe=q?n:O,ge=q?P:n,Se=q?n:P;u|=q?T:D,u&=~(q?D:T),u&S||(u&=-4);var Ne=[l,u,k,ge,J,Se,oe,I,L,Y],ke=m.apply(n,Ne);return rd(l)&&I1(ke,Ne),ke.placeholder=y,_1(ke,l,u)}function Xh(l){var u=Rt[l];return function(m,y){if(m=Bn(m),y=y==null?0:jt(Ie(y),292),y&&_b(m)){var k=(Je(m)+"e").split("e"),P=u(k[0]+"e"+(+k[1]+y));return k=(Je(P)+"e").split("e"),+(k[0]+"e"+(+k[1]-y))}return u(m)}}var L3=_o&&1/Nl(new _o([,-0]))[1]==ee?function(l){return new _o(l)}:vd;function C1(l){return function(u){var m=Ht(u);return m==qe?Ah(u):m==Ct?JR(u):UR(u,l(u))}}function Br(l,u,m,y,k,P,O,I){var L=u&$;if(!L&&typeof l!="function")throw new Dn(s);var Y=y?y.length:0;if(Y||(u&=-97,y=k=n),O=O===n?O:Tt(Ie(O),0),I=I===n?I:Ie(I),Y-=k?k.length:0,u&D){var q=y,J=k;y=k=n}var oe=L?n:Jh(l),ge=[l,u,m,y,k,q,J,P,O,I];if(oe&&Z3(ge,oe),l=ge[0],u=ge[1],m=ge[2],y=ge[3],k=ge[4],I=ge[9]=ge[9]===n?L?0:l.length:Tt(ge[9]-Y,0),!I&&u&(A|R)&&(u&=-25),!u||u==w)var Se=D3(l,u,m);else u==A||u==R?Se=I3(l,u,I):(u==T||u==(w|T))&&!k.length?Se=_3(l,u,m,y):Se=oc.apply(n,ge);var Ne=oe?r1:I1;return _1(Ne(Se,ge),l,u)}function S1(l,u,m,y){return l===n||Gn(l,Io[m])&&!et.call(y,m)?u:l}function k1(l,u,m,y,k,P){return ht(l)&&ht(u)&&(P.set(u,l),tc(l,u,n,k1,P),P.delete(u)),l}function N3(l){return ca(l)?n:l}function A1(l,u,m,y,k,P){var O=m&x,I=l.length,L=u.length;if(I!=L&&!(O&&L>I))return!1;var Y=P.get(l),q=P.get(u);if(Y&&q)return Y==u&&q==l;var J=-1,oe=!0,ge=m&v?new Xi:n;for(P.set(l,u),P.set(u,l);++J<I;){var Se=l[J],Ne=u[J];if(y)var ke=O?y(Ne,Se,J,u,l,P):y(Se,Ne,J,l,u,P);if(ke!==n){if(ke)continue;oe=!1;break}if(ge){if(!yh(u,function(ze,Ge){if(!qs(ge,Ge)&&(Se===ze||k(Se,ze,m,y,P)))return ge.push(Ge)})){oe=!1;break}}else if(!(Se===Ne||k(Se,Ne,m,y,P))){oe=!1;break}}return P.delete(l),P.delete(u),oe}function B3(l,u,m,y,k,P,O){switch(m){case St:if(l.byteLength!=u.byteLength||l.byteOffset!=u.byteOffset)return!1;l=l.buffer,u=u.buffer;case Ir:return!(l.byteLength!=u.byteLength||!P(new Hl(l),new Hl(u)));case Re:case Ae:case Fe:return Gn(+l,+u);case De:return l.name==u.name&&l.message==u.message;case lr:case cr:return l==u+"";case qe:var I=Ah;case Ct:var L=y&x;if(I||(I=Nl),l.size!=u.size&&!L)return!1;var Y=O.get(l);if(Y)return Y==u;y|=v,O.set(l,u);var q=A1(I(l),I(u),y,k,P,O);return O.delete(l),q;case Ro:if(ea)return ea.call(l)==ea.call(u)}return!1}function F3(l,u,m,y,k,P){var O=m&x,I=Zh(l),L=I.length,Y=Zh(u),q=Y.length;if(L!=q&&!O)return!1;for(var J=L;J--;){var oe=I[J];if(!(O?oe in u:et.call(u,oe)))return!1}var ge=P.get(l),Se=P.get(u);if(ge&&Se)return ge==u&&Se==l;var Ne=!0;P.set(l,u),P.set(u,l);for(var ke=O;++J<L;){oe=I[J];var ze=l[oe],Ge=u[oe];if(y)var $n=O?y(Ge,ze,oe,u,l,P):y(ze,Ge,oe,l,u,P);if(!($n===n?ze===Ge||k(ze,Ge,m,y,P):$n)){Ne=!1;break}ke||(ke=oe=="constructor")}if(Ne&&!ke){var en=l.constructor,Cn=u.constructor;en!=Cn&&"constructor"in l&&"constructor"in u&&!(typeof en=="function"&&en instanceof en&&typeof Cn=="function"&&Cn instanceof Cn)&&(Ne=!1)}return P.delete(l),P.delete(u),Ne}function Fr(l){return od(O1(l,n,V1),l+"")}function Zh(l){return Kb(l,Dt,td)}function Qh(l){return Kb(l,ln,E1)}var Jh=ql?function(l){return ql.get(l)}:vd;function cc(l){for(var u=l.name+"",m=Lo[u],y=et.call(Lo,u)?m.length:0;y--;){var k=m[y],P=k.func;if(P==null||P==l)return k.name}return u}function Wo(l){var u=et.call(E,"placeholder")?E:l;return u.placeholder}function we(){var l=E.iteratee||gd;return l=l===gd?qb:l,arguments.length?l(arguments[0],arguments[1]):l}function uc(l,u){var m=l.__data__;return G3(u)?m[typeof u=="string"?"string":"hash"]:m.map}function ed(l){for(var u=Dt(l),m=u.length;m--;){var y=u[m],k=l[y];u[m]=[y,k,P1(k)]}return u}function Ji(l,u){var m=XR(l,u);return Yb(m)?m:n}function W3(l){var u=et.call(l,Yi),m=l[Yi];try{l[Yi]=n;var y=!0}catch{}var k=Vl.call(l);return y&&(u?l[Yi]=m:delete l[Yi]),k}var td=Rh?function(l){return l==null?[]:(l=nt(l),ci(Rh(l),function(u){return Db.call(l,u)}))}:xd,E1=Rh?function(l){for(var u=[];l;)ui(u,td(l)),l=zl(l);return u}:xd,Ht=Qt;(Th&&Ht(new Th(new ArrayBuffer(1)))!=St||Zs&&Ht(new Zs)!=qe||Ph&&Ht(Ph.resolve())!=Ui||_o&&Ht(new _o)!=Ct||Qs&&Ht(new Qs)!=Ki)&&(Ht=function(l){var u=Qt(l),m=u==gt?l.constructor:n,y=m?eo(m):"";if(y)switch(y){case $T:return St;case CT:return qe;case ST:return Ui;case kT:return Ct;case AT:return Ki}return u});function V3(l,u,m){for(var y=-1,k=m.length;++y<k;){var P=m[y],O=P.size;switch(P.type){case"drop":l+=O;break;case"dropRight":u-=O;break;case"take":u=jt(u,l+O);break;case"takeRight":l=Tt(l,u-O);break}}return{start:l,end:u}}function j3(l){var u=l.match(YE);return u?u[1].split(qE):[]}function R1(l,u,m){u=mi(u,l);for(var y=-1,k=u.length,P=!1;++y<k;){var O=hr(u[y]);if(!(P=l!=null&&m(l,O)))break;l=l[O]}return P||++y!=k?P:(k=l==null?0:l.length,!!k&&bc(k)&&Wr(O,k)&&(Oe(l)||to(l)))}function H3(l){var u=l.length,m=new l.constructor(u);return u&&typeof l[0]=="string"&&et.call(l,"index")&&(m.index=l.index,m.input=l.input),m}function T1(l){return typeof l.constructor=="function"&&!aa(l)?No(zl(l)):{}}function z3(l,u,m){var y=l.constructor;switch(u){case Ir:return Yh(l);case Re:case Ae:return new y(+l);case St:return E3(l,m);case eh:case th:case nh:case rh:case ih:case oh:case sh:case ah:case lh:return f1(l,m);case qe:return new y;case Fe:case cr:return new y(l);case lr:return R3(l);case Ct:return new y;case Ro:return T3(l)}}function U3(l,u){var m=u.length;if(!m)return l;var y=m-1;return u[y]=(m>1?"& ":"")+u[y],u=u.join(m>2?", ":" "),l.replace(GE,`{
/* [wrapped with `+u+`] */
`)}function K3(l){return Oe(l)||to(l)||!!(Ib&&l&&l[Ib])}function Wr(l,u){var m=typeof l;return u=u??ae,!!u&&(m=="number"||m!="symbol"&&iR.test(l))&&l>-1&&l%1==0&&l<u}function Jt(l,u,m){if(!ht(m))return!1;var y=typeof u;return(y=="number"?an(m)&&Wr(u,m.length):y=="string"&&u in m)?Gn(m[u],l):!1}function nd(l,u){if(Oe(l))return!1;var m=typeof l;return m=="number"||m=="symbol"||m=="boolean"||l==null||wn(l)?!0:HE.test(l)||!jE.test(l)||u!=null&&l in nt(u)}function G3(l){var u=typeof l;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?l!=="__proto__":l===null}function rd(l){var u=cc(l),m=E[u];if(typeof m!="function"||!(u in Ue.prototype))return!1;if(l===m)return!0;var y=Jh(m);return!!y&&l===y[0]}function Y3(l){return!!Pb&&Pb in l}var q3=Fl?Vr:yd;function aa(l){var u=l&&l.constructor,m=typeof u=="function"&&u.prototype||Io;return l===m}function P1(l){return l===l&&!ht(l)}function M1(l,u){return function(m){return m==null?!1:m[l]===u&&(u!==n||l in nt(m))}}function X3(l){var u=mc(l,function(y){return m.size===f&&m.clear(),y}),m=u.cache;return u}function Z3(l,u){var m=l[1],y=u[1],k=m|y,P=k<(w|$|M),O=y==M&&m==A||y==M&&m==B&&l[7].length<=u[8]||y==(M|B)&&u[7].length<=u[8]&&m==A;if(!(P||O))return l;y&w&&(l[2]=u[2],k|=m&w?0:S);var I=u[3];if(I){var L=l[3];l[3]=L?d1(L,I,u[4]):I,l[4]=L?fi(l[3],h):u[4]}return I=u[5],I&&(L=l[5],l[5]=L?p1(L,I,u[6]):I,l[6]=L?fi(l[5],h):u[6]),I=u[7],I&&(l[7]=I),y&M&&(l[8]=l[8]==null?u[8]:jt(l[8],u[8])),l[9]==null&&(l[9]=u[9]),l[0]=u[0],l[1]=k,l}function Q3(l){var u=[];if(l!=null)for(var m in nt(l))u.push(m);return u}function J3(l){return Vl.call(l)}function O1(l,u,m){return u=Tt(u===n?l.length-1:u,0),function(){for(var y=arguments,k=-1,P=Tt(y.length-u,0),O=V(P);++k<P;)O[k]=y[u+k];k=-1;for(var I=V(u+1);++k<u;)I[k]=y[k];return I[u]=m(O),vn(l,this,I)}}function D1(l,u){return u.length<2?l:Qi(l,Ln(u,0,-1))}function e5(l,u){for(var m=l.length,y=jt(u.length,m),k=sn(l);y--;){var P=u[y];l[y]=Wr(P,m)?k[P]:n}return l}function id(l,u){if(!(u==="constructor"&&typeof l[u]=="function")&&u!="__proto__")return l[u]}var I1=L1(r1),la=mT||function(l,u){return Nt.setTimeout(l,u)},od=L1(C3);function _1(l,u,m){var y=u+"";return od(l,U3(y,t5(j3(y),m)))}function L1(l){var u=0,m=0;return function(){var y=xT(),k=Q-(y-m);if(m=y,k>0){if(++u>=j)return arguments[0]}else u=0;return l.apply(n,arguments)}}function fc(l,u){var m=-1,y=l.length,k=y-1;for(u=u===n?y:u;++m<u;){var P=Vh(m,k),O=l[P];l[P]=l[m],l[m]=O}return l.length=u,l}var N1=X3(function(l){var u=[];return l.charCodeAt(0)===46&&u.push(""),l.replace(zE,function(m,y,k,P){u.push(k?P.replace(QE,"$1"):y||m)}),u});function hr(l){if(typeof l=="string"||wn(l))return l;var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}function eo(l){if(l!=null){try{return Wl.call(l)}catch{}try{return l+""}catch{}}return""}function t5(l,u){return On(Ve,function(m){var y="_."+m[0];u&m[1]&&!_l(l,y)&&l.push(y)}),l.sort()}function B1(l){if(l instanceof Ue)return l.clone();var u=new In(l.__wrapped__,l.__chain__);return u.__actions__=sn(l.__actions__),u.__index__=l.__index__,u.__values__=l.__values__,u}function n5(l,u,m){(m?Jt(l,u,m):u===n)?u=1:u=Tt(Ie(u),0);var y=l==null?0:l.length;if(!y||u<1)return[];for(var k=0,P=0,O=V(Gl(y/u));k<y;)O[P++]=Ln(l,k,k+=u);return O}function r5(l){for(var u=-1,m=l==null?0:l.length,y=0,k=[];++u<m;){var P=l[u];P&&(k[y++]=P)}return k}function i5(){var l=arguments.length;if(!l)return[];for(var u=V(l-1),m=arguments[0],y=l;y--;)u[y-1]=arguments[y];return ui(Oe(m)?sn(m):[m],Bt(u,1))}var o5=We(function(l,u){return bt(l)?na(l,Bt(u,1,bt,!0)):[]}),s5=We(function(l,u){var m=Nn(u);return bt(m)&&(m=n),bt(l)?na(l,Bt(u,1,bt,!0),we(m,2)):[]}),a5=We(function(l,u){var m=Nn(u);return bt(m)&&(m=n),bt(l)?na(l,Bt(u,1,bt,!0),n,m):[]});function l5(l,u,m){var y=l==null?0:l.length;return y?(u=m||u===n?1:Ie(u),Ln(l,u<0?0:u,y)):[]}function c5(l,u,m){var y=l==null?0:l.length;return y?(u=m||u===n?1:Ie(u),u=y-u,Ln(l,0,u<0?0:u)):[]}function u5(l,u){return l&&l.length?rc(l,we(u,3),!0,!0):[]}function f5(l,u){return l&&l.length?rc(l,we(u,3),!0):[]}function h5(l,u,m,y){var k=l==null?0:l.length;return k?(m&&typeof m!="number"&&Jt(l,u,m)&&(m=0,y=k),i3(l,u,m,y)):[]}function F1(l,u,m){var y=l==null?0:l.length;if(!y)return-1;var k=m==null?0:Ie(m);return k<0&&(k=Tt(y+k,0)),Ll(l,we(u,3),k)}function W1(l,u,m){var y=l==null?0:l.length;if(!y)return-1;var k=y-1;return m!==n&&(k=Ie(m),k=m<0?Tt(y+k,0):jt(k,y-1)),Ll(l,we(u,3),k,!0)}function V1(l){var u=l==null?0:l.length;return u?Bt(l,1):[]}function d5(l){var u=l==null?0:l.length;return u?Bt(l,ee):[]}function p5(l,u){var m=l==null?0:l.length;return m?(u=u===n?1:Ie(u),Bt(l,u)):[]}function m5(l){for(var u=-1,m=l==null?0:l.length,y={};++u<m;){var k=l[u];y[k[0]]=k[1]}return y}function j1(l){return l&&l.length?l[0]:n}function g5(l,u,m){var y=l==null?0:l.length;if(!y)return-1;var k=m==null?0:Ie(m);return k<0&&(k=Tt(y+k,0)),Po(l,u,k)}function b5(l){var u=l==null?0:l.length;return u?Ln(l,0,-1):[]}var v5=We(function(l){var u=ut(l,Kh);return u.length&&u[0]===l[0]?Lh(u):[]}),x5=We(function(l){var u=Nn(l),m=ut(l,Kh);return u===Nn(m)?u=n:m.pop(),m.length&&m[0]===l[0]?Lh(m,we(u,2)):[]}),y5=We(function(l){var u=Nn(l),m=ut(l,Kh);return u=typeof u=="function"?u:n,u&&m.pop(),m.length&&m[0]===l[0]?Lh(m,n,u):[]});function w5(l,u){return l==null?"":bT.call(l,u)}function Nn(l){var u=l==null?0:l.length;return u?l[u-1]:n}function $5(l,u,m){var y=l==null?0:l.length;if(!y)return-1;var k=y;return m!==n&&(k=Ie(m),k=k<0?Tt(y+k,0):jt(k,y-1)),u===u?tT(l,u,k):Ll(l,$b,k,!0)}function C5(l,u){return l&&l.length?Jb(l,Ie(u)):n}var S5=We(H1);function H1(l,u){return l&&l.length&&u&&u.length?Wh(l,u):l}function k5(l,u,m){return l&&l.length&&u&&u.length?Wh(l,u,we(m,2)):l}function A5(l,u,m){return l&&l.length&&u&&u.length?Wh(l,u,n,m):l}var E5=Fr(function(l,u){var m=l==null?0:l.length,y=Oh(l,u);return n1(l,ut(u,function(k){return Wr(k,m)?+k:k}).sort(h1)),y});function R5(l,u){var m=[];if(!(l&&l.length))return m;var y=-1,k=[],P=l.length;for(u=we(u,3);++y<P;){var O=l[y];u(O,y,l)&&(m.push(O),k.push(y))}return n1(l,k),m}function sd(l){return l==null?l:wT.call(l)}function T5(l,u,m){var y=l==null?0:l.length;return y?(m&&typeof m!="number"&&Jt(l,u,m)?(u=0,m=y):(u=u==null?0:Ie(u),m=m===n?y:Ie(m)),Ln(l,u,m)):[]}function P5(l,u){return nc(l,u)}function M5(l,u,m){return Hh(l,u,we(m,2))}function O5(l,u){var m=l==null?0:l.length;if(m){var y=nc(l,u);if(y<m&&Gn(l[y],u))return y}return-1}function D5(l,u){return nc(l,u,!0)}function I5(l,u,m){return Hh(l,u,we(m,2),!0)}function _5(l,u){var m=l==null?0:l.length;if(m){var y=nc(l,u,!0)-1;if(Gn(l[y],u))return y}return-1}function L5(l){return l&&l.length?i1(l):[]}function N5(l,u){return l&&l.length?i1(l,we(u,2)):[]}function B5(l){var u=l==null?0:l.length;return u?Ln(l,1,u):[]}function F5(l,u,m){return l&&l.length?(u=m||u===n?1:Ie(u),Ln(l,0,u<0?0:u)):[]}function W5(l,u,m){var y=l==null?0:l.length;return y?(u=m||u===n?1:Ie(u),u=y-u,Ln(l,u<0?0:u,y)):[]}function V5(l,u){return l&&l.length?rc(l,we(u,3),!1,!0):[]}function j5(l,u){return l&&l.length?rc(l,we(u,3)):[]}var H5=We(function(l){return pi(Bt(l,1,bt,!0))}),z5=We(function(l){var u=Nn(l);return bt(u)&&(u=n),pi(Bt(l,1,bt,!0),we(u,2))}),U5=We(function(l){var u=Nn(l);return u=typeof u=="function"?u:n,pi(Bt(l,1,bt,!0),n,u)});function K5(l){return l&&l.length?pi(l):[]}function G5(l,u){return l&&l.length?pi(l,we(u,2)):[]}function Y5(l,u){return u=typeof u=="function"?u:n,l&&l.length?pi(l,n,u):[]}function ad(l){if(!(l&&l.length))return[];var u=0;return l=ci(l,function(m){if(bt(m))return u=Tt(m.length,u),!0}),Sh(u,function(m){return ut(l,wh(m))})}function z1(l,u){if(!(l&&l.length))return[];var m=ad(l);return u==null?m:ut(m,function(y){return vn(u,n,y)})}var q5=We(function(l,u){return bt(l)?na(l,u):[]}),X5=We(function(l){return Uh(ci(l,bt))}),Z5=We(function(l){var u=Nn(l);return bt(u)&&(u=n),Uh(ci(l,bt),we(u,2))}),Q5=We(function(l){var u=Nn(l);return u=typeof u=="function"?u:n,Uh(ci(l,bt),n,u)}),J5=We(ad);function eP(l,u){return l1(l||[],u||[],ta)}function tP(l,u){return l1(l||[],u||[],oa)}var nP=We(function(l){var u=l.length,m=u>1?l[u-1]:n;return m=typeof m=="function"?(l.pop(),m):n,z1(l,m)});function U1(l){var u=E(l);return u.__chain__=!0,u}function rP(l,u){return u(l),l}function hc(l,u){return u(l)}var iP=Fr(function(l){var u=l.length,m=u?l[0]:0,y=this.__wrapped__,k=function(P){return Oh(P,l)};return u>1||this.__actions__.length||!(y instanceof Ue)||!Wr(m)?this.thru(k):(y=y.slice(m,+m+(u?1:0)),y.__actions__.push({func:hc,args:[k],thisArg:n}),new In(y,this.__chain__).thru(function(P){return u&&!P.length&&P.push(n),P}))});function oP(){return U1(this)}function sP(){return new In(this.value(),this.__chain__)}function aP(){this.__values__===n&&(this.__values__=ov(this.value()));var l=this.__index__>=this.__values__.length,u=l?n:this.__values__[this.__index__++];return{done:l,value:u}}function lP(){return this}function cP(l){for(var u,m=this;m instanceof Zl;){var y=B1(m);y.__index__=0,y.__values__=n,u?k.__wrapped__=y:u=y;var k=y;m=m.__wrapped__}return k.__wrapped__=l,u}function uP(){var l=this.__wrapped__;if(l instanceof Ue){var u=l;return this.__actions__.length&&(u=new Ue(this)),u=u.reverse(),u.__actions__.push({func:hc,args:[sd],thisArg:n}),new In(u,this.__chain__)}return this.thru(sd)}function fP(){return a1(this.__wrapped__,this.__actions__)}var hP=ic(function(l,u,m){et.call(l,m)?++l[m]:Nr(l,m,1)});function dP(l,u,m){var y=Oe(l)?yb:r3;return m&&Jt(l,u,m)&&(u=n),y(l,we(u,3))}function pP(l,u){var m=Oe(l)?ci:zb;return m(l,we(u,3))}var mP=v1(F1),gP=v1(W1);function bP(l,u){return Bt(dc(l,u),1)}function vP(l,u){return Bt(dc(l,u),ee)}function xP(l,u,m){return m=m===n?1:Ie(m),Bt(dc(l,u),m)}function K1(l,u){var m=Oe(l)?On:di;return m(l,we(u,3))}function G1(l,u){var m=Oe(l)?BR:Hb;return m(l,we(u,3))}var yP=ic(function(l,u,m){et.call(l,m)?l[m].push(u):Nr(l,m,[u])});function wP(l,u,m,y){l=an(l)?l:jo(l),m=m&&!y?Ie(m):0;var k=l.length;return m<0&&(m=Tt(k+m,0)),vc(l)?m<=k&&l.indexOf(u,m)>-1:!!k&&Po(l,u,m)>-1}var $P=We(function(l,u,m){var y=-1,k=typeof u=="function",P=an(l)?V(l.length):[];return di(l,function(O){P[++y]=k?vn(u,O,m):ra(O,u,m)}),P}),CP=ic(function(l,u,m){Nr(l,m,u)});function dc(l,u){var m=Oe(l)?ut:Xb;return m(l,we(u,3))}function SP(l,u,m,y){return l==null?[]:(Oe(u)||(u=u==null?[]:[u]),m=y?n:m,Oe(m)||(m=m==null?[]:[m]),e1(l,u,m))}var kP=ic(function(l,u,m){l[m?0:1].push(u)},function(){return[[],[]]});function AP(l,u,m){var y=Oe(l)?xh:Sb,k=arguments.length<3;return y(l,we(u,4),m,k,di)}function EP(l,u,m){var y=Oe(l)?FR:Sb,k=arguments.length<3;return y(l,we(u,4),m,k,Hb)}function RP(l,u){var m=Oe(l)?ci:zb;return m(l,gc(we(u,3)))}function TP(l){var u=Oe(l)?Fb:w3;return u(l)}function PP(l,u,m){(m?Jt(l,u,m):u===n)?u=1:u=Ie(u);var y=Oe(l)?QT:$3;return y(l,u)}function MP(l){var u=Oe(l)?JT:S3;return u(l)}function OP(l){if(l==null)return 0;if(an(l))return vc(l)?Oo(l):l.length;var u=Ht(l);return u==qe||u==Ct?l.size:Bh(l).length}function DP(l,u,m){var y=Oe(l)?yh:k3;return m&&Jt(l,u,m)&&(u=n),y(l,we(u,3))}var IP=We(function(l,u){if(l==null)return[];var m=u.length;return m>1&&Jt(l,u[0],u[1])?u=[]:m>2&&Jt(u[0],u[1],u[2])&&(u=[u[0]]),e1(l,Bt(u,1),[])}),pc=pT||function(){return Nt.Date.now()};function _P(l,u){if(typeof u!="function")throw new Dn(s);return l=Ie(l),function(){if(--l<1)return u.apply(this,arguments)}}function Y1(l,u,m){return u=m?n:u,u=l&&u==null?l.length:u,Br(l,M,n,n,n,n,u)}function q1(l,u){var m;if(typeof u!="function")throw new Dn(s);return l=Ie(l),function(){return--l>0&&(m=u.apply(this,arguments)),l<=1&&(u=n),m}}var ld=We(function(l,u,m){var y=w;if(m.length){var k=fi(m,Wo(ld));y|=T}return Br(l,y,u,m,k)}),X1=We(function(l,u,m){var y=w|$;if(m.length){var k=fi(m,Wo(X1));y|=T}return Br(u,y,l,m,k)});function Z1(l,u,m){u=m?n:u;var y=Br(l,A,n,n,n,n,n,u);return y.placeholder=Z1.placeholder,y}function Q1(l,u,m){u=m?n:u;var y=Br(l,R,n,n,n,n,n,u);return y.placeholder=Q1.placeholder,y}function J1(l,u,m){var y,k,P,O,I,L,Y=0,q=!1,J=!1,oe=!0;if(typeof l!="function")throw new Dn(s);u=Bn(u)||0,ht(m)&&(q=!!m.leading,J="maxWait"in m,P=J?Tt(Bn(m.maxWait)||0,u):P,oe="trailing"in m?!!m.trailing:oe);function ge(vt){var Yn=y,Hr=k;return y=k=n,Y=vt,O=l.apply(Hr,Yn),O}function Se(vt){return Y=vt,I=la(ze,u),q?ge(vt):O}function Ne(vt){var Yn=vt-L,Hr=vt-Y,vv=u-Yn;return J?jt(vv,P-Hr):vv}function ke(vt){var Yn=vt-L,Hr=vt-Y;return L===n||Yn>=u||Yn<0||J&&Hr>=P}function ze(){var vt=pc();if(ke(vt))return Ge(vt);I=la(ze,Ne(vt))}function Ge(vt){return I=n,oe&&y?ge(vt):(y=k=n,O)}function $n(){I!==n&&c1(I),Y=0,y=L=k=I=n}function en(){return I===n?O:Ge(pc())}function Cn(){var vt=pc(),Yn=ke(vt);if(y=arguments,k=this,L=vt,Yn){if(I===n)return Se(L);if(J)return c1(I),I=la(ze,u),ge(L)}return I===n&&(I=la(ze,u)),O}return Cn.cancel=$n,Cn.flush=en,Cn}var LP=We(function(l,u){return jb(l,1,u)}),NP=We(function(l,u,m){return jb(l,Bn(u)||0,m)});function BP(l){return Br(l,N)}function mc(l,u){if(typeof l!="function"||u!=null&&typeof u!="function")throw new Dn(s);var m=function(){var y=arguments,k=u?u.apply(this,y):y[0],P=m.cache;if(P.has(k))return P.get(k);var O=l.apply(this,y);return m.cache=P.set(k,O)||P,O};return m.cache=new(mc.Cache||Lr),m}mc.Cache=Lr;function gc(l){if(typeof l!="function")throw new Dn(s);return function(){var u=arguments;switch(u.length){case 0:return!l.call(this);case 1:return!l.call(this,u[0]);case 2:return!l.call(this,u[0],u[1]);case 3:return!l.call(this,u[0],u[1],u[2])}return!l.apply(this,u)}}function FP(l){return q1(2,l)}var WP=A3(function(l,u){u=u.length==1&&Oe(u[0])?ut(u[0],xn(we())):ut(Bt(u,1),xn(we()));var m=u.length;return We(function(y){for(var k=-1,P=jt(y.length,m);++k<P;)y[k]=u[k].call(this,y[k]);return vn(l,this,y)})}),cd=We(function(l,u){var m=fi(u,Wo(cd));return Br(l,T,n,u,m)}),ev=We(function(l,u){var m=fi(u,Wo(ev));return Br(l,D,n,u,m)}),VP=Fr(function(l,u){return Br(l,B,n,n,n,u)});function jP(l,u){if(typeof l!="function")throw new Dn(s);return u=u===n?u:Ie(u),We(l,u)}function HP(l,u){if(typeof l!="function")throw new Dn(s);return u=u==null?0:Tt(Ie(u),0),We(function(m){var y=m[u],k=gi(m,0,u);return y&&ui(k,y),vn(l,this,k)})}function zP(l,u,m){var y=!0,k=!0;if(typeof l!="function")throw new Dn(s);return ht(m)&&(y="leading"in m?!!m.leading:y,k="trailing"in m?!!m.trailing:k),J1(l,u,{leading:y,maxWait:u,trailing:k})}function UP(l){return Y1(l,1)}function KP(l,u){return cd(Gh(u),l)}function GP(){if(!arguments.length)return[];var l=arguments[0];return Oe(l)?l:[l]}function YP(l){return _n(l,b)}function qP(l,u){return u=typeof u=="function"?u:n,_n(l,b,u)}function XP(l){return _n(l,d|b)}function ZP(l,u){return u=typeof u=="function"?u:n,_n(l,d|b,u)}function QP(l,u){return u==null||Vb(l,u,Dt(u))}function Gn(l,u){return l===u||l!==l&&u!==u}var JP=lc(_h),eM=lc(function(l,u){return l>=u}),to=Gb(function(){return arguments}())?Gb:function(l){return mt(l)&&et.call(l,"callee")&&!Db.call(l,"callee")},Oe=V.isArray,tM=pb?xn(pb):c3;function an(l){return l!=null&&bc(l.length)&&!Vr(l)}function bt(l){return mt(l)&&an(l)}function nM(l){return l===!0||l===!1||mt(l)&&Qt(l)==Re}var bi=gT||yd,rM=mb?xn(mb):u3;function iM(l){return mt(l)&&l.nodeType===1&&!ca(l)}function oM(l){if(l==null)return!0;if(an(l)&&(Oe(l)||typeof l=="string"||typeof l.splice=="function"||bi(l)||Vo(l)||to(l)))return!l.length;var u=Ht(l);if(u==qe||u==Ct)return!l.size;if(aa(l))return!Bh(l).length;for(var m in l)if(et.call(l,m))return!1;return!0}function sM(l,u){return ia(l,u)}function aM(l,u,m){m=typeof m=="function"?m:n;var y=m?m(l,u):n;return y===n?ia(l,u,n,m):!!y}function ud(l){if(!mt(l))return!1;var u=Qt(l);return u==De||u==Ce||typeof l.message=="string"&&typeof l.name=="string"&&!ca(l)}function lM(l){return typeof l=="number"&&_b(l)}function Vr(l){if(!ht(l))return!1;var u=Qt(l);return u==te||u==pt||u==pe||u==Gs}function tv(l){return typeof l=="number"&&l==Ie(l)}function bc(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=ae}function ht(l){var u=typeof l;return l!=null&&(u=="object"||u=="function")}function mt(l){return l!=null&&typeof l=="object"}var nv=gb?xn(gb):h3;function cM(l,u){return l===u||Nh(l,u,ed(u))}function uM(l,u,m){return m=typeof m=="function"?m:n,Nh(l,u,ed(u),m)}function fM(l){return rv(l)&&l!=+l}function hM(l){if(q3(l))throw new Te(o);return Yb(l)}function dM(l){return l===null}function pM(l){return l==null}function rv(l){return typeof l=="number"||mt(l)&&Qt(l)==Fe}function ca(l){if(!mt(l)||Qt(l)!=gt)return!1;var u=zl(l);if(u===null)return!0;var m=et.call(u,"constructor")&&u.constructor;return typeof m=="function"&&m instanceof m&&Wl.call(m)==uT}var fd=bb?xn(bb):d3;function mM(l){return tv(l)&&l>=-9007199254740991&&l<=ae}var iv=vb?xn(vb):p3;function vc(l){return typeof l=="string"||!Oe(l)&&mt(l)&&Qt(l)==cr}function wn(l){return typeof l=="symbol"||mt(l)&&Qt(l)==Ro}var Vo=xb?xn(xb):m3;function gM(l){return l===n}function bM(l){return mt(l)&&Ht(l)==Ki}function vM(l){return mt(l)&&Qt(l)==Jf}var xM=lc(Fh),yM=lc(function(l,u){return l<=u});function ov(l){if(!l)return[];if(an(l))return vc(l)?Un(l):sn(l);if(Xs&&l[Xs])return QR(l[Xs]());var u=Ht(l),m=u==qe?Ah:u==Ct?Nl:jo;return m(l)}function jr(l){if(!l)return l===0?l:0;if(l=Bn(l),l===ee||l===-1/0){var u=l<0?-1:1;return u*X}return l===l?l:0}function Ie(l){var u=jr(l),m=u%1;return u===u?m?u-m:u:0}function sv(l){return l?Zi(Ie(l),0,fe):0}function Bn(l){if(typeof l=="number")return l;if(wn(l))return de;if(ht(l)){var u=typeof l.valueOf=="function"?l.valueOf():l;l=ht(u)?u+"":u}if(typeof l!="string")return l===0?l:+l;l=kb(l);var m=tR.test(l);return m||rR.test(l)?_R(l.slice(2),m?2:8):eR.test(l)?de:+l}function av(l){return fr(l,ln(l))}function wM(l){return l?Zi(Ie(l),-9007199254740991,ae):l===0?l:0}function Je(l){return l==null?"":yn(l)}var $M=Bo(function(l,u){if(aa(u)||an(u)){fr(u,Dt(u),l);return}for(var m in u)et.call(u,m)&&ta(l,m,u[m])}),lv=Bo(function(l,u){fr(u,ln(u),l)}),xc=Bo(function(l,u,m,y){fr(u,ln(u),l,y)}),CM=Bo(function(l,u,m,y){fr(u,Dt(u),l,y)}),SM=Fr(Oh);function kM(l,u){var m=No(l);return u==null?m:Wb(m,u)}var AM=We(function(l,u){l=nt(l);var m=-1,y=u.length,k=y>2?u[2]:n;for(k&&Jt(u[0],u[1],k)&&(y=1);++m<y;)for(var P=u[m],O=ln(P),I=-1,L=O.length;++I<L;){var Y=O[I],q=l[Y];(q===n||Gn(q,Io[Y])&&!et.call(l,Y))&&(l[Y]=P[Y])}return l}),EM=We(function(l){return l.push(n,k1),vn(cv,n,l)});function RM(l,u){return wb(l,we(u,3),ur)}function TM(l,u){return wb(l,we(u,3),Ih)}function PM(l,u){return l==null?l:Dh(l,we(u,3),ln)}function MM(l,u){return l==null?l:Ub(l,we(u,3),ln)}function OM(l,u){return l&&ur(l,we(u,3))}function DM(l,u){return l&&Ih(l,we(u,3))}function IM(l){return l==null?[]:ec(l,Dt(l))}function _M(l){return l==null?[]:ec(l,ln(l))}function hd(l,u,m){var y=l==null?n:Qi(l,u);return y===n?m:y}function LM(l,u){return l!=null&&R1(l,u,o3)}function dd(l,u){return l!=null&&R1(l,u,s3)}var NM=y1(function(l,u,m){u!=null&&typeof u.toString!="function"&&(u=Vl.call(u)),l[u]=m},md(cn)),BM=y1(function(l,u,m){u!=null&&typeof u.toString!="function"&&(u=Vl.call(u)),et.call(l,u)?l[u].push(m):l[u]=[m]},we),FM=We(ra);function Dt(l){return an(l)?Bb(l):Bh(l)}function ln(l){return an(l)?Bb(l,!0):g3(l)}function WM(l,u){var m={};return u=we(u,3),ur(l,function(y,k,P){Nr(m,u(y,k,P),y)}),m}function VM(l,u){var m={};return u=we(u,3),ur(l,function(y,k,P){Nr(m,k,u(y,k,P))}),m}var jM=Bo(function(l,u,m){tc(l,u,m)}),cv=Bo(function(l,u,m,y){tc(l,u,m,y)}),HM=Fr(function(l,u){var m={};if(l==null)return m;var y=!1;u=ut(u,function(P){return P=mi(P,l),y||(y=P.length>1),P}),fr(l,Qh(l),m),y&&(m=_n(m,d|g|b,N3));for(var k=u.length;k--;)zh(m,u[k]);return m});function zM(l,u){return uv(l,gc(we(u)))}var UM=Fr(function(l,u){return l==null?{}:v3(l,u)});function uv(l,u){if(l==null)return{};var m=ut(Qh(l),function(y){return[y]});return u=we(u),t1(l,m,function(y,k){return u(y,k[0])})}function KM(l,u,m){u=mi(u,l);var y=-1,k=u.length;for(k||(k=1,l=n);++y<k;){var P=l==null?n:l[hr(u[y])];P===n&&(y=k,P=m),l=Vr(P)?P.call(l):P}return l}function GM(l,u,m){return l==null?l:oa(l,u,m)}function YM(l,u,m,y){return y=typeof y=="function"?y:n,l==null?l:oa(l,u,m,y)}var fv=C1(Dt),hv=C1(ln);function qM(l,u,m){var y=Oe(l),k=y||bi(l)||Vo(l);if(u=we(u,4),m==null){var P=l&&l.constructor;k?m=y?new P:[]:ht(l)?m=Vr(P)?No(zl(l)):{}:m={}}return(k?On:ur)(l,function(O,I,L){return u(m,O,I,L)}),m}function XM(l,u){return l==null?!0:zh(l,u)}function ZM(l,u,m){return l==null?l:s1(l,u,Gh(m))}function QM(l,u,m,y){return y=typeof y=="function"?y:n,l==null?l:s1(l,u,Gh(m),y)}function jo(l){return l==null?[]:kh(l,Dt(l))}function JM(l){return l==null?[]:kh(l,ln(l))}function e6(l,u,m){return m===n&&(m=u,u=n),m!==n&&(m=Bn(m),m=m===m?m:0),u!==n&&(u=Bn(u),u=u===u?u:0),Zi(Bn(l),u,m)}function t6(l,u,m){return u=jr(u),m===n?(m=u,u=0):m=jr(m),l=Bn(l),a3(l,u,m)}function n6(l,u,m){if(m&&typeof m!="boolean"&&Jt(l,u,m)&&(u=m=n),m===n&&(typeof u=="boolean"?(m=u,u=n):typeof l=="boolean"&&(m=l,l=n)),l===n&&u===n?(l=0,u=1):(l=jr(l),u===n?(u=l,l=0):u=jr(u)),l>u){var y=l;l=u,u=y}if(m||l%1||u%1){var k=Lb();return jt(l+k*(u-l+IR("1e-"+((k+"").length-1))),u)}return Vh(l,u)}var r6=Fo(function(l,u,m){return u=u.toLowerCase(),l+(m?dv(u):u)});function dv(l){return pd(Je(l).toLowerCase())}function pv(l){return l=Je(l),l&&l.replace(oR,GR).replace(SR,"")}function i6(l,u,m){l=Je(l),u=yn(u);var y=l.length;m=m===n?y:Zi(Ie(m),0,y);var k=m;return m-=u.length,m>=0&&l.slice(m,k)==u}function o6(l){return l=Je(l),l&&FE.test(l)?l.replace(U0,YR):l}function s6(l){return l=Je(l),l&&UE.test(l)?l.replace(ch,"\\$&"):l}var a6=Fo(function(l,u,m){return l+(m?"-":"")+u.toLowerCase()}),l6=Fo(function(l,u,m){return l+(m?" ":"")+u.toLowerCase()}),c6=b1("toLowerCase");function u6(l,u,m){l=Je(l),u=Ie(u);var y=u?Oo(l):0;if(!u||y>=u)return l;var k=(u-y)/2;return ac(Yl(k),m)+l+ac(Gl(k),m)}function f6(l,u,m){l=Je(l),u=Ie(u);var y=u?Oo(l):0;return u&&y<u?l+ac(u-y,m):l}function h6(l,u,m){l=Je(l),u=Ie(u);var y=u?Oo(l):0;return u&&y<u?ac(u-y,m)+l:l}function d6(l,u,m){return m||u==null?u=0:u&&(u=+u),yT(Je(l).replace(uh,""),u||0)}function p6(l,u,m){return(m?Jt(l,u,m):u===n)?u=1:u=Ie(u),jh(Je(l),u)}function m6(){var l=arguments,u=Je(l[0]);return l.length<3?u:u.replace(l[1],l[2])}var g6=Fo(function(l,u,m){return l+(m?"_":"")+u.toLowerCase()});function b6(l,u,m){return m&&typeof m!="number"&&Jt(l,u,m)&&(u=m=n),m=m===n?fe:m>>>0,m?(l=Je(l),l&&(typeof u=="string"||u!=null&&!fd(u))&&(u=yn(u),!u&&Mo(l))?gi(Un(l),0,m):l.split(u,m)):[]}var v6=Fo(function(l,u,m){return l+(m?" ":"")+pd(u)});function x6(l,u,m){return l=Je(l),m=m==null?0:Zi(Ie(m),0,l.length),u=yn(u),l.slice(m,m+u.length)==u}function y6(l,u,m){var y=E.templateSettings;m&&Jt(l,u,m)&&(u=n),l=Je(l),u=xc({},u,y,S1);var k=xc({},u.imports,y.imports,S1),P=Dt(k),O=kh(k,P),I,L,Y=0,q=u.interpolate||Ol,J="__p += '",oe=Eh((u.escape||Ol).source+"|"+q.source+"|"+(q===K0?JE:Ol).source+"|"+(u.evaluate||Ol).source+"|$","g"),ge="//# sourceURL="+(et.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++TR+"]")+`
`;l.replace(oe,function(ke,ze,Ge,$n,en,Cn){return Ge||(Ge=$n),J+=l.slice(Y,Cn).replace(sR,qR),ze&&(I=!0,J+=`' +
__e(`+ze+`) +
'`),en&&(L=!0,J+=`';
`+en+`;
__p += '`),Ge&&(J+=`' +
((__t = (`+Ge+`)) == null ? '' : __t) +
'`),Y=Cn+ke.length,ke}),J+=`';
`;var Se=et.call(u,"variable")&&u.variable;if(!Se)J=`with (obj) {
`+J+`
}
`;else if(ZE.test(Se))throw new Te(a);J=(L?J.replace(_E,""):J).replace(LE,"$1").replace(NE,"$1;"),J="function("+(Se||"obj")+`) {
`+(Se?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(L?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+J+`return __p
}`;var Ne=gv(function(){return Qe(P,ge+"return "+J).apply(n,O)});if(Ne.source=J,ud(Ne))throw Ne;return Ne}function w6(l){return Je(l).toLowerCase()}function $6(l){return Je(l).toUpperCase()}function C6(l,u,m){if(l=Je(l),l&&(m||u===n))return kb(l);if(!l||!(u=yn(u)))return l;var y=Un(l),k=Un(u),P=Ab(y,k),O=Eb(y,k)+1;return gi(y,P,O).join("")}function S6(l,u,m){if(l=Je(l),l&&(m||u===n))return l.slice(0,Tb(l)+1);if(!l||!(u=yn(u)))return l;var y=Un(l),k=Eb(y,Un(u))+1;return gi(y,0,k).join("")}function k6(l,u,m){if(l=Je(l),l&&(m||u===n))return l.replace(uh,"");if(!l||!(u=yn(u)))return l;var y=Un(l),k=Ab(y,Un(u));return gi(y,k).join("")}function A6(l,u){var m=W,y=K;if(ht(u)){var k="separator"in u?u.separator:k;m="length"in u?Ie(u.length):m,y="omission"in u?yn(u.omission):y}l=Je(l);var P=l.length;if(Mo(l)){var O=Un(l);P=O.length}if(m>=P)return l;var I=m-Oo(y);if(I<1)return y;var L=O?gi(O,0,I).join(""):l.slice(0,I);if(k===n)return L+y;if(O&&(I+=L.length-I),fd(k)){if(l.slice(I).search(k)){var Y,q=L;for(k.global||(k=Eh(k.source,Je(G0.exec(k))+"g")),k.lastIndex=0;Y=k.exec(q);)var J=Y.index;L=L.slice(0,J===n?I:J)}}else if(l.indexOf(yn(k),I)!=I){var oe=L.lastIndexOf(k);oe>-1&&(L=L.slice(0,oe))}return L+y}function E6(l){return l=Je(l),l&&BE.test(l)?l.replace(z0,nT):l}var R6=Fo(function(l,u,m){return l+(m?" ":"")+u.toUpperCase()}),pd=b1("toUpperCase");function mv(l,u,m){return l=Je(l),u=m?n:u,u===n?ZR(l)?oT(l):jR(l):l.match(u)||[]}var gv=We(function(l,u){try{return vn(l,n,u)}catch(m){return ud(m)?m:new Te(m)}}),T6=Fr(function(l,u){return On(u,function(m){m=hr(m),Nr(l,m,ld(l[m],l))}),l});function P6(l){var u=l==null?0:l.length,m=we();return l=u?ut(l,function(y){if(typeof y[1]!="function")throw new Dn(s);return[m(y[0]),y[1]]}):[],We(function(y){for(var k=-1;++k<u;){var P=l[k];if(vn(P[0],this,y))return vn(P[1],this,y)}})}function M6(l){return n3(_n(l,d))}function md(l){return function(){return l}}function O6(l,u){return l==null||l!==l?u:l}var D6=x1(),I6=x1(!0);function cn(l){return l}function gd(l){return qb(typeof l=="function"?l:_n(l,d))}function _6(l){return Zb(_n(l,d))}function L6(l,u){return Qb(l,_n(u,d))}var N6=We(function(l,u){return function(m){return ra(m,l,u)}}),B6=We(function(l,u){return function(m){return ra(l,m,u)}});function bd(l,u,m){var y=Dt(u),k=ec(u,y);m==null&&!(ht(u)&&(k.length||!y.length))&&(m=u,u=l,l=this,k=ec(u,Dt(u)));var P=!(ht(m)&&"chain"in m)||!!m.chain,O=Vr(l);return On(k,function(I){var L=u[I];l[I]=L,O&&(l.prototype[I]=function(){var Y=this.__chain__;if(P||Y){var q=l(this.__wrapped__),J=q.__actions__=sn(this.__actions__);return J.push({func:L,args:arguments,thisArg:l}),q.__chain__=Y,q}return L.apply(l,ui([this.value()],arguments))})}),l}function F6(){return Nt._===this&&(Nt._=fT),this}function vd(){}function W6(l){return l=Ie(l),We(function(u){return Jb(u,l)})}var V6=qh(ut),j6=qh(yb),H6=qh(yh);function bv(l){return nd(l)?wh(hr(l)):x3(l)}function z6(l){return function(u){return l==null?n:Qi(l,u)}}var U6=w1(),K6=w1(!0);function xd(){return[]}function yd(){return!1}function G6(){return{}}function Y6(){return""}function q6(){return!0}function X6(l,u){if(l=Ie(l),l<1||l>ae)return[];var m=fe,y=jt(l,fe);u=we(u),l-=fe;for(var k=Sh(y,u);++m<l;)u(m);return k}function Z6(l){return Oe(l)?ut(l,hr):wn(l)?[l]:sn(N1(Je(l)))}function Q6(l){var u=++cT;return Je(l)+u}var J6=sc(function(l,u){return l+u},0),eO=Xh("ceil"),tO=sc(function(l,u){return l/u},1),nO=Xh("floor");function rO(l){return l&&l.length?Jl(l,cn,_h):n}function iO(l,u){return l&&l.length?Jl(l,we(u,2),_h):n}function oO(l){return Cb(l,cn)}function sO(l,u){return Cb(l,we(u,2))}function aO(l){return l&&l.length?Jl(l,cn,Fh):n}function lO(l,u){return l&&l.length?Jl(l,we(u,2),Fh):n}var cO=sc(function(l,u){return l*u},1),uO=Xh("round"),fO=sc(function(l,u){return l-u},0);function hO(l){return l&&l.length?Ch(l,cn):0}function dO(l,u){return l&&l.length?Ch(l,we(u,2)):0}return E.after=_P,E.ary=Y1,E.assign=$M,E.assignIn=lv,E.assignInWith=xc,E.assignWith=CM,E.at=SM,E.before=q1,E.bind=ld,E.bindAll=T6,E.bindKey=X1,E.castArray=GP,E.chain=U1,E.chunk=n5,E.compact=r5,E.concat=i5,E.cond=P6,E.conforms=M6,E.constant=md,E.countBy=hP,E.create=kM,E.curry=Z1,E.curryRight=Q1,E.debounce=J1,E.defaults=AM,E.defaultsDeep=EM,E.defer=LP,E.delay=NP,E.difference=o5,E.differenceBy=s5,E.differenceWith=a5,E.drop=l5,E.dropRight=c5,E.dropRightWhile=u5,E.dropWhile=f5,E.fill=h5,E.filter=pP,E.flatMap=bP,E.flatMapDeep=vP,E.flatMapDepth=xP,E.flatten=V1,E.flattenDeep=d5,E.flattenDepth=p5,E.flip=BP,E.flow=D6,E.flowRight=I6,E.fromPairs=m5,E.functions=IM,E.functionsIn=_M,E.groupBy=yP,E.initial=b5,E.intersection=v5,E.intersectionBy=x5,E.intersectionWith=y5,E.invert=NM,E.invertBy=BM,E.invokeMap=$P,E.iteratee=gd,E.keyBy=CP,E.keys=Dt,E.keysIn=ln,E.map=dc,E.mapKeys=WM,E.mapValues=VM,E.matches=_6,E.matchesProperty=L6,E.memoize=mc,E.merge=jM,E.mergeWith=cv,E.method=N6,E.methodOf=B6,E.mixin=bd,E.negate=gc,E.nthArg=W6,E.omit=HM,E.omitBy=zM,E.once=FP,E.orderBy=SP,E.over=V6,E.overArgs=WP,E.overEvery=j6,E.overSome=H6,E.partial=cd,E.partialRight=ev,E.partition=kP,E.pick=UM,E.pickBy=uv,E.property=bv,E.propertyOf=z6,E.pull=S5,E.pullAll=H1,E.pullAllBy=k5,E.pullAllWith=A5,E.pullAt=E5,E.range=U6,E.rangeRight=K6,E.rearg=VP,E.reject=RP,E.remove=R5,E.rest=jP,E.reverse=sd,E.sampleSize=PP,E.set=GM,E.setWith=YM,E.shuffle=MP,E.slice=T5,E.sortBy=IP,E.sortedUniq=L5,E.sortedUniqBy=N5,E.split=b6,E.spread=HP,E.tail=B5,E.take=F5,E.takeRight=W5,E.takeRightWhile=V5,E.takeWhile=j5,E.tap=rP,E.throttle=zP,E.thru=hc,E.toArray=ov,E.toPairs=fv,E.toPairsIn=hv,E.toPath=Z6,E.toPlainObject=av,E.transform=qM,E.unary=UP,E.union=H5,E.unionBy=z5,E.unionWith=U5,E.uniq=K5,E.uniqBy=G5,E.uniqWith=Y5,E.unset=XM,E.unzip=ad,E.unzipWith=z1,E.update=ZM,E.updateWith=QM,E.values=jo,E.valuesIn=JM,E.without=q5,E.words=mv,E.wrap=KP,E.xor=X5,E.xorBy=Z5,E.xorWith=Q5,E.zip=J5,E.zipObject=eP,E.zipObjectDeep=tP,E.zipWith=nP,E.entries=fv,E.entriesIn=hv,E.extend=lv,E.extendWith=xc,bd(E,E),E.add=J6,E.attempt=gv,E.camelCase=r6,E.capitalize=dv,E.ceil=eO,E.clamp=e6,E.clone=YP,E.cloneDeep=XP,E.cloneDeepWith=ZP,E.cloneWith=qP,E.conformsTo=QP,E.deburr=pv,E.defaultTo=O6,E.divide=tO,E.endsWith=i6,E.eq=Gn,E.escape=o6,E.escapeRegExp=s6,E.every=dP,E.find=mP,E.findIndex=F1,E.findKey=RM,E.findLast=gP,E.findLastIndex=W1,E.findLastKey=TM,E.floor=nO,E.forEach=K1,E.forEachRight=G1,E.forIn=PM,E.forInRight=MM,E.forOwn=OM,E.forOwnRight=DM,E.get=hd,E.gt=JP,E.gte=eM,E.has=LM,E.hasIn=dd,E.head=j1,E.identity=cn,E.includes=wP,E.indexOf=g5,E.inRange=t6,E.invoke=FM,E.isArguments=to,E.isArray=Oe,E.isArrayBuffer=tM,E.isArrayLike=an,E.isArrayLikeObject=bt,E.isBoolean=nM,E.isBuffer=bi,E.isDate=rM,E.isElement=iM,E.isEmpty=oM,E.isEqual=sM,E.isEqualWith=aM,E.isError=ud,E.isFinite=lM,E.isFunction=Vr,E.isInteger=tv,E.isLength=bc,E.isMap=nv,E.isMatch=cM,E.isMatchWith=uM,E.isNaN=fM,E.isNative=hM,E.isNil=pM,E.isNull=dM,E.isNumber=rv,E.isObject=ht,E.isObjectLike=mt,E.isPlainObject=ca,E.isRegExp=fd,E.isSafeInteger=mM,E.isSet=iv,E.isString=vc,E.isSymbol=wn,E.isTypedArray=Vo,E.isUndefined=gM,E.isWeakMap=bM,E.isWeakSet=vM,E.join=w5,E.kebabCase=a6,E.last=Nn,E.lastIndexOf=$5,E.lowerCase=l6,E.lowerFirst=c6,E.lt=xM,E.lte=yM,E.max=rO,E.maxBy=iO,E.mean=oO,E.meanBy=sO,E.min=aO,E.minBy=lO,E.stubArray=xd,E.stubFalse=yd,E.stubObject=G6,E.stubString=Y6,E.stubTrue=q6,E.multiply=cO,E.nth=C5,E.noConflict=F6,E.noop=vd,E.now=pc,E.pad=u6,E.padEnd=f6,E.padStart=h6,E.parseInt=d6,E.random=n6,E.reduce=AP,E.reduceRight=EP,E.repeat=p6,E.replace=m6,E.result=KM,E.round=uO,E.runInContext=_,E.sample=TP,E.size=OP,E.snakeCase=g6,E.some=DP,E.sortedIndex=P5,E.sortedIndexBy=M5,E.sortedIndexOf=O5,E.sortedLastIndex=D5,E.sortedLastIndexBy=I5,E.sortedLastIndexOf=_5,E.startCase=v6,E.startsWith=x6,E.subtract=fO,E.sum=hO,E.sumBy=dO,E.template=y6,E.times=X6,E.toFinite=jr,E.toInteger=Ie,E.toLength=sv,E.toLower=w6,E.toNumber=Bn,E.toSafeInteger=wM,E.toString=Je,E.toUpper=$6,E.trim=C6,E.trimEnd=S6,E.trimStart=k6,E.truncate=A6,E.unescape=E6,E.uniqueId=Q6,E.upperCase=R6,E.upperFirst=pd,E.each=K1,E.eachRight=G1,E.first=j1,bd(E,function(){var l={};return ur(E,function(u,m){et.call(E.prototype,m)||(l[m]=u)}),l}(),{chain:!1}),E.VERSION=r,On(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){E[l].placeholder=E}),On(["drop","take"],function(l,u){Ue.prototype[l]=function(m){m=m===n?1:Tt(Ie(m),0);var y=this.__filtered__&&!u?new Ue(this):this.clone();return y.__filtered__?y.__takeCount__=jt(m,y.__takeCount__):y.__views__.push({size:jt(m,fe),type:l+(y.__dir__<0?"Right":"")}),y},Ue.prototype[l+"Right"]=function(m){return this.reverse()[l](m).reverse()}}),On(["filter","map","takeWhile"],function(l,u){var m=u+1,y=m==G||m==le;Ue.prototype[l]=function(k){var P=this.clone();return P.__iteratees__.push({iteratee:we(k,3),type:m}),P.__filtered__=P.__filtered__||y,P}}),On(["head","last"],function(l,u){var m="take"+(u?"Right":"");Ue.prototype[l]=function(){return this[m](1).value()[0]}}),On(["initial","tail"],function(l,u){var m="drop"+(u?"":"Right");Ue.prototype[l]=function(){return this.__filtered__?new Ue(this):this[m](1)}}),Ue.prototype.compact=function(){return this.filter(cn)},Ue.prototype.find=function(l){return this.filter(l).head()},Ue.prototype.findLast=function(l){return this.reverse().find(l)},Ue.prototype.invokeMap=We(function(l,u){return typeof l=="function"?new Ue(this):this.map(function(m){return ra(m,l,u)})}),Ue.prototype.reject=function(l){return this.filter(gc(we(l)))},Ue.prototype.slice=function(l,u){l=Ie(l);var m=this;return m.__filtered__&&(l>0||u<0)?new Ue(m):(l<0?m=m.takeRight(-l):l&&(m=m.drop(l)),u!==n&&(u=Ie(u),m=u<0?m.dropRight(-u):m.take(u-l)),m)},Ue.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Ue.prototype.toArray=function(){return this.take(fe)},ur(Ue.prototype,function(l,u){var m=/^(?:filter|find|map|reject)|While$/.test(u),y=/^(?:head|last)$/.test(u),k=E[y?"take"+(u=="last"?"Right":""):u],P=y||/^find/.test(u);k&&(E.prototype[u]=function(){var O=this.__wrapped__,I=y?[1]:arguments,L=O instanceof Ue,Y=I[0],q=L||Oe(O),J=function(ze){var Ge=k.apply(E,ui([ze],I));return y&&oe?Ge[0]:Ge};q&&m&&typeof Y=="function"&&Y.length!=1&&(L=q=!1);var oe=this.__chain__,ge=!!this.__actions__.length,Se=P&&!oe,Ne=L&&!ge;if(!P&&q){O=Ne?O:new Ue(this);var ke=l.apply(O,I);return ke.__actions__.push({func:hc,args:[J],thisArg:n}),new In(ke,oe)}return Se&&Ne?l.apply(this,I):(ke=this.thru(J),Se?y?ke.value()[0]:ke.value():ke)})}),On(["pop","push","shift","sort","splice","unshift"],function(l){var u=Bl[l],m=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",y=/^(?:pop|shift)$/.test(l);E.prototype[l]=function(){var k=arguments;if(y&&!this.__chain__){var P=this.value();return u.apply(Oe(P)?P:[],k)}return this[m](function(O){return u.apply(Oe(O)?O:[],k)})}}),ur(Ue.prototype,function(l,u){var m=E[u];if(m){var y=m.name+"";et.call(Lo,y)||(Lo[y]=[]),Lo[y].push({name:u,func:m})}}),Lo[oc(n,$).name]=[{name:"wrapper",func:n}],Ue.prototype.clone=ET,Ue.prototype.reverse=RT,Ue.prototype.value=TT,E.prototype.at=iP,E.prototype.chain=oP,E.prototype.commit=sP,E.prototype.next=aP,E.prototype.plant=cP,E.prototype.reverse=uP,E.prototype.toJSON=E.prototype.valueOf=E.prototype.value=fP,E.prototype.first=E.prototype.head,Xs&&(E.prototype[Xs]=lP),E},Do=sT();Gi?((Gi.exports=Do)._=Do,gh._=Do):Nt._=Do}).call(ua)})(lf,lf.exports);lf.exports;const Al=(t,e)=>{const n=p.createContext(e),r=o=>{const{children:s,...a}=o,c=p.useMemo(()=>a,Object.values(a));return C.jsx(n.Provider,{value:c,children:s})};function i(o){const s=p.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return r.displayName=`${t}Provider`,[r,i]};function _U(t,e){return typeof t=="string"?!1:e in t}function $u(t,e,n){return t&&e&&_U(t,e)?t[e]:n}const hw={padding:["padding-block-start","padding-inline-end","padding-block-end","padding-inline-start"],paddingTop:"padding-block-start",paddingRight:"padding-inline-end",paddingBottom:"padding-block-end",paddingLeft:"padding-inline-start",margin:["margin-block-start","margin-inline-end","margin-block-end","margin-inline-start"],marginLeft:"margin-inline-start",marginRight:"margin-inline-end",marginTop:"margin-block-start",marginBottom:"margin-block-end",borderRadius:"border-radius",borderStyle:"border-style",borderWidth:"border-width",borderColor:"border-color",fontSize:"font-size",fontWeight:"font-weight",lineHeight:"line-height",zIndex:"z-index",boxShadow:"box-shadow",pointerEvents:"pointer-events",textAlign:"text-align",textTransform:"text-transform",textDecoration:"text-decoration",flexGrow:"flex-grow",flexShrink:"flex-shrink",flexBasis:"flex-basis",minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height",flexDirection:"flex-direction",flexWrap:"flex-wrap",justifyContent:"justify-content",alignItems:"align-items"},LU=t=>{const[e,n,r,i]=t,o=n??e;return[e,o,r??e,i??o]};function NU(t,e){switch(t){case"gap":case"padding":case"margin":case"paddingTop":case"paddingLeft":case"paddingRight":case"paddingBottom":case"marginTop":case"marginLeft":case"marginRight":case"marginBottom":case"left":case"right":case"top":case"bottom":case"width":case"maxWidth":case"minWidth":case"height":case"maxHeight":case"minHeight":case"borderRadius":case"borderWidth":return e.spaces;case"color":case"background":case"borderColor":return e.colors;case"fontSize":return e.fontSizes;case"fontWeight":return e.fontWeights;case"lineHeight":return e.lineHeights;case"zIndex":return e.zIndices;case"boxShadow":return e.shadows;default:return null}}const Yf=(t,e)=>{const n=Object.entries(t).reduce((r,i)=>{const[o,s]=i,a=NU(o,e),c=Object.prototype.hasOwnProperty.call(hw,o)?hw[o]:o;return c&&(s||s===0)&&(typeof s=="object"&&!Array.isArray(s)?Object.entries(s).forEach(([f,h])=>{r[f]={...r[f],...dw(c,h,a)}}):r.initial={...r.initial,...dw(c,s,a)}),r},{initial:{},small:{},medium:{},large:{}});return Object.entries(n).reduce((r,[i,o])=>{if(o&&Object.keys(o).length>0){const s=Object.entries(o).reduce((a,[c,f])=>(a.push(`${c}: ${f};`),a),[]).join(`
`);i==="initial"?r.push(s):r.push(`${e.breakpoints[i]}{ ${s} }`)}return r},[]).join(`
`)},dw=(t,e,n)=>{if(Array.isArray(t)&&Array.isArray(e)){const r=LU(e);return t.reduce((i,o,s)=>(i[o]=$u(n,r[s],r[s]),i),{})}else return Array.isArray(t)&&!Array.isArray(e)?t.reduce((r,i)=>(r[i]=$u(n,e,e),r),{}):!Array.isArray(t)&&!Array.isArray(e)?{[t]:$u(n,e,e)}:(console.warn("You've passed an array of values to a property that does not support it. Please check the property and value you're passing."),{})},on=p.forwardRef,xe=on((t,e)=>{const{background:n,basis:r,borderColor:i,color:o,flex:s,fontSize:a,grow:c,hasRadius:f,padding:h,paddingBottom:d,paddingLeft:g,paddingRight:b,paddingTop:x,margin:v,marginLeft:w,marginBottom:$,marginRight:S,marginTop:A,shadow:R,shrink:T,lineHeight:D,fontWeight:M,width:B,minWidth:N,maxWidth:W,height:K,minHeight:j,maxHeight:Q,top:G,left:ne,bottom:le,right:ee,borderRadius:ae,borderStyle:X,borderWidth:de,tag:fe,pointerEvents:Me,display:be,position:Ve,zIndex:Le,overflow:je,cursor:pe,transition:Re,transform:Ae,animation:Ce,textAlign:De,textTransform:te,...pt}=t,qe=fe||"div",Fe={$background:n,$basis:r,$borderColor:i,$color:o,$flex:s,$fontSize:a,$grow:c,$hasRadius:f,$padding:h,$paddingBottom:d,$paddingLeft:g,$paddingRight:b,$paddingTop:x,$margin:v,$marginLeft:w,$marginBottom:$,$marginRight:S,$marginTop:A,$shadow:R,$shrink:T,$lineHeight:D,$fontWeight:M,$width:B,$minWidth:N,$maxWidth:W,$height:K,$minHeight:j,$maxHeight:Q,$top:G,$left:ne,$bottom:le,$right:ee,$borderRadius:ae,$borderStyle:X,$borderWidth:de,$pointerEvents:Me,$display:be,$position:Ve,$zIndex:Le,$overflow:je,$cursor:pe,$transition:Re,$transform:Ae,$animation:Ce,$textAlign:De,$textTransform:te};return C.jsx(BU,{as:qe,ref:e,...Fe,...pt})}),BU=F.div`
  ${({theme:t,...e})=>Yf({padding:e.$padding,paddingTop:e.$paddingTop,paddingBottom:e.$paddingBottom,paddingLeft:e.$paddingLeft,paddingRight:e.$paddingRight,margin:e.$margin,marginTop:e.$marginTop,marginBottom:e.$marginBottom,marginLeft:e.$marginLeft,marginRight:e.$marginRight,top:e.$top,left:e.$left,bottom:e.$bottom,right:e.$right,width:e.$width,minWidth:e.$minWidth,maxWidth:e.$maxWidth,height:e.$height,minHeight:e.$minHeight,maxHeight:e.$maxHeight,color:e.$color,background:e.$background,fontSize:e.$fontSize,fontWeight:e.$fontWeight,lineHeight:e.$lineHeight,borderRadius:e.$hasRadius?t.borderRadius:e.$borderRadius,borderStyle:e.$borderColor&&!e.$borderStyle?"solid":e.$borderStyle,borderWidth:e.$borderColor&&!e.$borderWidth?"1px":e.$borderWidth,borderColor:e.$borderColor,zIndex:e.$zIndex,boxShadow:e.$shadow,display:e.$display,pointerEvents:e.$pointerEvents,cursor:e.$cursor,textAlign:e.$textAlign,textTransform:e.$textTransform,transition:e.$transition,transform:e.$transform,animation:e.$animation,position:e.$position,overflow:e.$overflow,flex:e.$flex,flexShrink:e.$shrink,flexGrow:e.$grow,flexBasis:e.$basis},t)};
`,ve=on((t,e)=>{const{className:n,alignItems:r,direction:i,inline:o,gap:s,justifyContent:a,wrap:c,...f}=t,h={$alignItems:r,$direction:i,$gap:s,$justifyContent:a,$wrap:c,$inline:o};return C.jsx(FU,{className:n,ref:e,...h,...f})}),FU=F(xe)`
  ${({theme:t,$display:e="flex",$alignItems:n="center",$direction:r="row",...i})=>Yf({gap:i.$gap,alignItems:n,justifyContent:i.$justifyContent,flexWrap:i.$wrap,flexDirection:r,display:i.$inline?"inline-flex":e},t)};
`,WU="alpha",VU="beta",jU="delta",HU="epsilon",pw="omega",zU="pi",UU="sigma",UA=Ee`
  display: block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,KU=({$variant:t=pw,theme:e})=>{switch(t){case WU:return`
        font-weight: ${e.fontWeights.bold};
        font-size: ${e.fontSizes[5]};
        line-height: ${e.lineHeights[2]};
      `;case VU:return`
        font-weight: ${e.fontWeights.bold};
        font-size: ${e.fontSizes[4]};
        line-height: ${e.lineHeights[1]};
      `;case jU:return`
        font-weight: ${e.fontWeights.semiBold};
        font-size: ${e.fontSizes[3]};
        line-height: ${e.lineHeights[2]};
      `;case HU:return`
        font-size: ${e.fontSizes[3]};
        line-height: ${e.lineHeights[6]};
      `;case pw:return`
        font-size: ${e.fontSizes[2]};
        line-height: ${e.lineHeights[4]};
      `;case zU:return`
        font-size: ${e.fontSizes[1]};
        line-height: ${e.lineHeights[3]};
      `;case UU:return`
        font-weight: ${e.fontWeights.bold};
        font-size: ${e.fontSizes[0]};
        line-height: ${e.lineHeights[5]};
        text-transform: uppercase;
      `;default:return`
        font-size: ${e.fontSizes[2]};
      `}},_e=on((t,e)=>{const{ellipsis:n,textColor:r="currentcolor",textDecoration:i,textTransform:o,variant:s,lineHeight:a,fontWeight:c,fontSize:f,...h}=t,d={$ellipsis:n,$textColor:r,$textDecoration:i,$textTransform:o,$variant:s,$lineHeight:a,$fontWeight:c,$fontSize:f};return C.jsx(GU,{ref:e,tag:"span",...d,...h})}),GU=F(xe)`
  ${KU}
  ${({$ellipsis:t})=>t?UA:""}

  ${({theme:t,...e})=>Yf({color:e.$textColor,textDecoration:e.$textDecoration,textTransform:e.$textTransform,lineHeight:e.$lineHeight,fontWeight:e.$fontWeight,fontSize:e.$fontSize},t)}
`,[YU,O0]=Al("Accordion");p.forwardRef(({children:t,size:e="S",...n},r)=>C.jsx(qU,{ref:r,$size:e,collapsible:!0,...n,type:"single",children:C.jsx(YU,{size:e,children:t})}));const qU=F(f8)`
  background-color: ${t=>t.theme.colors.neutral0};

  ${t=>t.$size==="S"?Ee`
        border-radius: ${e=>e.theme.borderRadius};
        border: solid 1px ${e=>e.theme.colors.neutral200};
      `:Ee``}
`;p.forwardRef((t,e)=>{const{size:n}=O0("Item");return C.jsx(XU,{$size:n,"data-size":n,ref:e,...t})});const XU=F(h8)`
  overflow: hidden;
  margin: 1px 0;

  &:first-child {
    border-top-left-radius: 0.3rem;
    border-top-right-radius: 0.3rem;
    margin-top: 0;
  }

  &:last-child {
    border-bottom-left-radius: 0.3rem;
    border-bottom-right-radius: 0.3rem;
    margin-bottom: 0;
  }

  &[data-size='S'] {
    & + & {
      border-top: solid 1px ${t=>t.theme.colors.neutral200};
    }
  }

  &[data-state='open'] {
    box-shadow: 0 0 0 1px ${t=>t.theme.colors.primary600};
  }

  &:not([data-disabled]):hover {
    box-shadow: 0 0 0 1px ${t=>t.theme.colors.primary600};
  }

  /* This applies our desired focus effect correctly. */
  &:focus-within {
    position: relative;
    z-index: 1;
    box-shadow: 0 0 0 1px ${t=>t.theme.colors.primary600};
  }

  @media (prefers-reduced-motion: no-preference) {
    transition: box-shadow ${t=>t.theme.motion.timings[120]}
      ${t=>t.theme.motion.easings.easeOutQuad};
  }
`;p.forwardRef(({caretPosition:t="left",description:e,icon:n,iconProps:r,children:i,...o},s)=>{const{size:a}=O0("Trigger");return C.jsxs(GA,{$caretPosition:t,$size:a,ref:s,...o,children:[t==="left"?C.jsx(cf,{$size:a,children:C.jsx(ho,{width:a==="S"?"1.2rem":"1.6rem",height:a==="S"?"1.2rem":"1.6rem"})}):null,C.jsxs(ve,{tag:"span",gap:2,children:[n&&a==="S"?C.jsx(KA,{children:C.jsx(n,{...r})}):null,C.jsxs(ve,{alignItems:"flex-start",direction:"column",tag:"span",ref:s,children:[C.jsx(_e,{fontWeight:a==="S"?"bold":void 0,ellipsis:!0,variant:a==="M"?"delta":void 0,textAlign:"left",children:i}),e&&a==="M"?C.jsx(_e,{textAlign:"left",children:e}):null]})]}),t==="right"?C.jsx(cf,{$size:a,children:C.jsx(ho,{width:a==="S"?"1.2rem":"1.6rem",height:a==="S"?"1.2rem":"1.6rem"})}):null]})});const KA=F(xe)`
  color: ${t=>t.theme.colors.neutral500};
  display: flex;

  @media (prefers-reduced-motion: no-preference) {
    transition: ${t=>t.theme.transitions.color};
  }
`,cf=F(ve).attrs(t=>({...t,tag:"span"}))`
  background-color: ${t=>t.theme.colors.neutral200};
  width: ${t=>t.$size==="S"?"2.4rem":"3.2rem"};
  height: ${t=>t.$size==="S"?"2.4rem":"3.2rem"};
  flex: ${t=>t.$size==="S"?"0 0 2.4rem":"0 0 3.2rem"};
  border-radius: 50%;
  justify-content: center;

  @media (prefers-reduced-motion: no-preference) {
    transition:
      transform ${t=>t.theme.motion.timings[200]} ${t=>t.theme.motion.easings.authenticMotion},
      ${t=>t.theme.transitions.backgroundColor};
  }
`,GA=F(p8)`
  display: flex;
  align-items: center;
  justify-content: ${t=>t.$caretPosition==="left"?"flex-start":"space-between"};
  width: 100%;
  gap: ${t=>t.theme.spaces[4]};
  padding-inline: ${t=>t.$size==="S"?t.theme.spaces[4]:t.theme.spaces[6]};
  padding-block: ${t=>t.$size==="S"?t.theme.spaces[3]:t.theme.spaces[6]};
  cursor: pointer;
  color: ${t=>t.theme.colors.neutral800};

  &[data-disabled] {
    cursor: default;
    color: ${t=>t.theme.colors.neutral600};
  }

  &[data-state='open'] > ${cf} {
    transform: rotate(180deg);
  }

  /* we remove the default focus because the entire item should have the focus style and the default would be hidden. */
  &:focus-visible {
    outline: none;
  }

  @media (prefers-reduced-motion: no-preference) {
    transition: ${t=>t.theme.transitions.color};
  }
`;p.forwardRef((t,e)=>{const{size:n}=O0("Trigger");return C.jsx(YA,{$size:n,...t,ref:e})});const YA=F(ve).attrs(t=>({...t,tag:"span"}))`
  padding-inline: ${t=>t.$size==="S"?t.theme.spaces[2]:t.theme.spaces[6]};
  padding-block: ${t=>t.$size==="S"?t.theme.spaces[2]:t.theme.spaces[6]};

  // Remove default IconButton styles so there are no backgrounds or borders.
  & > button {
    border: none;
    background: none;
    color: ${t=>t.theme.colors.neutral600};

    @media (prefers-reduced-motion: no-preference) {
      transition: ${t=>t.theme.transitions.color};
    }
  }
`;p.forwardRef(({variant:t="primary",...e},n)=>C.jsx(ZU,{$variant:t,ref:n,...e}));const ZU=F(d8)`
  display: flex;
  align-items: center;
  background-color: ${t=>t.$variant==="primary"?t.theme.colors.neutral0:t.theme.colors.neutral100};

  &[data-disabled] {
    background-color: ${t=>t.theme.colors.neutral150};
  }

  &:not([data-disabled]) {
    &:hover,
    &[data-state='open'] {
      background-color: ${t=>t.theme.colors.primary100};

      & > ${GA} {
        color: ${t=>t.theme.colors.primary600};

        & ${KA} {
          color: ${t=>t.theme.colors.primary600};
        }

        & ${cf} {
          background-color: ${t=>t.theme.colors.primary200};
        }
      }

      & > ${YA} > button {
        color: ${t=>t.theme.colors.primary600};
      }
    }
  }

  @media (prefers-reduced-motion: no-preference) {
    transition: ${t=>t.theme.transitions.backgroundColor};
  }
`;p.forwardRef((t,e)=>C.jsx(eK,{ref:e,...t}));const QU=zt`
  from {
    height: 0;
  }
  to {
    height: var(--radix-accordion-content-height);
  }
`,JU=zt`
  from {
    height: var(--radix-accordion-content-height);
  }
  to {
    height: 0;
  }
`,eK=F(m8)`
  overflow: hidden;

  @media (prefers-reduced-motion: no-preference) {
    &[data-state='open'] {
      animation: ${QU} ${t=>t.theme.motion.timings[320]}
        ${t=>t.theme.motion.easings.authenticMotion};
    }

    &[data-state='closed'] {
      animation: ${JU} ${t=>t.theme.motion.timings[320]}
        ${t=>t.theme.motion.easings.authenticMotion};
    }
  }
`,qf=Ee`
  position: relative;
  outline: none;

  &:after {
    transition-property: all;
    transition-duration: 0.2s;
    border-radius: 8px;
    content: '';
    position: absolute;
    top: -4px;
    bottom: -4px;
    left: -4px;
    right: -4px;
    border: 2px solid transparent;
  }

  &:focus-visible {
    outline: none;

    &:after {
      border-radius: 8px;
      content: '';
      position: absolute;
      top: -5px;
      bottom: -5px;
      left: -5px;
      right: -5px;
      border: 2px solid ${t=>t.theme.colors.primary600};
    }
  }
`,Us=({tag:t,...e})=>{const n=t||"span";return C.jsx(tK,{...e,as:n})},tK=F.span`
  border: 0;
  clip: rect(0 0 0 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
`,nl=({children:t,label:e})=>{const n=p.Children.only(t);return C.jsxs(C.Fragment,{children:[p.cloneElement(n,{"aria-hidden":"true",focusable:"false"}),C.jsx(Us,{children:e})]})};nl.displayName="AccessibleIcon";const jm=({theme:t,$variant:e})=>e==="danger"?t.colors.danger700:e==="success"?t.colors.success700:e==="warning"?t.colors.warning700:t.colors.primary700;F(xe)`
  ${qf};
`;F(ve)`
  svg {
    height: 100%;
    width: 100%;

    path {
      fill: ${jm};
    }
  }
`;F(xe)`
  & a > span {
    color: ${jm};
  }

  svg path {
    fill: ${jm};
  }
`;function Sr({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=qA({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=At(n),c=p.useCallback(f=>{if(o){const d=typeof f=="function"?f(t):f;d!==t&&a(d)}else i(f)},[o,t,i,a]);return[s,c]}function qA({defaultProp:t,onChange:e}){const n=p.useState(t),[r]=n,i=p.useRef(r),o=At(e);return p.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}const mw={easeOutQuad:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"},gw={120:"120ms"};`${gw[120]}${mw.easeOutQuad}`,`${gw[120]}${mw.easeOutQuad}`;const yt={overlayFadeIn:zt`
    from {
      opacity: 0;
    }
    to {
      opacity: 0.2;
    }
  `,modalPopIn:zt`
    from {
      transform:translate(-50%, -50%)  scale(0.8);
      opacity: 0;
    }
    to {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }
  `,modalPopOut:zt`
    from {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }
    to {
      transform:translate(-50%, -50%)  scale(0.8);
      opacity: 0;
    }
  `,popIn:zt`
    from {
      transform: scale(0.8);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  `,popOut:zt`
    from {
      transform: scale(1);
      opacity: 1;
    }
    to {
      transform: scale(0.8);
      opacity: 0;
    }
  `,slideDownIn:zt`
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  `,slideDownOut:zt`
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(-10px);
    }
  `,slideUpIn:zt`
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  `,slideUpOut:zt`
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(10px);
    }
  `,fadeIn:zt`
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  `,fadeOut:zt`
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  `},rl=32,bw=2;p.forwardRef(({onLoadingStatusChange:t,delayMs:e=600,src:n,alt:r,fallback:i,preview:o=!1,...s},a)=>{const[c,f]=Sr({onChange:t}),[h,d]=p.useState(!1),g=o&&c==="loaded",b=x=>{g&&d(x)};return C.jsxs(w2,{onOpenChange:b,children:[C.jsx($2,{asChild:!0,children:C.jsxs(Hm,{ref:a,...s,children:[g?C.jsx(nK,{width:"100%",height:"100%",position:"absolute",background:"neutral0",zIndex:"overlay",style:{opacity:h?.4:0}}):null,C.jsx(rK,{src:n,alt:r,onLoadingStatusChange:f}),C.jsx(A8,{delayMs:e,children:C.jsx(_e,{fontWeight:"bold",textTransform:"uppercase",children:i})})]})}),g?C.jsx(C2,{children:C.jsx(iK,{side:"top",sideOffset:4,children:C.jsx(oK,{src:n,alt:r})})}):null]})});const XA=Ee`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  vertical-align: middle;
  overflow: hidden;
  user-select: none;
  overflow: hidden;
  border-radius: 50%;
`,ZA=Ee`
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: inherit;
`,Hm=F(S8)`
  position: relative;
  z-index: 0;
  ${XA}
  width: ${rl/10}rem;
  height: ${rl/10}rem;
  /* TODO: we should get the user email & hash it to turn it into a hex-value so different emails can consistently get a different background */
  background-color: ${t=>t.theme.colors.primary600};
  color: ${t=>t.theme.colors.neutral0};
`,nK=F(xe)`
  @media (prefers-reduced-motion: no-preference) {
    transition: opacity ${t=>t.theme.motion.timings[200]}
      ${t=>t.theme.motion.easings.authenticMotion};
  }
`,rK=F(k8)`
  ${ZA}
`,iK=F(S2)`
  ${XA}
  width: ${rl*bw/10}rem;
  height: ${rl*bw/10}rem;

  @media (prefers-reduced-motion: no-preference) {
    animation: ${yt.fadeIn} ${t=>t.theme.motion.timings[200]}
      ${t=>t.theme.motion.easings.authenticMotion};
  }
`,oK=F.img`
  ${ZA}
`;p.forwardRef((t,e)=>C.jsx(sK,{...t,ref:e,tag:"div"}));const sK=F(ve)`
  & > ${Hm} + ${Hm} {
    margin-left: -${rl/10/2}rem;
  }
`,aK=({active:t=!1,size:e="M",textColor:n="neutral600",backgroundColor:r="neutral150",children:i,minWidth:o=5,...s})=>{const a=e==="S"?1:2;return C.jsx(lK,{inline:!0,alignItems:"center",justifyContent:"center",minWidth:o,paddingLeft:a,paddingRight:a,background:t?"primary200":r,$size:e,...s,children:C.jsx(_e,{variant:"sigma",textColor:t?"primary600":n,lineHeight:"1rem",children:i})})},lK=F(ve)`
  border-radius: ${({theme:t,$size:e})=>e==="S"?"2px":t.borderRadius};
  ${({$size:t,theme:e})=>t==="S"?Ee`
        padding-block: 0.3rem;
        padding-inline ${e.spaces[1]}
      `:Ee`
      padding-block: 0.7rem;
      padding-inline ${e.spaces[2]}
    `};
`,El=on(({href:t,disabled:e=!1,isExternal:n=!1,...r},i)=>C.jsx(cK,{tag:"a",ref:i,target:n?"_blank":void 0,rel:n?"noreferrer noopener":void 0,href:t,tabIndex:e?-1:void 0,"aria-disabled":e,pointerEvents:e?"none":void 0,cursor:e?void 0:"pointer",...r})),cK=F(xe)`
  text-decoration: none;

  &:visited {
    color: inherit;
  }
`,QA=()=>C.jsx(xe,{"aria-hidden":!0,paddingLeft:1,paddingRight:1,children:C.jsx(_e,{variant:"pi",textColor:"neutral500",children:"/"})});QA.displayName="Divider";const uK=F(ve)`
  // CrumbLinks do have padding-x, because they need to have a
  // interaction effect, which mis-aligns the breadcrumbs on the left.
  // This normalizes the behavior by moving the first item to left by
  // the same amount it has inner padding
  & > *:first-child {
    margin-left: ${({theme:t})=>`calc(-1*${t.spaces[2]})`};
  }
`,fK=p.forwardRef(({label:t,children:e,...n},r)=>{const i=p.Children.toArray(e);return C.jsx(xe,{"aria-label":t,tag:"nav",...n,ref:r,children:C.jsx(uK,{tag:"ol",children:p.Children.map(i,(o,s)=>{const a=i.length>1&&s+1<i.length;return C.jsxs(ve,{inline:!0,tag:"li",children:[o,a&&C.jsx(QA,{})]})})})})});fK.displayName="Breadcrumbs";const hK=p.forwardRef(({children:t,isCurrent:e=!1,...n},r)=>C.jsx(xe,{paddingLeft:2,paddingRight:2,paddingTop:1,paddingBottom:1,ref:r,children:C.jsx(_e,{variant:"pi",textColor:"neutral800",fontWeight:e?"bold":"regular","aria-current":e,...n,children:t})}));hK.displayName="Crumb";const dK=F(El)`
  border-radius: ${({theme:t})=>t.borderRadius};
  color: ${({theme:t})=>t.colors.neutral600};
  font-size: ${({theme:t})=>t.fontSizes[1]};
  line-height: ${({theme:t})=>t.lineHeights[4]};
  padding: ${({theme:t})=>`${t.spaces[1]} ${t.spaces[2]}`};
  text-decoration: none;

  :hover,
  :focus {
    background-color: ${({theme:t})=>t.colors.neutral200};
    color: ${({theme:t})=>t.colors.neutral700};
  }
`,pK=p.forwardRef(({children:t,...e},n)=>C.jsx(dK,{ref:n,...e,children:t}));pK.displayName="CrumbLink";const Ts=t=>t.replaceAll(":","");function mK(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function JA(...t){return e=>t.forEach(n=>mK(n,e))}function bn(...t){return p.useCallback(JA(...t),t)}const gK=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Ps=gK()?p.useEffect:p.useLayoutEffect,bK=Tw.useId||(()=>{});let vK=0;const ar=t=>{const[e,n]=p.useState(bK());return Ps(()=>{t||n(r=>r??String(vK++))},[t]),t?.toString()??(e||"")},Rl=(t,e,{selectorToWatch:n,skipWhen:r=!1})=>{const i=yg(e);p.useEffect(()=>{if(r||!t.current)return;const o={root:t.current,rootMargin:"0px"},s=f=>{f.forEach(h=>{h.isIntersecting&&t.current&&t.current.scrollHeight>t.current.clientHeight&&i(h)})},a=new IntersectionObserver(s,o),c=t.current.querySelector(n);return c&&a.observe(c),()=>{a.disconnect()}},[r,i,n,t])},D0="success-light",I0="danger-light",Xf="default",Tl="tertiary",Pl="secondary",eE="danger",tE="success",Zf="ghost",_0=[D0,I0],xK=[Xf,Tl,Pl,eE,tE,Zf,..._0],yK=["XS","S","M","L"],qn=t=>t===D0||t===I0?`${t.substring(0,t.lastIndexOf("-"))}`:t===Tl?"neutral":t===Xf||t===Pl||xK.every(e=>e!==t)?"primary":`${t}`,nE=({theme:t})=>Ee`
    border: 1px solid ${t.colors.neutral200};
    background: ${t.colors.neutral150};
    color: ${t.colors.neutral600};
    cursor: default;
  `,rE=({theme:t,$variant:e})=>[..._0,Pl].includes(e)?Ee`
      background-color: ${t.colors.neutral0};
    `:e===Tl?Ee`
      background-color: ${t.colors.neutral100};
    `:e===Zf?Ee`
      background-color: ${t.colors.neutral100};
    `:e===Xf?Ee`
      border: 1px solid ${t.colors.buttonPrimary500};
      background: ${t.colors.buttonPrimary500};
    `:Ee`
    border: 1px solid ${t.colors[`${qn(e)}500`]};
    background: ${t.colors[`${qn(e)}500`]};
  `,iE=({theme:t,$variant:e})=>[..._0,Pl].includes(e)?Ee`
      background-color: ${t.colors.neutral0};
      border: 1px solid ${t.colors[`${qn(e)}600`]};
      color: ${t.colors[`${qn(e)}600`]};
    `:e===Tl||e===Zf?Ee`
      background-color: ${t.colors.neutral150};
    `:Ee`
    border: 1px solid ${t.colors[`${qn(e)}600`]};
    background: ${t.colors[`${qn(e)}600`]};
  `,oE=({theme:t,$variant:e})=>{switch(e){case I0:case D0:case Pl:return Ee`
        border: 1px solid ${t.colors[`${qn(e)}200`]};
        background: ${t.colors[`${qn(e)}100`]};
        color: ${t.colors[`${qn(e)}700`]};
      `;case Tl:return Ee`
        border: 1px solid ${t.colors.neutral200};
        background: ${t.colors.neutral0};
        color: ${t.colors.neutral800};
      `;case Zf:return Ee`
        border: 1px solid transparent;
        background: transparent;
        color: ${t.colors.neutral800};

        svg {
          fill: ${t.colors.neutral500};
        }
      `;case tE:case eE:return Ee`
        border: 1px solid ${t.colors[`${qn(e)}600`]};
        background: ${t.colors[`${qn(e)}600`]};
        color: ${t.colors.neutral0};
      `;default:return Ee`
        border: 1px solid ${t.colors.buttonPrimary600};
        background: ${t.colors.buttonPrimary600};
        color: ${t.colors.buttonNeutral0};
      `}},il=on(({variant:t=Xf,startIcon:e,endIcon:n,disabled:r=!1,children:i,onClick:o,size:s=yK[1],loading:a=!1,fullWidth:c=!1,...f},h)=>{const d=r||a,g=b=>{!d&&o&&o(b)};return C.jsxs(CK,{ref:h,"aria-disabled":d,disabled:d,$size:s,$variant:t,tag:"button",onClick:g,hasRadius:!0,gap:2,inline:!0,alignItems:"center",justifyContent:"center",width:c?"100%":void 0,paddingLeft:4,paddingRight:4,cursor:"pointer",...f,children:[(e||a)&&C.jsx(ve,{tag:"span","aria-hidden":!0,children:a?C.jsx($K,{}):e}),C.jsx(_e,{variant:s==="S"?"pi":void 0,fontWeight:"bold",children:i}),n&&C.jsx(ve,{tag:"span","aria-hidden":!0,children:n})]})}),wK=zt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,$K=F(Pw)`
  animation: ${wK} 2s infinite linear;
  will-change: transform;
`,CK=F(ve)`
  height: ${({theme:t,$size:e})=>t.sizes.button[e]};
  text-decoration: none;
  ${oE}

  &:hover {
    ${rE}
  }

  &:active {
    ${iE}
  }

  &[aria-disabled='true'] {
    ${nE}
  }

  @media (prefers-reduced-motion: no-preference) {
    transition:
      ${t=>t.theme.transitions.backgroundColor},
      ${t=>t.theme.transitions.color},
      border-color ${t=>t.theme.motion.timings[200]} ${t=>t.theme.motion.easings.easeOutQuad};
  }
`,sE=p.forwardRef(({children:t,description:e,label:n,defaultOpen:r,open:i,onOpenChange:o,delayDuration:s=500,disableHoverableContent:a,...c},f)=>!n&&!e?t:C.jsxs(w2,{defaultOpen:r,open:i,onOpenChange:o,delayDuration:s,disableHoverableContent:a,children:[C.jsx($2,{asChild:!0,children:t}),C.jsx(C2,{children:C.jsx(SK,{ref:f,sideOffset:8,...c,children:C.jsx(_e,{variant:"pi",fontWeight:"bold",children:n||e})})})]})),SK=F(S2)`
  background-color: ${t=>t.theme.colors.neutral900};
  color: ${t=>t.theme.colors.neutral0};
  padding-inline: ${t=>t.theme.spaces[2]};
  padding-block: ${t=>t.theme.spaces[2]};
  border-radius: ${t=>t.theme.borderRadius};
  z-index: ${t=>t.theme.zIndices.tooltip};
  will-change: opacity;
  transform-origin: var(--radix-tooltip-content-transform-origin);

  @media (prefers-reduced-motion: no-preference) {
    animation: ${yt.fadeIn} ${t=>t.theme.motion.timings[200]}
      ${t=>t.theme.motion.easings.authenticMotion};
  }
`,zm=on(({label:t,background:e,children:n,disabled:r=!1,onClick:i,size:o="S",variant:s="tertiary",withTooltip:a=!0,...c},f)=>{const h=g=>{!r&&i&&i(g)},d=C.jsx(Aa,{"aria-disabled":r,background:r?"neutral150":e,tag:"button",display:"inline-flex",justifyContent:"center",hasRadius:!0,cursor:"pointer",...c,ref:f,$size:o,onClick:h,$variant:s,children:C.jsx(nl,{label:t,children:n})});return a?C.jsx(sE,{label:t,children:d}):d}),Aa=F(ve)`
  text-decoration: none;

  ${t=>{switch(t.$size){case"XS":return Ee`
          padding-block: 0.25rem;
          padding-inline: 0.25rem;
        `;case"S":return Ee`
          padding-block: 0.7rem;
          padding-inline: 0.7rem;
        `;case"M":return Ee`
          padding-block: 0.9rem;
          padding-inline: 0.9rem;
        `;case"L":return Ee`
          padding-block: 1.1rem;
          padding-inline: 1.1rem;
        `}}}
  ${oE}
  ${t=>t.$variant==="tertiary"?Ee`
          color: ${t.theme.colors.neutral500};
        `:""}

  &:hover {
    ${rE}
    ${t=>t.$variant==="tertiary"?Ee`
            color: ${t.theme.colors.neutral600};
          `:""}
  }

  &:active {
    ${iE}
  }

  &[aria-disabled='true'] {
    ${nE}
  }

  @media (prefers-reduced-motion: no-preference) {
    transition:
      ${t=>t.theme.transitions.backgroundColor},
      ${t=>t.theme.transitions.color},
      border-color ${t=>t.theme.motion.timings[200]} ${t=>t.theme.motion.easings.easeOutQuad};
  }
`;F(ve)`
  & ${Aa}:first-child {
    border-radius: ${({theme:t})=>`${t.borderRadius} 0 0 ${t.borderRadius}`};
  }

  & ${Aa}:last-child {
    border-radius: ${({theme:t})=>`0 ${t.borderRadius} ${t.borderRadius} 0`};
  }

  & ${Aa} {
    border-radius: 0;

    & + ${Aa} {
      border-left: none;
    }
  }
`;const kK=on(({children:t,href:e,disabled:n=!1,startIcon:r,endIcon:i,isExternal:o=!1,...s},a)=>C.jsxs(AK,{ref:a,href:e,disabled:n,isExternal:o,...s,children:[r,C.jsx(_e,{textColor:n?"neutral600":"primary600",children:t}),i,e&&!i&&o&&C.jsx(mO,{})]})),AK=F(El)`
  display: inline-flex;
  align-items: center;
  text-decoration: none;
  gap: ${({theme:t})=>t.spaces[2]};
  pointer-events: ${({disabled:t})=>t?"none":void 0};

  svg {
    font-size: 1rem;

    path {
      fill: ${({disabled:t,theme:e})=>t?e.colors.neutral600:e.colors.primary600};
    }
  }

  &:hover {
    & > span {
      color: ${({theme:t})=>t.colors.primary500};
    }

    svg path {
      fill: ${({theme:t})=>t.colors.primary500};
    }
  }

  &:active {
    color: ${({theme:t})=>t.colors.primary700};
  }

  ${qf};
`,EK=Y_,RK=p.forwardRef(({label:t,endIcon:e=C.jsx(ho,{width:"1.2rem",height:"1.2rem","aria-hidden":!0}),tag:n=il,icon:r,...i},o)=>{const s={...i,ref:o,type:"button"};return C.jsx(q_,{asChild:!0,disabled:s.disabled,children:n===zm?C.jsx(zm,{label:t,variant:"tertiary",...s,children:r}):C.jsx(il,{endIcon:e,variant:"ghost",...s})})}),TK=p.forwardRef(({children:t,intersectionId:e,onCloseAutoFocus:n,popoverPlacement:r="bottom-start",...i},o)=>{const[s,a]=r.split("-");return C.jsx(N$,{children:C.jsx(PK,{align:a,side:s,loop:!0,onCloseAutoFocus:n,asChild:!0,children:C.jsxs(aE,{ref:o,direction:"column",borderColor:"neutral150",hasRadius:!0,background:"neutral0",shadow:"filterShadow",maxHeight:"15rem",padding:1,marginTop:1,marginBottom:1,alignItems:"flex-start",position:"relative",overflow:"auto",...i,children:[t,C.jsx(xe,{id:e,width:"100%",height:"1px"})]})})})}),aE=F(ve)`
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;

  &::-webkit-scrollbar {
    display: none;
  }
`,PK=F(X_)`
  @media (prefers-reduced-motion: no-preference) {
    animation-duration: ${t=>t.theme.motion.timings[200]};

    &[data-state='open'] {
      animation-timing-function: ${t=>t.theme.motion.easings.authenticMotion};

      &[data-side='top'] {
        animation-name: ${yt.slideUpIn};
      }

      &[data-side='bottom'] {
        animation-name: ${yt.slideDownIn};
      }
    }
  }
`,lE=({theme:t})=>Ee`
  text-align: left;
  width: 100%;
  border-radius: ${t.borderRadius};
  padding: ${t.spaces[2]} ${t.spaces[4]};

  &[aria-disabled='true'] {
    cursor: not-allowed;
    color: ${t.colors.neutral500};
  }

  &[data-highlighted] {
    background-color: ${t.colors.primary100};
  }

  &:focus-visible {
    outline: none;

    &:after {
      content: none;
    }
  }
`,MK=F(ve)`
  ${lE}
`;F(kK)`
  /* We include this here again because typically when people use OptionLink they provide an as prop which cancels the Box props */
  color: ${({theme:t,color:e})=>$u(t.colors,e,void 0)};
  text-decoration: none;

  &:hover {
    color: unset;
  }

  /* TODO: do we need this? */
  svg > path,
  &:focus-visible svg > path {
    fill: currentColor;
  }

  ${lE}
`;const OK=F(xe)`
  /* Negative horizontal margin to compensate Menu.Content's padding */
  margin: ${({theme:t})=>t.spaces[1]} -${({theme:t})=>t.spaces[1]};
  width: calc(100% + ${({theme:t})=>t.spaces[2]});
  /* Hide separator if there's nothing above in the menu */
  &:first-child {
    display: none;
  }
`;p.forwardRef((t,e)=>C.jsx(Q_,{...t,asChild:!0,children:C.jsx(OK,{height:"1px",shrink:0,background:"neutral150",ref:e})}));p.forwardRef((t,e)=>C.jsx(Z_,{asChild:!0,children:C.jsx(DK,{ref:e,variant:"sigma",textColor:"neutral600",...t})}));const DK=F(_e)`
  padding: ${({theme:t})=>t.spaces[2]} ${({theme:t})=>t.spaces[4]};
`;p.forwardRef(({disabled:t=!1,...e},n)=>C.jsx(J_,{asChild:!0,disabled:t,children:C.jsxs(IK,{ref:n,color:"neutral800",tag:"button",type:"button",background:"transparent",borderStyle:"none",gap:5,...e,children:[C.jsx(_e,{children:e.children}),C.jsx(qm,{fill:"neutral500",height:"1.2rem",width:"1.2rem"})]})}));const IK=F(MK)`
  &[data-state='open'] {
    background-color: ${({theme:t})=>t.colors.primary100};
  }
`;p.forwardRef((t,e)=>C.jsx(N$,{children:C.jsx(e9,{sideOffset:8,asChild:!0,children:C.jsx(aE,{ref:e,direction:"column",borderStyle:"solid",borderWidth:"1px",borderColor:"neutral150",hasRadius:!0,background:"neutral0",shadow:"filterShadow",maxHeight:"15rem",padding:1,alignItems:"flex-start",overflow:"auto",...t})})}));const _K=EK,LK=RK,NK=TK,BK=p.forwardRef(({children:t,onOpen:e,onClose:n,popoverPlacement:r,onReachEnd:i,...o},s)=>{const a=p.useRef(null),c=bn(s,a),f=p.useRef(null),[h,d]=p.useState(!1),g=w=>{i&&i(w)},b=w=>{w&&typeof e=="function"?e():!w&&typeof n=="function"&&n(),d(w)},x=ar(),v=`intersection-${Ts(x)}`;return Rl(f,g,{selectorToWatch:`#${v}`,skipWhen:!h}),C.jsxs(_K,{onOpenChange:b,children:[C.jsx(LK,{ref:c,...o,children:o.label}),C.jsx(NK,{ref:f,intersectionId:v,popoverPlacement:r,children:t})]})}),FK=F(BK)`
  padding: ${({theme:t})=>`${t.spaces[1]} ${t.spaces[2]}`};
  height: unset;

  :hover,
  :focus {
    background-color: ${({theme:t})=>t.colors.neutral200};
  }
`,WK=p.forwardRef(({children:t,...e},n)=>C.jsx(FK,{ref:n,endIcon:null,size:"S",...e,children:t}));WK.displayName="CrumbSimpleMenu";const cE=p.createContext({id:""}),VK=()=>p.useContext(cE);p.forwardRef(({id:t,...e},n)=>{const r=ar(t),i=p.useMemo(()=>({id:r}),[r]);return C.jsx(cE.Provider,{value:i,children:C.jsx(xe,{ref:n,id:t,tabIndex:0,hasRadius:!0,background:"neutral0",borderStyle:"solid",borderWidth:"1px",borderColor:"neutral150",shadow:"tableShadow",tag:"article","aria-labelledby":`${r}-title`,...e})})});const jK=p.forwardRef(({position:t,...e},n)=>C.jsx(HK,{ref:n,$position:t,...e,direction:"row",gap:2})),HK=F(ve)`
  position: absolute;
  top: ${({theme:t})=>t.spaces[3]};
  right: ${({$position:t,theme:e})=>{if(t==="end")return e.spaces[3]}};
  left: ${({$position:t,theme:e})=>{if(t==="start")return e.spaces[3]}};
`;F.img`
  // inline flows is based on typography and displays an extra white space below the image
  // switch to block is required in order to make the img stick the bottom of the container
  // addition infos: https://stackoverflow.com/questions/5804256/image-inside-div-has-extra-space-below-the-image
  margin: 0;
  padding: 0;
  max-height: 100%;
  max-width: 100%;
  object-fit: contain;
`;F.div`
  display: flex;
  justify-content: center;
  height: ${({$size:t})=>t==="S"?"8.8rem":"16.4rem"};
  width: 100%;
  background: repeating-conic-gradient(${({theme:t})=>t.colors.neutral100} 0% 25%, transparent 0% 50%) 50% / 20px
    20px;
  border-top-left-radius: ${({theme:t})=>t.borderRadius};
  border-top-right-radius: ${({theme:t})=>t.borderRadius};
`;F.div`
  margin-left: auto;
  flex-shrink: 0;
`;F(aK)`
  margin-left: ${({theme:t})=>t.spaces[1]};
`;const zK=({fill:t,...e})=>{const{colors:n}=wO();return C.jsx(xe,{tag:"svg",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fill:t?n[t]:void 0,...e,children:C.jsx("path",{d:"M29.0613 10.0613L13.0613 26.0613C12.9219 26.2011 12.7563 26.3121 12.574 26.3878C12.3917 26.4635 12.1962 26.5024 11.9988 26.5024C11.8013 26.5024 11.6059 26.4635 11.4235 26.3878C11.2412 26.3121 11.0756 26.2011 10.9363 26.0613L3.93626 19.0613C3.79673 18.9217 3.68605 18.7561 3.61053 18.5738C3.53502 18.3915 3.49615 18.1961 3.49615 17.9988C3.49615 17.8014 3.53502 17.606 3.61053 17.4237C3.68605 17.2414 3.79673 17.0758 3.93626 16.9363C4.07579 16.7967 4.24143 16.686 4.42374 16.6105C4.60604 16.535 4.80143 16.4962 4.99876 16.4962C5.19608 16.4962 5.39147 16.535 5.57378 16.6105C5.75608 16.686 5.92173 16.7967 6.06126 16.9363L12 22.875L26.9388 7.93876C27.2205 7.65697 27.6027 7.49866 28.0013 7.49866C28.3998 7.49866 28.782 7.65697 29.0638 7.93876C29.3455 8.22055 29.5039 8.60274 29.5039 9.00126C29.5039 9.39977 29.3455 9.78197 29.0638 10.0638L29.0613 10.0613Z"})})},vw=p.forwardRef(({defaultChecked:t,checked:e,onCheckedChange:n,...r},i)=>{const o=p.useRef(null),[s,a]=Sr({defaultProp:t,prop:e,onChange:n}),c=bn(o,i);return C.jsx(UK,{ref:c,checked:s,onCheckedChange:a,...r,children:C.jsxs(KK,{forceMount:!0,children:[s===!0?C.jsx(zK,{width:"1.6rem",fill:"neutral0"}):null,s==="indeterminate"?C.jsx(gO,{fill:"neutral0"}):null]})})}),UK=F(l9)`
  background: ${t=>t.theme.colors.neutral0};
  width: 2rem;
  height: 2rem;
  border-radius: ${t=>t.theme.borderRadius};
  border: 1px solid ${t=>t.theme.colors.neutral300};
  position: relative;
  z-index: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  // this ensures the checkbox is always a square even in flex-containers.
  flex: 0 0 2rem;

  &[data-state='checked'],
  &[data-state='indeterminate'] {
    border: 1px solid ${t=>t.theme.colors.primary600};
    background-color: ${t=>t.theme.colors.primary600};
  }

  &[data-disabled] {
    background-color: ${t=>t.theme.colors.neutral200};
  }

  /* increase target size for touch devices https://www.w3.org/WAI/WCAG21/Understanding/target-size.html */
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;
    z-index: -1;
    min-width: 44px;
    min-height: 44px;
  }
`,KK=F(c9)`
  display: inline-flex;
  pointer-events: auto !important;
  width: 100%;
  height: 100%;
  cursor: pointer;
  justify-content: center;
  align-items: center;
`,L0=p.forwardRef(({children:t,...e},n)=>{const r=ar(e.id);return t?C.jsxs(ve,{gap:2,children:[C.jsx(vw,{id:r,...e}),C.jsx(_e,{tag:"label",textColor:"neutral800",htmlFor:r,children:t})]}):C.jsx(vw,{ref:n,...e})});p.forwardRef((t,e)=>{const{id:n}=VK();return C.jsx(jK,{position:"start",children:C.jsx(L0,{"aria-labelledby":`${n}-title`,...t,ref:e})})});F(xe)`
  word-break: break-all;
`;F(ve)`
  border-bottom: 1px solid ${({theme:t})=>t.colors.neutral150};
`;const Ut={DOWN:"ArrowDown",UP:"ArrowUp",RIGHT:"ArrowRight",LEFT:"ArrowLeft",ESCAPE:"Escape",ENTER:"Enter",END:"End",HOME:"Home",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown"},GK=F(xe)`
  grid-template-columns: auto 1fr auto;
  grid-template-areas: 'startAction slides endAction';
`,YK=F(ve)`
  grid-area: slides;
`,xw=F(xe)`
  grid-area: ${({$area:t})=>t};

  &:focus svg path,
  &:hover svg path {
    fill: ${({theme:t})=>t.colors.neutral900};
  }
`,qK=p.forwardRef(({actions:t,children:e,label:n,nextLabel:r,onNext:i,onPrevious:o,previousLabel:s,secondaryLabel:a,selectedSlide:c,...f},h)=>{const d=p.useRef(null),g=p.useRef(null),b=p.Children.map(e,(v,w)=>p.cloneElement(v,{selected:w===c})),x=v=>{switch(v.key){case Ut.RIGHT:{v.preventDefault(),g?.current&&g.current.focus(),i&&i();break}case Ut.LEFT:{v.preventDefault(),d?.current&&d.current.focus(),o&&o();break}}};return C.jsx(xe,{ref:h,...f,onKeyDown:x,children:C.jsxs(xe,{padding:2,borderColor:"neutral200",hasRadius:!0,background:"neutral100",children:[C.jsxs(GK,{tag:"section","aria-roledescription":"carousel","aria-label":n,display:"grid",position:"relative",children:[b&&b.length>1&&C.jsxs(C.Fragment,{children:[C.jsx(xw,{tag:"button",onClick:o,$area:"startAction",ref:d,type:"button",children:C.jsx(nl,{label:s,children:C.jsx(Mw,{width:"1.6rem",height:"1.6rem",fill:"neutral600"})})}),C.jsx(xw,{tag:"button",onClick:i,$area:"endAction",ref:g,type:"button",children:C.jsx(nl,{label:r,children:C.jsx(qm,{width:"1.6rem",height:"1.6rem",fill:"neutral600"})})})]}),C.jsx(YK,{"aria-live":"polite",paddingLeft:2,paddingRight:2,width:"100%",overflow:"hidden",children:b}),t]}),a&&C.jsx(xe,{paddingTop:2,paddingLeft:4,paddingRight:4,children:C.jsx(sE,{label:a,children:C.jsx(ve,{justifyContent:"center",children:C.jsx(_e,{variant:"pi",textColor:"neutral600",ellipsis:!0,children:a})})})})]})})}),zi=(t="&")=>({theme:e,$hasError:n=!1})=>Ee`
    outline: none;
    box-shadow: none;
    transition-property: border-color, box-shadow, fill;
    transition-duration: 0.2s;

    ${t}:focus-within {
      border: 1px solid ${n?e.colors.danger600:e.colors.primary600};
      box-shadow: ${n?e.colors.danger600:e.colors.primary600} 0px 0px 0px 2px;
    }
  `,[XK,Pn]=Al("Field",{}),Ms=p.forwardRef(({children:t,name:e,error:n=!1,hint:r,id:i,required:o=!1,...s},a)=>{const c=ar(i),[f,h]=p.useState();return C.jsx(XK,{name:e,id:c,error:n,hint:r,required:o,labelNode:f,setLabelNode:h,children:C.jsx(ve,{direction:"column",alignItems:"stretch",gap:1,ref:a,...s,children:t})})}),uE=p.forwardRef(({children:t,action:e,...n},r)=>{const{id:i,required:o,setLabelNode:s}=Pn("Label"),a=bn(r,s);return t?C.jsxs(ZK,{ref:a,variant:"pi",textColor:"neutral800",fontWeight:"bold",...n,id:`${i}-label`,htmlFor:i,tag:"label",ellipsis:!0,children:[t,o&&C.jsx(_e,{"aria-hidden":!0,lineHeight:"1em",textColor:"danger600",children:"*"}),e&&C.jsx(QK,{marginLeft:1,children:e})]}):null}),ZK=F(_e)`
  display: flex;
`,QK=F(ve)`
  line-height: 0;
  color: ${({theme:t})=>t.colors.neutral500};
`,N0=p.forwardRef(({endAction:t,startAction:e,disabled:n=!1,onChange:r,hasError:i,required:o,className:s,size:a="M",...c},f)=>{const{id:h,error:d,hint:g,name:b,required:x}=Pn("Input");let v;d?v=`${h}-error`:g&&(v=`${h}-hint`);const w=!!d,$=p.useRef(null),S=p.useRef(null),A=bn(S,f),R=T=>{!n&&r&&r(T)};return p.useLayoutEffect(()=>{if($.current&&S.current){const T=$.current.offsetWidth,D=S.current;if(D){const M=T+8+16;D.style.paddingRight=`${M}px`}}},[t]),C.jsxs(tG,{gap:2,justifyContent:"space-between",$hasError:w||i,$disabled:n,$size:a,$hasLeftAction:!!e,$hasRightAction:!!t,className:s,children:[e,C.jsx(JK,{id:h,name:b,ref:A,$size:a,"aria-describedby":v,"aria-invalid":w||i,"aria-disabled":n,disabled:n,"data-disabled":n?"":void 0,onChange:R,"aria-required":x||o,$hasLeftAction:!!e,$hasRightAction:!!t,...c}),t&&C.jsx(eG,{ref:$,children:t})]})}),JK=F.input`
  border: none;
  border-radius: ${({theme:t})=>t.borderRadius};
  cursor: ${t=>t["aria-disabled"]?"not-allowed":void 0};

  color: ${({theme:t})=>t.colors.neutral800};
  font-weight: 400;
  font-size: ${t=>t.theme.fontSizes[2]};
  line-height: 2.2rem;
  display: block;
  width: 100%;
  background: inherit;

  ::placeholder {
    color: ${({theme:t})=>t.colors.neutral500};
    opacity: 1;
  }

  &[aria-disabled='true'] {
    color: inherit;
  }

  //focus managed by InputWrapper
  &:focus {
    outline: none;
    box-shadow: none;
  }

  ${t=>{switch(t.$size){case"S":return Ee`
          padding-inline-start: ${t.$hasLeftAction?0:t.theme.spaces[4]};
          padding-inline-end: ${t.$hasRightAction?0:t.theme.spaces[4]};
          padding-block: ${t.theme.spaces[1]};
        `;default:return Ee`
          padding-inline-start: ${t.$hasLeftAction?0:t.theme.spaces[4]};
          padding-inline-end: ${t.$hasRightAction?0:t.theme.spaces[4]};
          padding-block: ${t.theme.spaces[2]};
        `}}}
`,eG=F(ve)`
  position: absolute;
  right: ${({theme:t})=>t.spaces[4]};
  top: 50%;
  transform: translateY(-50%);
`,tG=F(ve)`
  border: 1px solid ${({theme:t,$hasError:e})=>e?t.colors.danger600:t.colors.neutral200};
  border-radius: ${({theme:t})=>t.borderRadius};
  background: ${({theme:t})=>t.colors.neutral0};
  padding-inline-start: ${({$hasLeftAction:t,theme:e})=>t?e.spaces[4]:0};
  position: relative;

  ${zi()}
  ${({theme:t,$disabled:e})=>e?Ee`
          color: ${t.colors.neutral600};
          background: ${t.colors.neutral150};
        `:void 0};
`,nG=()=>{const{id:t,hint:e,error:n}=Pn("Hint");return!e||n?null:C.jsx(_e,{variant:"pi",tag:"p",id:`${t}-hint`,textColor:"neutral600",children:e})},rG=()=>{const{id:t,error:e}=Pn("Error");return!e||typeof e!="string"?null:C.jsx(_e,{variant:"pi",tag:"p",id:`${t}-error`,textColor:"danger600","data-strapi-field-error":!0,children:e})},iG=p.forwardRef(({label:t,children:e,...n},r)=>C.jsx(oG,{justifyContent:"unset",background:"transparent",borderStyle:"none",...n,type:"button",tag:"button",ref:r,children:C.jsx(nl,{label:t,children:e})})),oG=F(ve)`
  font-size: 1.6rem;
  padding: 0;
`;p.forwardRef(({actions:t,children:e,error:n,hint:r,label:i,labelAction:o,nextLabel:s,onNext:a,onPrevious:c,previousLabel:f,required:h,secondaryLabel:d,selectedSlide:g,id:b,...x},v)=>{const w=ar(b);return C.jsx(Ms,{hint:r,error:n,id:w,required:h,children:C.jsxs(ve,{direction:"column",alignItems:"stretch",gap:1,children:[i&&C.jsx(uE,{action:o,children:i}),C.jsx(qK,{ref:v,actions:t,label:i,nextLabel:s,onNext:a,onPrevious:c,previousLabel:f,secondaryLabel:d,selectedSlide:g,id:w,...x,children:e}),C.jsx(nG,{}),C.jsx(rG,{})]})})});F(xe)`
  ${UA}
`;const sG="data:image/svg+xml,%3csvg%20width='63'%20height='63'%20viewBox='0%200%2063%2063'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M42.5563%2011.9816C39.484%2010.3071%2035.8575%209.29097%2032.3354%209.13521C28.6443%208.92888%2024.8295%209.72318%2021.3336%2011.4129C20.9123%2011.5901%2020.5376%2011.8101%2020.1722%2012.0249L20.0108%2012.1179C19.8774%2012.1951%2019.7441%2012.2724%2019.608%2012.3536C19.3253%2012.5146%2019.0492%2012.6744%2018.7544%2012.8792C18.5463%2013.0329%2018.3395%2013.1759%2018.1301%2013.323C17.5658%2013.7208%2016.9868%2014.1317%2016.4983%2014.5979C14.8476%2015.9524%2013.5571%2017.6075%2012.6071%2018.9214C10.4365%2022.1566%209.08622%2025.9567%208.80702%2029.6143L8.7764%2030.1588C8.73328%2030.9196%208.68476%2031.7057%208.75353%2032.4555C8.76648%2032.6084%208.7661%2032.7638%208.77506%2032.914C8.78895%2033.229%208.80152%2033.5373%208.846%2033.8672L9.07396%2035.4221C9.09756%2035.5764%209.1198%2035.7413%209.1633%2035.9263L9.65919%2037.9272L10.138%2039.2823C10.2729%2039.6673%2010.4158%2040.0751%2010.6%2040.43C12.0292%2043.637%2014.1425%2046.4578%2016.7063%2048.585C19.0508%2050.5296%2021.824%2052.0023%2024.7491%2052.8452L26.2371%2053.2376C26.3781%2053.2693%2026.4926%2053.2889%2026.6031%2053.3058L26.7775%2053.3311C27.0052%2053.3636%2027.2195%2053.3986%2027.4445%2053.435C27.8598%2053.5076%2028.2672%2053.5748%2028.7079%2053.6183L30.5641%2053.7229C30.9516%2053.7249%2031.3352%2053.7068%2031.7081%2053.6874C31.9039%2053.681%2032.0984%2053.6681%2032.3288%2053.662C34.5253%2053.4772%2036.5106%2053.0634%2038.0516%2052.4652C38.1769%2052.4171%2038.3008%2052.3796%2038.4234%2052.3355C38.6727%2052.2499%2038.9259%2052.167%2039.1432%2052.0599L40.8591%2051.2626L42.5702%2050.266C42.9009%2050.0682%2043.0205%2049.6414%2042.8282%2049.2984C42.632%2048.9526%2042.2034%2048.8308%2041.8634%2049.0166L40.1792%2049.9218L38.4995%2050.6224C38.3169%2050.6953%2038.121%2050.7534%2037.9224%2050.8155C37.7838%2050.8489%2037.6518%2050.8983%2037.5012%2050.9408C36.0711%2051.435%2034.2445%2051.7425%2032.244%2051.8346C32.0442%2051.8383%2031.8471%2051.8379%2031.654%2051.8403C31.3051%2051.8414%2030.9602%2051.8451%2030.6392%2051.8305L28.9177%2051.6725C28.5476%2051.619%2028.1695%2051.5427%2027.7848%2051.4678C27.5639%2051.4167%2027.3376%2051.3737%2027.1299%2051.3374L26.9529%2051.2987C26.8704%2051.2834%2026.7772%2051.2667%2026.7333%2051.2543L25.3466%2050.8322C22.7651%2049.9789%2020.33%2048.5729%2018.2942%2046.7557C16.1056%2044.7951%2014.3339%2042.2335%2013.1742%2039.3582C12.0276%2036.6013%2011.5988%2033.2792%2011.9716%2030.0076C12.3145%2027.0213%2013.3948%2024.1635%2015.1858%2021.5083C15.3034%2021.3339%2015.421%2021.1596%2015.5212%2021.0196C16.4309%2019.8688%2017.5408%2018.5589%2018.9483%2017.496C19.3367%2017.1525%2019.7862%2016.856%2020.2611%2016.5478C20.4878%2016.4009%2020.7079%2016.2553%2020.8907%2016.1306C21.0974%2016.0048%2021.3188%2015.8831%2021.5348%2015.7694C21.6761%2015.6975%2021.8162%2015.619%2021.9388%2015.5576L22.1002%2015.4646C22.4002%2015.3037%2022.6749%2015.1546%2022.9908%2015.039L24.1186%2014.5715C24.3399%2014.4844%2024.5718%2014.4159%2024.7997%2014.3447C24.953%2014.2982%2025.0982%2014.2635%2025.2635%2014.2078C25.786%2014.0182%2026.3283%2013.9112%2026.9105%2013.7965C27.117%2013.7571%2027.3302%2013.7163%2027.5608%2013.6585C27.7553%2013.611%2027.9737%2013.5969%2028.2082%2013.5762C28.364%2013.5603%2028.5172%2013.5483%2028.6318%2013.5333C28.7876%2013.5173%2028.9342%2013.5066%2029.0927%2013.4867C29.3285%2013.4555%2029.5456%2013.4347%2029.7494%2013.4337C30.0237%2013.44%2030.2994%2013.4357%2030.5777%2013.4274C31.0811%2013.421%2031.5579%2013.4197%2032.0318%2013.4914C34.9664%2013.7352%2037.7144%2014.6085%2040.2052%2016.0868C42.3489%2017.3655%2044.2716%2019.1525%2045.7607%2021.264C47.0255%2023.0628%2047.9756%2025.0528%2048.4928%2027.0393C48.572%2027.3176%2048.6299%2027.5931%2048.6839%2027.8659C48.7154%2028.0428%2048.7563%2028.2145%2048.7892%2028.3636C48.8037%2028.4541%2048.8208%2028.5406%2048.8445%2028.6258C48.8749%2028.7443%2048.8986%2028.864%2048.9116%2028.9651L48.9793%2029.6047C48.9922%2029.7748%2049.0132%2029.9331%2049.0301%2030.0887C49.0668%2030.3268%2049.0889%2030.5608%2049.0964%2030.7561L49.1083%2031.9001C49.1312%2032.3307%2049.089%2032.7116%2049.0522%2033.0673C49.0384%2033.2598%2049.0126%2033.4443%2049.0123%2033.5824C48.9961%2033.6926%2048.9918%2033.7935%2048.9836%2033.8917C48.9753%2034.0072%2048.9724%2034.1148%2048.9414%2034.2554L48.5449%2036.3059C48.3134%2037.8623%2049.3793%2039.3365%2050.9488%2039.5822C52.0417%2039.7601%2053.1536%2039.2819%2053.7711%2038.3664C54.0063%2038.0176%2054.1604%2037.6257%2054.2227%2037.2064L54.5217%2035.2574C54.5514%2035.0756%2054.572%2034.83%2054.5846%2034.5791L54.6028%2034.2338C54.6098%2034.0598%2054.6223%2033.8779%2054.6347%2033.6788C54.6734%2033.1052%2054.7163%2032.4479%2054.6619%2031.8058L54.5867%2030.4289C54.5622%2030.0952%2054.5097%2029.76%2054.4559%2029.4181C54.431%2029.2572%2054.4048%2029.0896%2054.3826%2028.9074L54.2687%2028.104C54.2332%2027.9244%2054.1804%2027.7273%2054.1329%2027.5396L54.0643%2027.2454C54.0195%2027.071%2053.9773%2026.8927%2053.9338%2026.7076C53.8455%2026.3309%2053.7479%2025.9422%2053.613%2025.5571C52.84%2023.0292%2051.5383%2020.5194%2049.8338%2018.2799C47.8544%2015.682%2045.3333%2013.5087%2042.5563%2011.9816Z'%20fill='%234945FF'/%3e%3c/svg%3e",aG=p.forwardRef(({children:t,small:e=!1,...n},r)=>C.jsxs("div",{role:"alert","aria-live":"assertive",ref:r,...n,children:[C.jsx(Us,{children:t}),C.jsx(cG,{src:sG,"aria-hidden":!0,$small:e})]})),lG=zt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,cG=F.img`
  animation: ${lG} 1s infinite linear;
  will-change: transform;
  ${({$small:t,theme:e})=>t&&`width: ${e.spaces[6]}; height: ${e.spaces[6]};`}
`,uG=p.forwardRef(({allowCustomValue:t,autocomplete:e,children:n,className:r,clearLabel:i="clear",creatable:o=!1,createMessage:s=fe=>`Create "${fe}"`,defaultFilterValue:a,defaultTextValue:c,defaultOpen:f=!1,open:h,onOpenChange:d,disabled:g=!1,hasError:b,id:x,filterValue:v,hasMoreItems:w=!1,isPrintableCharacter:$,loading:S=!1,loadingMessage:A="Loading content...",name:R,noOptionsMessage:T=()=>"No results found",onChange:D,onClear:M,onCreateOption:B,onFilterValueChange:N,onInputChange:W,onTextValueChange:K,onLoadMore:j,placeholder:Q="Select or enter a value",required:G=!1,size:ne="M",startIcon:le,textValue:ee,value:ae,...X},de)=>{const[fe,Me]=Sr({prop:h,defaultProp:f,onChange:d}),[be,Ve]=Sr({prop:ee,defaultProp:t&&!c?ae:c,onChange:K}),[Le,je]=Sr({prop:v,defaultProp:a,onChange:N}),pe=p.useRef(null),Re=p.useRef(null),Ae=bn(Re,de),Ce=p.useRef(null),De=St=>{M&&!g&&(Ve(""),je(""),M(St),Re.current.focus())},te=St=>{Me(St)},pt=St=>{Ve(St)},qe=St=>{je(St)},Fe=St=>{W&&W(St)},Zt=St=>{D&&D(St)},gt=St=>{j&&w&&!S&&j(St)},Ui=()=>{B&&be&&B(be)},Gs=ar(),lr=`intersection-${Ts(Gs)}`;Rl(pe,gt,{selectorToWatch:`#${lr}`,skipWhen:!fe});const{error:Ct,...cr}=Pn("Combobox"),Ro=!!Ct||b,Ys=cr.id??x,Ki=cr.name??R,Jf=cr.required||G;let Ir;return Ct?Ir=`${Ys}-error`:cr.hint&&(Ir=`${Ys}-hint`),C.jsxs(Zn.Root,{autocomplete:e||(o?"list":"both"),onOpenChange:te,open:fe,onTextValueChange:pt,textValue:be,allowCustomValue:o||t,disabled:g,required:Jf,value:ae,onValueChange:Zt,filterValue:Le,onFilterValueChange:qe,isPrintableCharacter:$,children:[C.jsxs(hG,{$hasError:Ro,$size:ne,className:r,children:[C.jsxs(ve,{flex:"1",tag:"span",gap:3,children:[le?C.jsx(ve,{flex:"0 0 1.6rem",tag:"span","aria-hidden":!0,children:le}):null,C.jsx(dG,{placeholder:Q,id:Ys,"aria-invalid":!!Ct,onChange:Fe,ref:Ae,name:Ki,"aria-describedby":Ir,...X})]}),C.jsxs(ve,{tag:"span",gap:3,children:[be&&M?C.jsx(fG,{tag:"button",hasRadius:!0,background:"transparent",type:"button",padding:0,color:"neutral600",borderStyle:"none",onClick:De,"aria-disabled":g,"aria-label":i,title:i,ref:Ce,children:C.jsx(Os,{})}):null,C.jsx(pG,{children:C.jsx(ho,{fill:"neutral500"})})]})]}),C.jsx(Zn.Portal,{children:C.jsx(mG,{sideOffset:4,children:C.jsxs(gG,{ref:pe,children:[n,o?C.jsx(Zn.CreateItem,{onPointerUp:Ui,onClick:Ui,asChild:!0,children:C.jsx(Um,{children:C.jsx(_e,{children:s(be??"")})})}):null,!o&&!S?C.jsx(Zn.NoValueFound,{asChild:!0,children:C.jsx(Um,{$hasHover:!1,children:C.jsx(_e,{children:T(be??"")})})}):null,S?C.jsx(ve,{justifyContent:"center",alignItems:"center",paddingTop:2,paddingBottom:2,children:C.jsx(aG,{small:!0,children:A})}):null,C.jsx(xe,{id:lr,width:"100%",height:"1px"})]})})})]})}),fG=F(xe)`
  padding: 0;
`,hG=F(Zn.Trigger)`
  position: relative;
  border: 1px solid ${({theme:t,$hasError:e})=>e?t.colors.danger600:t.colors.neutral200};
  border-radius: ${({theme:t})=>t.borderRadius};
  background: ${({theme:t})=>t.colors.neutral0};
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: ${({theme:t})=>t.spaces[4]};

  ${t=>{switch(t.$size){case"S":return Ee`
          padding-inline-start: ${({theme:e})=>e.spaces[4]};
          padding-inline-end: ${({theme:e})=>e.spaces[3]};
          padding-block: ${({theme:e})=>e.spaces[1]};
        `;default:return Ee`
          padding-inline-start: ${({theme:e})=>e.spaces[4]};
          padding-inline-end: ${({theme:e})=>e.spaces[3]};
          padding-block: ${({theme:e})=>e.spaces[2]};
        `}}}

  &[data-disabled] {
    color: ${({theme:t})=>t.colors.neutral600};
    background: ${({theme:t})=>t.colors.neutral150};
    cursor: not-allowed;
  }

  /* Required to ensure the below inputFocusStyles are adhered too */
  &:focus-visible {
    outline: none;
  }

  ${({theme:t,$hasError:e})=>zi()({theme:t,$hasError:e})};
`,dG=F(Zn.TextInput)`
  width: 100%;
  font-size: 1.4rem;
  line-height: 2.2rem;
  color: ${({theme:t})=>t.colors.neutral800};
  padding: 0;
  border: none;
  background-color: transparent;

  &:focus-visible {
    outline: none;
  }

  &[aria-disabled='true'] {
    cursor: inherit;
  }
`,pG=F(Zn.Icon)`
  border: none;
  background: transparent;
  padding: 0;
  color: ${({theme:t})=>t.colors.neutral600};
  display: flex;

  &[aria-disabled='true'] {
    cursor: inherit;
  }
`,mG=F(Zn.Content)`
  background: ${({theme:t})=>t.colors.neutral0};
  box-shadow: ${({theme:t})=>t.shadows.filterShadow};
  border: 1px solid ${({theme:t})=>t.colors.neutral150};
  border-radius: ${({theme:t})=>t.borderRadius};
  width: var(--radix-combobox-trigger-width);
  /* This is from the design-system figma file. */
  max-height: 15rem;
  z-index: ${({theme:t})=>t.zIndices.popover};

  @media (prefers-reduced-motion: no-preference) {
    animation-duration: ${t=>t.theme.motion.timings[200]};

    /* The select can't animate out yet, watch https://github.com/radix-ui/primitives/issues/1893, or take a look and solve it yourself. */
    &[data-state='open'] {
      animation-timing-function: ${t=>t.theme.motion.easings.authenticMotion};

      &[data-side='top'] {
        animation-name: ${yt.slideUpIn};
      }

      &[data-side='bottom'] {
        animation-name: ${yt.slideDownIn};
      }
    }
  }
`,gG=F(Zn.Viewport)`
  padding: ${({theme:t})=>t.spaces[1]};
`,bG=p.forwardRef(({children:t,value:e,disabled:n,textValue:r,...i},o)=>C.jsx(Zn.ComboboxItem,{asChild:!0,value:e,disabled:n,textValue:r,children:C.jsx(Um,{ref:o,...i,children:C.jsx(Zn.ItemText,{asChild:!0,children:C.jsx(_e,{children:t})})})})),Um=F.div`
  width: 100%;
  border: none;
  text-align: left;
  outline-offset: -3px;
  padding: ${({theme:t})=>t.spaces[2]} ${({theme:t})=>t.spaces[4]};
  background-color: ${({theme:t})=>t.colors.neutral0};
  border-radius: ${({theme:t})=>t.borderRadius};
  user-select: none;

  &[data-state='checked'] {
    background-color: ${({theme:t})=>t.colors.primary100};
    color: ${({theme:t})=>t.colors.primary600};
    font-weight: bold;
  }

  &:hover,
  &[data-highlighted] {
    outline: none;
    background-color: ${({theme:t,$hasHover:e=!0})=>e?t.colors.primary100:t.colors.neutral0};
  }

  &[data-highlighted] {
    color: ${({theme:t})=>t.colors.primary600};
    font-weight: bold;
  }
`;p.forwardRef((t,e)=>C.jsx(J9,{...t,asChild:!0,ref:e}));p.forwardRef((t,e)=>C.jsxs(eL,{children:[C.jsx(vG,{}),C.jsx(xG,{ref:e,...t})]}));const vG=F(tL)`
  background-color: ${t=>t.theme.colors.neutral800};
  position: fixed;
  inset: 0;
  z-index: ${t=>t.theme.zIndices.overlay};
  opacity: 0.2;

  @media (prefers-reduced-motion: no-preference) {
    animation: ${yt.overlayFadeIn} ${t=>t.theme.motion.timings[200]}
      ${t=>t.theme.motion.easings.authenticMotion};
  }
`,xG=F(nL)`
  max-width: 42rem;
  height: min-content;
  width: 100%;
  overflow: hidden;
  margin: 0 auto;
  display: flex;
  flex-direction: column;

  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  border-radius: ${t=>t.theme.borderRadius};
  background-color: ${t=>t.theme.colors.neutral0};
  box-shadow: ${t=>t.theme.shadows.popupShadow};
  z-index: ${t=>t.theme.zIndices.modal};

  @media (prefers-reduced-motion: no-preference) {
    &[data-state='open'] {
      animation-duration: ${t=>t.theme.motion.timings[200]};
      animation-timing-function: ${t=>t.theme.motion.easings.authenticMotion};
      animation-name: ${yt.modalPopIn};
    }

    &[data-state='closed'] {
      animation-duration: ${t=>t.theme.motion.timings[120]};
      animation-timing-function: ${t=>t.theme.motion.easings.easeOutQuad};
      animation-name: ${yt.modalPopOut};
    }
  }
`;p.forwardRef(({children:t,...e},n)=>C.jsx(oL,{asChild:!0,children:C.jsx(yG,{tag:"h2",variant:"beta",ref:n,padding:6,fontWeight:"bold",...e,children:t})}));const yG=F(_e)`
  display: flex;
  justify-content: center;
  border-bottom: solid 1px ${t=>t.theme.colors.neutral150};
`;p.forwardRef(({children:t,icon:e,...n},r)=>C.jsx(ve,{ref:r,gap:2,direction:"column",paddingTop:8,paddingBottom:8,paddingLeft:6,paddingRight:6,...n,children:typeof t=="string"?C.jsxs(C.Fragment,{children:[e?p.cloneElement(e,{width:24,height:24}):null,C.jsx(wG,{children:t})]}):t}));const wG=p.forwardRef((t,e)=>C.jsx(sL,{asChild:!0,children:C.jsx(_e,{ref:e,variant:"omega",...t,tag:"p"})}));p.forwardRef((t,e)=>C.jsx($G,{ref:e,gap:2,padding:4,justifyContent:"space-between",...t,tag:"footer"}));const $G=F(ve)`
  border-top: solid 1px ${t=>t.theme.colors.neutral150};
  flex: 1;
`;p.forwardRef((t,e)=>C.jsx(iL,{...t,asChild:!0,ref:e}));p.forwardRef((t,e)=>C.jsx(rL,{...t,asChild:!0,ref:e}));function Jr(t,e){const n=p.useRef(null);return e&&n.current&&CG(e,n.current)&&(e=n.current),n.current=e??null,p.useMemo(()=>new JO(t,e),[t,e])}function CG(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}bO`
${Ee`
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  * {
    margin: 0;
  }

  html {
    /* Sets 1rem === 10px */
    font-size: 62.5%;
  }

  body {
    height: 100%;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans',
      'Helvetica Neue', sans-serif;
    color: ${({theme:t})=>t.colors.neutral800};
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
  }

  img,
  picture,
  video,
  canvas {
    display: block;
    max-width: 100%;
  }

  input,
  button,
  textarea,
  select {
    padding: 0;
    font: inherit;
  }

  button {
    border: unset;
    background: unset;
    padding: unset;
    margin: unset;
  }

  p,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    overflow-wrap: break-word;
    font: unset;
  }

  #root {
    isolation: isolate;
  }

  ol,
  ul {
    list-style: none;
    padding: unset;
    margin: unset;
  }

  table {
    border-collapse: collapse;
    border-spacing: 0;
  }

  *:focus-visible {
    outline: 2px solid ${({theme:t})=>t.colors.primary600};
    outline-offset: 2px;
  }

  /* Focusing the button with a mouse, touch, or stylus will show a subtle drop shadow. */
  *:focus:not(:focus-visible) {
    outline: none;
  }

  .lock-body-scroll {
    height: 100vh;
    overflow-y: hidden;
  }
`}
`;const yw="en-EN",SG=()=>typeof navigator>"u"?yw:navigator.language?navigator.language:yw,[pX,Qf]=Al("StrapiDesignSystem",{locale:SG()}),kG=gD,fE=p.forwardRef(({container:t=globalThis?.document?.body,...e},n)=>t?oi.createPortal(C.jsx(xe,{ref:n,...e}),t):null);fE.displayName="Portal";const B0=p.forwardRef(({children:t,viewportRef:e,...n},r)=>C.jsxs(AG,{ref:r,...n,children:[C.jsx(EG,{ref:e,children:t}),C.jsx(ww,{orientation:"vertical",children:C.jsx($w,{})}),C.jsx(ww,{orientation:"horizontal",children:C.jsx($w,{})})]})),AG=F(_L)`
  width: 100%;
  height: 100%;
  overflow: hidden;
  display: flex;
`,EG=F(LL)`
  min-width: 100%;
  padding-inline: 4px;
`,ww=F(NL)`
  display: flex;
  /* ensures no selection */
  user-select: none;
  /* disable browser handling of all panning and zooming gestures on touch devices */
  touch-action: none;

  &[data-orientation='vertical'] {
    width: 0.4rem;
  }

  &[data-orientation='horizontal'] {
    flex-direction: column;
    height: 0.4rem;
  }
`,$w=F(BL)`
  position: relative;
  flex: 1;
  background-color: ${t=>t.theme.colors.neutral150};
  border-radius: var(--scrollbar-size);

  /* increase target size for touch devices https://www.w3.org/WAI/WCAG21/Understanding/target-size.html */
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;
    min-width: 44px;
    min-height: 44px;
  }
`,RG=p.forwardRef(({onClear:t,clearLabel:e="Clear",startIcon:n,disabled:r,hasError:i,children:o,id:s,size:a="M",withTags:c,...f},h)=>{const d=p.useRef(null),g=v=>{t&&!r&&(t(v),d.current.focus())},{labelNode:b}=Pn("SelectTrigger"),x=bn(d,h);return C.jsx(ir.Trigger,{asChild:!0,children:C.jsxs(PG,{"aria-disabled":r,$hasError:i,ref:x,alignItems:"center",justifyContent:"space-between",position:"relative",overflow:"hidden",hasRadius:!0,background:r?"neutral150":"neutral0",gap:4,cursor:"default","aria-labelledby":b?`${s}-label`:void 0,$size:a,$withTags:c,...f,children:[C.jsxs(ve,{flex:"1",tag:"span",gap:3,children:[n&&C.jsx(ve,{tag:"span","aria-hidden":!0,children:n}),o]}),C.jsxs(ve,{tag:"span",gap:3,children:[t?C.jsx(TG,{tag:"button",hasRadius:!0,background:"transparent",role:"button",tabIndex:0,onClick:g,"aria-disabled":r,"aria-label":e,title:e,cursor:"pointer",children:C.jsx(Os,{})}):null,C.jsx(MG,{children:C.jsx(ho,{})})]})]})})}),TG=F(xe)`
  border: none;
  display: flex;

  svg {
    height: 1.1rem;
    width: 1.1rem;
  }

  svg path {
    fill: ${({theme:t})=>t.colors.neutral500};
  }
`,PG=F(ve)`
  border: 1px solid ${({theme:t,$hasError:e})=>e?t.colors.danger600:t.colors.neutral200};
  ${t=>{switch(t.$size){case"S":return Ee`
          padding-block: ${t.theme.spaces[1]};
          padding-inline-start: ${t.$withTags?t.theme.spaces[1]:t.theme.spaces[4]};
          padding-inline-end: ${t.theme.spaces[3]};
        `;default:return Ee`
          padding-block: ${t.$withTags?"0.3rem":t.theme.spaces[2]};
          padding-inline-start: ${t.$withTags?t.theme.spaces[1]:t.theme.spaces[4]};
          padding-inline-end: ${t.theme.spaces[3]};
        `}}}
  cursor: pointer;

  &[aria-disabled='true'] {
    color: ${t=>t.theme.colors.neutral500};
  }

  /* Required to ensure the below inputFocusStyles are adhered too */
  &:focus-visible {
    outline: none;
  }

  ${({theme:t,$hasError:e})=>zi()({theme:t,$hasError:e})};
`,MG=F(ir.Icon)`
  display: flex;
  & > svg {
    fill: ${({theme:t})=>t.colors.neutral500};
  }
`,OG=p.forwardRef(({children:t,placeholder:e,...n},r)=>C.jsx(DG,{ref:r,ellipsis:!0,...n,children:C.jsx(IG,{placeholder:e,children:t})})),DG=F(_e)`
  flex: 1;
  font-size: 1.4rem;
  line-height: 2.2rem;
`,IG=F(ir.Value)`
  display: flex;
  gap: ${({theme:t})=>t.spaces[1]};
  flex-wrap: wrap;
`,_G=p.forwardRef((t,e)=>C.jsx(LG,{ref:e,...t,children:C.jsx(B0,{children:t.children})})),LG=F(ir.Content)`
  background: ${({theme:t})=>t.colors.neutral0};
  box-shadow: ${({theme:t})=>t.shadows.filterShadow};
  border: 1px solid ${({theme:t})=>t.colors.neutral150};
  border-radius: ${({theme:t})=>t.borderRadius};
  min-width: var(--radix-select-trigger-width);
  max-height: 15.6rem;
  z-index: ${({theme:t})=>t.zIndices.popover};

  @media (prefers-reduced-motion: no-preference) {
    animation-duration: ${t=>t.theme.motion.timings[200]};

    /* The select can't animate out yet, watch https://github.com/radix-ui/primitives/issues/1893, or take a look and solve it yourself. */
    &[data-state='open'] {
      animation-timing-function: ${t=>t.theme.motion.easings.authenticMotion};

      &[data-side='top'] {
        animation-name: ${yt.slideUpIn};
      }

      &[data-side='bottom'] {
        animation-name: ${yt.slideDownIn};
      }
    }
  }
`,NG=F(ir.Viewport)`
  padding: ${({theme:t})=>t.spaces[1]};
`,BG=p.forwardRef((t,e)=>C.jsx(WG,{ref:e,...t})),FG=Ee`
  width: 100%;
  border: none;
  text-align: left;
  outline-offset: -3px;
  border-radius: ${t=>t.theme.borderRadius};
  padding: ${t=>`${t.theme.spaces[2]} ${t.theme.spaces[4]}`};
  padding-left: ${({theme:t})=>t.spaces[4]};
  background-color: ${({theme:t})=>t.colors.neutral0};
  display: flex;
  align-items: center;
  gap: ${({theme:t})=>t.spaces[2]};
  white-space: nowrap;
  user-select: none;
  color: ${({theme:t})=>t.colors.neutral800};

  &:focus-visible {
    outline: none;
    background-color: ${({theme:t})=>t.colors.primary100};
    cursor: pointer;
  }
`,WG=F(ir.Item)`
  ${FG}

  &:hover {
    background-color: ${({theme:t})=>t.colors.primary100};
  }

  &[data-state='checked'] {
    font-weight: bold;
    background-color: ${({theme:t})=>t.colors.primary100};
    color: ${({theme:t})=>t.colors.primary600};
    font-weight: bold;
  }
`,hE=ir.Root,dE=RG,pE=OG,mE=ir.Portal,gE=_G,bE=NG,F0=BG,vE=ir.ItemIndicator,xE=ir.ItemText,VG=ir.Group,Cw=p.forwardRef(({children:t,clearLabel:e="Clear",customizeContent:n,disabled:r,hasError:i,id:o,name:s,onChange:a,onClear:c,onCloseAutoFocus:f,onReachEnd:h,placeholder:d,required:g,size:b,startIcon:x,value:v,...w},$)=>{const[S,A]=p.useState(),[R,T]=p.useState(!1),D=fe=>{T(fe)},M=fe=>{c&&c(fe),a||A("")},B=fe=>{a?a(typeof v=="number"?Number(fe):fe):A(fe)},N=p.useRef(null),W=ar(),K=`intersection-${Ts(W)}`;Rl(N,fe=>{h&&h(fe)},{selectorToWatch:`#${K}`,skipWhen:!R});const{error:Q,required:G,...ne}=Pn("SingleSelect"),le=!!Q||i,ee=ne.id??o,ae=ne.name??s;let X;Q?X=`${ee}-error`:ne.hint&&(X=`${ee}-hint`);const de=(typeof v<"u"&&v!==null?v.toString():S)??"";return C.jsxs(hE,{onOpenChange:D,disabled:r,required:G??g,onValueChange:B,value:de,...w,children:[C.jsx(dE,{ref:$,id:ee,name:ae,startIcon:x,hasError:le,disabled:r,clearLabel:e,onClear:de&&c?M:void 0,"aria-label":w["aria-label"],"aria-describedby":X??w["aria-describedby"],size:b,children:C.jsx(pE,{placeholder:d,textColor:de?"neutral800":"neutral600",children:de&&n?n(de):void 0})}),C.jsx(mE,{children:C.jsx(gE,{position:"popper",sideOffset:4,onCloseAutoFocus:f,children:C.jsxs(bE,{ref:N,children:[t,C.jsx(xe,{id:K,width:"100%",height:"1px"})]})})})]})}),Sw=p.forwardRef(({value:t,startIcon:e,children:n,...r},i)=>C.jsxs(F0,{ref:i,value:t.toString(),...r,children:[e&&C.jsx(ve,{tag:"span","aria-hidden":!0,children:e}),C.jsx(_e,{lineHeight:"20px",width:"100%",children:C.jsx(xE,{children:n})})]})),jG=200,kw=15,[HG,Ks]=Al("DatePicker"),zG=p.forwardRef(({calendarLabel:t,className:e,initialDate:n,locale:r,maxDate:i,minDate:o,monthSelectLabel:s="Month",onChange:a,value:c,yearSelectLabel:f="Year",hasError:h,id:d,name:g,disabled:b=!1,required:x=!1,onClear:v,clearLabel:w="Clear",size:$="M",...S},A)=>{const R=ms(),T=Qf("DatePicker"),D=r??T.locale,M=Jr(D,{day:"2-digit",month:"2-digit",year:"numeric"}),[B,N]=p.useState(!1),[W,K]=p.useState(null),[j,Q]=p.useState(null),[G,ne]=p.useState(null),[le,ee]=p.useState(),[ae,X]=Sr({defaultProp:n?ro(n):void 0,prop:c?ro(c):void 0,onChange(Fe){a&&a(Fe?.toDate(R))}}),[de,fe]=p.useMemo(()=>{const Fe=n?ro(n):Zm("UTC"),Zt=o?ro(o):Fe.set({day:1,month:1,year:Fe.year-jG});let gt=i?ro(i):Fe.set({day:31,month:12,year:Fe.year+kw});return gt.compare(Zt)<0&&(gt=Zt.set({day:31,month:12,year:Zt.year+kw})),[Zt,gt]},[o,i,n]),[Me,be]=p.useState(UG({currentValue:ae,minDate:de,maxDate:fe})),Ve=ar(),Le=p.useRef(null),je=Fe=>{v&&!b&&(ee(""),X(void 0),v(Fe),j?.focus())},pe=p.useCallback(Fe=>{Fe&&ae&&be(ae),N(Fe)},[ae]);Ps(()=>{if(c){const Fe=ro(c);ee(M.format(Fe.toDate(R))),be(Fe)}else ee("")},[c,M,R]),Ps(()=>{if(n&&le===void 0){const Fe=ro(n);ee(M.format(Fe.toDate(R)))}},[n,le,M,R]);const{error:Re,...Ae}=Pn("Combobox"),Ce=!!Re||h,De=Ae.id??d,te=Ae.name??g,pt=Ae.required||x;let qe;return Re?qe=`${De}-error`:Ae.hint&&(qe=`${De}-hint`),C.jsxs(HG,{calendarDate:Me,content:G,contentId:Ve,disabled:b,locale:D,minDate:de,maxDate:fe,open:B,onCalendarDateChange:be,onContentChange:ne,onOpenChange:pe,onTextInputChange:Q,onTextValueChange:ee,onTriggerChange:K,onValueChange:X,required:pt,textInput:j,textValue:le,timeZone:R,trigger:W,value:ae,children:[C.jsxs(GG,{className:e,hasError:Ce,size:$,children:[C.jsx(vO,{fill:"neutral500","aria-hidden":!0}),C.jsx(ZG,{ref:A,"aria-describedby":qe,id:De,name:te,...S}),le&&v?C.jsx(qG,{tag:"button",hasRadius:!0,background:"transparent",type:"button",onClick:je,"aria-disabled":b,"aria-label":w,title:w,ref:Le,children:C.jsx(Os,{})}):null]}),C.jsx(fE,{children:C.jsx(tY,{label:t,children:C.jsx(sY,{monthSelectLabel:s,yearSelectLabel:f})})})]})}),Aw=t=>!!t.match(/^[^a-zA-Z]*$/),UG=({currentValue:t,minDate:e,maxDate:n})=>{const r=Zm("UTC");return t||(bp(e,r)===e&&vp(n,r)===n?r:bp(e,r)===r?e:vp(n,r)===r?n:r)},KG="DatePickerTrigger",GG=p.forwardRef(({hasError:t,size:e,...n},r)=>{const i=Ks(KG),o=bn(r,a=>i.onTriggerChange(a)),s=()=>{i.disabled||i.onOpenChange(!0)};return C.jsx(Ns,{asChild:!0,trapped:i.open,onMountAutoFocus:a=>{a.preventDefault()},onUnmountAutoFocus:a=>{document.getSelection()?.empty(),a.preventDefault()},children:C.jsx(YG,{ref:o,$hasError:t,$size:e,...n,hasRadius:!0,gap:3,overflow:"hidden",background:i.disabled?"neutral150":"neutral0",onClick:lo(n.onClick,()=>{i.textInput?.focus()}),onPointerDown:lo(n.onPointerDown,a=>{const c=a.target;c.hasPointerCapture(a.pointerId)&&c.releasePointerCapture(a.pointerId),(c.closest("button")??c.closest("div"))===a.currentTarget&&a.button===0&&a.ctrlKey===!1&&(s(),i.textInput?.focus())})})})}),YG=F(ve)`
  border: 1px solid ${({theme:t,$hasError:e})=>e?t.colors.danger600:t.colors.neutral200};
  ${t=>{switch(t.$size){case"S":return Ee`
          padding-block: ${t.theme.spaces[1]};
          padding-inline: ${t.theme.spaces[3]};
        `;default:return Ee`
          padding-block: ${t.theme.spaces[2]};
          padding-inline: ${t.theme.spaces[3]};
        `}}}

  & > svg {
    flex: 1 0 auto;
  }

  &[data-disabled] {
    color: ${({theme:t})=>t.colors.neutral600};
    background: ${({theme:t})=>t.colors.neutral150};
    cursor: not-allowed;
  }

  /* Required to ensure the below inputFocusStyles are adhered too */
  &:focus-visible {
    outline: none;
  }

  ${({theme:t,$hasError:e})=>zi()({theme:t,$hasError:e})};
`,qG=F(xe)`
  border: none;
  color: ${({theme:t})=>t.colors.neutral600};
  padding: 0;
  cursor: pointer;
`,XG="DatePickerTextInput",ZG=p.forwardRef(({placeholder:t,...e},n)=>{const r=Ks(XG),{onTextValueChange:i,textValue:o,onTextInputChange:s,onOpenChange:a,disabled:c,locale:f}=r,h=bn(n,$=>s($)),d=()=>{c||a(!0)},g=Jr(f,{year:"numeric",month:"2-digit",day:"2-digit"}),[b,x,v]=p.useMemo(()=>{const $=g.formatToParts(new Date),S=$.filter(T=>T.type==="year"||T.type==="month"||T.type==="day"),A=S.map(T=>{switch(T.type){case"day":return"DD";case"month":return"MM";case"year":return"YYYY";default:return""}}),R=$.find(T=>T.type==="literal")?.value??"";return[A,R,S]},[g]),w=b.map($=>`\\d{${$.length}}`).join(`\\${x}`);return C.jsx(JG,{role:"combobox",type:"text",inputMode:"numeric",ref:h,"aria-autocomplete":"none","aria-controls":r.contentId,"aria-disabled":r.disabled,"aria-expanded":r.open,"aria-required":r.required,"aria-haspopup":"dialog","data-state":r.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,pattern:w,placeholder:t??b.join(x),...e,value:o??"",onBlur:lo(e.onBlur,()=>{if(!r.textValue){r.onValueChange(void 0);return}r.onTextValueChange(g.format(r.calendarDate.toDate(r.timeZone))),r.onValueChange(r.calendarDate)}),onChange:lo(e.onChange,$=>{if(Aw($.target.value)){const S=$.target.value.split(x),[A,R,T]=v.map((Q,G)=>{const ne=S[G];return{...Q,value:ne}}).sort((Q,G)=>Q.type==="year"?1:G.type==="year"?-1:Q.type==="month"?1:G.type==="month"?-1:0).map(Q=>Q.value),D=r.calendarDate.year;let M=r.calendarDate.year;if(T){const Q=T.length===1?`0${T}`:T;M=T.length<3?Number(`${D}`.slice(0,4-Q.length)+Q):Number(Q)}T&&T.length<3&&M>r.maxDate.year&&(M-=100);const B=r.calendarDate.set({year:M}),N=B.calendar.getMonthsInYear(B),W=B.set({month:R&&Number(R)<=N?Number(R):void 0}),K=W.calendar.getDaysInMonth(W),j=W.set({day:A&&Number(A)<=K?Number(A):void 0});r.onCalendarDateChange(QG(j,r.minDate,r.maxDate)),r.onTextValueChange($.target.value)}}),onKeyDown:lo(e.onKeyDown,$=>{if(!r.open&&(Aw($.key)||["ArrowDown","Backspace"].includes($.key)))d();else if(["Tab"].includes($.key)&&r.open)$.preventDefault();else if(["Escape"].includes($.key))r.open?r.onOpenChange(!1):(r.onValueChange(void 0),r.onTextValueChange("")),$.preventDefault();else if(r.open&&["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes($.key))switch($.preventDefault(),$.key){case"ArrowDown":{const S=r.calendarDate.add({weeks:1});if(r.maxDate&&S.compare(r.maxDate)>0)return;r.onCalendarDateChange(S);return}case"ArrowRight":{const S=r.calendarDate.add({days:1});if(r.maxDate&&S.compare(r.maxDate)>0)return;r.onCalendarDateChange(S);return}case"ArrowUp":{const S=r.calendarDate.subtract({weeks:1});if(r.minDate&&S.compare(r.minDate)<0)return;r.onCalendarDateChange(S);return}case"ArrowLeft":{const S=r.calendarDate.subtract({days:1});if(r.minDate&&S.compare(r.minDate)<0)return;r.onCalendarDateChange(S)}}else r.open&&["Enter"].includes($.key)&&($.preventDefault(),i(g.format(r.calendarDate.toDate(r.timeZone))),r.onValueChange(r.calendarDate),r.onOpenChange(!1))})})});function QG(t,e,n){return e&&(t=vp(t,e)),n&&(t=bp(t,n)),t}const JG=F.input`
  width: 100%;
  font-size: 1.4rem;
  line-height: 2.2rem;
  color: ${({theme:t})=>t.colors.neutral800};
  border: none;
  background-color: transparent;

  &:focus-visible {
    outline: none;
  }

  &[aria-disabled='true'] {
    cursor: inherit;
  }
`,eY="DatePickerContent",tY=p.forwardRef((t,e)=>{const[n,r]=p.useState(),i=Ks(eY);if(Ps(()=>{r(new DocumentFragment)},[]),!i.open){const o=n;return o?oi.createPortal(C.jsx("div",{children:t.children}),o):null}return C.jsx(rY,{...t,ref:e})}),nY="DatePickerContent",rY=p.forwardRef((t,e)=>{const{label:n="Choose date",...r}=t,{onOpenChange:i,...o}=Ks(nY),{x:s,y:a,refs:c,strategy:f,placement:h}=c2({strategy:"fixed",placement:"bottom-start",middleware:[u2({mainAxis:4}),f2(),h2()],elements:{reference:o.trigger},whileElementsMounted:a2});p.useEffect(()=>{const g=()=>{i(!1)};return window.addEventListener("blur",g),window.addEventListener("resize",g),()=>{window.removeEventListener("blur",g),window.removeEventListener("resize",g)}},[i]);const d=bn(e,g=>o.onContentChange(g),c.setFloating);return Ls(),C.jsx(lC,{allowPinchZoom:!0,children:C.jsx(kG,{asChild:!0,onFocusOutside:g=>{g.preventDefault()},onDismiss:()=>{i(!1)},children:C.jsx(iY,{ref:d,"data-state":o.open?"open":"closed","data-side":h.includes("top")?"top":"bottom",onContextMenu:g=>g.preventDefault(),id:o.contentId,role:"dialog","aria-modal":"true","aria-label":n,style:{left:s,top:a,position:f},hasRadius:!0,background:"neutral0",padding:1,...r})})})}),iY=F(xe)`
  box-shadow: ${({theme:t})=>t.shadows.filterShadow};
  z-index: ${({theme:t})=>t.zIndices.popover};
  border: 1px solid ${({theme:t})=>t.colors.neutral150};

  @media (prefers-reduced-motion: no-preference) {
    animation-duration: ${t=>t.theme.motion.timings[200]};

    &[data-state='open'] {
      animation-timing-function: ${t=>t.theme.motion.easings.authenticMotion};

      &[data-side='top'] {
        animation-name: ${yt.slideUpIn};
      }

      &[data-side='bottom'] {
        animation-name: ${yt.slideDownIn};
      }
    }
  }
`,oY="DatePickerCalendar",sY=p.forwardRef(({monthSelectLabel:t,yearSelectLabel:e,...n},r)=>{const{locale:i,timeZone:o,minDate:s,maxDate:a,calendarDate:c,onCalendarDateChange:f}=Ks(oY),h=TO(c),d=p.useMemo(()=>{const A=s.year,R=a.year;return[...Array(R-A+1).keys()].map(T=>(A+T).toString())},[s,a]),g=Jr(i,{month:"long"}),b=p.useMemo(()=>[...Array(c.calendar.getMonthsInYear(c)).keys()].map(A=>g.format(c.set({month:A+1}).toDate(o))),[c,g,o]),x=Jr(i,{weekday:"short"}),v=p.useMemo(()=>{const A=Lw(Zm(o),i);return[...new Array(7).keys()].map(R=>{const D=A.add({days:R}).toDate(o);return x.format(D)})},[o,i,x]),w=A=>{if(typeof A=="number")return;const R=c.set({month:b.indexOf(A)+1});f(R)},$=A=>{if(typeof A=="number")return;const R=c.set({year:parseInt(A,10)});f(R)},S=aY(h,i);return C.jsxs(ve,{ref:r,direction:"column",alignItems:"stretch",padding:4,...n,children:[C.jsxs(lY,{justifyContent:"flex-start",paddingBottom:4,paddingLeft:2,paddingRight:2,gap:2,children:[C.jsx(Ms,{children:C.jsx(Cw,{"aria-label":t,value:b[c.month-1],onChange:w,children:b.map(A=>C.jsx(Sw,{value:A,children:A},A))})}),C.jsx(Ms,{children:C.jsx(Cw,{value:c.year.toString(),"aria-label":e,onChange:$,children:d.map(A=>C.jsx(Sw,{value:A,children:A},A))})})]}),C.jsxs("table",{role:"grid",children:[C.jsx("thead",{"aria-hidden":!0,children:C.jsx("tr",{"aria-rowindex":0,children:v.map((A,R)=>C.jsx(cY,{"aria-colindex":R,children:A},A))})}),C.jsx("tbody",{children:[...new Array(6).keys()].map(A=>C.jsx("tr",{"aria-rowindex":A+2,children:S(A).map((R,T)=>R?C.jsx(hY,{"aria-colindex":T+1,date:R,startDate:h,disabled:s.compare(R)>0||R.compare(a)>0},R.toString()):C.jsx(yE,{"aria-colindex":T+1},T+1))},A))})]})]})}),aY=(t,e)=>n=>{let r=t.add({weeks:n});const i=[];r=Lw(r,e);const o=Iw(r,e);for(let s=0;s<o;s++)i.push(null);for(;i.length<7;){i.push(r);const s=r.add({days:1});if(Dw(r,s))break;r=s}for(;i.length<7;)i.push(null);return i},lY=F(ve)`
  div[role='combobox'] {
    border: 1px solid transparent;
    background: transparent;
    font-weight: ${t=>t.theme.fontWeights.bold};

    svg {
      fill: ${({theme:t})=>t.colors.neutral500};
    }

    &:hover {
      background-color: ${({theme:t})=>t.colors.neutral100};
    }
  }
`,cY=p.forwardRef(({children:t,...e},n)=>C.jsx(uY,{tag:"th",role:"gridcell",ref:n,...e,height:"2.4rem",width:"3.2rem",children:C.jsx(_e,{variant:"pi",fontWeight:"bold",color:"neutral800",children:t.slice(0,2)})})),uY=F(xe)`
  border-radius: ${({theme:t})=>t.borderRadius};
  text-transform: capitalize;
`,fY="DatePickerCalendarCell",hY=p.forwardRef(({date:t,startDate:e,disabled:n,...r},i)=>{const{timeZone:o,locale:s,calendarDate:a,onValueChange:c,onOpenChange:f,onTextValueChange:h,onCalendarDateChange:d}=Ks(fY),g=Dw(a,t),b=Jr(s,{weekday:"long",day:"numeric",month:"long",year:"numeric"}),x=p.useMemo(()=>b.format(t.toDate(o)),[b,t,o]),v=Jr(s,{day:"numeric",calendar:t.calendar.identifier}),w=p.useMemo(()=>v.formatToParts(t.toDate(o)).find(T=>T.type==="day").value,[v,t,o]),$=Jr(s,{day:"2-digit",month:"2-digit",year:"numeric"}),S=PO(e),A=t.compare(e)<0||t.compare(S)>0;let R="neutral900";return g?R="primary600":A&&(R="neutral600"),C.jsx(yE,{tag:"td",role:"gridcell",ref:i,"aria-selected":g,...r,hasRadius:!0,"aria-label":x,tabIndex:g?0:-1,background:g?"primary100":"neutral0",cursor:"pointer",onPointerDown:lo(r.onPointerDown,T=>{T.preventDefault(),d(t),c(t),h($.format(t.toDate(o))),f(!1)}),"aria-disabled":n,children:C.jsx(_e,{variant:"pi",textColor:R,children:w})})}),yE=F(xe)`
  text-align: center;
  padding: 0.7rem;
  // Trick to prevent the outline from overflowing because of the general outline-offset
  outline-offset: -2px !important;
  &[aria-disabled='true'] {
    pointer-events: none;
    opacity: 0.5;
  }

  &[aria-disabled='false'] {
    &:hover {
      background: ${({theme:t})=>t.colors.primary100};
      color: ${({theme:t})=>t.colors.primary600};
    }
  }
`,ro=t=>{const e=t.toISOString(),n=Gw(e,"UTC");return Ww(n)},mp=t=>!!t.match(/^[^a-zA-Z]*$/),dY=p.forwardRef(({step:t=15,value:e,defaultValue:n,onChange:r,...i},o)=>{const s=Qf("TimePicker"),[a,c]=p.useState(""),[f,h]=Sr({prop:e,defaultProp:n,onChange:r}),d=Jr(s.locale,{hour:"2-digit",minute:"2-digit",hour12:!1}),g=p.useMemo(()=>{const S=d.formatToParts(new Date),{value:A}=S.find(R=>R.type==="literal");return A},[d]),b=p.useMemo(()=>{const S=60/t;return[...Array(24).keys()].flatMap(A=>[...Array(S).keys()].map(R=>d.format(new Date(0,0,0,A,R*t))))},[t,d]),x=S=>{(!S||mp(S))&&c(S)},v=S=>{const[A,R]=S.split(g);if(!A&&!R)return;const T=Number(A??"0"),D=Number(R??"0");if(!(T>23||D>59))return d.format(new Date(0,0,0,T,D))},w=S=>{const A=v(S.target.value);A?(c(A),h(A)):c(f)},$=S=>{if(typeof S<"u"){const A=v(S);h(A)}else h(S)};return p.useEffect(()=>{const S=typeof e>"u"?"":e;mp(S)&&c(S)},[e,c]),C.jsx(uG,{...i,ref:o,value:f,onChange:$,isPrintableCharacter:mp,allowCustomValue:!0,placeholder:`--${g}--`,autocomplete:"none",startIcon:C.jsx(xO,{fill:"neutral500"}),inputMode:"numeric",pattern:`\\d{2}\\${g}\\d{2}`,textValue:a,onTextValueChange:x,onBlur:w,children:b.map(S=>C.jsx(bG,{value:S,children:S},S))})}),pY=F(zG)`
  flex: 1 1 70%;
  min-width: 120px;
`,mY=F(dY)`
  flex: 1 1 30%;
  min-width: 140px;
`;p.forwardRef(({clearLabel:t="clear",dateLabel:e="Choose date",timeLabel:n="Choose time",disabled:r=!1,hasError:i,onChange:o,onClear:s,required:a=!1,step:c,value:f,initialDate:h,size:d,...g},b)=>{const x=p.useRef(null),[v,w]=Sr({defaultProp:h?va(h,!1):void 0,prop:f?va(f,!1):f??void 0,onChange(Q){o&&o(Q?.toDate(ms()))}}),$=Qf("DateTimePicker"),S=Jr($.locale,{hour:"2-digit",minute:"2-digit",hour12:!1}),A=v?S.format(v.toDate(ms())):"",R=Q=>{let G=Q?va(Q):void 0;if(!(G&&v&&G.compare(v)===0)){if(A&&G){const[ne,le]=A.split(":");G=G.set({hour:parseInt(ne,10),minute:parseInt(le,10)})}w(G)}},T=Q=>{if(!Q)return;const[G,ne]=Q.split(":"),le=v?v.set({hour:parseInt(G,10),minute:parseInt(ne,10)}):va(new Date).set({hour:parseInt(G,10),minute:parseInt(ne,10)});w(le)},D=Q=>{w(void 0),s&&s(Q)},M=()=>{const Q=v?v.set({hour:0,minute:0}):va(new Date);w(Q)},B=bn(x,b),{error:N,id:W,labelNode:K}=Pn("DateTimePicker"),j=!!N||i;return C.jsxs(ve,{"aria-labelledby":K?`${W}-label`:void 0,role:"group",flex:"1",gap:1,children:[C.jsx(Ms,{children:C.jsx(pY,{...g,size:d,value:v?.toDate("UTC"),onChange:R,required:a,onClear:s?D:void 0,clearLabel:`${t} date`,disabled:r,ref:B,"aria-label":e})}),C.jsx(Ms,{children:C.jsx(mY,{size:d,hasError:j,value:A,onChange:T,onClear:s&&A!==void 0&&A!=="00:00"?M:void 0,clearLabel:`${t} time`,required:a,disabled:r,step:c,"aria-label":n})})]})});const va=(t,e=!0)=>{const n=t.toISOString();let r=UO(n);return e&&(r=r.set({hour:0,minute:0})),po(r)},gY=p.forwardRef((t,e)=>C.jsx(bY,{ref:e,background:"neutral150",...t,"data-orientation":"horizontal",role:"separator",tag:"div"})),bY=F(xe)`
  height: 1px;
  border: none;
  /* If contained in a Flex parent we want to prevent the Divider to shink */
  flex-shrink: 0;
`,vY=F(xe)`
  svg {
    height: 8.8rem;
  }
`;p.forwardRef(({icon:t,content:e,action:n,hasRadius:r=!0,shadow:i="tableShadow"},o)=>C.jsxs(ve,{ref:o,alignItems:"center",direction:"column",padding:11,background:"neutral0",hasRadius:r,shadow:i,children:[t?C.jsx(vY,{paddingBottom:6,"aria-hidden":!0,children:t}):null,C.jsx(xe,{paddingBottom:4,children:C.jsx(_e,{variant:"delta",tag:"p",textAlign:"center",textColor:"neutral600",children:e})}),n]}));const wE=Pe.define(),$E=Pe.define(),xY=ye.mark({attributes:{style:"background-color: yellow; color: black"}}),yY=Lt.define({create(){return ye.none},update(t,e){return t=t.map(e.changes),e.effects.forEach(n=>{n.is(wE)?t=t.update({add:n.value,sort:!0}):n.is($E)&&(t=t.update({filter:n.value}))}),t},provide:t=>se.decorations.from(t)});p.forwardRef(({hasError:t,required:e,id:n,value:r="",disabled:i=!1,onChange:o=()=>null,...s},a)=>{const c=p.useRef(),f=p.useRef(),h=p.useRef(),{error:d,...g}=Pn("JsonInput"),b=!!d||t,x=g.id??n,v=g.required||e;let w;d?w=`${x}-error`:g.hint&&(w=`${x}-hint`);const $=N=>{const W=f.current?.doc;if(W){const{text:K,to:j}=W.line(N),Q=j-K.trimStart().length;j>Q&&h.current?.dispatch({effects:wE.of([xY.range(Q,j)])})}},S=()=>{const N=f.current?.doc;if(N){const W=N.length||0;h.current?.dispatch({effects:$E.of((K,j)=>j<=0||K>=W)})}},A=({state:N,view:W})=>{h.current=W,f.current=N,S();const j=nV()(W);j.length&&$(N.doc.lineAt(j[0].from).number)},R=(N,W)=>{A(W),o(N)},T=(N,W)=>{h.current=N,f.current=W,A({view:N,state:W})},{setContainer:D,view:M}=pA({value:r,onCreateEditor:T,container:c.current,editable:!i,extensions:[oV(),yY],onChange:R,theme:"dark",basicSetup:{lineNumbers:!0,bracketMatching:!0,closeBrackets:!0,indentOnInput:!0,syntaxHighlighting:!0,highlightSelectionMatches:!0,tabSize:2}}),B=bn(c,D);return p.useImperativeHandle(a,()=>({...M?.dom,focus(){M&&M.focus()},scrollIntoView(N){M&&M.dom.scrollIntoView(N)}}),[M]),C.jsx(wY,{ref:B,$hasError:b,alignItems:"stretch",fontSize:2,hasRadius:!0,"aria-required":v,id:x,"aria-describedby":w,...s})});const wY=F(ve)`
  line-height: ${({theme:t})=>t.lineHeights[2]};

  .cm-editor {
    /** 
     * Hard coded since the color is the same between themes,
     * theme.colors.neutral800 changes between themes 
     */
    background-color: #32324d;
    width: 100%;
    outline: none;
  }

  .cm-scroller {
    border: 1px solid ${({theme:t,$hasError:e})=>e?t.colors.danger600:t.colors.neutral200};
    /* inputFocusStyle will receive hasError prop */
    ${zi()}
  }

  .cm-editor,
  .cm-scroller {
    border-radius: ${({theme:t})=>t.borderRadius};
  }

  .cm-gutters,
  .cm-activeLineGutter {
    /** 
     * Hard coded since the color is the same between themes,
     * theme.colors.neutral700 changes between themes 
     */
    background-color: #4a4a6a;
  }
`;on(({disabled:t,...e},n)=>C.jsx(il,{ref:n,tag:El,tabIndex:t?-1:void 0,disabled:t,...e}));const $Y=F(xe)`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,CY=({labelledBy:t="main-content-title",...e})=>C.jsx($Y,{"aria-labelledby":t,tag:"main",id:"main-content",tabIndex:-1,...e});F(xe)`
  text-decoration: none;

  &:focus {
    left: ${({theme:t})=>t.spaces[3]};
    top: ${({theme:t})=>t.spaces[3]};
  }
`;const SY=(t,e)=>`${t}${Math.floor(e*255).toString(16).padStart(2,"0")}`;p.forwardRef((t,e)=>C.jsx(Q$,{...t,asChild:!0,ref:e}));p.forwardRef((t,e)=>C.jsx(J$,{children:C.jsx(kY,{children:C.jsx(AY,{ref:e,...t})})}));const kY=F(eC)`
  background: ${t=>SY(t.theme.colors.neutral800,.2)};
  position: fixed;
  inset: 0;
  z-index: ${t=>t.theme.zIndices.overlay};

  @media (prefers-reduced-motion: no-preference) {
    animation: ${yt.overlayFadeIn} ${t=>t.theme.motion.timings[200]}
      ${t=>t.theme.motion.easings.authenticMotion};
  }
`,AY=F(tC)`
  max-width: 83rem;
  max-height: 90vh;
  height: auto;
  width: 60%;
  overflow: hidden;
  margin: 0 auto;
  display: flex;
  flex-direction: column;

  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  border-radius: ${t=>t.theme.borderRadius};
  background-color: ${t=>t.theme.colors.neutral0};
  box-shadow: ${t=>t.theme.shadows.popupShadow};
  z-index: ${t=>t.theme.zIndices.modal};

  @media (prefers-reduced-motion: no-preference) {
    &[data-state='open'] {
      animation-duration: ${t=>t.theme.motion.timings[200]};
      animation-timing-function: ${t=>t.theme.motion.easings.authenticMotion};
      animation-name: ${yt.modalPopIn};
    }

    &[data-state='closed'] {
      animation-duration: ${t=>t.theme.motion.timings[120]};
      animation-timing-function: ${t=>t.theme.motion.easings.easeOutQuad};
      animation-name: ${yt.modalPopOut};
    }
  }
`,EY=p.forwardRef((t,e)=>C.jsx(Xg,{...t,asChild:!0,ref:e}));p.forwardRef(({children:t,closeLabel:e="Close modal",...n},r)=>C.jsxs(RY,{ref:r,padding:4,paddingLeft:5,paddingRight:5,background:"neutral100",justifyContent:"space-between",...n,tag:"header",children:[t,C.jsx(EY,{children:C.jsx(zm,{withTooltip:!1,label:e,children:C.jsx(Os,{})})})]}));const RY=F(ve)`
  border-bottom: solid 1px ${t=>t.theme.colors.neutral150};
`;p.forwardRef((t,e)=>C.jsx(nC,{asChild:!0,children:C.jsx(_e,{tag:"h2",variant:"omega",fontWeight:"bold",ref:e,...t})}));p.forwardRef(({children:t,...e},n)=>C.jsx(TY,{ref:n,...e,children:t}));const TY=F(B0)`
  padding-inline: ${t=>t.theme.spaces[8]};

  & > div {
    padding-block: ${t=>t.theme.spaces[8]};

    & > div {
      // the scroll area component applies a display: table to the child, which we don't want.
      display: block !important;
    }
  }
`;p.forwardRef((t,e)=>C.jsx(PY,{ref:e,padding:4,paddingLeft:5,paddingRight:5,background:"neutral100",justifyContent:"space-between",...t,tag:"footer"}));const PY=F(ve)`
  border-top: solid 1px ${t=>t.theme.colors.neutral150};
  flex: 1;
`,MY="";p.forwardRef(({startAction:t,locale:e,onValueChange:n,value:r,step:i=1,disabled:o=!1,...s},a)=>{const c=Qf("NumberInput"),f=e||c.locale,h=p.useRef(new bA(f,{style:"decimal"})),d=p.useRef(new gA(f,{maximumFractionDigits:20})),[g,b]=OY({prop(D){const M=String(r);return isNaN(Number(M))||M!==D&&D!==""?D:d.current.format(Number(r))},defaultProp:MY,onChange(D){const M=h.current.parse(D??"");n(isNaN(M)?void 0:M)}}),x=D=>{b(String(D))},v=({target:{value:D}})=>{h.current.isValidPartialNumber(D)&&x(D)},$=(D=>{const M=D.toString();return M.includes(".")?M.split(".")[1].length:0})(i),S=()=>{if(!g){x(i);return}const D=h.current.parse(g),M=isNaN(D)?i:D+i,B=parseFloat(M.toFixed($));x(d.current.format(B))},A=()=>{if(!g){x(-i);return}const D=h.current.parse(g),M=isNaN(D)?-i:D-i,B=parseFloat(M.toFixed($));x(d.current.format(B))},R=D=>{if(!o)switch(D.key){case Ut.DOWN:{D.preventDefault(),A();break}case Ut.UP:{D.preventDefault(),S();break}}},T=()=>{if(g){const D=h.current.parse(g),M=isNaN(D)?"":d.current.format(D);x(M)}};return C.jsx(N0,{ref:a,startAction:t,disabled:o,type:"text",inputMode:"decimal",onChange:v,onKeyDown:R,onBlur:T,value:g,endAction:C.jsxs(ve,{direction:"column",children:[C.jsx(Ew,{disabled:o,"aria-hidden":!0,$reverse:!0,onClick:S,tabIndex:-1,type:"button","data-testid":"ArrowUp",children:C.jsx(ho,{fill:"neutral500"})}),C.jsx(Ew,{disabled:o,"aria-hidden":!0,onClick:A,tabIndex:-1,type:"button","data-testid":"ArrowDown",children:C.jsx(ho,{fill:"neutral500"})})]}),...s})});const Ew=F.button`
  display: flex;
  justify-content: center;
  align-items: center;
  transform: translateY(${({$reverse:t})=>t?"-2px":"2px"});
  cursor: ${({disabled:t})=>t?"not-allowed":void 0};
  height: 1.1rem;

  svg {
    width: 1.2rem;
    transform: ${({$reverse:t})=>t?"rotateX(180deg)":void 0};
  }
`;function OY({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=qA({defaultProp:e,onChange:n}),o=t!==void 0,s=t instanceof Function?t(r):t,a=o?s:r,c=yg(n),f=p.useCallback(h=>{if(o){const g=typeof h=="function"?h(s):h;g!==s&&(c(g),i(h))}else i(h)},[o,s,i,c]);return[a,f]}const DY=p.createContext({activePage:1,pageCount:1}),W0=()=>p.useContext(DY);on(({children:t,...e},n)=>{const{activePage:r}=W0(),i=r===1;return C.jsxs(SE,{ref:n,"aria-disabled":i,tabIndex:i?-1:void 0,...e,children:[C.jsx(Us,{children:t}),C.jsx(Mw,{"aria-hidden":!0})]})});on(({children:t,...e},n)=>{const{activePage:r,pageCount:i}=W0(),o=r===i;return C.jsxs(SE,{ref:n,"aria-disabled":o,tabIndex:o?-1:void 0,...e,children:[C.jsx(Us,{children:t}),C.jsx(qm,{"aria-hidden":!0})]})});const CE=F(El)`
  padding: ${({theme:t})=>t.spaces[3]};
  border-radius: ${({theme:t})=>t.borderRadius};
  box-shadow: ${({$active:t,theme:e})=>t?e.shadows.filterShadow:void 0};
  text-decoration: none;
  display: flex;

  ${qf}
`,SE=F(CE)`
  font-size: 1.1rem;

  svg path {
    fill: ${t=>t["aria-disabled"]?t.theme.colors.neutral300:t.theme.colors.neutral600};
  }

  &:focus,
  &:hover {
    svg path {
      fill: ${t=>t["aria-disabled"]?t.theme.colors.neutral300:t.theme.colors.neutral700};
    }
  }

  ${t=>t["aria-disabled"]?`
  pointer-events: none;
    `:void 0}
`;on(({number:t,children:e,...n},r)=>{const{activePage:i}=W0(),o=i===t;return C.jsxs(IY,{ref:r,...n,"aria-current":o,$active:o,children:[C.jsx(Us,{children:e}),C.jsx(_e,{"aria-hidden":!0,fontWeight:o?"bold":void 0,lineHeight:"revert",variant:"pi",children:t})]})});const IY=F(CE)`
  color: ${({theme:t,$active:e})=>e?t.colors.primary700:t.colors.neutral800};
  background: ${({theme:t,$active:e})=>e?t.colors.neutral0:void 0};

  &:hover {
    box-shadow: ${({theme:t})=>t.shadows.filterShadow};
  }
`;p.forwardRef((t,e)=>C.jsx(Lz,{...t,asChild:!0,ref:e}));p.forwardRef((t,e)=>C.jsx(Nz,{children:C.jsx(_Y,{sideOffset:4,side:"bottom",align:"start",...t,ref:e})}));const _Y=F(Bz)`
  box-shadow: ${({theme:t})=>t.shadows.filterShadow};
  z-index: ${({theme:t})=>t.zIndices.popover};
  background-color: ${t=>t.theme.colors.neutral0};
  border: 1px solid ${({theme:t})=>t.colors.neutral150};
  border-radius: ${({theme:t})=>t.borderRadius};

  @media (prefers-reduced-motion: no-preference) {
    animation-duration: ${t=>t.theme.motion.timings[200]};

    &[data-state='open'] {
      animation-timing-function: ${t=>t.theme.motion.easings.authenticMotion};

      &[data-side='top'] {
        animation-name: ${yt.slideUpIn};
      }

      &[data-side='bottom'] {
        animation-name: ${yt.slideDownIn};
      }
    }

    &[data-state='closed'] {
      animation-timing-function: ${t=>t.theme.motion.easings.easeOutQuad};

      &[data-side='top'] {
        animation-name: ${yt.slideUpOut};
      }

      &[data-side='bottom'] {
        animation-name: ${yt.slideDownOut};
      }
    }
  }
`;p.forwardRef(({children:t,intersectionId:e,onReachEnd:n,...r},i)=>{const o=p.useRef(null),s=bn(o,i),a=ar();return Rl(o,n??(()=>{}),{selectorToWatch:`#${Ts(a)}`,skipWhen:!e||!n}),C.jsxs(LY,{ref:s,...r,children:[t,e&&n&&C.jsx(xe,{id:Ts(a),width:"100%",height:"1px"})]})});const LY=F(B0)`
  height: 20rem;
`;p.forwardRef(({size:t="M",value:e,...n},r)=>C.jsx(NY,{ref:r,$size:t,...n,children:C.jsx(BY,{style:{transform:`translate3D(-${100-(e??0)}%, 0, 0)`}})}));const NY=F(Gz)`
  position: relative;
  overflow: hidden;
  width: ${t=>t.$size==="S"?"7.8rem":"10.2rem"};
  height: ${t=>t.$size==="S"?"0.4rem":"0.8rem"};
  background-color: ${t=>t.theme.colors.neutral600};
  border-radius: ${t=>t.theme.borderRadius};

  /* Fix overflow clipping in Safari */
  /* https://gist.github.com/domske/b66047671c780a238b51c51ffde8d3a0 */
  transform: translateZ(0);
`,BY=F(Yz)`
  background-color: ${({theme:t})=>t.colors.neutral0};
  border-radius: ${({theme:t})=>t.borderRadius};
  width: 100%;
  height: 100%;

  @media (prefers-reduced-motion: no-preference) {
    transition: transform ${t=>t.theme.motion.timings[320]}
      ${t=>t.theme.motion.easings.authenticMotion};
  }
`;p.forwardRef((t,e)=>C.jsx(FY,{ref:e,...t}));const FY=F(uU)`
  display: flex;
  flex-direction: column;
  gap: ${t=>t.theme.spaces[3]};
`;p.forwardRef(({children:t,id:e,...n},r)=>{const i=ar(e);return C.jsxs(ve,{gap:2,children:[C.jsx(WY,{id:i,ref:r,...n,children:C.jsx(VY,{})}),C.jsx(_e,{tag:"label",htmlFor:i,children:t})]})});const WY=F(fU)`
  background: ${t=>t.theme.colors.neutral0};
  width: 2rem;
  height: 2rem;
  flex: 0 0 2rem;
  border-radius: 50%;
  border: 1px solid ${t=>t.theme.colors.neutral300};
  position: relative;
  z-index: 0;

  @media (prefers-reduced-motion: no-preference) {
    transition: border-color ${t=>t.theme.motion.timings[120]}
      ${t=>t.theme.motion.easings.easeOutQuad};
  }

  &[data-state='checked'] {
    border: 1px solid ${t=>t.theme.colors.primary600};
  }

  &[data-disabled] {
    background-color: ${t=>t.theme.colors.neutral200};
  }

  /* increase target size for touch devices https://www.w3.org/WAI/WCAG21/Understanding/target-size.html */
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;
    min-width: 44px;
    min-height: 44px;
  }
`,VY=F(hU)`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  position: relative;

  &[data-state='checked'] {
    @media (prefers-reduced-motion: no-preference) {
      animation: ${yt.popIn} ${t=>t.theme.motion.timings[200]};
    }
  }

  &::after {
    content: '';
    display: block;
    width: 1rem;
    height: 1rem;
    border-radius: 50%;
    background: ${t=>t.theme.colors.primary600};
  }
`,jY=t=>{const e=t.querySelector('[tabindex="0"]');e&&e.focus()},kE=p.createContext({rowIndex:0,colIndex:0,setTableValues(){throw new Error("setTableValues must be initialized via the RawTableContext.Provider")}}),HY=()=>p.useContext(kE),zY=p.forwardRef(({colCount:t,rowCount:e,jumpStep:n=3,initialCol:r=0,initialRow:i=0,...o},s)=>{const a=p.useRef(null),c=p.useRef(!1),f=bn(a,s),[h,d]=p.useState(i),[g,b]=p.useState(r),x=p.useCallback(({colIndex:$,rowIndex:S})=>{b($),d(S)},[]);p.useEffect(()=>{c.current&&jY(a.current),c.current||(c.current=!0)},[g,h]);const v=$=>{switch($.key){case Ut.RIGHT:{$.preventDefault(),b(S=>S<t-1?S+1:S);break}case Ut.LEFT:{$.preventDefault(),b(S=>S>0?S-1:S);break}case Ut.UP:{$.preventDefault(),d(S=>S>0?S-1:S);break}case Ut.DOWN:{$.preventDefault(),d(S=>S<e-1?S+1:S);break}case Ut.HOME:{$.preventDefault(),$.ctrlKey&&d(0),b(0);break}case Ut.END:{$.preventDefault(),$.ctrlKey&&d(e-1),b(t-1);break}case Ut.PAGE_DOWN:{$.preventDefault(),d(S=>S+n<e?S+n:e-1);break}case Ut.PAGE_UP:{$.preventDefault(),d(S=>S-n>0?S-n:0);break}}},w=p.useMemo(()=>({rowIndex:h,colIndex:g,setTableValues:x}),[g,h,x]);return C.jsx(kE.Provider,{value:w,children:C.jsx("table",{role:"grid",ref:f,"aria-rowcount":e,"aria-colcount":t,onKeyDown:v,...o})})}),xa=(t,e)=>[...t.querySelectorAll('a, button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])')].filter(i=>!i.hasAttribute("disabled")),gp=t=>t.filter(e=>e.tagName==="INPUT"?e.type!=="checkbox"&&e.type!=="radio":!1),AE=p.forwardRef(({coords:t={col:0,row:0},tag:e="td",...n},r)=>{const i=p.useRef(null),o=bn(r,i),{rowIndex:s,colIndex:a,setTableValues:c}=HY(),[f,h]=p.useState(!1),d=x=>{const v=xa(i.current);if(v.length===0||v.length===1&&gp(v).length===0)return;if(v.length>1&&!v.find($=>$.tagName!=="BUTTON")){x.preventDefault();const $=v.findIndex(S=>S===document.activeElement);if(x.key===Ut.RIGHT){const S=v[$+1];S&&(x.stopPropagation(),S.focus())}else if(x.key===Ut.LEFT){const S=v[$-1];S&&(x.stopPropagation(),S.focus())}return}const w=x.key===Ut.ENTER;if(w&&!f)h(!0);else if((x.key===Ut.ESCAPE||w)&&f){if(w&&document.activeElement?.tagName==="A")return;h(!1),i.current.focus()}else f&&x.stopPropagation()},g=s===t.row-1&&a===t.col-1;Ps(()=>{const x=xa(i.current);x.length===0||x.length===1&&gp(x).length!==0||x.length>1&&x.find(v=>v.tagName!=="BUTTON")?(i.current.setAttribute("tabIndex",!f&&g?"0":"-1"),x.forEach((v,w)=>{v.setAttribute("tabIndex",f?"0":"-1"),f&&w===0&&v.focus()})):x.forEach(v=>{v.setAttribute("tabIndex",g?"0":"-1")})},[f,g]);const b=p.useCallback(()=>{const x=xa(i.current);x.length>=1&&(gp(x).length!==0||!x.find(v=>v.tagName!=="BUTTON"))&&h(!0),c({rowIndex:t.row-1,colIndex:t.col-1})},[t,c]);return Ps(()=>{const x=i.current;return xa(x).forEach(w=>{w.addEventListener("focus",b)}),()=>{xa(x).forEach($=>{$.removeEventListener("focus",b)})}},[b]),C.jsx(xe,{role:"gridcell",tag:e,ref:o,onKeyDown:d,...n})}),UY=t=>C.jsx(AE,{...t,tag:"th"}),KY=({children:t,...e})=>{const n=p.Children.toArray(t).map(r=>p.isValidElement(r)?p.cloneElement(r,{"aria-rowindex":1}):r);return C.jsx("thead",{...e,children:n})},GY=({children:t,...e})=>{const n=p.Children.toArray(t).map((r,i)=>p.isValidElement(r)?p.cloneElement(r,{"aria-rowindex":i+2}):r);return C.jsx("tbody",{...e,children:n})},YY=({children:t,...e})=>{const n=p.Children.toArray(t).map((r,i)=>p.isValidElement(r)?p.cloneElement(r,{"aria-colindex":i+1,coords:{col:i+1,row:e["aria-rowindex"]}}):r);return C.jsx(xe,{tag:"tr",...e,children:n})},qY=F(Os)`
  font-size: 0.5rem;
  path {
    fill: ${({theme:t})=>t.colors.neutral500};
  }
`,EE=F(yO)`
  font-size: 1rem;
  path {
    fill: ${({theme:t})=>t.colors.neutral500};
  }
`,XY=F.div`
  border-radius: ${({theme:t})=>t.borderRadius};
  border: 1px solid ${({theme:t})=>t.colors.neutral150}

  &:focus-within {
    ${EE} {
      fill: ${({theme:t})=>t.colors.primary600};
    }
  }
`,ZY=F(N0)`
  border: 1px solid ${({theme:t})=>t.colors.neutral150}
  height: 16px;
  padding: 0 0 0 8px;
  color: ${({theme:t})=>t.colors.neutral800};

  &::placeholder {
    color: ${({theme:t})=>t.colors.neutral500};
  }

  &:hover {
    button {
      cursor: pointer;
    }
  }

  ${zi()}
`;p.forwardRef(({name:t,children:e,value:n="",onClear:r,clearLabel:i,...o},s)=>{const a=p.useRef(null),c=n.length>0,f=d=>{r(d),a.current.focus()},h=JA(s,a);return C.jsx(XY,{children:C.jsxs(Ms,{name:t,children:[C.jsx(Us,{children:C.jsx(uE,{children:e})}),C.jsx(ZY,{size:"S",ref:h,value:n,startAction:C.jsx(EE,{"aria-hidden":!0}),endAction:c?C.jsx(iG,{label:i,onClick:f,onMouseDown:d=>{d.preventDefault()},children:C.jsx(qY,{})}):void 0,...o})]})})});const QY=F(xe)`
  display: inline-flex;
  border: none;

  & > svg {
    height: 1.2rem;
    width: 1.2rem;
  }

  & > svg path {
    fill: ${({theme:t,...e})=>e["aria-disabled"]?t.colors.neutral600:t.colors.primary600};
  }

  &:hover {
    cursor: ${({$iconAction:t})=>t?"pointer":"initial"};
  }
`,JY=({children:t,icon:e,label:n,disabled:r=!1,onClick:i,...o})=>{const s=a=>{r||!i||i(a)};return C.jsxs(ve,{inline:!0,background:r?"neutral200":"primary100",color:r?"neutral700":"primary600",paddingLeft:3,paddingRight:1,borderColor:r?"neutral300":"primary200",hasRadius:!0,height:"3.2rem",...o,children:[C.jsx(eq,{$disabled:r,variant:"pi",fontWeight:"bold",children:t}),C.jsx(QY,{tag:"button",disabled:r,"aria-disabled":r,"aria-label":n,padding:2,onClick:s,$iconAction:!!i,children:e})]})},eq=F(_e)`
  color: inherit;
  border-right: 1px solid ${({theme:t,$disabled:e})=>e?t.colors.neutral300:t.colors.primary200};
  padding-right: ${({theme:t})=>t.spaces[2]};
`;p.forwardRef(({children:t,clearLabel:e="Clear",customizeContent:n,disabled:r,hasError:i,id:o,name:s,onChange:a,onClear:c,onCloseAutoFocus:f,onReachEnd:h,placeholder:d,required:g,size:b,startIcon:x,value:v,withTags:w,...$},S)=>{const A=p.useRef(null),[R,T]=p.useState(),[D,M]=p.useState(!1),B=be=>{a?a(be):T(be)},N=be=>()=>{const Ve=Array.isArray(v)?v.filter(Le=>Le!==be):(R??[]).filter(Le=>Le!==be);a?a(Ve):T(Ve)},W=be=>{M(be)},K=ar(),j=`intersection-${Ts(K)}`;Rl(A,be=>{h&&h(be)},{selectorToWatch:`#${j}`,skipWhen:!D});const G=typeof v<"u"&&v!==null?v:R,ne=be=>be&&typeof be=="object"&&be.value?C.jsx(JY,{tabIndex:-1,disabled:r,icon:C.jsx(Os,{width:`${14/16}rem`,height:`${14/16}rem`}),onClick:N(be.value),children:be.textValue},be.value):null,{error:le,...ee}=Pn("MultiSelect"),ae=!!le||i,X=ee.id??o,de=ee.name??s,fe=ee.required??g;let Me;return le?Me=`${X}-error`:ee.hint&&(Me=`${X}-hint`),C.jsxs(hE,{onOpenChange:W,disabled:r,required:fe,onValueChange:B,value:G,...$,multi:!0,children:[C.jsx(dE,{ref:S,id:X,name:de,"aria-label":$["aria-label"],"aria-describedby":Me??$["aria-describedby"],startIcon:x,hasError:ae,disabled:r,clearLabel:e,onClear:G?.length?c:void 0,withTags:!!(w&&(G?.length??!1)),size:b,children:C.jsx(pE,{placeholder:d,textColor:G?.length?"neutral800":"neutral600",children:G?.length?w?ne:n?n(G):void 0:void 0})}),C.jsx(mE,{children:C.jsx(gE,{position:"popper",sideOffset:4,onCloseAutoFocus:f,children:C.jsxs(bE,{ref:A,children:[t,C.jsx(xe,{id:j,width:"100%",height:"1px"})]})})})]})});const tq=p.forwardRef(({value:t,children:e,startIcon:n,...r},i)=>C.jsxs(F0,{ref:i,value:t.toString(),...r,children:[n&&C.jsx(xe,{tag:"span","aria-hidden":!0,children:n}),C.jsx(vE,{children:({isSelected:o,isIntermediate:s})=>C.jsx(L0,{checked:s?"indeterminate":o})}),C.jsx(_e,{children:C.jsx(xE,{children:e})})]}));p.forwardRef(({children:t,label:e,startIcon:n,values:r=[],...i},o)=>C.jsxs(VG,{ref:o,children:[C.jsxs(F0,{value:r,...i,children:[n&&C.jsx(xe,{tag:"span","aria-hidden":!0,children:n}),C.jsx(vE,{children:({isSelected:s,isIntermediate:a})=>C.jsx(L0,{checked:a?"indeterminate":s})}),C.jsx(_e,{children:e})]}),t]}));F(tq)`
  padding-left: ${({theme:t})=>t.spaces[7]};
`;const nq="23.2rem";p.forwardRef(({...t},e)=>C.jsx(rq,{ref:e,...t,tag:"nav"}));const rq=F(xe)`
  width: ${nq};
  background: ${({theme:t})=>t.colors.neutral100};
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
  border-right: 1px solid ${({theme:t})=>t.colors.neutral200};
  z-index: 1;
`;F(gY)`
  width: 2.4rem;
  background-color: ${({theme:t})=>t.colors.neutral200};
`;on(({active:t,children:e,icon:n=null,withBullet:r=!1,isSubSectionChild:i=!1,...o},s)=>C.jsxs(iq,{background:"neutral100",paddingLeft:i?9:7,paddingBottom:2,paddingTop:2,ref:s,...o,children:[C.jsxs(ve,{children:[n?C.jsx(oq,{children:n}):C.jsx(Km,{$active:t}),C.jsx(_e,{paddingLeft:2,children:e})]}),r&&C.jsx(ve,{paddingRight:4,children:C.jsx(Km,{$active:!0})})]}));const Km=F.span`
  width: 0.4rem;
  height: 0.4rem;
  background-color: ${({theme:t,$active:e})=>e?t.colors.primary600:t.colors.neutral600};
  border-radius: 50%;
`,iq=F(El)`
  display: flex;
  align-items: center;
  justify-content: space-between;
  text-decoration: none;
  color: ${({theme:t})=>t.colors.neutral800};
  svg > * {
    fill: ${({theme:t})=>t.colors.neutral600};
  }

  &.active {
    ${({theme:t})=>Ee`
        background-color: ${t.colors.primary100};
        border-right: 2px solid ${t.colors.primary600};
        color: ${t.colors.primary700};
        font-weight: 500;
      `}

    ${Km} {
      background-color: ${({theme:t})=>t.colors.primary600};
    }
  }

  &:focus-visible {
    outline-offset: -2px;
  }
`,oq=F.div`
  svg {
    height: 1.6rem;
    width: 1.6rem;
  }
`;F.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`;F(xe)`
  & > svg {
    height: 0.4rem;
    fill: ${({theme:t})=>t.colors.neutral500};
  }
`;p.forwardRef(({visibleLabels:t,onLabel:e="On",offLabel:n="Off",onCheckedChange:r,checked:i,defaultChecked:o,disabled:s,...a},c)=>{const[f,h]=Sr({prop:i,defaultProp:o}),d=g=>{h(g)};return C.jsxs(ve,{gap:3,children:[C.jsx(sq,{ref:c,onCheckedChange:lo(r,d),checked:f,disabled:s,...a,children:C.jsx(aq,{})}),t?C.jsx(lq,{"aria-hidden":!0,"data-disabled":s,"data-state":f?"checked":"unchecked",children:f?e:n}):null]})});const sq=F(yU)`
  width: 4rem;
  height: 2.4rem;
  border-radius: 1.2rem;
  background-color: ${({theme:t})=>t.colors.danger500};

  &[data-state='checked'] {
    background-color: ${({theme:t})=>t.colors.success500};
  }

  &[data-disabled] {
    background-color: ${({theme:t})=>t.colors.neutral300};
  }

  @media (prefers-reduced-motion: no-preference) {
    transition: ${t=>t.theme.transitions.backgroundColor};
  }
`,aq=F(wU)`
  display: block;
  height: 1.6rem;
  width: 1.6rem;
  border-radius: 50%;
  background-color: ${({theme:t})=>t.colors.neutral0};
  transform: translateX(4px);

  &[data-state='checked'] {
    transform: translateX(20px);
  }

  @media (prefers-reduced-motion: no-preference) {
    transition: transform ${t=>t.theme.motion.timings[120]}
      ${t=>t.theme.motion.easings.authenticMotion};
  }
`,lq=F(_e)`
  color: ${t=>t.theme.colors.danger600};

  &[data-state='checked'] {
    color: ${t=>t.theme.colors.success600};
  }

  &[data-disabled='true'] {
    color: ${({theme:t})=>t.colors.neutral500};
  }
`,[cq,V0]=Al("Tabs");p.forwardRef(({disabled:t=!1,variant:e="regular",hasError:n,...r},i)=>C.jsx(cq,{disabled:t,hasError:n,variant:e,children:C.jsx(uq,{ref:i,...r})}));const uq=F(MU)`
  width: 100%;
  position: relative;
`;p.forwardRef((t,e)=>{const{variant:n}=V0("List");return C.jsx(fq,{ref:e,...t,$variant:n})});const fq=F(OU)`
  display: flex;
  align-items: ${t=>t.$variant==="regular"?"flex-end":"unset"};
  position: relative;
  z-index: 0;
`;p.forwardRef(({children:t,disabled:e,...n},r)=>{const{disabled:i,variant:o,hasError:s}=V0("Trigger"),a=i===!0||i===n.value||e,c=s===n.value;return C.jsxs(hq,{ref:r,...n,$hasError:c,$variant:o,disabled:a,children:[C.jsx(TE,{fontWeight:"bold",variant:o==="simple"?"sigma":void 0,children:t}),o==="simple"?C.jsx(RE,{}):null]})});const RE=F.span`
  display: block;
  width: 100%;
  background-color: currentColor;
  position: absolute;
  bottom: 0;
  left: 0;
  opacity: 0;
  height: 0.2rem;
`,TE=F(_e)``,hq=F(DU)`
  position: relative;
  color: ${t=>t.$hasError?t.theme.colors.danger600:t.theme.colors.neutral600};
  cursor: pointer;
  z-index: 0;

  ${t=>t.$variant==="simple"?Ee`
        padding-block: ${e=>e.theme.spaces[4]};
        padding-inline: ${e=>e.theme.spaces[4]};

        & > ${TE} {
          line-height: 1.2rem;
        }

        &[data-state='active'] {
          color: ${t.$hasError?t.theme.colors.danger600:t.theme.colors.primary700};

          & > ${RE} {
            opacity: 1;
          }
        }
      `:Ee`
        padding-block: ${e=>e.theme.spaces[3]};
        padding-inline: ${e=>e.theme.spaces[3]};
        flex: 1;
        background-color: ${e=>e.theme.colors.neutral100};
        border-bottom: solid 1px ${e=>e.theme.colors.neutral150};

        &:not([data-state='active']) + &:not([data-state='active']) {
          border-left: solid 1px ${e=>e.theme.colors.neutral150};
        }

        &[data-state='active'] {
          padding-block: ${e=>e.theme.spaces[4]};
          padding-inline: ${e=>e.theme.spaces[4]};
          color: ${t.$hasError?t.theme.colors.danger600:t.theme.colors.primary700};
          border-top-right-radius: ${e=>e.theme.borderRadius};
          border-top-left-radius: ${e=>e.theme.borderRadius};
          background-color: ${e=>e.theme.colors.neutral0};
          border-bottom: solid 1px ${e=>e.theme.colors.neutral0};
          box-shadow: ${t.theme.shadows.tableShadow};
          z-index: 1;
        }
      `}

  &[data-disabled] {
    cursor: not-allowed;
    color: ${t=>t.theme.colors.neutral400};
  }
`;p.forwardRef((t,e)=>{const{variant:n}=V0("Content");return C.jsx(dq,{$variant:n,ref:e,...t})});const dq=F(IU)`
  ${t=>t.$variant==="simple"?Ee``:Ee`
        position: relative;
        z-index: 1;
        background-color: ${e=>e.theme.colors.neutral0};
      `}
`,pq=F(xe)`
  overflow: hidden;
  border: 1px solid ${({theme:t})=>t.colors.neutral150};
`,mq=F(zY)`
  width: 100%;
  white-space: nowrap;
`,gq=F(xe)`
  &:before {
    // TODO: make sure to add a token for this weird stuff
    background: linear-gradient(90deg, #c0c0cf 0%, rgba(0, 0, 0, 0) 100%);
    opacity: 0.2;
    position: absolute;
    height: 100%;
    content: ${({$overflowing:t})=>t==="both"||t==="left"?"''":void 0};
    box-shadow: ${({theme:t})=>t.shadows.tableShadow};
    width: ${({theme:t})=>t.spaces[2]};
    left: 0;
  }

  &:after {
    // TODO: make sure to add a token for this weird stuff
    background: linear-gradient(270deg, #c0c0cf 0%, rgba(0, 0, 0, 0) 100%);
    opacity: 0.2;
    position: absolute;
    height: 100%;
    content: ${({$overflowing:t})=>t==="both"||t==="right"?"''":void 0};
    box-shadow: ${({theme:t})=>t.shadows.tableShadow};
    width: ${({theme:t})=>t.spaces[2]};
    right: 0;
    top: 0;
  }
`,bq=F(xe)`
  overflow-x: auto;
`;p.forwardRef(({footer:t,...e},n)=>{const r=p.useRef(null),[i,o]=p.useState(),s=a=>{const c=a.target.scrollWidth-a.target.clientWidth;if(a.target.scrollLeft===0){o("right");return}if(a.target.scrollLeft===c){o("left");return}a.target.scrollLeft>0&&o("both")};return p.useEffect(()=>{r.current.scrollWidth>r.current.clientWidth&&o("right")},[]),C.jsxs(pq,{shadow:"tableShadow",hasRadius:!0,background:"neutral0",children:[C.jsx(gq,{$overflowing:i,position:"relative",children:C.jsx(bq,{ref:r,onScroll:s,paddingLeft:6,paddingRight:6,children:C.jsx(mq,{ref:n,...e})})}),t]})});F(GY)`
  & tr:last-of-type {
    border-bottom: none;
  }
`;F(KY)`
  border-bottom: 1px solid ${({theme:t})=>t.colors.neutral150};
`;F(YY)`
  border-bottom: 1px solid ${({theme:t})=>t.colors.neutral150};

  & td,
  & th {
    padding: ${({theme:t})=>t.spaces[4]};
  }

  & td:first-of-type,
  & th:first-of-type {
    padding: 0 ${({theme:t})=>t.spaces[1]};
  }

  // Resetting padding values and fixing a height
  th {
    padding-top: 0;
    padding-bottom: 0;
    height: 5.6rem;
  }
`;const PE=F(AE)`
  vertical-align: middle;
  text-align: left;
  outline-offset: -4px;

  /**
  * Hack to make sure the checkbox looks aligned
  */
  input {
    vertical-align: sub;
  }
`;p.forwardRef(({children:t,action:e,...n},r)=>C.jsx(PE,{color:"neutral600",as:UY,ref:r,...n,children:C.jsxs(ve,{children:[t,e]})}));p.forwardRef(({children:t,...e},n)=>C.jsx(PE,{color:"neutral800",ref:n,...e,children:t}));F(xe)`
  height: 2.4rem;
  width: 2.4rem;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;

  svg {
    height: 1rem;
    width: 1rem;
  }

  svg path {
    fill: ${({theme:t})=>t.colors.primary600};
  }
`;F(xe)`
  border-radius: 0 0 ${({theme:t})=>t.borderRadius} ${({theme:t})=>t.borderRadius};
  display: block;
  width: 100%;
  border: none;
`;on(({children:t,startIcon:e,endIcon:n,disabled:r=!1,loading:i=!1,...o},s)=>{const a=r||i;return C.jsxs(yq,{ref:s,disabled:a,"aria-disabled":a,tag:"button",type:"button",gap:2,...o,children:[i?C.jsx(xq,{"aria-hidden":!0,children:C.jsx(Pw,{})}):e,C.jsx(_e,{variant:"pi",children:t}),n]})});const vq=zt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,xq=F.span`
  display: flex;
  animation: ${vq} 2s infinite linear;
  will-change: transform;
`,yq=F(ve)`
  border: none;
  background-color: transparent;
  color: ${t=>t.theme.colors.primary600};
  cursor: pointer;

  &[aria-disabled='true'] {
    pointer-events: none;
    color: ${t=>t.theme.colors.neutral600};
  }

  ${qf}
`,wq=p.forwardRef((t,e)=>C.jsx(N0,{ref:e,...t}));wq.displayName="TextInput";p.forwardRef(({disabled:t,hasError:e,id:n,name:r,required:i,...o},s)=>{const{error:a,...c}=Pn("Textarea"),f=!!a||e,h=c.id??n,d=c.name??r,g=c.required||i;let b;return a?b=`${h}-error`:c.hint&&(b=`${h}-hint`),C.jsx($q,{borderColor:f?"danger600":"neutral200",$hasError:f,hasRadius:!0,children:C.jsx(Cq,{"aria-invalid":f,"aria-required":g,tag:"textarea",background:t?"neutral150":"neutral0",color:t?"neutral600":"neutral800",disabled:t,fontSize:2,hasRadius:!0,ref:s,lineHeight:4,padding:4,width:"100%",height:"100%",id:h,name:d,"aria-describedby":b,...o})})});const $q=F(xe)`
  height: 10.5rem;
  ${zi()}
`,Cq=F(xe)`
  border: none;
  resize: none;

  ::placeholder {
    color: ${({theme:t})=>t.colors.neutral500};
    font-size: ${({theme:t})=>t.fontSizes[2]};
    color: ${({theme:t})=>t.colors.neutral500};
    opacity: 1;
  }

  &:focus-within {
    outline: none;
  }
`;p.forwardRef(({offLabel:t,onLabel:e,disabled:n,hasError:r,required:i,id:o,name:s,checked:a,onChange:c,...f},h)=>{const[d=!1,g]=Sr({prop:a}),b=d!==null&&!d,{error:x,...v}=Pn("Toggle"),w=!!x||r,$=v.id??o,S=v.name??s,A=v.required||i;let R;return x?R=`${$}-error`:v.hint&&(R=`${$}-hint`),C.jsxs(Sq,{position:"relative",hasRadius:!0,padding:1,background:n?"neutral150":"neutral100",borderStyle:"solid",borderWidth:"1px",borderColor:"neutral200",wrap:"wrap",cursor:n?"not-allowed":"pointer",$hasError:w,children:[C.jsx(Rw,{hasRadius:!0,flex:"1 1 50%",paddingTop:2,paddingBottom:2,paddingLeft:3,paddingRight:3,justifyContent:"center",background:n&&b?"neutral200":b?"neutral0":"transparent",borderColor:n&&b?"neutral300":b?"neutral200":n?"neutral150":"neutral100",children:C.jsx(_e,{variant:"pi",fontWeight:"bold",textTransform:"uppercase",textColor:n?"neutral700":b?"danger700":"neutral600",children:t})}),C.jsx(Rw,{hasRadius:!0,flex:"1 1 50%",paddingLeft:3,paddingRight:3,justifyContent:"center",background:n&&d?"neutral200":d?"neutral0":"transparent",borderColor:n&&d?"neutral300":d?"neutral200":n?"neutral150":"neutral100",children:C.jsx(_e,{variant:"pi",fontWeight:"bold",textTransform:"uppercase",textColor:n?"neutral700":d?"primary600":"neutral600",children:e})}),C.jsx(kq,{...f,id:$,name:S,ref:h,onChange:T=>{g(T.currentTarget.checked),c?.(T)},type:"checkbox","aria-required":A,disabled:n,"aria-disabled":n,checked:!!d,"aria-describedby":R})]})});const Sq=F(ve)`
  ${zi()}
`,Rw=F(ve)`
  padding-block: 0.6rem;
`,kq=F.input`
  height: 100%;
  left: 0;
  opacity: 0;
  position: absolute;
  top: 0;
  z-index: 0;
  width: 100%;
`;on((t,e)=>{const{gap:n=0,gridCols:r=12,...i}=t;return C.jsx(Aq,{ref:e,$gap:n,$gridCols:r,...i})});const Aq=F(xe)`
  display: grid;
  grid-template-columns: repeat(${({$gridCols:t})=>t}, 1fr);
  ${({theme:t,$gap:e})=>Yf({gap:e},t)}
`;on(({col:t,s:e,xs:n,m:r,...i},o)=>C.jsx(Eq,{ref:o,$col:t,$s:e,$xs:n,$m:r,...i}));const Eq=F(ve)`
  grid-column: span ${({$xs:t})=>t??12};
  max-width: 100%;

  ${({theme:t})=>t.breakpoints.small} {
    grid-column: span ${({$s:t,$xs:e})=>t??e??12};
  }

  ${({theme:t})=>t.breakpoints.medium} {
    grid-column: span ${({$m:t,$s:e,$xs:n})=>t??e??n??12};
  }

  ${({theme:t})=>t.breakpoints.large} {
    grid-column: span ${({$col:t,$m:e,$s:n,$xs:r})=>t??e??n??r??12};
  }
`;var Rq=function(t){console.error(t)},Tq=function(t){console.warn(t)},Pq={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:Rq,onWarn:Tq};function Mq(t,e,n){if(n===void 0&&(n=Error),!t)throw new n(e)}function Oq(t){Mq(t,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}Ke(Ke({},Pq),{textComponent:p.Fragment});var ME={exports:{}},tt={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,d=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,b=t?Symbol.for("react.memo"):60115,x=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,w=t?Symbol.for("react.fundamental"):60117,$=t?Symbol.for("react.responder"):60118,S=t?Symbol.for("react.scope"):60119;function A(te){return typeof te=="string"||typeof te=="function"||te===r||te===f||te===o||te===i||te===d||te===g||typeof te=="object"&&te!==null&&(te.$$typeof===x||te.$$typeof===b||te.$$typeof===s||te.$$typeof===a||te.$$typeof===h||te.$$typeof===w||te.$$typeof===$||te.$$typeof===S||te.$$typeof===v)}function R(te){if(typeof te=="object"&&te!==null){var pt=te.$$typeof;switch(pt){case e:var qe=te.type;switch(qe){case c:case f:case r:case o:case i:case d:return qe;default:var Fe=qe&&qe.$$typeof;switch(Fe){case a:case h:case x:case b:case s:return Fe;default:return pt}}case n:return pt}}}var T=c,D=f,M=a,B=s,N=e,W=h,K=r,j=x,Q=b,G=n,ne=o,le=i,ee=d,ae=!1;function X(te){return ae||(ae=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),de(te)||R(te)===c}function de(te){return R(te)===f}function fe(te){return R(te)===a}function Me(te){return R(te)===s}function be(te){return typeof te=="object"&&te!==null&&te.$$typeof===e}function Ve(te){return R(te)===h}function Le(te){return R(te)===r}function je(te){return R(te)===x}function pe(te){return R(te)===b}function Re(te){return R(te)===n}function Ae(te){return R(te)===o}function Ce(te){return R(te)===i}function De(te){return R(te)===d}tt.AsyncMode=T,tt.ConcurrentMode=D,tt.ContextConsumer=M,tt.ContextProvider=B,tt.Element=N,tt.ForwardRef=W,tt.Fragment=K,tt.Lazy=j,tt.Memo=Q,tt.Portal=G,tt.Profiler=ne,tt.StrictMode=le,tt.Suspense=ee,tt.isAsyncMode=X,tt.isConcurrentMode=de,tt.isContextConsumer=fe,tt.isContextProvider=Me,tt.isElement=be,tt.isForwardRef=Ve,tt.isFragment=Le,tt.isLazy=je,tt.isMemo=pe,tt.isPortal=Re,tt.isProfiler=Ae,tt.isStrictMode=Ce,tt.isSuspense=De,tt.isValidElementType=A,tt.typeOf=R})();ME.exports=tt;var Dq=ME.exports,OE=Dq,Iq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_q={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},DE={};DE[OE.ForwardRef]=Iq;DE[OE.Memo]=_q;var j0=typeof window<"u"&&!window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=p.createContext(null)):p.createContext(null);j0.Consumer;j0.Provider;var Lq=j0;function H0(){var t=p.useContext(Lq);return Oq(t),t}var Gm;(function(t){t.formatDate="FormattedDate",t.formatTime="FormattedTime",t.formatNumber="FormattedNumber",t.formatList="FormattedList",t.formatDisplayName="FormattedDisplayName"})(Gm||(Gm={}));var Ym;(function(t){t.formatDate="FormattedDateParts",t.formatTime="FormattedTimeParts",t.formatNumber="FormattedNumberParts",t.formatList="FormattedListParts"})(Ym||(Ym={}));function IE(t){var e=function(n){var r=H0(),i=n.value,o=n.children,s=Bi(n,["value","children"]),a=typeof i=="string"?new Date(i||0):i,c=t==="formatDate"?r.formatDateToParts(a,s):r.formatTimeToParts(a,s);return o(c)};return e.displayName=Ym[t],e}function Ml(t){var e=function(n){var r=H0(),i=n.value,o=n.children,s=Bi(n,["value","children"]),a=r[t](i,s);if(typeof o=="function")return o(a);var c=r.textComponent||p.Fragment;return p.createElement(c,null,a)};return e.displayName=Gm[t],e}Ml("formatDate");Ml("formatTime");Ml("formatNumber");Ml("formatList");Ml("formatDisplayName");IE("formatDate");IE("formatTime");const Nq=t=>`${CO}.${t}`,Bq=()=>{const{formatMessage:t}=H0(),[e,n]=p.useState(null),[r,i]=p.useState(!1),[o,s]=p.useState(""),a=f=>{f.target.files&&f.target.files.length>0&&n(f.target.files[0])},c=async()=>{if(!e){s("Please select a file first.");return}i(!0),s("");const f=new FormData;f.append("file",e);try{const h=await fetch("/api/vetgroup-product/upload",{method:"POST",body:f});if(!h.ok)throw new Error("Upload failed");const d=await h.json();s(JSON.stringify(d.message)||"File uploaded successfully!")}catch(h){s(`Error uploading file. Please try again. ${h}`)}finally{i(!1)}};return C.jsxs(CY,{children:[C.jsxs(xe,{padding:6,children:[C.jsxs(_e,{variant:"alpha",children:["Welcome to"," ",t({id:Nq("plugin.name"),defaultMessage:"VetGroup Product Sync"})]}),C.jsx(xe,{paddingTop:4,children:C.jsx("input",{type:"file",accept:".csv",onChange:a,disabled:r})}),C.jsx(xe,{paddingTop:4,children:C.jsx(il,{onClick:c,loading:r,children:"Upload"})}),o&&C.jsx(xe,{paddingTop:4,children:C.jsx(_e,{variant:"epsilon",children:o})})]}),C.jsx(il,{variant:"secondary",onClick:async()=>{i(!0),s("");try{const h=await(await fetch("/api/vetgroup-product/sync",{method:"GET"})).json();s(h.message||"Sync completed successfully")}catch(f){s("Sync failed: "+f)}finally{i(!1)}},children:"Sync with 1C"})]})},Fq=()=>C.jsx("div",{children:"Page Not Found"}),mX=()=>C.jsxs($O,{children:[C.jsx(xv,{index:!0,element:C.jsx(Bq,{})}),C.jsx(xv,{path:"*",element:C.jsx(Fq,{})})]});export{mX as default};
